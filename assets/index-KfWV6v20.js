function gse(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in n)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var yse=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function s8(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var rH={exports:{}},Ab={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vse=Symbol.for("react.transitional.element"),xse=Symbol.for("react.fragment");function sH(n,e,t){var i=null;if(t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),"key"in e){t={};for(var r in e)r!=="key"&&(t[r]=e[r])}else t=e;return e=t.ref,{$$typeof:vse,type:n,key:i,ref:e!==void 0?e:null,props:t}}Ab.Fragment=xse;Ab.jsx=sH;Ab.jsxs=sH;rH.exports=Ab;var W=rH.exports,aH={exports:{}},li={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QN=Symbol.for("react.transitional.element"),_se=Symbol.for("react.portal"),bse=Symbol.for("react.fragment"),Sse=Symbol.for("react.strict_mode"),Tse=Symbol.for("react.profiler"),Mse=Symbol.for("react.consumer"),Ese=Symbol.for("react.context"),wse=Symbol.for("react.forward_ref"),Rse=Symbol.for("react.suspense"),Cse=Symbol.for("react.memo"),oH=Symbol.for("react.lazy"),eO=Symbol.iterator;function Nse(n){return n===null||typeof n!="object"?null:(n=eO&&n[eO]||n["@@iterator"],typeof n=="function"?n:null)}var lH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uH=Object.assign,cH={};function a8(n,e,t){this.props=n,this.context=e,this.refs=cH,this.updater=t||lH}a8.prototype.isReactComponent={};a8.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};a8.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function fH(){}fH.prototype=a8.prototype;function $N(n,e,t){this.props=n,this.context=e,this.refs=cH,this.updater=t||lH}var KN=$N.prototype=new fH;KN.constructor=$N;uH(KN,a8.prototype);KN.isPureReactComponent=!0;var tO=Array.isArray,qr={H:null,A:null,T:null,S:null,V:null},hH=Object.prototype.hasOwnProperty;function ZN(n,e,t,i,r,s){return t=s.ref,{$$typeof:QN,type:n,key:e,ref:t!==void 0?t:null,props:s}}function Dse(n,e){return ZN(n.type,e,void 0,void 0,void 0,n.props)}function JN(n){return typeof n=="object"&&n!==null&&n.$$typeof===QN}function Pse(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var nO=/\/+/g;function HT(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Pse(""+n.key):e.toString(36)}function iO(){}function Lse(n){switch(n.status){case"fulfilled":return n.value;case"rejected":throw n.reason;default:switch(typeof n.status=="string"?n.then(iO,iO):(n.status="pending",n.then(function(e){n.status==="pending"&&(n.status="fulfilled",n.value=e)},function(e){n.status==="pending"&&(n.status="rejected",n.reason=e)})),n.status){case"fulfilled":return n.value;case"rejected":throw n.reason}}throw n}function h6(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(s){case"bigint":case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case QN:case _se:a=!0;break;case oH:return a=n._init,h6(a(n._payload),e,t,i,r)}}if(a)return r=r(n),a=i===""?"."+HT(n,0):i,tO(r)?(t="",a!=null&&(t=a.replace(nO,"$&/")+"/"),h6(r,e,t,"",function(u){return u})):r!=null&&(JN(r)&&(r=Dse(r,t+(r.key==null||n&&n.key===r.key?"":(""+r.key).replace(nO,"$&/")+"/")+a)),e.push(r)),1;a=0;var o=i===""?".":i+":";if(tO(n))for(var l=0;l<n.length;l++)i=n[l],s=o+HT(i,l),a+=h6(i,e,t,s,r);else if(l=Nse(n),typeof l=="function")for(n=l.call(n),l=0;!(i=n.next()).done;)i=i.value,s=o+HT(i,l++),a+=h6(i,e,t,s,r);else if(s==="object"){if(typeof n.then=="function")return h6(Lse(n),e,t,i,r);throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function Ng(n,e,t){if(n==null)return n;var i=[],r=0;return h6(n,i,"","",function(s){return e.call(t,s,r++)}),i}function Bse(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var rO=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Use(){}li.Children={map:Ng,forEach:function(n,e,t){Ng(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Ng(n,function(){e++}),e},toArray:function(n){return Ng(n,function(e){return e})||[]},only:function(n){if(!JN(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};li.Component=a8;li.Fragment=bse;li.Profiler=Tse;li.PureComponent=$N;li.StrictMode=Sse;li.Suspense=Rse;li.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qr;li.__COMPILER_RUNTIME={__proto__:null,c:function(n){return qr.H.useMemoCache(n)}};li.cache=function(n){return function(){return n.apply(null,arguments)}};li.cloneElement=function(n,e,t){if(n==null)throw Error("The argument must be a React element, but you passed "+n+".");var i=uH({},n.props),r=n.key,s=void 0;if(e!=null)for(a in e.ref!==void 0&&(s=void 0),e.key!==void 0&&(r=""+e.key),e)!hH.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(i[a]=e[a]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];i.children=o}return ZN(n.type,r,void 0,void 0,s,i)};li.createContext=function(n){return n={$$typeof:Ese,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null},n.Provider=n,n.Consumer={$$typeof:Mse,_context:n},n};li.createElement=function(n,e,t){var i,r={},s=null;if(e!=null)for(i in e.key!==void 0&&(s=""+e.key),e)hH.call(e,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var o=Array(a),l=0;l<a;l++)o[l]=arguments[l+2];r.children=o}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return ZN(n,s,void 0,void 0,null,r)};li.createRef=function(){return{current:null}};li.forwardRef=function(n){return{$$typeof:wse,render:n}};li.isValidElement=JN;li.lazy=function(n){return{$$typeof:oH,_payload:{_status:-1,_result:n},_init:Bse}};li.memo=function(n,e){return{$$typeof:Cse,type:n,compare:e===void 0?null:e}};li.startTransition=function(n){var e=qr.T,t={};qr.T=t;try{var i=n(),r=qr.S;r!==null&&r(t,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(Use,rO)}catch(s){rO(s)}finally{qr.T=e}};li.unstable_useCacheRefresh=function(){return qr.H.useCacheRefresh()};li.use=function(n){return qr.H.use(n)};li.useActionState=function(n,e,t){return qr.H.useActionState(n,e,t)};li.useCallback=function(n,e){return qr.H.useCallback(n,e)};li.useContext=function(n){return qr.H.useContext(n)};li.useDebugValue=function(){};li.useDeferredValue=function(n,e){return qr.H.useDeferredValue(n,e)};li.useEffect=function(n,e,t){var i=qr.H;if(typeof t=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(n,e)};li.useId=function(){return qr.H.useId()};li.useImperativeHandle=function(n,e,t){return qr.H.useImperativeHandle(n,e,t)};li.useInsertionEffect=function(n,e){return qr.H.useInsertionEffect(n,e)};li.useLayoutEffect=function(n,e){return qr.H.useLayoutEffect(n,e)};li.useMemo=function(n,e){return qr.H.useMemo(n,e)};li.useOptimistic=function(n,e){return qr.H.useOptimistic(n,e)};li.useReducer=function(n,e,t){return qr.H.useReducer(n,e,t)};li.useRef=function(n){return qr.H.useRef(n)};li.useState=function(n){return qr.H.useState(n)};li.useSyncExternalStore=function(n,e,t){return qr.H.useSyncExternalStore(n,e,t)};li.useTransition=function(){return qr.H.useTransition()};li.version="19.1.0";aH.exports=li;var be=aH.exports;const yr=s8(be),Ose=gse({__proto__:null,default:yr},[be]);var dH={exports:{}},pb={},AH={exports:{}},pH={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(Y,ee){var Q=Y.length;Y.push(ee);e:for(;0<Q;){var fe=Q-1>>>1,ge=Y[fe];if(0<r(ge,ee))Y[fe]=ee,Y[Q]=ge,Q=fe;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var ee=Y[0],Q=Y.pop();if(Q!==ee){Y[0]=Q;e:for(var fe=0,ge=Y.length,Re=ge>>>1;fe<Re;){var Ge=2*(fe+1)-1,We=Y[Ge],Se=Ge+1,qe=Y[Se];if(0>r(We,Q))Se<ge&&0>r(qe,We)?(Y[fe]=qe,Y[Se]=Q,fe=Se):(Y[fe]=We,Y[Ge]=Q,fe=Ge);else if(Se<ge&&0>r(qe,Q))Y[fe]=qe,Y[Se]=Q,fe=Se;else break e}}return ee}function r(Y,ee){var Q=Y.sortIndex-ee.sortIndex;return Q!==0?Q:Y.id-ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,f=null,m=3,v=!1,_=!1,T=!1,M=!1,S=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function P(Y){for(var ee=t(u);ee!==null;){if(ee.callback===null)i(u);else if(ee.startTime<=Y)i(u),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=t(u)}}function B(Y){if(T=!1,P(Y),!_)if(t(l)!==null)_=!0,O||(O=!0,Z());else{var ee=t(u);ee!==null&&ne(B,ee.startTime-Y)}}var O=!1,V=-1,F=5,z=-1;function k(){return M?!0:!(n.unstable_now()-z<F)}function H(){if(M=!1,O){var Y=n.unstable_now();z=Y;var ee=!0;try{e:{_=!1,T&&(T=!1,R(V),V=-1),v=!0;var Q=m;try{t:{for(P(Y),f=t(l);f!==null&&!(f.expirationTime>Y&&k());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,m=f.priorityLevel;var ge=fe(f.expirationTime<=Y);if(Y=n.unstable_now(),typeof ge=="function"){f.callback=ge,P(Y),ee=!0;break t}f===t(l)&&i(l),P(Y)}else i(l);f=t(l)}if(f!==null)ee=!0;else{var Re=t(u);Re!==null&&ne(B,Re.startTime-Y),ee=!1}}break e}finally{f=null,m=Q,v=!1}ee=void 0}}finally{ee?Z():O=!1}}}var Z;if(typeof C=="function")Z=function(){C(H)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,ae=$.port2;$.port1.onmessage=H,Z=function(){ae.postMessage(null)}}else Z=function(){S(H,0)};function ne(Y,ee){V=S(function(){Y(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_next=function(Y){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var Q=m;m=ee;try{return Y()}finally{m=Q}},n.unstable_requestPaint=function(){M=!0},n.unstable_runWithPriority=function(Y,ee){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Q=m;m=Y;try{return ee()}finally{m=Q}},n.unstable_scheduleCallback=function(Y,ee,Q){var fe=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?fe+Q:fe):Q=fe,Y){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Q+ge,Y={id:c++,callback:ee,priorityLevel:Y,startTime:Q,expirationTime:ge,sortIndex:-1},Q>fe?(Y.sortIndex=Q,e(u,Y),t(l)===null&&Y===t(u)&&(T?(R(V),V=-1):T=!0,ne(B,Q-fe))):(Y.sortIndex=ge,e(l,Y),_||v||(_=!0,O||(O=!0,Z()))),Y},n.unstable_shouldYield=k,n.unstable_wrapCallback=function(Y){var ee=m;return function(){var Q=m;m=ee;try{return Y.apply(this,arguments)}finally{m=Q}}}})(pH);AH.exports=pH;var Ise=AH.exports,mH={exports:{}},Oo={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fse=be;function gH(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x2(){}var No={d:{f:x2,r:function(){throw Error(gH(522))},D:x2,C:x2,L:x2,m:x2,X:x2,S:x2,M:x2},p:0,findDOMNode:null},zse=Symbol.for("react.portal");function Vse(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zse,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}var k9=Fse.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function mb(n,e){if(n==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Oo.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=No;Oo.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(gH(299));return Vse(n,e,null,t)};Oo.flushSync=function(n){var e=k9.T,t=No.p;try{if(k9.T=null,No.p=2,n)return n()}finally{k9.T=e,No.p=t,No.d.f()}};Oo.preconnect=function(n,e){typeof n=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,No.d.C(n,e))};Oo.prefetchDNS=function(n){typeof n=="string"&&No.d.D(n)};Oo.preinit=function(n,e){if(typeof n=="string"&&e&&typeof e.as=="string"){var t=e.as,i=mb(t,e.crossOrigin),r=typeof e.integrity=="string"?e.integrity:void 0,s=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;t==="style"?No.d.S(n,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:s}):t==="script"&&No.d.X(n,{crossOrigin:i,integrity:r,fetchPriority:s,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Oo.preinitModule=function(n,e){if(typeof n=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var t=mb(e.as,e.crossOrigin);No.d.M(n,{crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&No.d.M(n)};Oo.preload=function(n,e){if(typeof n=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var t=e.as,i=mb(t,e.crossOrigin);No.d.L(n,t,{crossOrigin:i,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Oo.preloadModule=function(n,e){if(typeof n=="string")if(e){var t=mb(e.as,e.crossOrigin);No.d.m(n,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:t,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else No.d.m(n)};Oo.requestFormReset=function(n){No.d.r(n)};Oo.unstable_batchedUpdates=function(n,e){return n(e)};Oo.useFormState=function(n,e,t){return k9.H.useFormState(n,e,t)};Oo.useFormStatus=function(){return k9.H.useHostTransitionStatus()};Oo.version="19.1.0";function yH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yH)}catch(n){console.error(n)}}yH(),mH.exports=Oo;var kse=mH.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ia=Ise,vH=be,Gse=kse;function pt(n){var e="https://react.dev/errors/"+n;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var t=2;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t])}return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function xH(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Ep(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function _H(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function sO(n){if(Ep(n)!==n)throw Error(pt(188))}function qse(n){var e=n.alternate;if(!e){if(e=Ep(n),e===null)throw Error(pt(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return sO(r),n;if(s===i)return sO(r),e;s=s.sibling}throw Error(pt(188))}if(t.return!==i.return)t=r,i=s;else{for(var a=!1,o=r.child;o;){if(o===t){a=!0,t=r,i=s;break}if(o===i){a=!0,i=r,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,i=r;break}if(o===i){a=!0,i=s,t=r;break}o=o.sibling}if(!a)throw Error(pt(189))}}if(t.alternate!==i)throw Error(pt(190))}if(t.tag!==3)throw Error(pt(188));return t.stateNode.current===t?n:e}function bH(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n;for(n=n.child;n!==null;){if(e=bH(n),e!==null)return e;n=n.sibling}return null}var Ir=Object.assign,Hse=Symbol.for("react.element"),Dg=Symbol.for("react.transitional.element"),S9=Symbol.for("react.portal"),v6=Symbol.for("react.fragment"),SH=Symbol.for("react.strict_mode"),Ww=Symbol.for("react.profiler"),jse=Symbol.for("react.provider"),TH=Symbol.for("react.consumer"),yc=Symbol.for("react.context"),eD=Symbol.for("react.forward_ref"),Xw=Symbol.for("react.suspense"),Yw=Symbol.for("react.suspense_list"),tD=Symbol.for("react.memo"),F2=Symbol.for("react.lazy"),Qw=Symbol.for("react.activity"),Wse=Symbol.for("react.memo_cache_sentinel"),aO=Symbol.iterator;function D7(n){return n===null||typeof n!="object"?null:(n=aO&&n[aO]||n["@@iterator"],typeof n=="function"?n:null)}var Xse=Symbol.for("react.client.reference");function $w(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Xse?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case v6:return"Fragment";case Ww:return"Profiler";case SH:return"StrictMode";case Xw:return"Suspense";case Yw:return"SuspenseList";case Qw:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S9:return"Portal";case yc:return(n.displayName||"Context")+".Provider";case TH:return(n._context.displayName||"Context")+".Consumer";case eD:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case tD:return e=n.displayName||null,e!==null?e:$w(n.type)||"Memo";case F2:e=n._payload,n=n._init;try{return $w(n(e))}catch{}}return null}var T9=Array.isArray,Fn=vH.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Hi=Gse.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,df={pending:!1,data:null,method:null,action:null},Kw=[],x6=-1;function C1(n){return{current:n}}function ba(n){0>x6||(n.current=Kw[x6],Kw[x6]=null,x6--)}function Hr(n,e){x6++,Kw[x6]=n.current,n.current=e}var a1=C1(null),SA=C1(null),a3=C1(null),bx=C1(null);function Sx(n,e){switch(Hr(a3,e),Hr(SA,n),Hr(a1,null),e.nodeType){case 9:case 11:n=(n=e.documentElement)&&(n=n.namespaceURI)?fI(n):0;break;default:if(n=e.tagName,e=e.namespaceURI)e=fI(e),n=kW(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ba(a1),Hr(a1,n)}function ud(){ba(a1),ba(SA),ba(a3)}function Zw(n){n.memoizedState!==null&&Hr(bx,n);var e=a1.current,t=kW(e,n.type);e!==t&&(Hr(SA,n),Hr(a1,t))}function Tx(n){SA.current===n&&(ba(a1),ba(SA)),bx.current===n&&(ba(bx),LA._currentValue=df)}var Jw=Object.prototype.hasOwnProperty,nD=ia.unstable_scheduleCallback,jT=ia.unstable_cancelCallback,Yse=ia.unstable_shouldYield,Qse=ia.unstable_requestPaint,o1=ia.unstable_now,$se=ia.unstable_getCurrentPriorityLevel,MH=ia.unstable_ImmediatePriority,EH=ia.unstable_UserBlockingPriority,Mx=ia.unstable_NormalPriority,Kse=ia.unstable_LowPriority,wH=ia.unstable_IdlePriority,Zse=ia.log,Jse=ia.unstable_setDisableYieldValue,wp=null,zl=null;function Z2(n){if(typeof Zse=="function"&&Jse(n),zl&&typeof zl.setStrictMode=="function")try{zl.setStrictMode(wp,n)}catch{}}var Vl=Math.clz32?Math.clz32:nae,eae=Math.log,tae=Math.LN2;function nae(n){return n>>>=0,n===0?32:31-(eae(n)/tae|0)|0}var Pg=256,Lg=4194304;function k4(n){var e=n&42;if(e!==0)return e;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function gb(n,e,t){var i=n.pendingLanes;if(i===0)return 0;var r=0,s=n.suspendedLanes,a=n.pingedLanes;n=n.warmLanes;var o=i&134217727;return o!==0?(i=o&~s,i!==0?r=k4(i):(a&=o,a!==0?r=k4(a):t||(t=o&~n,t!==0&&(r=k4(t))))):(o=i&~s,o!==0?r=k4(o):a!==0?r=k4(a):t||(t=i&~n,t!==0&&(r=k4(t)))),r===0?0:e!==0&&e!==r&&!(e&s)&&(s=r&-r,t=e&-e,s>=t||s===32&&(t&4194048)!==0)?e:r}function Rp(n,e){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&e)===0}function iae(n,e){switch(n){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RH(){var n=Pg;return Pg<<=1,!(Pg&4194048)&&(Pg=256),n}function CH(){var n=Lg;return Lg<<=1,!(Lg&62914560)&&(Lg=4194304),n}function WT(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Cp(n,e){n.pendingLanes|=e,e!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function rae(n,e,t,i,r,s){var a=n.pendingLanes;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=t,n.entangledLanes&=t,n.errorRecoveryDisabledLanes&=t,n.shellSuspendCounter=0;var o=n.entanglements,l=n.expirationTimes,u=n.hiddenUpdates;for(t=a&~t;0<t;){var c=31-Vl(t),f=1<<c;o[c]=0,l[c]=-1;var m=u[c];if(m!==null)for(u[c]=null,c=0;c<m.length;c++){var v=m[c];v!==null&&(v.lane&=-536870913)}t&=~f}i!==0&&NH(n,i,0),s!==0&&r===0&&n.tag!==0&&(n.suspendedLanes|=s&~(a&~e))}function NH(n,e,t){n.pendingLanes|=e,n.suspendedLanes&=~e;var i=31-Vl(e);n.entangledLanes|=e,n.entanglements[i]=n.entanglements[i]|1073741824|t&4194090}function DH(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-Vl(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}function iD(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function rD(n){return n&=-n,2<n?8<n?n&134217727?32:268435456:8:2}function PH(){var n=Hi.p;return n!==0?n:(n=window.event,n===void 0?32:KW(n.type))}function sae(n,e){var t=Hi.p;try{return Hi.p=n,e()}finally{Hi.p=t}}var D3=Math.random().toString(36).slice(2),ro="__reactFiber$"+D3,ll="__reactProps$"+D3,o8="__reactContainer$"+D3,eR="__reactEvents$"+D3,aae="__reactListeners$"+D3,oae="__reactHandles$"+D3,oO="__reactResources$"+D3,Np="__reactMarker$"+D3;function sD(n){delete n[ro],delete n[ll],delete n[eR],delete n[aae],delete n[oae]}function _6(n){var e=n[ro];if(e)return e;for(var t=n.parentNode;t;){if(e=t[o8]||t[ro]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=AI(n);n!==null;){if(t=n[ro])return t;n=AI(n)}return e}n=t,t=n.parentNode}return null}function l8(n){if(n=n[ro]||n[o8]){var e=n.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return n}return null}function M9(n){var e=n.tag;if(e===5||e===26||e===27||e===6)return n.stateNode;throw Error(pt(33))}function W6(n){var e=n[oO];return e||(e=n[oO]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function va(n){n[Np]=!0}var LH=new Set,BH={};function uh(n,e){cd(n,e),cd(n+"Capture",e)}function cd(n,e){for(BH[n]=e,n=0;n<e.length;n++)LH.add(e[n])}var lae=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),lO={},uO={};function uae(n){return Jw.call(uO,n)?!0:Jw.call(lO,n)?!1:lae.test(n)?uO[n]=!0:(lO[n]=!0,!1)}function Pv(n,e,t){if(uae(e))if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":n.removeAttribute(e);return;case"boolean":var i=e.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){n.removeAttribute(e);return}}n.setAttribute(e,""+t)}}function Bg(n,e,t){if(t===null)n.removeAttribute(e);else{switch(typeof t){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(e);return}n.setAttribute(e,""+t)}}function J1(n,e,t,i){if(i===null)n.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(t);return}n.setAttributeNS(e,t,""+i)}}var XT,cO;function d6(n){if(XT===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);XT=e&&e[1]||"",cO=-1<t.stack.indexOf(`
    at`)?" (<anonymous>)":-1<t.stack.indexOf("@")?"@unknown:0:0":""}return`
`+XT+n+cO}var YT=!1;function QT(n,e){if(!n||YT)return"";YT=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(v){var m=v}Reflect.construct(n,[],f)}else{try{f.call()}catch(v){m=v}n.call(f.prototype)}}else{try{throw Error()}catch(v){m=v}(f=n())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(v){if(v&&m&&typeof v.stack=="string")return[v.stack,m.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=i.DetermineComponentFrameRoot(),a=s[0],o=s[1];if(a&&o){var l=a.split(`
`),u=o.split(`
`);for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===u.length)for(i=l.length-1,r=u.length-1;1<=i&&0<=r&&l[i]!==u[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==u[r]){if(i!==1||r!==1)do if(i--,r--,0>r||l[i]!==u[r]){var c=`
`+l[i].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=i&&0<=r);break}}}finally{YT=!1,Error.prepareStackTrace=t}return(t=n?n.displayName||n.name:"")?d6(t):""}function cae(n){switch(n.tag){case 26:case 27:case 5:return d6(n.type);case 16:return d6("Lazy");case 13:return d6("Suspense");case 19:return d6("SuspenseList");case 0:case 15:return QT(n.type,!1);case 11:return QT(n.type.render,!1);case 1:return QT(n.type,!0);case 31:return d6("Activity");default:return""}}function fO(n){try{var e="";do e+=cae(n),n=n.return;while(n);return e}catch(t){return`
Error generating stack: `+t.message+`
`+t.stack}}function v0(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function UH(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function fae(n){var e=UH(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Ex(n){n._valueTracker||(n._valueTracker=fae(n))}function OH(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=UH(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function wx(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var hae=/[\n"\\]/g;function b0(n){return n.replace(hae,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function tR(n,e,t,i,r,s,a,o){n.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?n.type=a:n.removeAttribute("type"),e!=null?a==="number"?(e===0&&n.value===""||n.value!=e)&&(n.value=""+v0(e)):n.value!==""+v0(e)&&(n.value=""+v0(e)):a!=="submit"&&a!=="reset"||n.removeAttribute("value"),e!=null?nR(n,a,v0(e)):t!=null?nR(n,a,v0(t)):i!=null&&n.removeAttribute("value"),r==null&&s!=null&&(n.defaultChecked=!!s),r!=null&&(n.checked=r&&typeof r!="function"&&typeof r!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?n.name=""+v0(o):n.removeAttribute("name")}function IH(n,e,t,i,r,s,a,o){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(n.type=s),e!=null||t!=null){if(!(s!=="submit"&&s!=="reset"||e!=null))return;t=t!=null?""+v0(t):"",e=e!=null?""+v0(e):t,o||e===n.value||(n.value=e),n.defaultValue=e}i=i??r,i=typeof i!="function"&&typeof i!="symbol"&&!!i,n.checked=o?n.checked:!!i,n.defaultChecked=!!i,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(n.name=a)}function nR(n,e,t){e==="number"&&wx(n.ownerDocument)===n||n.defaultValue===""+t||(n.defaultValue=""+t)}function X6(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+v0(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function FH(n,e,t){if(e!=null&&(e=""+v0(e),e!==n.value&&(n.value=e),t==null)){n.defaultValue!==e&&(n.defaultValue=e);return}n.defaultValue=t!=null?""+v0(t):""}function zH(n,e,t,i){if(e==null){if(i!=null){if(t!=null)throw Error(pt(92));if(T9(i)){if(1<i.length)throw Error(pt(93));i=i[0]}t=i}t==null&&(t=""),e=t}t=v0(e),n.defaultValue=t,i=n.textContent,i===t&&i!==""&&i!==null&&(n.value=i)}function fd(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var dae=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hO(n,e,t){var i=e.indexOf("--")===0;t==null||typeof t=="boolean"||t===""?i?n.setProperty(e,""):e==="float"?n.cssFloat="":n[e]="":i?n.setProperty(e,t):typeof t!="number"||t===0||dae.has(e)?e==="float"?n.cssFloat=t:n[e]=(""+t).trim():n[e]=t+"px"}function VH(n,e,t){if(e!=null&&typeof e!="object")throw Error(pt(62));if(n=n.style,t!=null){for(var i in t)!t.hasOwnProperty(i)||e!=null&&e.hasOwnProperty(i)||(i.indexOf("--")===0?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="");for(var r in e)i=e[r],e.hasOwnProperty(r)&&t[r]!==i&&hO(n,r,i)}else for(var s in e)e.hasOwnProperty(s)&&hO(n,s,e[s])}function aD(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Aae=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pae=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lv(n){return pae.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var iR=null;function oD(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var b6=null,Y6=null;function dO(n){var e=l8(n);if(e&&(n=e.stateNode)){var t=n[ll]||null;e:switch(n=e.stateNode,e.type){case"input":if(tR(n,t.value,t.defaultValue,t.defaultValue,t.checked,t.defaultChecked,t.type,t.name),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll('input[name="'+b0(""+e)+'"][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=i[ll]||null;if(!r)throw Error(pt(90));tR(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(e=0;e<t.length;e++)i=t[e],i.form===n.form&&OH(i)}break e;case"textarea":FH(n,t.value,t.defaultValue);break e;case"select":e=t.value,e!=null&&X6(n,!!t.multiple,e,!1)}}}var $T=!1;function kH(n,e,t){if($T)return n(e,t);$T=!0;try{var i=n(e);return i}finally{if($T=!1,(b6!==null||Y6!==null)&&(wb(),b6&&(e=b6,n=Y6,Y6=b6=null,dO(e),n)))for(e=0;e<n.length;e++)dO(n[e])}}function TA(n,e){var t=n.stateNode;if(t===null)return null;var i=t[ll]||null;if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(pt(231,e,typeof t));return t}var Bc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rR=!1;if(Bc)try{var P7={};Object.defineProperty(P7,"passive",{get:function(){rR=!0}}),window.addEventListener("test",P7,P7),window.removeEventListener("test",P7,P7)}catch{rR=!1}var J2=null,lD=null,Bv=null;function GH(){if(Bv)return Bv;var n,e=lD,t=e.length,i,r="value"in J2?J2.value:J2.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var a=t-n;for(i=1;i<=a&&e[t-i]===r[s-i];i++);return Bv=r.slice(n,1<i?1-i:void 0)}function Uv(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Ug(){return!0}function AO(){return!1}function hl(n){function e(t,i,r,s,a){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in n)n.hasOwnProperty(o)&&(t=n[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ug:AO,this.isPropagationStopped=AO,this}return Ir(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Ug)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Ug)},persist:function(){},isPersistent:Ug}),e}var ch={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yb=hl(ch),Dp=Ir({},ch,{view:0,detail:0}),mae=hl(Dp),KT,ZT,L7,vb=Ir({},Dp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uD,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==L7&&(L7&&n.type==="mousemove"?(KT=n.screenX-L7.screenX,ZT=n.screenY-L7.screenY):ZT=KT=0,L7=n),KT)},movementY:function(n){return"movementY"in n?n.movementY:ZT}}),pO=hl(vb),gae=Ir({},vb,{dataTransfer:0}),yae=hl(gae),vae=Ir({},Dp,{relatedTarget:0}),JT=hl(vae),xae=Ir({},ch,{animationName:0,elapsedTime:0,pseudoElement:0}),_ae=hl(xae),bae=Ir({},ch,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Sae=hl(bae),Tae=Ir({},ch,{data:0}),mO=hl(Tae),Mae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rae(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=wae[n])?!!e[n]:!1}function uD(){return Rae}var Cae=Ir({},Dp,{key:function(n){if(n.key){var e=Mae[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Uv(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Eae[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uD,charCode:function(n){return n.type==="keypress"?Uv(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Uv(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Nae=hl(Cae),Dae=Ir({},vb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gO=hl(Dae),Pae=Ir({},Dp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uD}),Lae=hl(Pae),Bae=Ir({},ch,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uae=hl(Bae),Oae=Ir({},vb,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Iae=hl(Oae),Fae=Ir({},ch,{newState:0,oldState:0}),zae=hl(Fae),Vae=[9,13,27,32],cD=Bc&&"CompositionEvent"in window,G9=null;Bc&&"documentMode"in document&&(G9=document.documentMode);var kae=Bc&&"TextEvent"in window&&!G9,qH=Bc&&(!cD||G9&&8<G9&&11>=G9),yO=" ",vO=!1;function HH(n,e){switch(n){case"keyup":return Vae.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jH(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var S6=!1;function Gae(n,e){switch(n){case"compositionend":return jH(e);case"keypress":return e.which!==32?null:(vO=!0,yO);case"textInput":return n=e.data,n===yO&&vO?null:n;default:return null}}function qae(n,e){if(S6)return n==="compositionend"||!cD&&HH(n,e)?(n=GH(),Bv=lD=J2=null,S6=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qH&&e.locale!=="ko"?null:e.data;default:return null}}var Hae={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xO(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!Hae[n.type]:e==="textarea"}function WH(n,e,t,i){b6?Y6?Y6.push(i):Y6=[i]:b6=i,e=jx(e,"onChange"),0<e.length&&(t=new yb("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var q9=null,MA=null;function jae(n){FW(n,0)}function xb(n){var e=M9(n);if(OH(e))return n}function _O(n,e){if(n==="change")return e}var XH=!1;if(Bc){var eM;if(Bc){var tM="oninput"in document;if(!tM){var bO=document.createElement("div");bO.setAttribute("oninput","return;"),tM=typeof bO.oninput=="function"}eM=tM}else eM=!1;XH=eM&&(!document.documentMode||9<document.documentMode)}function SO(){q9&&(q9.detachEvent("onpropertychange",YH),MA=q9=null)}function YH(n){if(n.propertyName==="value"&&xb(MA)){var e=[];WH(e,MA,n,oD(n)),kH(jae,e)}}function Wae(n,e,t){n==="focusin"?(SO(),q9=e,MA=t,q9.attachEvent("onpropertychange",YH)):n==="focusout"&&SO()}function Xae(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return xb(MA)}function Yae(n,e){if(n==="click")return xb(e)}function Qae(n,e){if(n==="input"||n==="change")return xb(e)}function $ae(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Wl=typeof Object.is=="function"?Object.is:$ae;function EA(n,e){if(Wl(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Jw.call(e,r)||!Wl(n[r],e[r]))return!1}return!0}function TO(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function MO(n,e){var t=TO(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=TO(t)}}function QH(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?QH(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function $H(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var e=wx(n.document);e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=wx(n.document)}return e}function fD(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}var Kae=Bc&&"documentMode"in document&&11>=document.documentMode,T6=null,sR=null,H9=null,aR=!1;function EO(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;aR||T6==null||T6!==wx(i)||(i=T6,"selectionStart"in i&&fD(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),H9&&EA(H9,i)||(H9=i,i=jx(sR,"onSelect"),0<i.length&&(e=new yb("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=T6)))}function A4(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var M6={animationend:A4("Animation","AnimationEnd"),animationiteration:A4("Animation","AnimationIteration"),animationstart:A4("Animation","AnimationStart"),transitionrun:A4("Transition","TransitionRun"),transitionstart:A4("Transition","TransitionStart"),transitioncancel:A4("Transition","TransitionCancel"),transitionend:A4("Transition","TransitionEnd")},nM={},KH={};Bc&&(KH=document.createElement("div").style,"AnimationEvent"in window||(delete M6.animationend.animation,delete M6.animationiteration.animation,delete M6.animationstart.animation),"TransitionEvent"in window||delete M6.transitionend.transition);function fh(n){if(nM[n])return nM[n];if(!M6[n])return n;var e=M6[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in KH)return nM[n]=e[t];return n}var ZH=fh("animationend"),JH=fh("animationiteration"),ej=fh("animationstart"),Zae=fh("transitionrun"),Jae=fh("transitionstart"),eoe=fh("transitioncancel"),tj=fh("transitionend"),nj=new Map,oR="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");oR.push("scrollEnd");function Mu(n,e){nj.set(n,e),uh(e,[n])}var wO=new WeakMap;function S0(n,e){if(typeof n=="object"&&n!==null){var t=wO.get(n);return t!==void 0?t:(e={value:n,source:e,stack:fO(e)},wO.set(n,e),e)}return{value:n,source:e,stack:fO(e)}}var A0=[],E6=0,hD=0;function _b(){for(var n=E6,e=hD=E6=0;e<n;){var t=A0[e];A0[e++]=null;var i=A0[e];A0[e++]=null;var r=A0[e];A0[e++]=null;var s=A0[e];if(A0[e++]=null,i!==null&&r!==null){var a=i.pending;a===null?r.next=r:(r.next=a.next,a.next=r),i.pending=r}s!==0&&ij(t,r,s)}}function bb(n,e,t,i){A0[E6++]=n,A0[E6++]=e,A0[E6++]=t,A0[E6++]=i,hD|=i,n.lanes|=i,n=n.alternate,n!==null&&(n.lanes|=i)}function dD(n,e,t,i){return bb(n,e,t,i),Rx(n)}function u8(n,e){return bb(n,null,null,e),Rx(n)}function ij(n,e,t){n.lanes|=t;var i=n.alternate;i!==null&&(i.lanes|=t);for(var r=!1,s=n.return;s!==null;)s.childLanes|=t,i=s.alternate,i!==null&&(i.childLanes|=t),s.tag===22&&(n=s.stateNode,n===null||n._visibility&1||(r=!0)),n=s,s=s.return;return n.tag===3?(s=n.stateNode,r&&e!==null&&(r=31-Vl(t),n=s.hiddenUpdates,i=n[r],i===null?n[r]=[e]:i.push(e),e.lane=t|536870912),s):null}function Rx(n){if(50<eA)throw eA=0,RR=null,Error(pt(185));for(var e=n.return;e!==null;)n=e,e=n.return;return n.tag===3?n.stateNode:null}var w6={};function toe(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fl(n,e,t,i){return new toe(n,e,t,i)}function AD(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Sc(n,e){var t=n.alternate;return t===null?(t=Fl(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&65011712,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t.refCleanup=n.refCleanup,t}function rj(n,e){n.flags&=65011714;var t=n.alternate;return t===null?(n.childLanes=0,n.lanes=e,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.type=t.type,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n}function Ov(n,e,t,i,r,s){var a=0;if(i=n,typeof n=="function")AD(n)&&(a=1);else if(typeof n=="string")a=ile(n,t,a1.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Qw:return n=Fl(31,t,e,r),n.elementType=Qw,n.lanes=s,n;case v6:return Af(t.children,r,s,e);case SH:a=8,r|=24;break;case Ww:return n=Fl(12,t,e,r|2),n.elementType=Ww,n.lanes=s,n;case Xw:return n=Fl(13,t,e,r),n.elementType=Xw,n.lanes=s,n;case Yw:return n=Fl(19,t,e,r),n.elementType=Yw,n.lanes=s,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case jse:case yc:a=10;break e;case TH:a=9;break e;case eD:a=11;break e;case tD:a=14;break e;case F2:a=16,i=null;break e}a=29,t=Error(pt(130,n===null?"null":typeof n,"")),i=null}return e=Fl(a,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function Af(n,e,t,i){return n=Fl(7,n,i,e),n.lanes=t,n}function iM(n,e,t){return n=Fl(6,n,null,e),n.lanes=t,n}function rM(n,e,t){return e=Fl(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}var R6=[],C6=0,Cx=null,Nx=0,x0=[],_0=0,pf=null,vc=1,xc="";function G4(n,e){R6[C6++]=Nx,R6[C6++]=Cx,Cx=n,Nx=e}function sj(n,e,t){x0[_0++]=vc,x0[_0++]=xc,x0[_0++]=pf,pf=n;var i=vc;n=xc;var r=32-Vl(i)-1;i&=~(1<<r),t+=1;var s=32-Vl(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,vc=1<<32-Vl(e)+r|t<<r|i,xc=s+n}else vc=1<<s|t<<r|i,xc=n}function pD(n){n.return!==null&&(G4(n,1),sj(n,1,0))}function mD(n){for(;n===Cx;)Cx=R6[--C6],R6[C6]=null,Nx=R6[--C6],R6[C6]=null;for(;n===pf;)pf=x0[--_0],x0[_0]=null,xc=x0[--_0],x0[_0]=null,vc=x0[--_0],x0[_0]=null}var Ro=null,cs=null,qi=!1,mf=null,e1=!1,lR=Error(pt(519));function Df(n){var e=Error(pt(418,""));throw wA(S0(e,n)),lR}function RO(n){var e=n.stateNode,t=n.type,i=n.memoizedProps;switch(e[ro]=n,e[ll]=i,t){case"dialog":bi("cancel",e),bi("close",e);break;case"iframe":case"object":case"embed":bi("load",e);break;case"video":case"audio":for(t=0;t<NA.length;t++)bi(NA[t],e);break;case"source":bi("error",e);break;case"img":case"image":case"link":bi("error",e),bi("load",e);break;case"details":bi("toggle",e);break;case"input":bi("invalid",e),IH(e,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),Ex(e);break;case"select":bi("invalid",e);break;case"textarea":bi("invalid",e),zH(e,i.value,i.defaultValue,i.children),Ex(e)}t=i.children,typeof t!="string"&&typeof t!="number"&&typeof t!="bigint"||e.textContent===""+t||i.suppressHydrationWarning===!0||VW(e.textContent,t)?(i.popover!=null&&(bi("beforetoggle",e),bi("toggle",e)),i.onScroll!=null&&bi("scroll",e),i.onScrollEnd!=null&&bi("scrollend",e),i.onClick!=null&&(e.onclick=Nb),e=!0):e=!1,e||Df(n)}function CO(n){for(Ro=n.return;Ro;)switch(Ro.tag){case 5:case 13:e1=!1;return;case 27:case 3:e1=!0;return;default:Ro=Ro.return}}function B7(n){if(n!==Ro)return!1;if(!qi)return CO(n),qi=!0,!1;var e=n.tag,t;if((t=e!==3&&e!==27)&&((t=e===5)&&(t=n.type,t=!(t!=="form"&&t!=="button")||BR(n.type,n.memoizedProps)),t=!t),t&&cs&&Df(n),CO(n),e===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(pt(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8)if(t=n.data,t==="/$"){if(e===0){cs=vu(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++;n=n.nextSibling}cs=null}}else e===27?(e=cs,P3(n.type)?(n=IR,IR=null,cs=n):cs=e):cs=Ro?vu(n.stateNode.nextSibling):null;return!0}function Pp(){cs=Ro=null,qi=!1}function NO(){var n=mf;return n!==null&&(Wo===null?Wo=n:Wo.push.apply(Wo,n),mf=null),n}function wA(n){mf===null?mf=[n]:mf.push(n)}var uR=C1(null),hh=null,_c=null;function q2(n,e,t){Hr(uR,e._currentValue),e._currentValue=t}function Tc(n){n._currentValue=uR.current,ba(uR)}function cR(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function fR(n,e,t,i){var r=n.child;for(r!==null&&(r.return=n);r!==null;){var s=r.dependencies;if(s!==null){var a=r.child;s=s.firstContext;e:for(;s!==null;){var o=s;s=r;for(var l=0;l<e.length;l++)if(o.context===e[l]){s.lanes|=t,o=s.alternate,o!==null&&(o.lanes|=t),cR(s.return,t,n),i||(a=null);break e}s=o.next}}else if(r.tag===18){if(a=r.return,a===null)throw Error(pt(341));a.lanes|=t,s=a.alternate,s!==null&&(s.lanes|=t),cR(a,t,n),a=null}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===n){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}}function Lp(n,e,t,i){n=null;for(var r=e,s=!1;r!==null;){if(!s){if(r.flags&524288)s=!0;else if(r.flags&262144)break}if(r.tag===10){var a=r.alternate;if(a===null)throw Error(pt(387));if(a=a.memoizedProps,a!==null){var o=r.type;Wl(r.pendingProps.value,a.value)||(n!==null?n.push(o):n=[o])}}else if(r===bx.current){if(a=r.alternate,a===null)throw Error(pt(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(n!==null?n.push(LA):n=[LA])}r=r.return}n!==null&&fR(e,n,t,i),e.flags|=262144}function Dx(n){for(n=n.firstContext;n!==null;){if(!Wl(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Pf(n){hh=n,_c=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function so(n){return aj(hh,n)}function Og(n,e){return hh===null&&Pf(n),aj(n,e)}function aj(n,e){var t=e._currentValue;if(e={context:e,memoizedValue:t,next:null},_c===null){if(n===null)throw Error(pt(308));_c=e,n.dependencies={lanes:0,firstContext:e},n.flags|=524288}else _c=_c.next=e;return t}var noe=typeof AbortController<"u"?AbortController:function(){var n=[],e=this.signal={aborted:!1,addEventListener:function(t,i){n.push(i)}};this.abort=function(){e.aborted=!0,n.forEach(function(t){return t()})}},ioe=ia.unstable_scheduleCallback,roe=ia.unstable_NormalPriority,Js={$$typeof:yc,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gD(){return{controller:new noe,data:new Map,refCount:0}}function Bp(n){n.refCount--,n.refCount===0&&ioe(roe,function(){n.controller.abort()})}var j9=null,hR=0,hd=0,Q6=null;function soe(n,e){if(j9===null){var t=j9=[];hR=0,hd=VD(),Q6={status:"pending",value:void 0,then:function(i){t.push(i)}}}return hR++,e.then(DO,DO),e}function DO(){if(--hR===0&&j9!==null){Q6!==null&&(Q6.status="fulfilled");var n=j9;j9=null,hd=0,Q6=null;for(var e=0;e<n.length;e++)(0,n[e])()}}function aoe(n,e){var t=[],i={status:"pending",value:null,reason:null,then:function(r){t.push(r)}};return n.then(function(){i.status="fulfilled",i.value=e;for(var r=0;r<t.length;r++)(0,t[r])(e)},function(r){for(i.status="rejected",i.reason=r,r=0;r<t.length;r++)(0,t[r])(void 0)}),i}var PO=Fn.S;Fn.S=function(n,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&soe(n,e),PO!==null&&PO(n,e)};var gf=C1(null);function yD(){var n=gf.current;return n!==null?n:wr.pooledCache}function Iv(n,e){e===null?Hr(gf,gf.current):Hr(gf,e.pool)}function oj(){var n=yD();return n===null?null:{parent:Js._currentValue,pool:n}}var Up=Error(pt(460)),lj=Error(pt(474)),Sb=Error(pt(542)),dR={then:function(){}};function LO(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ig(){}function uj(n,e,t){switch(t=n[t],t===void 0?n.push(e):t!==e&&(e.then(Ig,Ig),e=t),e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,UO(n),n;default:if(typeof e.status=="string")e.then(Ig,Ig);else{if(n=wr,n!==null&&100<n.shellSuspendCounter)throw Error(pt(482));n=e,n.status="pending",n.then(function(i){if(e.status==="pending"){var r=e;r.status="fulfilled",r.value=i}},function(i){if(e.status==="pending"){var r=e;r.status="rejected",r.reason=i}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw n=e.reason,UO(n),n}throw W9=e,Up}}var W9=null;function BO(){if(W9===null)throw Error(pt(459));var n=W9;return W9=null,n}function UO(n){if(n===Up||n===Sb)throw Error(pt(483))}var z2=!1;function vD(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function AR(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function o3(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function l3(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,nr&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,e=Rx(n),ij(n,null,t),e}return bb(n,i,e,t),Rx(n)}function X9(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194048)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,DH(n,t)}}function sM(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={lane:t.lane,tag:t.tag,payload:t.payload,callback:null,next:null};s===null?r=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,callbacks:i.callbacks},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}var pR=!1;function Y9(){if(pR){var n=Q6;if(n!==null)throw n}}function Q9(n,e,t,i){pR=!1;var r=n.updateQueue;z2=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=n.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var f=r.baseState;a=0,c=u=l=null,o=s;do{var m=o.lane&-536870913,v=m!==o.lane;if(v?(Ci&m)===m:(i&m)===m){m!==0&&m===hd&&(pR=!0),c!==null&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var _=n,T=o;m=e;var M=t;switch(T.tag){case 1:if(_=T.payload,typeof _=="function"){f=_.call(M,f,m);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=T.payload,m=typeof _=="function"?_.call(M,f,m):_,m==null)break e;f=Ir({},f,m);break e;case 2:z2=!0}}m=o.callback,m!==null&&(n.flags|=64,v&&(n.flags|=8192),v=r.callbacks,v===null?r.callbacks=[m]:v.push(m))}else v={lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=v,l=f):c=c.next=v,a|=m;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;v=o,o=v.next,v.next=null,r.lastBaseUpdate=v,r.shared.pending=null}}while(!0);c===null&&(l=f),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,s===null&&(r.shared.lanes=0),T3|=a,n.lanes=a,n.memoizedState=f}}function cj(n,e){if(typeof n!="function")throw Error(pt(191,n));n.call(e)}function fj(n,e){var t=n.callbacks;if(t!==null)for(n.callbacks=null,n=0;n<t.length;n++)cj(t[n],e)}var dd=C1(null),Px=C1(0);function OO(n,e){n=Ic,Hr(Px,n),Hr(dd,e),Ic=n|e.baseLanes}function mR(){Hr(Px,Ic),Hr(dd,dd.current)}function xD(){Ic=Px.current,ba(dd),ba(Px)}var b3=0,hi=null,ur=null,Us=null,Lx=!1,$6=!1,Lf=!1,Bx=0,RA=0,K6=null,ooe=0;function xs(){throw Error(pt(321))}function _D(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Wl(n[t],e[t]))return!1;return!0}function bD(n,e,t,i,r,s){return b3=s,hi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fn.H=n===null||n.memoizedState===null?Gj:qj,Lf=!1,s=t(i,r),Lf=!1,$6&&(s=dj(e,t,i,r)),hj(n),s}function hj(n){Fn.H=Ux;var e=ur!==null&&ur.next!==null;if(b3=0,Us=ur=hi=null,Lx=!1,RA=0,K6=null,e)throw Error(pt(300));n===null||xa||(n=n.dependencies,n!==null&&Dx(n)&&(xa=!0))}function dj(n,e,t,i){hi=n;var r=0;do{if($6&&(K6=null),RA=0,$6=!1,25<=r)throw Error(pt(301));if(r+=1,Us=ur=null,n.updateQueue!=null){var s=n.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}Fn.H=Aoe,s=e(t,i)}while($6);return s}function loe(){var n=Fn.H,e=n.useState()[0];return e=typeof e.then=="function"?Op(e):e,n=n.useState()[0],(ur!==null?ur.memoizedState:null)!==n&&(hi.flags|=1024),e}function SD(){var n=Bx!==0;return Bx=0,n}function TD(n,e,t){e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~t}function MD(n){if(Lx){for(n=n.memoizedState;n!==null;){var e=n.queue;e!==null&&(e.pending=null),n=n.next}Lx=!1}b3=0,Us=ur=hi=null,$6=!1,RA=Bx=0,K6=null}function Ho(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Us===null?hi.memoizedState=Us=n:Us=Us.next=n,Us}function zs(){if(ur===null){var n=hi.alternate;n=n!==null?n.memoizedState:null}else n=ur.next;var e=Us===null?hi.memoizedState:Us.next;if(e!==null)Us=e,ur=n;else{if(n===null)throw hi.alternate===null?Error(pt(467)):Error(pt(310));ur=n,n={memoizedState:ur.memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},Us===null?hi.memoizedState=Us=n:Us=Us.next=n}return Us}function ED(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Op(n){var e=RA;return RA+=1,K6===null&&(K6=[]),n=uj(K6,n,e),e=hi,(Us===null?e.memoizedState:Us.next)===null&&(e=e.alternate,Fn.H=e===null||e.memoizedState===null?Gj:qj),n}function Tb(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Op(n);if(n.$$typeof===yc)return so(n)}throw Error(pt(438,String(n)))}function wD(n){var e=null,t=hi.updateQueue;if(t!==null&&(e=t.memoCache),e==null){var i=hi.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(e={data:i.data.map(function(r){return r.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),t===null&&(t=ED(),hi.updateQueue=t),t.memoCache=e,t=e.data[e.index],t===void 0)for(t=e.data[e.index]=Array(n),i=0;i<n;i++)t[i]=Wse;return e.index++,t}function Uc(n,e){return typeof e=="function"?e(n):e}function Fv(n){var e=zs();return RD(e,ur,n)}function RD(n,e,t){var i=n.queue;if(i===null)throw Error(pt(311));i.lastRenderedReducer=t;var r=n.baseQueue,s=i.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}e.baseQueue=r=s,i.pending=null}if(s=n.baseState,r===null)n.memoizedState=s;else{e=r.next;var o=a=null,l=null,u=e,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Ci&f)===f:(b3&f)===f){var m=u.revertLane;if(m===0)l!==null&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===hd&&(c=!0);else if((b3&m)===m){u=u.next,m===hd&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=f,a=s):l=l.next=f,hi.lanes|=m,T3|=m;f=u.action,Lf&&t(s,f),s=u.hasEagerState?u.eagerState:t(s,f)}else m={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=m,a=s):l=l.next=m,hi.lanes|=f,T3|=f;u=u.next}while(u!==null&&u!==e);if(l===null?a=s:l.next=o,!Wl(s,n.memoizedState)&&(xa=!0,c&&(t=Q6,t!==null)))throw t;n.memoizedState=s,n.baseState=a,n.baseQueue=l,i.lastRenderedState=s}return r===null&&(i.lanes=0),[n.memoizedState,i.dispatch]}function aM(n){var e=zs(),t=e.queue;if(t===null)throw Error(pt(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var a=r=r.next;do s=n(s,a.action),a=a.next;while(a!==r);Wl(s,e.memoizedState)||(xa=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function Aj(n,e,t){var i=hi,r=zs(),s=qi;if(s){if(t===void 0)throw Error(pt(407));t=t()}else t=e();var a=!Wl((ur||r).memoizedState,t);a&&(r.memoizedState=t,xa=!0),r=r.queue;var o=gj.bind(null,i,r,n);if(Ip(2048,8,o,[n]),r.getSnapshot!==e||a||Us!==null&&Us.memoizedState.tag&1){if(i.flags|=2048,Ad(9,Mb(),mj.bind(null,i,r,t,e),null),wr===null)throw Error(pt(349));s||b3&124||pj(i,e,t)}return t}function pj(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=hi.updateQueue,e===null?(e=ED(),hi.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function mj(n,e,t,i){e.value=t,e.getSnapshot=i,yj(e)&&vj(n)}function gj(n,e,t){return t(function(){yj(e)&&vj(n)})}function yj(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Wl(n,t)}catch{return!0}}function vj(n){var e=u8(n,2);e!==null&&Gl(e,n,2)}function gR(n){var e=Ho();if(typeof n=="function"){var t=n;if(n=t(),Lf){Z2(!0);try{t()}finally{Z2(!1)}}}return e.memoizedState=e.baseState=n,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:n},e}function xj(n,e,t,i){return n.baseState=t,RD(n,ur,typeof i=="function"?i:Uc)}function uoe(n,e,t,i,r){if(Eb(n))throw Error(pt(485));if(n=e.action,n!==null){var s={payload:r,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){s.listeners.push(a)}};Fn.T!==null?t(!0):s.isTransition=!1,i(s),t=e.pending,t===null?(s.next=e.pending=s,_j(e,s)):(s.next=t.next,e.pending=t.next=s)}}function _j(n,e){var t=e.action,i=e.payload,r=n.state;if(e.isTransition){var s=Fn.T,a={};Fn.T=a;try{var o=t(r,i),l=Fn.S;l!==null&&l(a,o),IO(n,e,o)}catch(u){yR(n,e,u)}finally{Fn.T=s}}else try{s=t(r,i),IO(n,e,s)}catch(u){yR(n,e,u)}}function IO(n,e,t){t!==null&&typeof t=="object"&&typeof t.then=="function"?t.then(function(i){FO(n,e,i)},function(i){return yR(n,e,i)}):FO(n,e,t)}function FO(n,e,t){e.status="fulfilled",e.value=t,bj(e),n.state=t,e=n.pending,e!==null&&(t=e.next,t===e?n.pending=null:(t=t.next,e.next=t,_j(n,t)))}function yR(n,e,t){var i=n.pending;if(n.pending=null,i!==null){i=i.next;do e.status="rejected",e.reason=t,bj(e),e=e.next;while(e!==i)}n.action=null}function bj(n){n=n.listeners;for(var e=0;e<n.length;e++)(0,n[e])()}function Sj(n,e){return e}function zO(n,e){if(qi){var t=wr.formState;if(t!==null){e:{var i=hi;if(qi){if(cs){t:{for(var r=cs,s=e1;r.nodeType!==8;){if(!s){r=null;break t}if(r=vu(r.nextSibling),r===null){r=null;break t}}s=r.data,r=s==="F!"||s==="F"?r:null}if(r){cs=vu(r.nextSibling),i=r.data==="F!";break e}}Df(i)}i=!1}i&&(e=t[0])}}return t=Ho(),t.memoizedState=t.baseState=e,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sj,lastRenderedState:e},t.queue=i,t=zj.bind(null,hi,i),i.dispatch=t,i=gR(!1),s=PD.bind(null,hi,!1,i.queue),i=Ho(),r={state:e,dispatch:null,action:n,pending:null},i.queue=r,t=uoe.bind(null,hi,r,s,t),r.dispatch=t,i.memoizedState=n,[e,t,!1]}function VO(n){var e=zs();return Tj(e,ur,n)}function Tj(n,e,t){if(e=RD(n,e,Sj)[0],n=Fv(Uc)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var i=Op(e)}catch(a){throw a===Up?Sb:a}else i=e;e=zs();var r=e.queue,s=r.dispatch;return t!==e.memoizedState&&(hi.flags|=2048,Ad(9,Mb(),coe.bind(null,r,t),null)),[i,s,n]}function coe(n,e){n.action=e}function kO(n){var e=zs(),t=ur;if(t!==null)return Tj(e,t,n);zs(),e=e.memoizedState,t=zs();var i=t.queue.dispatch;return t.memoizedState=n,[e,i,!1]}function Ad(n,e,t,i){return n={tag:n,create:t,deps:i,inst:e,next:null},e=hi.updateQueue,e===null&&(e=ED(),hi.updateQueue=e),t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n),n}function Mb(){return{destroy:void 0,resource:void 0}}function Mj(){return zs().memoizedState}function zv(n,e,t,i){var r=Ho();i=i===void 0?null:i,hi.flags|=n,r.memoizedState=Ad(1|e,Mb(),t,i)}function Ip(n,e,t,i){var r=zs();i=i===void 0?null:i;var s=r.memoizedState.inst;ur!==null&&i!==null&&_D(i,ur.memoizedState.deps)?r.memoizedState=Ad(e,s,t,i):(hi.flags|=n,r.memoizedState=Ad(1|e,s,t,i))}function GO(n,e){zv(8390656,8,n,e)}function Ej(n,e){Ip(2048,8,n,e)}function wj(n,e){return Ip(4,2,n,e)}function Rj(n,e){return Ip(4,4,n,e)}function Cj(n,e){if(typeof e=="function"){n=n();var t=e(n);return function(){typeof t=="function"?t():e(null)}}if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Nj(n,e,t){t=t!=null?t.concat([n]):null,Ip(4,4,Cj.bind(null,e,n),t)}function CD(){}function Dj(n,e){var t=zs();e=e===void 0?null:e;var i=t.memoizedState;return e!==null&&_D(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function Pj(n,e){var t=zs();e=e===void 0?null:e;var i=t.memoizedState;if(e!==null&&_D(e,i[1]))return i[0];if(i=n(),Lf){Z2(!0);try{n()}finally{Z2(!1)}}return t.memoizedState=[i,e],i}function ND(n,e,t){return t===void 0||b3&1073741824?n.memoizedState=e:(n.memoizedState=t,n=bW(),hi.lanes|=n,T3|=n,t)}function Lj(n,e,t,i){return Wl(t,e)?t:dd.current!==null?(n=ND(n,t,i),Wl(n,e)||(xa=!0),n):b3&42?(n=bW(),hi.lanes|=n,T3|=n,e):(xa=!0,n.memoizedState=t)}function Bj(n,e,t,i,r){var s=Hi.p;Hi.p=s!==0&&8>s?s:8;var a=Fn.T,o={};Fn.T=o,PD(n,!1,e,t);try{var l=r(),u=Fn.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=aoe(l,i);$9(n,e,c,kl(n))}else $9(n,e,i,kl(n))}catch(f){$9(n,e,{then:function(){},status:"rejected",reason:f},kl())}finally{Hi.p=s,Fn.T=a}}function foe(){}function vR(n,e,t,i){if(n.tag!==5)throw Error(pt(476));var r=Uj(n).queue;Bj(n,r,e,df,t===null?foe:function(){return Oj(n),t(i)})}function Uj(n){var e=n.memoizedState;if(e!==null)return e;e={memoizedState:df,baseState:df,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:df},next:null};var t={};return e.next={memoizedState:t,baseState:t,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uc,lastRenderedState:t},next:null},n.memoizedState=e,n=n.alternate,n!==null&&(n.memoizedState=e),e}function Oj(n){var e=Uj(n).next.queue;$9(n,e,{},kl())}function DD(){return so(LA)}function Ij(){return zs().memoizedState}function Fj(){return zs().memoizedState}function hoe(n){for(var e=n.return;e!==null;){switch(e.tag){case 24:case 3:var t=kl();n=o3(t);var i=l3(e,n,t);i!==null&&(Gl(i,e,t),X9(i,e,t)),e={cache:gD()},n.payload=e;return}e=e.return}}function doe(n,e,t){var i=kl();t={lane:i,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null},Eb(n)?Vj(e,t):(t=dD(n,e,t,i),t!==null&&(Gl(t,n,i),kj(t,e,i)))}function zj(n,e,t){var i=kl();$9(n,e,t,i)}function $9(n,e,t,i){var r={lane:i,revertLane:0,action:t,hasEagerState:!1,eagerState:null,next:null};if(Eb(n))Vj(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(r.hasEagerState=!0,r.eagerState=o,Wl(o,a))return bb(n,e,r,0),wr===null&&_b(),!1}catch{}finally{}if(t=dD(n,e,r,i),t!==null)return Gl(t,n,i),kj(t,e,i),!0}return!1}function PD(n,e,t,i){if(i={lane:2,revertLane:VD(),action:i,hasEagerState:!1,eagerState:null,next:null},Eb(n)){if(e)throw Error(pt(479))}else e=dD(n,t,i,2),e!==null&&Gl(e,n,2)}function Eb(n){var e=n.alternate;return n===hi||e!==null&&e===hi}function Vj(n,e){$6=Lx=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function kj(n,e,t){if(t&4194048){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,DH(n,t)}}var Ux={readContext:so,use:Tb,useCallback:xs,useContext:xs,useEffect:xs,useImperativeHandle:xs,useLayoutEffect:xs,useInsertionEffect:xs,useMemo:xs,useReducer:xs,useRef:xs,useState:xs,useDebugValue:xs,useDeferredValue:xs,useTransition:xs,useSyncExternalStore:xs,useId:xs,useHostTransitionStatus:xs,useFormState:xs,useActionState:xs,useOptimistic:xs,useMemoCache:xs,useCacheRefresh:xs},Gj={readContext:so,use:Tb,useCallback:function(n,e){return Ho().memoizedState=[n,e===void 0?null:e],n},useContext:so,useEffect:GO,useImperativeHandle:function(n,e,t){t=t!=null?t.concat([n]):null,zv(4194308,4,Cj.bind(null,e,n),t)},useLayoutEffect:function(n,e){return zv(4194308,4,n,e)},useInsertionEffect:function(n,e){zv(4,2,n,e)},useMemo:function(n,e){var t=Ho();e=e===void 0?null:e;var i=n();if(Lf){Z2(!0);try{n()}finally{Z2(!1)}}return t.memoizedState=[i,e],i},useReducer:function(n,e,t){var i=Ho();if(t!==void 0){var r=t(e);if(Lf){Z2(!0);try{t(e)}finally{Z2(!1)}}}else r=e;return i.memoizedState=i.baseState=r,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},i.queue=n,n=n.dispatch=doe.bind(null,hi,n),[i.memoizedState,n]},useRef:function(n){var e=Ho();return n={current:n},e.memoizedState=n},useState:function(n){n=gR(n);var e=n.queue,t=zj.bind(null,hi,e);return e.dispatch=t,[n.memoizedState,t]},useDebugValue:CD,useDeferredValue:function(n,e){var t=Ho();return ND(t,n,e)},useTransition:function(){var n=gR(!1);return n=Bj.bind(null,hi,n.queue,!0,!1),Ho().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,e,t){var i=hi,r=Ho();if(qi){if(t===void 0)throw Error(pt(407));t=t()}else{if(t=e(),wr===null)throw Error(pt(349));Ci&124||pj(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,GO(gj.bind(null,i,s,n),[n]),i.flags|=2048,Ad(9,Mb(),mj.bind(null,i,s,t,e),null),t},useId:function(){var n=Ho(),e=wr.identifierPrefix;if(qi){var t=xc,i=vc;t=(i&~(1<<32-Vl(i)-1)).toString(32)+t,e=""+e+"R"+t,t=Bx++,0<t&&(e+="H"+t.toString(32)),e+=""}else t=ooe++,e=""+e+"r"+t.toString(32)+"";return n.memoizedState=e},useHostTransitionStatus:DD,useFormState:zO,useActionState:zO,useOptimistic:function(n){var e=Ho();e.memoizedState=e.baseState=n;var t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=t,e=PD.bind(null,hi,!0,t),t.dispatch=e,[n,e]},useMemoCache:wD,useCacheRefresh:function(){return Ho().memoizedState=hoe.bind(null,hi)}},qj={readContext:so,use:Tb,useCallback:Dj,useContext:so,useEffect:Ej,useImperativeHandle:Nj,useInsertionEffect:wj,useLayoutEffect:Rj,useMemo:Pj,useReducer:Fv,useRef:Mj,useState:function(){return Fv(Uc)},useDebugValue:CD,useDeferredValue:function(n,e){var t=zs();return Lj(t,ur.memoizedState,n,e)},useTransition:function(){var n=Fv(Uc)[0],e=zs().memoizedState;return[typeof n=="boolean"?n:Op(n),e]},useSyncExternalStore:Aj,useId:Ij,useHostTransitionStatus:DD,useFormState:VO,useActionState:VO,useOptimistic:function(n,e){var t=zs();return xj(t,ur,n,e)},useMemoCache:wD,useCacheRefresh:Fj},Aoe={readContext:so,use:Tb,useCallback:Dj,useContext:so,useEffect:Ej,useImperativeHandle:Nj,useInsertionEffect:wj,useLayoutEffect:Rj,useMemo:Pj,useReducer:aM,useRef:Mj,useState:function(){return aM(Uc)},useDebugValue:CD,useDeferredValue:function(n,e){var t=zs();return ur===null?ND(t,n,e):Lj(t,ur.memoizedState,n,e)},useTransition:function(){var n=aM(Uc)[0],e=zs().memoizedState;return[typeof n=="boolean"?n:Op(n),e]},useSyncExternalStore:Aj,useId:Ij,useHostTransitionStatus:DD,useFormState:kO,useActionState:kO,useOptimistic:function(n,e){var t=zs();return ur!==null?xj(t,ur,n,e):(t.baseState=n,[n,t.queue.dispatch])},useMemoCache:wD,useCacheRefresh:Fj},Z6=null,CA=0;function Fg(n){var e=CA;return CA+=1,Z6===null&&(Z6=[]),uj(Z6,n,e)}function U7(n,e){e=e.props.ref,n.ref=e!==void 0?e:null}function zg(n,e){throw e.$$typeof===Hse?Error(pt(525)):(n=Object.prototype.toString.call(e),Error(pt(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n)))}function qO(n){var e=n._init;return e(n._payload)}function Hj(n){function e(S,R){if(n){var C=S.deletions;C===null?(S.deletions=[R],S.flags|=16):C.push(R)}}function t(S,R){if(!n)return null;for(;R!==null;)e(S,R),R=R.sibling;return null}function i(S){for(var R=new Map;S!==null;)S.key!==null?R.set(S.key,S):R.set(S.index,S),S=S.sibling;return R}function r(S,R){return S=Sc(S,R),S.index=0,S.sibling=null,S}function s(S,R,C){return S.index=C,n?(C=S.alternate,C!==null?(C=C.index,C<R?(S.flags|=67108866,R):C):(S.flags|=67108866,R)):(S.flags|=1048576,R)}function a(S){return n&&S.alternate===null&&(S.flags|=67108866),S}function o(S,R,C,P){return R===null||R.tag!==6?(R=iM(C,S.mode,P),R.return=S,R):(R=r(R,C),R.return=S,R)}function l(S,R,C,P){var B=C.type;return B===v6?c(S,R,C.props.children,P,C.key):R!==null&&(R.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===F2&&qO(B)===R.type)?(R=r(R,C.props),U7(R,C),R.return=S,R):(R=Ov(C.type,C.key,C.props,null,S.mode,P),U7(R,C),R.return=S,R)}function u(S,R,C,P){return R===null||R.tag!==4||R.stateNode.containerInfo!==C.containerInfo||R.stateNode.implementation!==C.implementation?(R=rM(C,S.mode,P),R.return=S,R):(R=r(R,C.children||[]),R.return=S,R)}function c(S,R,C,P,B){return R===null||R.tag!==7?(R=Af(C,S.mode,P,B),R.return=S,R):(R=r(R,C),R.return=S,R)}function f(S,R,C){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=iM(""+R,S.mode,C),R.return=S,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Dg:return C=Ov(R.type,R.key,R.props,null,S.mode,C),U7(C,R),C.return=S,C;case S9:return R=rM(R,S.mode,C),R.return=S,R;case F2:var P=R._init;return R=P(R._payload),f(S,R,C)}if(T9(R)||D7(R))return R=Af(R,S.mode,C,null),R.return=S,R;if(typeof R.then=="function")return f(S,Fg(R),C);if(R.$$typeof===yc)return f(S,Og(S,R),C);zg(S,R)}return null}function m(S,R,C,P){var B=R!==null?R.key:null;if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return B!==null?null:o(S,R,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Dg:return C.key===B?l(S,R,C,P):null;case S9:return C.key===B?u(S,R,C,P):null;case F2:return B=C._init,C=B(C._payload),m(S,R,C,P)}if(T9(C)||D7(C))return B!==null?null:c(S,R,C,P,null);if(typeof C.then=="function")return m(S,R,Fg(C),P);if(C.$$typeof===yc)return m(S,R,Og(S,C),P);zg(S,C)}return null}function v(S,R,C,P,B){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return S=S.get(C)||null,o(R,S,""+P,B);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Dg:return S=S.get(P.key===null?C:P.key)||null,l(R,S,P,B);case S9:return S=S.get(P.key===null?C:P.key)||null,u(R,S,P,B);case F2:var O=P._init;return P=O(P._payload),v(S,R,C,P,B)}if(T9(P)||D7(P))return S=S.get(C)||null,c(R,S,P,B,null);if(typeof P.then=="function")return v(S,R,C,Fg(P),B);if(P.$$typeof===yc)return v(S,R,C,Og(R,P),B);zg(R,P)}return null}function _(S,R,C,P){for(var B=null,O=null,V=R,F=R=0,z=null;V!==null&&F<C.length;F++){V.index>F?(z=V,V=null):z=V.sibling;var k=m(S,V,C[F],P);if(k===null){V===null&&(V=z);break}n&&V&&k.alternate===null&&e(S,V),R=s(k,R,F),O===null?B=k:O.sibling=k,O=k,V=z}if(F===C.length)return t(S,V),qi&&G4(S,F),B;if(V===null){for(;F<C.length;F++)V=f(S,C[F],P),V!==null&&(R=s(V,R,F),O===null?B=V:O.sibling=V,O=V);return qi&&G4(S,F),B}for(V=i(V);F<C.length;F++)z=v(V,S,F,C[F],P),z!==null&&(n&&z.alternate!==null&&V.delete(z.key===null?F:z.key),R=s(z,R,F),O===null?B=z:O.sibling=z,O=z);return n&&V.forEach(function(H){return e(S,H)}),qi&&G4(S,F),B}function T(S,R,C,P){if(C==null)throw Error(pt(151));for(var B=null,O=null,V=R,F=R=0,z=null,k=C.next();V!==null&&!k.done;F++,k=C.next()){V.index>F?(z=V,V=null):z=V.sibling;var H=m(S,V,k.value,P);if(H===null){V===null&&(V=z);break}n&&V&&H.alternate===null&&e(S,V),R=s(H,R,F),O===null?B=H:O.sibling=H,O=H,V=z}if(k.done)return t(S,V),qi&&G4(S,F),B;if(V===null){for(;!k.done;F++,k=C.next())k=f(S,k.value,P),k!==null&&(R=s(k,R,F),O===null?B=k:O.sibling=k,O=k);return qi&&G4(S,F),B}for(V=i(V);!k.done;F++,k=C.next())k=v(V,S,F,k.value,P),k!==null&&(n&&k.alternate!==null&&V.delete(k.key===null?F:k.key),R=s(k,R,F),O===null?B=k:O.sibling=k,O=k);return n&&V.forEach(function(Z){return e(S,Z)}),qi&&G4(S,F),B}function M(S,R,C,P){if(typeof C=="object"&&C!==null&&C.type===v6&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Dg:e:{for(var B=C.key;R!==null;){if(R.key===B){if(B=C.type,B===v6){if(R.tag===7){t(S,R.sibling),P=r(R,C.props.children),P.return=S,S=P;break e}}else if(R.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===F2&&qO(B)===R.type){t(S,R.sibling),P=r(R,C.props),U7(P,C),P.return=S,S=P;break e}t(S,R);break}else e(S,R);R=R.sibling}C.type===v6?(P=Af(C.props.children,S.mode,P,C.key),P.return=S,S=P):(P=Ov(C.type,C.key,C.props,null,S.mode,P),U7(P,C),P.return=S,S=P)}return a(S);case S9:e:{for(B=C.key;R!==null;){if(R.key===B)if(R.tag===4&&R.stateNode.containerInfo===C.containerInfo&&R.stateNode.implementation===C.implementation){t(S,R.sibling),P=r(R,C.children||[]),P.return=S,S=P;break e}else{t(S,R);break}else e(S,R);R=R.sibling}P=rM(C,S.mode,P),P.return=S,S=P}return a(S);case F2:return B=C._init,C=B(C._payload),M(S,R,C,P)}if(T9(C))return _(S,R,C,P);if(D7(C)){if(B=D7(C),typeof B!="function")throw Error(pt(150));return C=B.call(C),T(S,R,C,P)}if(typeof C.then=="function")return M(S,R,Fg(C),P);if(C.$$typeof===yc)return M(S,R,Og(S,C),P);zg(S,C)}return typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint"?(C=""+C,R!==null&&R.tag===6?(t(S,R.sibling),P=r(R,C),P.return=S,S=P):(t(S,R),P=iM(C,S.mode,P),P.return=S,S=P),a(S)):t(S,R)}return function(S,R,C,P){try{CA=0;var B=M(S,R,C,P);return Z6=null,B}catch(V){if(V===Up||V===Sb)throw V;var O=Fl(29,V,null,S.mode);return O.lanes=P,O.return=S,O}finally{}}}var pd=Hj(!0),jj=Hj(!1),P0=C1(null),l1=null;function H2(n){var e=n.alternate;Hr(ta,ta.current&1),Hr(P0,n),l1===null&&(e===null||dd.current!==null||e.memoizedState!==null)&&(l1=n)}function Wj(n){if(n.tag===22){if(Hr(ta,ta.current),Hr(P0,n),l1===null){var e=n.alternate;e!==null&&e.memoizedState!==null&&(l1=n)}}else j2()}function j2(){Hr(ta,ta.current),Hr(P0,P0.current)}function bc(n){ba(P0),l1===n&&(l1=null),ba(ta)}var ta=C1(0);function Ox(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||OR(t)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function oM(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:Ir({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var xR={enqueueSetState:function(n,e,t){n=n._reactInternals;var i=kl(),r=o3(i);r.payload=e,t!=null&&(r.callback=t),e=l3(n,r,i),e!==null&&(Gl(e,n,i),X9(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=kl(),r=o3(i);r.tag=1,r.payload=e,t!=null&&(r.callback=t),e=l3(n,r,i),e!==null&&(Gl(e,n,i),X9(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=kl(),i=o3(t);i.tag=2,e!=null&&(i.callback=e),e=l3(n,i,t),e!==null&&(Gl(e,n,t),X9(e,n,t))}};function HO(n,e,t,i,r,s,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!EA(t,i)||!EA(r,s):!0}function jO(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&xR.enqueueReplaceState(e,e.state,null)}function Bf(n,e){var t=e;if("ref"in e){t={};for(var i in e)i!=="ref"&&(t[i]=e[i])}if(n=n.defaultProps){t===e&&(t=Ir({},t));for(var r in n)t[r]===void 0&&(t[r]=n[r])}return t}var Ix=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Xj(n){Ix(n)}function Yj(n){console.error(n)}function Qj(n){Ix(n)}function Fx(n,e){try{var t=n.onUncaughtError;t(e.value,{componentStack:e.stack})}catch(i){setTimeout(function(){throw i})}}function WO(n,e,t){try{var i=n.onCaughtError;i(t.value,{componentStack:t.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function _R(n,e,t){return t=o3(t),t.tag=3,t.payload={element:null},t.callback=function(){Fx(n,e)},t}function $j(n){return n=o3(n),n.tag=3,n}function Kj(n,e,t,i){var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=i.value;n.payload=function(){return r(s)},n.callback=function(){WO(e,t,i)}}var a=t.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){WO(e,t,i),typeof r!="function"&&(u3===null?u3=new Set([this]):u3.add(this));var o=i.stack;this.componentDidCatch(i.value,{componentStack:o!==null?o:""})})}function poe(n,e,t,i,r){if(t.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(e=t.alternate,e!==null&&Lp(e,t,r,!0),t=P0.current,t!==null){switch(t.tag){case 13:return l1===null?CR():t.alternate===null&&fs===0&&(fs=3),t.flags&=-257,t.flags|=65536,t.lanes=r,i===dR?t.flags|=16384:(e=t.updateQueue,e===null?t.updateQueue=new Set([i]):e.add(i),yM(n,i,r)),!1;case 22:return t.flags|=65536,i===dR?t.flags|=16384:(e=t.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([i])},t.updateQueue=e):(t=e.retryQueue,t===null?e.retryQueue=new Set([i]):t.add(i)),yM(n,i,r)),!1}throw Error(pt(435,t.tag))}return yM(n,i,r),CR(),!1}if(qi)return e=P0.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=r,i!==lR&&(n=Error(pt(422),{cause:i}),wA(S0(n,t)))):(i!==lR&&(e=Error(pt(423),{cause:i}),wA(S0(e,t))),n=n.current.alternate,n.flags|=65536,r&=-r,n.lanes|=r,i=S0(i,t),r=_R(n.stateNode,i,r),sM(n,r),fs!==4&&(fs=2)),!1;var s=Error(pt(520),{cause:i});if(s=S0(s,t),J9===null?J9=[s]:J9.push(s),fs!==4&&(fs=2),e===null)return!0;i=S0(i,t),t=e;do{switch(t.tag){case 3:return t.flags|=65536,n=r&-r,t.lanes|=n,n=_R(t.stateNode,i,n),sM(t,n),!1;case 1:if(e=t.type,s=t.stateNode,(t.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(u3===null||!u3.has(s))))return t.flags|=65536,r&=-r,t.lanes|=r,r=$j(r),Kj(r,n,t,i),sM(t,r),!1}t=t.return}while(t!==null);return!1}var Zj=Error(pt(461)),xa=!1;function La(n,e,t,i){e.child=n===null?jj(e,null,t,i):pd(e,n.child,t,i)}function XO(n,e,t,i,r){t=t.render;var s=e.ref;if("ref"in i){var a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}else a=i;return Pf(e),i=bD(n,e,t,a,s,r),o=SD(),n!==null&&!xa?(TD(n,e,r),Oc(n,e,r)):(qi&&o&&pD(e),e.flags|=1,La(n,e,i,r),e.child)}function YO(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!AD(s)&&s.defaultProps===void 0&&t.compare===null?(e.tag=15,e.type=s,Jj(n,e,s,i,r)):(n=Ov(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!LD(n,r)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:EA,t(a,i)&&n.ref===e.ref)return Oc(n,e,r)}return e.flags|=1,n=Sc(s,i),n.ref=e.ref,n.return=e,e.child=n}function Jj(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(EA(s,i)&&n.ref===e.ref)if(xa=!1,e.pendingProps=i=s,LD(n,r))n.flags&131072&&(xa=!0);else return e.lanes=n.lanes,Oc(n,e,r)}return bR(n,e,t,i,r)}function eW(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden"){if(e.flags&128){if(i=s!==null?s.baseLanes|t:t,n!==null){for(r=e.child=n.child,s=0;r!==null;)s=s|r.lanes|r.childLanes,r=r.sibling;e.childLanes=s&~i}else e.childLanes=0,e.child=null;return QO(n,e,i,t)}if(t&536870912)e.memoizedState={baseLanes:0,cachePool:null},n!==null&&Iv(e,s!==null?s.cachePool:null),s!==null?OO(e,s):mR(),Wj(e);else return e.lanes=e.childLanes=536870912,QO(n,e,s!==null?s.baseLanes|t:t,t)}else s!==null?(Iv(e,s.cachePool),OO(e,s),j2(),e.memoizedState=null):(n!==null&&Iv(e,null),mR(),j2());return La(n,e,r,t),e.child}function QO(n,e,t,i){var r=yD();return r=r===null?null:{parent:Js._currentValue,pool:r},e.memoizedState={baseLanes:t,cachePool:r},n!==null&&Iv(e,null),mR(),Wj(e),n!==null&&Lp(n,e,i,!0),null}function Vv(n,e){var t=e.ref;if(t===null)n!==null&&n.ref!==null&&(e.flags|=4194816);else{if(typeof t!="function"&&typeof t!="object")throw Error(pt(284));(n===null||n.ref!==t)&&(e.flags|=4194816)}}function bR(n,e,t,i,r){return Pf(e),t=bD(n,e,t,i,void 0,r),i=SD(),n!==null&&!xa?(TD(n,e,r),Oc(n,e,r)):(qi&&i&&pD(e),e.flags|=1,La(n,e,t,r),e.child)}function $O(n,e,t,i,r,s){return Pf(e),e.updateQueue=null,t=dj(e,i,t,r),hj(n),i=SD(),n!==null&&!xa?(TD(n,e,s),Oc(n,e,s)):(qi&&i&&pD(e),e.flags|=1,La(n,e,t,s),e.child)}function KO(n,e,t,i,r){if(Pf(e),e.stateNode===null){var s=w6,a=t.contextType;typeof a=="object"&&a!==null&&(s=so(a)),s=new t(i,s),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=xR,e.stateNode=s,s._reactInternals=e,s=e.stateNode,s.props=i,s.state=e.memoizedState,s.refs={},vD(e),a=t.contextType,s.context=typeof a=="object"&&a!==null?so(a):w6,s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(oM(e,t,a,i),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(a=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),a!==s.state&&xR.enqueueReplaceState(s,s.state,null),Q9(e,i,s,r),Y9(),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!0}else if(n===null){s=e.stateNode;var o=e.memoizedProps,l=Bf(t,o);s.props=l;var u=s.context,c=t.contextType;a=w6,typeof c=="object"&&c!==null&&(a=so(c));var f=t.getDerivedStateFromProps;c=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,c||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o||u!==a)&&jO(e,s,i,a),z2=!1;var m=e.memoizedState;s.state=m,Q9(e,i,s,r),Y9(),u=e.memoizedState,o||m!==u||z2?(typeof f=="function"&&(oM(e,t,f,i),u=e.memoizedState),(l=z2||HO(e,t,l,i,m,u,a))?(c||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),s.props=i,s.state=u,s.context=a,i=l):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{s=e.stateNode,AR(n,e),a=e.memoizedProps,c=Bf(t,a),s.props=c,f=e.pendingProps,m=s.context,u=t.contextType,l=w6,typeof u=="object"&&u!==null&&(l=so(u)),o=t.getDerivedStateFromProps,(u=typeof o=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||m!==l)&&jO(e,s,i,l),z2=!1,m=e.memoizedState,s.state=m,Q9(e,i,s,r),Y9();var v=e.memoizedState;a!==f||m!==v||z2||n!==null&&n.dependencies!==null&&Dx(n.dependencies)?(typeof o=="function"&&(oM(e,t,o,i),v=e.memoizedState),(c=z2||HO(e,t,c,i,m,v,l)||n!==null&&n.dependencies!==null&&Dx(n.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(i,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(i,v,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),s.props=i,s.state=v,s.context=l,i=c):(typeof s.componentDidUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),i=!1)}return s=i,Vv(n,e),i=(e.flags&128)!==0,s||i?(s=e.stateNode,t=i&&typeof t.getDerivedStateFromError!="function"?null:s.render(),e.flags|=1,n!==null&&i?(e.child=pd(e,n.child,null,r),e.child=pd(e,null,t,r)):La(n,e,t,r),e.memoizedState=s.state,n=e.child):n=Oc(n,e,r),n}function ZO(n,e,t,i){return Pp(),e.flags|=256,La(n,e,t,i),e.child}var lM={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uM(n){return{baseLanes:n,cachePool:oj()}}function cM(n,e,t){return n=n!==null?n.childLanes&~t:0,e&&(n|=E0),n}function tW(n,e,t){var i=e.pendingProps,r=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=n!==null&&n.memoizedState===null?!1:(ta.current&2)!==0),a&&(r=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,n===null){if(qi){if(r?H2(e):j2(),qi){var o=cs,l;if(l=o){e:{for(l=o,o=e1;l.nodeType!==8;){if(!o){o=null;break e}if(l=vu(l.nextSibling),l===null){o=null;break e}}o=l}o!==null?(e.memoizedState={dehydrated:o,treeContext:pf!==null?{id:vc,overflow:xc}:null,retryLane:536870912,hydrationErrors:null},l=Fl(18,null,null,0),l.stateNode=o,l.return=e,e.child=l,Ro=e,cs=null,l=!0):l=!1}l||Df(e)}if(o=e.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return OR(o)?e.lanes=32:e.lanes=536870912,null;bc(e)}return o=i.children,i=i.fallback,r?(j2(),r=e.mode,o=zx({mode:"hidden",children:o},r),i=Af(i,r,t,null),o.return=e,i.return=e,o.sibling=i,e.child=o,r=e.child,r.memoizedState=uM(t),r.childLanes=cM(n,a,t),e.memoizedState=lM,i):(H2(e),SR(e,o))}if(l=n.memoizedState,l!==null&&(o=l.dehydrated,o!==null)){if(s)e.flags&256?(H2(e),e.flags&=-257,e=fM(n,e,t)):e.memoizedState!==null?(j2(),e.child=n.child,e.flags|=128,e=null):(j2(),r=i.fallback,o=e.mode,i=zx({mode:"visible",children:i.children},o),r=Af(r,o,t,null),r.flags|=2,i.return=e,r.return=e,i.sibling=r,e.child=i,pd(e,n.child,null,t),i=e.child,i.memoizedState=uM(t),i.childLanes=cM(n,a,t),e.memoizedState=lM,e=r);else if(H2(e),OR(o)){if(a=o.nextSibling&&o.nextSibling.dataset,a)var u=a.dgst;a=u,i=Error(pt(419)),i.stack="",i.digest=a,wA({value:i,source:null,stack:null}),e=fM(n,e,t)}else if(xa||Lp(n,e,t,!1),a=(t&n.childLanes)!==0,xa||a){if(a=wr,a!==null&&(i=t&-t,i=i&42?1:iD(i),i=i&(a.suspendedLanes|t)?0:i,i!==0&&i!==l.retryLane))throw l.retryLane=i,u8(n,i),Gl(a,n,i),Zj;o.data==="$?"||CR(),e=fM(n,e,t)}else o.data==="$?"?(e.flags|=192,e.child=n.child,e=null):(n=l.treeContext,cs=vu(o.nextSibling),Ro=e,qi=!0,mf=null,e1=!1,n!==null&&(x0[_0++]=vc,x0[_0++]=xc,x0[_0++]=pf,vc=n.id,xc=n.overflow,pf=e),e=SR(e,i.children),e.flags|=4096);return e}return r?(j2(),r=i.fallback,o=e.mode,l=n.child,u=l.sibling,i=Sc(l,{mode:"hidden",children:i.children}),i.subtreeFlags=l.subtreeFlags&65011712,u!==null?r=Sc(u,r):(r=Af(r,o,t,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,i=r,r=e.child,o=n.child.memoizedState,o===null?o=uM(t):(l=o.cachePool,l!==null?(u=Js._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=oj(),o={baseLanes:o.baseLanes|t,cachePool:l}),r.memoizedState=o,r.childLanes=cM(n,a,t),e.memoizedState=lM,i):(H2(e),t=n.child,n=t.sibling,t=Sc(t,{mode:"visible",children:i.children}),t.return=e,t.sibling=null,n!==null&&(a=e.deletions,a===null?(e.deletions=[n],e.flags|=16):a.push(n)),e.child=t,e.memoizedState=null,t)}function SR(n,e){return e=zx({mode:"visible",children:e},n.mode),e.return=n,n.child=e}function zx(n,e){return n=Fl(22,n,null,e),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function fM(n,e,t){return pd(e,n.child,null,t),n=SR(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function JO(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),cR(n.return,e,t)}function hM(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function nW(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(La(n,e,i.children,t),i=ta.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&JO(n,t,e);else if(n.tag===19)JO(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}switch(Hr(ta,i),r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Ox(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),hM(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Ox(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}hM(e,!0,t,null,s);break;case"together":hM(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Oc(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),T3|=e.lanes,!(t&e.childLanes))if(n!==null){if(Lp(n,e,t,!1),(t&e.childLanes)===0)return null}else return null;if(n!==null&&e.child!==n.child)throw Error(pt(153));if(e.child!==null){for(n=e.child,t=Sc(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Sc(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function LD(n,e){return n.lanes&e?!0:(n=n.dependencies,!!(n!==null&&Dx(n)))}function moe(n,e,t){switch(e.tag){case 3:Sx(e,e.stateNode.containerInfo),q2(e,Js,n.memoizedState.cache),Pp();break;case 27:case 5:Zw(e);break;case 4:Sx(e,e.stateNode.containerInfo);break;case 10:q2(e,e.type,e.memoizedProps.value);break;case 13:var i=e.memoizedState;if(i!==null)return i.dehydrated!==null?(H2(e),e.flags|=128,null):t&e.child.childLanes?tW(n,e,t):(H2(e),n=Oc(n,e,t),n!==null?n.sibling:null);H2(e);break;case 19:var r=(n.flags&128)!==0;if(i=(t&e.childLanes)!==0,i||(Lp(n,e,t,!1),i=(t&e.childLanes)!==0),r){if(i)return nW(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Hr(ta,ta.current),i)break;return null;case 22:case 23:return e.lanes=0,eW(n,e,t);case 24:q2(e,Js,n.memoizedState.cache)}return Oc(n,e,t)}function iW(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps)xa=!0;else{if(!LD(n,t)&&!(e.flags&128))return xa=!1,moe(n,e,t);xa=!!(n.flags&131072)}else xa=!1,qi&&e.flags&1048576&&sj(e,Nx,e.index);switch(e.lanes=0,e.tag){case 16:e:{n=e.pendingProps;var i=e.elementType,r=i._init;if(i=r(i._payload),e.type=i,typeof i=="function")AD(i)?(n=Bf(i,n),e.tag=1,e=KO(null,e,i,n,t)):(e.tag=0,e=bR(null,e,i,n,t));else{if(i!=null){if(r=i.$$typeof,r===eD){e.tag=11,e=XO(null,e,i,n,t);break e}else if(r===tD){e.tag=14,e=YO(null,e,i,n,t);break e}}throw e=$w(i)||i,Error(pt(306,e,""))}}return e;case 0:return bR(n,e,e.type,e.pendingProps,t);case 1:return i=e.type,r=Bf(i,e.pendingProps),KO(n,e,i,r,t);case 3:e:{if(Sx(e,e.stateNode.containerInfo),n===null)throw Error(pt(387));i=e.pendingProps;var s=e.memoizedState;r=s.element,AR(n,e),Q9(e,i,null,t);var a=e.memoizedState;if(i=a.cache,q2(e,Js,i),i!==s.cache&&fR(e,[Js],t,!0),Y9(),i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){e=ZO(n,e,i,t);break e}else if(i!==r){r=S0(Error(pt(424)),e),wA(r),e=ZO(n,e,i,t);break e}else{switch(n=e.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(cs=vu(n.firstChild),Ro=e,qi=!0,mf=null,e1=!0,t=jj(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling}else{if(Pp(),i===r){e=Oc(n,e,t);break e}La(n,e,i,t)}e=e.child}return e;case 26:return Vv(n,e),n===null?(t=mI(e.type,null,e.pendingProps,null))?e.memoizedState=t:qi||(t=e.type,n=e.pendingProps,i=Wx(a3.current).createElement(t),i[ro]=e,i[ll]=n,Va(i,t,n),va(i),e.stateNode=i):e.memoizedState=mI(e.type,n.memoizedProps,e.pendingProps,n.memoizedState),null;case 27:return Zw(e),n===null&&qi&&(i=e.stateNode=qW(e.type,e.pendingProps,a3.current),Ro=e,e1=!0,r=cs,P3(e.type)?(IR=r,cs=vu(i.firstChild)):cs=r),La(n,e,e.pendingProps.children,t),Vv(n,e),n===null&&(e.flags|=4194304),e.child;case 5:return n===null&&qi&&((r=i=cs)&&(i=Hoe(i,e.type,e.pendingProps,e1),i!==null?(e.stateNode=i,Ro=e,cs=vu(i.firstChild),e1=!1,r=!0):r=!1),r||Df(e)),Zw(e),r=e.type,s=e.pendingProps,a=n!==null?n.memoizedProps:null,i=s.children,BR(r,s)?i=null:a!==null&&BR(r,a)&&(e.flags|=32),e.memoizedState!==null&&(r=bD(n,e,loe,null,null,t),LA._currentValue=r),Vv(n,e),La(n,e,i,t),e.child;case 6:return n===null&&qi&&((n=t=cs)&&(t=joe(t,e.pendingProps,e1),t!==null?(e.stateNode=t,Ro=e,cs=null,n=!0):n=!1),n||Df(e)),null;case 13:return tW(n,e,t);case 4:return Sx(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=pd(e,null,i,t):La(n,e,i,t),e.child;case 11:return XO(n,e,e.type,e.pendingProps,t);case 7:return La(n,e,e.pendingProps,t),e.child;case 8:return La(n,e,e.pendingProps.children,t),e.child;case 12:return La(n,e,e.pendingProps.children,t),e.child;case 10:return i=e.pendingProps,q2(e,e.type,i.value),La(n,e,i.children,t),e.child;case 9:return r=e.type._context,i=e.pendingProps.children,Pf(e),r=so(r),i=i(r),e.flags|=1,La(n,e,i,t),e.child;case 14:return YO(n,e,e.type,e.pendingProps,t);case 15:return Jj(n,e,e.type,e.pendingProps,t);case 19:return nW(n,e,t);case 31:return i=e.pendingProps,t=e.mode,i={mode:i.mode,children:i.children},n===null?(t=zx(i,t),t.ref=e.ref,e.child=t,t.return=e,e=t):(t=Sc(n.child,i),t.ref=e.ref,e.child=t,t.return=e,e=t),e;case 22:return eW(n,e,t);case 24:return Pf(e),i=so(Js),n===null?(r=yD(),r===null&&(r=wr,s=gD(),r.pooledCache=s,s.refCount++,s!==null&&(r.pooledCacheLanes|=t),r=s),e.memoizedState={parent:i,cache:r},vD(e),q2(e,Js,r)):(n.lanes&t&&(AR(n,e),Q9(e,null,null,t),Y9()),r=n.memoizedState,s=e.memoizedState,r.parent!==i?(r={parent:i,cache:i},e.memoizedState=r,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=r),q2(e,Js,i)):(i=s.cache,q2(e,Js,i),i!==r.cache&&fR(e,[Js],t,!0))),La(n,e,e.pendingProps.children,t),e.child;case 29:throw e.pendingProps}throw Error(pt(156,e.tag))}function ec(n){n.flags|=4}function eI(n,e){if(e.type!=="stylesheet"||e.state.loading&4)n.flags&=-16777217;else if(n.flags|=16777216,!WW(e)){if(e=P0.current,e!==null&&((Ci&4194048)===Ci?l1!==null:(Ci&62914560)!==Ci&&!(Ci&536870912)||e!==l1))throw W9=dR,lj;n.flags|=8192}}function Vg(n,e){e!==null&&(n.flags|=4),n.flags&16384&&(e=n.tag!==22?CH():536870912,n.lanes|=e,md|=e)}function O7(n,e){if(!qi)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function Yr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&65011712,i|=r.flags&65011712,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function goe(n,e,t){var i=e.pendingProps;switch(mD(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(e),null;case 1:return Yr(e),null;case 3:return t=e.stateNode,i=null,n!==null&&(i=n.memoizedState.cache),e.memoizedState.cache!==i&&(e.flags|=2048),Tc(Js),ud(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(n===null||n.child===null)&&(B7(e)?ec(e):n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,NO())),Yr(e),null;case 26:return t=e.memoizedState,n===null?(ec(e),t!==null?(Yr(e),eI(e,t)):(Yr(e),e.flags&=-16777217)):t?t!==n.memoizedState?(ec(e),Yr(e),eI(e,t)):(Yr(e),e.flags&=-16777217):(n.memoizedProps!==i&&ec(e),Yr(e),e.flags&=-16777217),null;case 27:Tx(e),t=a3.current;var r=e.type;if(n!==null&&e.stateNode!=null)n.memoizedProps!==i&&ec(e);else{if(!i){if(e.stateNode===null)throw Error(pt(166));return Yr(e),null}n=a1.current,B7(e)?RO(e):(n=qW(r,i,t),e.stateNode=n,ec(e))}return Yr(e),null;case 5:if(Tx(e),t=e.type,n!==null&&e.stateNode!=null)n.memoizedProps!==i&&ec(e);else{if(!i){if(e.stateNode===null)throw Error(pt(166));return Yr(e),null}if(n=a1.current,B7(e))RO(e);else{switch(r=Wx(a3.current),n){case 1:n=r.createElementNS("http://www.w3.org/2000/svg",t);break;case 2:n=r.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;default:switch(t){case"svg":n=r.createElementNS("http://www.w3.org/2000/svg",t);break;case"math":n=r.createElementNS("http://www.w3.org/1998/Math/MathML",t);break;case"script":n=r.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof i.is=="string"?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?n.multiple=!0:i.size&&(n.size=i.size);break;default:n=typeof i.is=="string"?r.createElement(t,{is:i.is}):r.createElement(t)}}n[ro]=e,n[ll]=i;e:for(r=e.child;r!==null;){if(r.tag===5||r.tag===6)n.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}e.stateNode=n;e:switch(Va(n,t,i),t){case"button":case"input":case"select":case"textarea":n=!!i.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ec(e)}}return Yr(e),e.flags&=-16777217,null;case 6:if(n&&e.stateNode!=null)n.memoizedProps!==i&&ec(e);else{if(typeof i!="string"&&e.stateNode===null)throw Error(pt(166));if(n=a3.current,B7(e)){if(n=e.stateNode,t=e.memoizedProps,i=null,r=Ro,r!==null)switch(r.tag){case 27:case 5:i=r.memoizedProps}n[ro]=e,n=!!(n.nodeValue===t||i!==null&&i.suppressHydrationWarning===!0||VW(n.nodeValue,t)),n||Df(e)}else n=Wx(n).createTextNode(i),n[ro]=e,e.stateNode=n}return Yr(e),null;case 13:if(i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(r=B7(e),i!==null&&i.dehydrated!==null){if(n===null){if(!r)throw Error(pt(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(pt(317));r[ro]=e}else Pp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yr(e),r=!1}else r=NO(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=r),r=!0;if(!r)return e.flags&256?(bc(e),e):(bc(e),null)}if(bc(e),e.flags&128)return e.lanes=t,e;if(t=i!==null,n=n!==null&&n.memoizedState!==null,t){i=e.child,r=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(r=i.alternate.memoizedState.cachePool.pool);var s=null;i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(s=i.memoizedState.cachePool.pool),s!==r&&(i.flags|=2048)}return t!==n&&t&&(e.child.flags|=8192),Vg(e,e.updateQueue),Yr(e),null;case 4:return ud(),n===null&&kD(e.stateNode.containerInfo),Yr(e),null;case 10:return Tc(e.type),Yr(e),null;case 19:if(ba(ta),r=e.memoizedState,r===null)return Yr(e),null;if(i=(e.flags&128)!==0,s=r.rendering,s===null)if(i)O7(r,!1);else{if(fs!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(s=Ox(n),s!==null){for(e.flags|=128,O7(r,!1),n=s.updateQueue,e.updateQueue=n,Vg(e,n),e.subtreeFlags=0,n=t,t=e.child;t!==null;)rj(t,n),t=t.sibling;return Hr(ta,ta.current&1|2),e.child}n=n.sibling}r.tail!==null&&o1()>kx&&(e.flags|=128,i=!0,O7(r,!1),e.lanes=4194304)}else{if(!i)if(n=Ox(s),n!==null){if(e.flags|=128,i=!0,n=n.updateQueue,e.updateQueue=n,Vg(e,n),O7(r,!0),r.tail===null&&r.tailMode==="hidden"&&!s.alternate&&!qi)return Yr(e),null}else 2*o1()-r.renderingStartTime>kx&&t!==536870912&&(e.flags|=128,i=!0,O7(r,!1),e.lanes=4194304);r.isBackwards?(s.sibling=e.child,e.child=s):(n=r.last,n!==null?n.sibling=s:e.child=s,r.last=s)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=o1(),e.sibling=null,n=ta.current,Hr(ta,i?n&1|2:n&1),e):(Yr(e),null);case 22:case 23:return bc(e),xD(),i=e.memoizedState!==null,n!==null?n.memoizedState!==null!==i&&(e.flags|=8192):i&&(e.flags|=8192),i?t&536870912&&!(e.flags&128)&&(Yr(e),e.subtreeFlags&6&&(e.flags|=8192)):Yr(e),t=e.updateQueue,t!==null&&Vg(e,t.retryQueue),t=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),i=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),i!==t&&(e.flags|=2048),n!==null&&ba(gf),null;case 24:return t=null,n!==null&&(t=n.memoizedState.cache),e.memoizedState.cache!==t&&(e.flags|=2048),Tc(Js),Yr(e),null;case 25:return null;case 30:return null}throw Error(pt(156,e.tag))}function yoe(n,e){switch(mD(e),e.tag){case 1:return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Tc(Js),ud(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 26:case 27:case 5:return Tx(e),null;case 13:if(bc(e),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(pt(340));Pp()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return ba(ta),null;case 4:return ud(),null;case 10:return Tc(e.type),null;case 22:case 23:return bc(e),xD(),n!==null&&ba(gf),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 24:return Tc(Js),null;case 25:return null;default:return null}}function rW(n,e){switch(mD(e),e.tag){case 3:Tc(Js),ud();break;case 26:case 27:case 5:Tx(e);break;case 4:ud();break;case 13:bc(e);break;case 19:ba(ta);break;case 10:Tc(e.type);break;case 22:case 23:bc(e),xD(),n!==null&&ba(gf);break;case 24:Tc(Js)}}function Fp(n,e){try{var t=e.updateQueue,i=t!==null?t.lastEffect:null;if(i!==null){var r=i.next;t=r;do{if((t.tag&n)===n){i=void 0;var s=t.create,a=t.inst;i=s(),a.destroy=i}t=t.next}while(t!==r)}}catch(o){xr(e,e.return,o)}}function S3(n,e,t){try{var i=e.updateQueue,r=i!==null?i.lastEffect:null;if(r!==null){var s=r.next;i=s;do{if((i.tag&n)===n){var a=i.inst,o=a.destroy;if(o!==void 0){a.destroy=void 0,r=e;var l=t,u=o;try{u()}catch(c){xr(r,l,c)}}}i=i.next}while(i!==s)}}catch(c){xr(e,e.return,c)}}function sW(n){var e=n.updateQueue;if(e!==null){var t=n.stateNode;try{fj(e,t)}catch(i){xr(n,n.return,i)}}}function aW(n,e,t){t.props=Bf(n.type,n.memoizedProps),t.state=n.memoizedState;try{t.componentWillUnmount()}catch(i){xr(n,e,i)}}function K9(n,e){try{var t=n.ref;if(t!==null){switch(n.tag){case 26:case 27:case 5:var i=n.stateNode;break;case 30:i=n.stateNode;break;default:i=n.stateNode}typeof t=="function"?n.refCleanup=t(i):t.current=i}}catch(r){xr(n,e,r)}}function i1(n,e){var t=n.ref,i=n.refCleanup;if(t!==null)if(typeof i=="function")try{i()}catch(r){xr(n,e,r)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof t=="function")try{t(null)}catch(r){xr(n,e,r)}else t.current=null}function oW(n){var e=n.type,t=n.memoizedProps,i=n.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":t.autoFocus&&i.focus();break e;case"img":t.src?i.src=t.src:t.srcSet&&(i.srcset=t.srcSet)}}catch(r){xr(n,n.return,r)}}function dM(n,e,t){try{var i=n.stateNode;zoe(i,n.type,t,e),i[ll]=e}catch(r){xr(n,n.return,r)}}function lW(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&P3(n.type)||n.tag===4}function AM(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||lW(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&P3(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function TR(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t).insertBefore(n,e):(e=t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,e.appendChild(n),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Nb));else if(i!==4&&(i===27&&P3(n.type)&&(t=n.stateNode,e=null),n=n.child,n!==null))for(TR(n,e,t),n=n.sibling;n!==null;)TR(n,e,t),n=n.sibling}function Vx(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(i===27&&P3(n.type)&&(t=n.stateNode),n=n.child,n!==null))for(Vx(n,e,t),n=n.sibling;n!==null;)Vx(n,e,t),n=n.sibling}function uW(n){var e=n.stateNode,t=n.memoizedProps;try{for(var i=n.type,r=e.attributes;r.length;)e.removeAttributeNode(r[0]);Va(e,i,t),e[ro]=n,e[ll]=t}catch(s){xr(n,n.return,s)}}var Ac=!1,Ss=!1,pM=!1,tI=typeof WeakSet=="function"?WeakSet:Set,ga=null;function voe(n,e){if(n=n.containerInfo,PR=$x,n=$H(n),fD(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,u=0,c=0,f=n,m=null;t:for(;;){for(var v;f!==t||r!==0&&f.nodeType!==3||(o=a+r),f!==s||i!==0&&f.nodeType!==3||(l=a+i),f.nodeType===3&&(a+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===n)break t;if(m===t&&++u===r&&(o=a),m===s&&++c===i&&(l=a),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(LR={focusedElem:n,selectionRange:t},$x=!1,ga=e;ga!==null;)if(e=ga,n=e.child,(e.subtreeFlags&1024)!==0&&n!==null)n.return=e,ga=n;else for(;ga!==null;){switch(e=ga,s=e.alternate,n=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(n&1024&&s!==null){n=void 0,t=e,r=s.memoizedProps,s=s.memoizedState,i=t.stateNode;try{var _=Bf(t.type,r,t.elementType===t.type);n=i.getSnapshotBeforeUpdate(_,s),i.__reactInternalSnapshotBeforeUpdate=n}catch(T){xr(t,t.return,T)}}break;case 3:if(n&1024){if(n=e.stateNode.containerInfo,t=n.nodeType,t===9)UR(n);else if(t===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":UR(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(n&1024)throw Error(pt(163))}if(n=e.sibling,n!==null){n.return=e.return,ga=n;break}ga=e.return}}function cW(n,e,t){var i=t.flags;switch(t.tag){case 0:case 11:case 15:_2(n,t),i&4&&Fp(5,t);break;case 1:if(_2(n,t),i&4)if(n=t.stateNode,e===null)try{n.componentDidMount()}catch(a){xr(t,t.return,a)}else{var r=Bf(t.type,e.memoizedProps);e=e.memoizedState;try{n.componentDidUpdate(r,e,n.__reactInternalSnapshotBeforeUpdate)}catch(a){xr(t,t.return,a)}}i&64&&sW(t),i&512&&K9(t,t.return);break;case 3:if(_2(n,t),i&64&&(n=t.updateQueue,n!==null)){if(e=null,t.child!==null)switch(t.child.tag){case 27:case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}try{fj(n,e)}catch(a){xr(t,t.return,a)}}break;case 27:e===null&&i&4&&uW(t);case 26:case 5:_2(n,t),e===null&&i&4&&oW(t),i&512&&K9(t,t.return);break;case 12:_2(n,t);break;case 13:_2(n,t),i&4&&dW(n,t),i&64&&(n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(t=Roe.bind(null,t),Woe(n,t))));break;case 22:if(i=t.memoizedState!==null||Ac,!i){e=e!==null&&e.memoizedState!==null||Ss,r=Ac;var s=Ss;Ac=i,(Ss=e)&&!s?O2(n,t,(t.subtreeFlags&8772)!==0):_2(n,t),Ac=r,Ss=s}break;case 30:break;default:_2(n,t)}}function fW(n){var e=n.alternate;e!==null&&(n.alternate=null,fW(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&sD(e)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var kr=null,jo=!1;function tc(n,e,t){for(t=t.child;t!==null;)hW(n,e,t),t=t.sibling}function hW(n,e,t){if(zl&&typeof zl.onCommitFiberUnmount=="function")try{zl.onCommitFiberUnmount(wp,t)}catch{}switch(t.tag){case 26:Ss||i1(t,e),tc(n,e,t),t.memoizedState?t.memoizedState.count--:t.stateNode&&(t=t.stateNode,t.parentNode.removeChild(t));break;case 27:Ss||i1(t,e);var i=kr,r=jo;P3(t.type)&&(kr=t.stateNode,jo=!1),tc(n,e,t),tA(t.stateNode),kr=i,jo=r;break;case 5:Ss||i1(t,e);case 6:if(i=kr,r=jo,kr=null,tc(n,e,t),kr=i,jo=r,kr!==null)if(jo)try{(kr.nodeType===9?kr.body:kr.nodeName==="HTML"?kr.ownerDocument.body:kr).removeChild(t.stateNode)}catch(s){xr(t,e,s)}else try{kr.removeChild(t.stateNode)}catch(s){xr(t,e,s)}break;case 18:kr!==null&&(jo?(n=kr,dI(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.stateNode),OA(n)):dI(kr,t.stateNode));break;case 4:i=kr,r=jo,kr=t.stateNode.containerInfo,jo=!0,tc(n,e,t),kr=i,jo=r;break;case 0:case 11:case 14:case 15:Ss||S3(2,t,e),Ss||S3(4,t,e),tc(n,e,t);break;case 1:Ss||(i1(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"&&aW(t,e,i)),tc(n,e,t);break;case 21:tc(n,e,t);break;case 22:Ss=(i=Ss)||t.memoizedState!==null,tc(n,e,t),Ss=i;break;default:tc(n,e,t)}}function dW(n,e){if(e.memoizedState===null&&(n=e.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{OA(n)}catch(t){xr(e,e.return,t)}}function xoe(n){switch(n.tag){case 13:case 19:var e=n.stateNode;return e===null&&(e=n.stateNode=new tI),e;case 22:return n=n.stateNode,e=n._retryCache,e===null&&(e=n._retryCache=new tI),e;default:throw Error(pt(435,n.tag))}}function mM(n,e){var t=xoe(n);e.forEach(function(i){var r=Coe.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}function Tl(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i],s=n,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 27:if(P3(o.type)){kr=o.stateNode,jo=!1;break e}break;case 5:kr=o.stateNode,jo=!1;break e;case 3:case 4:kr=o.stateNode.containerInfo,jo=!0;break e}o=o.return}if(kr===null)throw Error(pt(160));hW(s,a,r),kr=null,jo=!1,s=r.alternate,s!==null&&(s.return=null),r.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)AW(e,n),e=e.sibling}var fu=null;function AW(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Tl(e,n),Ml(n),i&4&&(S3(3,n,n.return),Fp(3,n),S3(5,n,n.return));break;case 1:Tl(e,n),Ml(n),i&512&&(Ss||t===null||i1(t,t.return)),i&64&&Ac&&(n=n.updateQueue,n!==null&&(i=n.callbacks,i!==null&&(t=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=t===null?i:t.concat(i))));break;case 26:var r=fu;if(Tl(e,n),Ml(n),i&512&&(Ss||t===null||i1(t,t.return)),i&4){var s=t!==null?t.memoizedState:null;if(i=n.memoizedState,t===null)if(i===null)if(n.stateNode===null){e:{i=n.type,t=n.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":s=r.getElementsByTagName("title")[0],(!s||s[Np]||s[ro]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=r.createElement(i),r.head.insertBefore(s,r.querySelector("head > title"))),Va(s,i,t),s[ro]=n,va(s),i=s;break e;case"link":var a=yI("link","href",r).get(i+(t.href||""));if(a){for(var o=0;o<a.length;o++)if(s=a[o],s.getAttribute("href")===(t.href==null||t.href===""?null:t.href)&&s.getAttribute("rel")===(t.rel==null?null:t.rel)&&s.getAttribute("title")===(t.title==null?null:t.title)&&s.getAttribute("crossorigin")===(t.crossOrigin==null?null:t.crossOrigin)){a.splice(o,1);break t}}s=r.createElement(i),Va(s,i,t),r.head.appendChild(s);break;case"meta":if(a=yI("meta","content",r).get(i+(t.content||""))){for(o=0;o<a.length;o++)if(s=a[o],s.getAttribute("content")===(t.content==null?null:""+t.content)&&s.getAttribute("name")===(t.name==null?null:t.name)&&s.getAttribute("property")===(t.property==null?null:t.property)&&s.getAttribute("http-equiv")===(t.httpEquiv==null?null:t.httpEquiv)&&s.getAttribute("charset")===(t.charSet==null?null:t.charSet)){a.splice(o,1);break t}}s=r.createElement(i),Va(s,i,t),r.head.appendChild(s);break;default:throw Error(pt(468,i))}s[ro]=n,va(s),i=s}n.stateNode=i}else vI(r,n.type,n.stateNode);else n.stateNode=gI(r,i,n.memoizedProps);else s!==i?(s===null?t.stateNode!==null&&(t=t.stateNode,t.parentNode.removeChild(t)):s.count--,i===null?vI(r,n.type,n.stateNode):gI(r,i,n.memoizedProps)):i===null&&n.stateNode!==null&&dM(n,n.memoizedProps,t.memoizedProps)}break;case 27:Tl(e,n),Ml(n),i&512&&(Ss||t===null||i1(t,t.return)),t!==null&&i&4&&dM(n,n.memoizedProps,t.memoizedProps);break;case 5:if(Tl(e,n),Ml(n),i&512&&(Ss||t===null||i1(t,t.return)),n.flags&32){r=n.stateNode;try{fd(r,"")}catch(v){xr(n,n.return,v)}}i&4&&n.stateNode!=null&&(r=n.memoizedProps,dM(n,r,t!==null?t.memoizedProps:r)),i&1024&&(pM=!0);break;case 6:if(Tl(e,n),Ml(n),i&4){if(n.stateNode===null)throw Error(pt(162));i=n.memoizedProps,t=n.stateNode;try{t.nodeValue=i}catch(v){xr(n,n.return,v)}}break;case 3:if(qv=null,r=fu,fu=Xx(e.containerInfo),Tl(e,n),fu=r,Ml(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{OA(e.containerInfo)}catch(v){xr(n,n.return,v)}pM&&(pM=!1,pW(n));break;case 4:i=fu,fu=Xx(n.stateNode.containerInfo),Tl(e,n),Ml(n),fu=i;break;case 12:Tl(e,n),Ml(n);break;case 13:Tl(e,n),Ml(n),n.child.flags&8192&&n.memoizedState!==null!=(t!==null&&t.memoizedState!==null)&&(FD=o1()),i&4&&(i=n.updateQueue,i!==null&&(n.updateQueue=null,mM(n,i)));break;case 22:r=n.memoizedState!==null;var l=t!==null&&t.memoizedState!==null,u=Ac,c=Ss;if(Ac=u||r,Ss=c||l,Tl(e,n),Ss=c,Ac=u,Ml(n),i&8192)e:for(e=n.stateNode,e._visibility=r?e._visibility&-2:e._visibility|1,r&&(t===null||l||Ac||Ss||q4(n)),t=null,e=n;;){if(e.tag===5||e.tag===26){if(t===null){l=t=e;try{if(s=l.stateNode,r)a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,m=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=m==null||typeof m=="boolean"?"":(""+m).trim()}}catch(v){xr(l,l.return,v)}}}else if(e.tag===6){if(t===null){l=e;try{l.stateNode.nodeValue=r?"":l.memoizedProps}catch(v){xr(l,l.return,v)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===n)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;t===e&&(t=null),e=e.return}t===e&&(t=null),e.sibling.return=e.return,e=e.sibling}i&4&&(i=n.updateQueue,i!==null&&(t=i.retryQueue,t!==null&&(i.retryQueue=null,mM(n,t))));break;case 19:Tl(e,n),Ml(n),i&4&&(i=n.updateQueue,i!==null&&(n.updateQueue=null,mM(n,i)));break;case 30:break;case 21:break;default:Tl(e,n),Ml(n)}}function Ml(n){var e=n.flags;if(e&2){try{for(var t,i=n.return;i!==null;){if(lW(i)){t=i;break}i=i.return}if(t==null)throw Error(pt(160));switch(t.tag){case 27:var r=t.stateNode,s=AM(n);Vx(n,s,r);break;case 5:var a=t.stateNode;t.flags&32&&(fd(a,""),t.flags&=-33);var o=AM(n);Vx(n,o,a);break;case 3:case 4:var l=t.stateNode.containerInfo,u=AM(n);TR(n,u,l);break;default:throw Error(pt(161))}}catch(c){xr(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function pW(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var e=n;pW(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),n=n.sibling}}function _2(n,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)cW(n,e.alternate,e),e=e.sibling}function q4(n){for(n=n.child;n!==null;){var e=n;switch(e.tag){case 0:case 11:case 14:case 15:S3(4,e,e.return),q4(e);break;case 1:i1(e,e.return);var t=e.stateNode;typeof t.componentWillUnmount=="function"&&aW(e,e.return,t),q4(e);break;case 27:tA(e.stateNode);case 26:case 5:i1(e,e.return),q4(e);break;case 22:e.memoizedState===null&&q4(e);break;case 30:q4(e);break;default:q4(e)}n=n.sibling}}function O2(n,e,t){for(t=t&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var i=e.alternate,r=n,s=e,a=s.flags;switch(s.tag){case 0:case 11:case 15:O2(r,s,t),Fp(4,s);break;case 1:if(O2(r,s,t),i=s,r=i.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(u){xr(i,i.return,u)}if(i=s,r=i.updateQueue,r!==null){var o=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(l!==null)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)cj(l[r],o)}catch(u){xr(i,i.return,u)}}t&&a&64&&sW(s),K9(s,s.return);break;case 27:uW(s);case 26:case 5:O2(r,s,t),t&&i===null&&a&4&&oW(s),K9(s,s.return);break;case 12:O2(r,s,t);break;case 13:O2(r,s,t),t&&a&4&&dW(r,s);break;case 22:s.memoizedState===null&&O2(r,s,t),K9(s,s.return);break;case 30:break;default:O2(r,s,t)}e=e.sibling}}function BD(n,e){var t=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),n=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),n!==t&&(n!=null&&n.refCount++,t!=null&&Bp(t))}function UD(n,e){n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&Bp(n))}function ku(n,e,t,i){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)mW(n,e,t,i),e=e.sibling}function mW(n,e,t,i){var r=e.flags;switch(e.tag){case 0:case 11:case 15:ku(n,e,t,i),r&2048&&Fp(9,e);break;case 1:ku(n,e,t,i);break;case 3:ku(n,e,t,i),r&2048&&(n=null,e.alternate!==null&&(n=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==n&&(e.refCount++,n!=null&&Bp(n)));break;case 12:if(r&2048){ku(n,e,t,i),n=e.stateNode;try{var s=e.memoizedProps,a=s.id,o=s.onPostCommit;typeof o=="function"&&o(a,e.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(l){xr(e,e.return,l)}}else ku(n,e,t,i);break;case 13:ku(n,e,t,i);break;case 23:break;case 22:s=e.stateNode,a=e.alternate,e.memoizedState!==null?s._visibility&2?ku(n,e,t,i):Z9(n,e):s._visibility&2?ku(n,e,t,i):(s._visibility|=2,A6(n,e,t,i,(e.subtreeFlags&10256)!==0)),r&2048&&BD(a,e);break;case 24:ku(n,e,t,i),r&2048&&UD(e.alternate,e);break;default:ku(n,e,t,i)}}function A6(n,e,t,i,r){for(r=r&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var s=n,a=e,o=t,l=i,u=a.flags;switch(a.tag){case 0:case 11:case 15:A6(s,a,o,l,r),Fp(8,a);break;case 23:break;case 22:var c=a.stateNode;a.memoizedState!==null?c._visibility&2?A6(s,a,o,l,r):Z9(s,a):(c._visibility|=2,A6(s,a,o,l,r)),r&&u&2048&&BD(a.alternate,a);break;case 24:A6(s,a,o,l,r),r&&u&2048&&UD(a.alternate,a);break;default:A6(s,a,o,l,r)}e=e.sibling}}function Z9(n,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var t=n,i=e,r=i.flags;switch(i.tag){case 22:Z9(t,i),r&2048&&BD(i.alternate,i);break;case 24:Z9(t,i),r&2048&&UD(i.alternate,i);break;default:Z9(t,i)}e=e.sibling}}var E9=8192;function M5(n){if(n.subtreeFlags&E9)for(n=n.child;n!==null;)gW(n),n=n.sibling}function gW(n){switch(n.tag){case 26:M5(n),n.flags&E9&&n.memoizedState!==null&&sle(fu,n.memoizedState,n.memoizedProps);break;case 5:M5(n);break;case 3:case 4:var e=fu;fu=Xx(n.stateNode.containerInfo),M5(n),fu=e;break;case 22:n.memoizedState===null&&(e=n.alternate,e!==null&&e.memoizedState!==null?(e=E9,E9=16777216,M5(n),E9=e):M5(n));break;default:M5(n)}}function yW(n){var e=n.alternate;if(e!==null&&(n=e.child,n!==null)){e.child=null;do e=n.sibling,n.sibling=null,n=e;while(n!==null)}}function I7(n){var e=n.deletions;if(n.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var i=e[t];ga=i,xW(i,n)}yW(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)vW(n),n=n.sibling}function vW(n){switch(n.tag){case 0:case 11:case 15:I7(n),n.flags&2048&&S3(9,n,n.return);break;case 3:I7(n);break;case 12:I7(n);break;case 22:var e=n.stateNode;n.memoizedState!==null&&e._visibility&2&&(n.return===null||n.return.tag!==13)?(e._visibility&=-3,kv(n)):I7(n);break;default:I7(n)}}function kv(n){var e=n.deletions;if(n.flags&16){if(e!==null)for(var t=0;t<e.length;t++){var i=e[t];ga=i,xW(i,n)}yW(n)}for(n=n.child;n!==null;){switch(e=n,e.tag){case 0:case 11:case 15:S3(8,e,e.return),kv(e);break;case 22:t=e.stateNode,t._visibility&2&&(t._visibility&=-3,kv(e));break;default:kv(e)}n=n.sibling}}function xW(n,e){for(;ga!==null;){var t=ga;switch(t.tag){case 0:case 11:case 15:S3(8,t,e);break;case 23:case 22:if(t.memoizedState!==null&&t.memoizedState.cachePool!==null){var i=t.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:Bp(t.memoizedState.cache)}if(i=t.child,i!==null)i.return=t,ga=i;else e:for(t=n;ga!==null;){i=ga;var r=i.sibling,s=i.return;if(fW(i),i===t){ga=null;break e}if(r!==null){r.return=s,ga=r;break e}ga=s}}}var _oe={getCacheForType:function(n){var e=so(Js),t=e.data.get(n);return t===void 0&&(t=n(),e.data.set(n,t)),t}},boe=typeof WeakMap=="function"?WeakMap:Map,nr=0,wr=null,Si=null,Ci=0,er=0,Pl=null,e3=!1,c8=!1,OD=!1,Ic=0,fs=0,T3=0,yf=0,ID=0,E0=0,md=0,J9=null,Wo=null,MR=!1,FD=0,kx=1/0,Gx=null,u3=null,Ua=0,c3=null,gd=null,J6=0,ER=0,wR=null,_W=null,eA=0,RR=null;function kl(){if(nr&2&&Ci!==0)return Ci&-Ci;if(Fn.T!==null){var n=hd;return n!==0?n:VD()}return PH()}function bW(){E0===0&&(E0=!(Ci&536870912)||qi?RH():536870912);var n=P0.current;return n!==null&&(n.flags|=32),E0}function Gl(n,e,t){(n===wr&&(er===2||er===9)||n.cancelPendingCommit!==null)&&(yd(n,0),t3(n,Ci,E0,!1)),Cp(n,t),(!(nr&2)||n!==wr)&&(n===wr&&(!(nr&2)&&(yf|=t),fs===4&&t3(n,Ci,E0,!1)),N1(n))}function SW(n,e,t){if(nr&6)throw Error(pt(327));var i=!t&&(e&124)===0&&(e&n.expiredLanes)===0||Rp(n,e),r=i?Moe(n,e):gM(n,e,!0),s=i;do{if(r===0){c8&&!i&&t3(n,e,0,!1);break}else{if(t=n.current.alternate,s&&!Soe(t)){r=gM(n,e,!1),s=!1;continue}if(r===2){if(s=e,n.errorRecoveryDisabledLanes&s)var a=0;else a=n.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var o=n;r=J9;var l=o.current.memoizedState.isDehydrated;if(l&&(yd(o,a).flags|=256),a=gM(o,a,!1),a!==2){if(OD&&!l){o.errorRecoveryDisabledLanes|=s,yf|=s,r=4;break e}s=Wo,Wo=r,s!==null&&(Wo===null?Wo=s:Wo.push.apply(Wo,s))}r=a}if(s=!1,r!==2)continue}}if(r===1){yd(n,0),t3(n,e,0,!0);break}e:{switch(i=n,s=r,s){case 0:case 1:throw Error(pt(345));case 4:if((e&4194048)!==e)break;case 6:t3(i,e,E0,!e3);break e;case 2:Wo=null;break;case 3:case 5:break;default:throw Error(pt(329))}if((e&62914560)===e&&(r=FD+300-o1(),10<r)){if(t3(i,e,E0,!e3),gb(i,0,!0)!==0)break e;i.timeoutHandle=GW(nI.bind(null,i,t,Wo,Gx,MR,e,E0,yf,md,e3,s,2,-0,0),r);break e}nI(i,t,Wo,Gx,MR,e,E0,yf,md,e3,s,0,-0,0)}}break}while(!0);N1(n)}function nI(n,e,t,i,r,s,a,o,l,u,c,f,m,v){if(n.timeoutHandle=-1,f=e.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(PA={stylesheets:null,count:0,unsuspend:rle},gW(e),f=ale(),f!==null)){n.cancelPendingCommit=f(rI.bind(null,n,e,s,t,i,r,a,o,l,c,1,m,v)),t3(n,s,a,!u);return}rI(n,e,s,t,i,r,a,o,l)}function Soe(n){for(var e=n;;){var t=e.tag;if((t===0||t===11||t===15)&&e.flags&16384&&(t=e.updateQueue,t!==null&&(t=t.stores,t!==null)))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!Wl(s(),r))return!1}catch{return!1}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function t3(n,e,t,i){e&=~ID,e&=~yf,n.suspendedLanes|=e,n.pingedLanes&=~e,i&&(n.warmLanes|=e),i=n.expirationTimes;for(var r=e;0<r;){var s=31-Vl(r),a=1<<s;i[s]=-1,r&=~a}t!==0&&NH(n,t,e)}function wb(){return nr&6?!0:(zp(0),!1)}function zD(){if(Si!==null){if(er===0)var n=Si.return;else n=Si,_c=hh=null,MD(n),Z6=null,CA=0,n=Si;for(;n!==null;)rW(n.alternate,n),n=n.return;Si=null}}function yd(n,e){var t=n.timeoutHandle;t!==-1&&(n.timeoutHandle=-1,koe(t)),t=n.cancelPendingCommit,t!==null&&(n.cancelPendingCommit=null,t()),zD(),wr=n,Si=t=Sc(n.current,null),Ci=e,er=0,Pl=null,e3=!1,c8=Rp(n,e),OD=!1,md=E0=ID=yf=T3=fs=0,Wo=J9=null,MR=!1,e&8&&(e|=e&32);var i=n.entangledLanes;if(i!==0)for(n=n.entanglements,i&=e;0<i;){var r=31-Vl(i),s=1<<r;e|=n[r],i&=~s}return Ic=e,_b(),t}function TW(n,e){hi=null,Fn.H=Ux,e===Up||e===Sb?(e=BO(),er=3):e===lj?(e=BO(),er=4):er=e===Zj?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Pl=e,Si===null&&(fs=1,Fx(n,S0(e,n.current)))}function MW(){var n=Fn.H;return Fn.H=Ux,n===null?Ux:n}function EW(){var n=Fn.A;return Fn.A=_oe,n}function CR(){fs=4,e3||(Ci&4194048)!==Ci&&P0.current!==null||(c8=!0),!(T3&134217727)&&!(yf&134217727)||wr===null||t3(wr,Ci,E0,!1)}function gM(n,e,t){var i=nr;nr|=2;var r=MW(),s=EW();(wr!==n||Ci!==e)&&(Gx=null,yd(n,e)),e=!1;var a=fs;e:do try{if(er!==0&&Si!==null){var o=Si,l=Pl;switch(er){case 8:zD(),a=6;break e;case 3:case 2:case 9:case 6:P0.current===null&&(e=!0);var u=er;if(er=0,Pl=null,N6(n,o,l,u),t&&c8){a=0;break e}break;default:u=er,er=0,Pl=null,N6(n,o,l,u)}}Toe(),a=fs;break}catch(c){TW(n,c)}while(!0);return e&&n.shellSuspendCounter++,_c=hh=null,nr=i,Fn.H=r,Fn.A=s,Si===null&&(wr=null,Ci=0,_b()),a}function Toe(){for(;Si!==null;)wW(Si)}function Moe(n,e){var t=nr;nr|=2;var i=MW(),r=EW();wr!==n||Ci!==e?(Gx=null,kx=o1()+500,yd(n,e)):c8=Rp(n,e);e:do try{if(er!==0&&Si!==null){e=Si;var s=Pl;t:switch(er){case 1:er=0,Pl=null,N6(n,e,s,1);break;case 2:case 9:if(LO(s)){er=0,Pl=null,iI(e);break}e=function(){er!==2&&er!==9||wr!==n||(er=7),N1(n)},s.then(e,e);break e;case 3:er=7;break e;case 4:er=5;break e;case 7:LO(s)?(er=0,Pl=null,iI(e)):(er=0,Pl=null,N6(n,e,s,7));break;case 5:var a=null;switch(Si.tag){case 26:a=Si.memoizedState;case 5:case 27:var o=Si;if(!a||WW(a)){er=0,Pl=null;var l=o.sibling;if(l!==null)Si=l;else{var u=o.return;u!==null?(Si=u,Rb(u)):Si=null}break t}}er=0,Pl=null,N6(n,e,s,5);break;case 6:er=0,Pl=null,N6(n,e,s,6);break;case 8:zD(),fs=6;break e;default:throw Error(pt(462))}}Eoe();break}catch(c){TW(n,c)}while(!0);return _c=hh=null,Fn.H=i,Fn.A=r,nr=t,Si!==null?0:(wr=null,Ci=0,_b(),fs)}function Eoe(){for(;Si!==null&&!Yse();)wW(Si)}function wW(n){var e=iW(n.alternate,n,Ic);n.memoizedProps=n.pendingProps,e===null?Rb(n):Si=e}function iI(n){var e=n,t=e.alternate;switch(e.tag){case 15:case 0:e=$O(t,e,e.pendingProps,e.type,void 0,Ci);break;case 11:e=$O(t,e,e.pendingProps,e.type.render,e.ref,Ci);break;case 5:MD(e);default:rW(t,e),e=Si=rj(e,Ic),e=iW(t,e,Ic)}n.memoizedProps=n.pendingProps,e===null?Rb(n):Si=e}function N6(n,e,t,i){_c=hh=null,MD(e),Z6=null,CA=0;var r=e.return;try{if(poe(n,r,e,t,Ci)){fs=1,Fx(n,S0(t,n.current)),Si=null;return}}catch(s){if(r!==null)throw Si=r,s;fs=1,Fx(n,S0(t,n.current)),Si=null;return}e.flags&32768?(qi||i===1?n=!0:c8||Ci&536870912?n=!1:(e3=n=!0,(i===2||i===9||i===3||i===6)&&(i=P0.current,i!==null&&i.tag===13&&(i.flags|=16384))),RW(e,n)):Rb(e)}function Rb(n){var e=n;do{if(e.flags&32768){RW(e,e3);return}n=e.return;var t=goe(e.alternate,e,Ic);if(t!==null){Si=t;return}if(e=e.sibling,e!==null){Si=e;return}Si=e=n}while(e!==null);fs===0&&(fs=5)}function RW(n,e){do{var t=yoe(n.alternate,n);if(t!==null){t.flags&=32767,Si=t;return}if(t=n.return,t!==null&&(t.flags|=32768,t.subtreeFlags=0,t.deletions=null),!e&&(n=n.sibling,n!==null)){Si=n;return}Si=n=t}while(n!==null);fs=6,Si=null}function rI(n,e,t,i,r,s,a,o,l){n.cancelPendingCommit=null;do Cb();while(Ua!==0);if(nr&6)throw Error(pt(327));if(e!==null){if(e===n.current)throw Error(pt(177));if(s=e.lanes|e.childLanes,s|=hD,rae(n,t,s,a,o,l),n===wr&&(Si=wr=null,Ci=0),gd=e,c3=n,J6=t,ER=s,wR=r,_W=i,e.subtreeFlags&10256||e.flags&10256?(n.callbackNode=null,n.callbackPriority=0,Noe(Mx,function(){return LW(),null})):(n.callbackNode=null,n.callbackPriority=0),i=(e.flags&13878)!==0,e.subtreeFlags&13878||i){i=Fn.T,Fn.T=null,r=Hi.p,Hi.p=2,a=nr,nr|=4;try{voe(n,e,t)}finally{nr=a,Hi.p=r,Fn.T=i}}Ua=1,CW(),NW(),DW()}}function CW(){if(Ua===1){Ua=0;var n=c3,e=gd,t=(e.flags&13878)!==0;if(e.subtreeFlags&13878||t){t=Fn.T,Fn.T=null;var i=Hi.p;Hi.p=2;var r=nr;nr|=4;try{AW(e,n);var s=LR,a=$H(n.containerInfo),o=s.focusedElem,l=s.selectionRange;if(a!==o&&o&&o.ownerDocument&&QH(o.ownerDocument.documentElement,o)){if(l!==null&&fD(o)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(c,o.value.length);else{var f=o.ownerDocument||document,m=f&&f.defaultView||window;if(m.getSelection){var v=m.getSelection(),_=o.textContent.length,T=Math.min(l.start,_),M=l.end===void 0?T:Math.min(l.end,_);!v.extend&&T>M&&(a=M,M=T,T=a);var S=MO(o,T),R=MO(o,M);if(S&&R&&(v.rangeCount!==1||v.anchorNode!==S.node||v.anchorOffset!==S.offset||v.focusNode!==R.node||v.focusOffset!==R.offset)){var C=f.createRange();C.setStart(S.node,S.offset),v.removeAllRanges(),T>M?(v.addRange(C),v.extend(R.node,R.offset)):(C.setEnd(R.node,R.offset),v.addRange(C))}}}}for(f=[],v=o;v=v.parentNode;)v.nodeType===1&&f.push({element:v,left:v.scrollLeft,top:v.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var P=f[o];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}$x=!!PR,LR=PR=null}finally{nr=r,Hi.p=i,Fn.T=t}}n.current=e,Ua=2}}function NW(){if(Ua===2){Ua=0;var n=c3,e=gd,t=(e.flags&8772)!==0;if(e.subtreeFlags&8772||t){t=Fn.T,Fn.T=null;var i=Hi.p;Hi.p=2;var r=nr;nr|=4;try{cW(n,e.alternate,e)}finally{nr=r,Hi.p=i,Fn.T=t}}Ua=3}}function DW(){if(Ua===4||Ua===3){Ua=0,Qse();var n=c3,e=gd,t=J6,i=_W;e.subtreeFlags&10256||e.flags&10256?Ua=5:(Ua=0,gd=c3=null,PW(n,n.pendingLanes));var r=n.pendingLanes;if(r===0&&(u3=null),rD(t),e=e.stateNode,zl&&typeof zl.onCommitFiberRoot=="function")try{zl.onCommitFiberRoot(wp,e,void 0,(e.current.flags&128)===128)}catch{}if(i!==null){e=Fn.T,r=Hi.p,Hi.p=2,Fn.T=null;try{for(var s=n.onRecoverableError,a=0;a<i.length;a++){var o=i[a];s(o.value,{componentStack:o.stack})}}finally{Fn.T=e,Hi.p=r}}J6&3&&Cb(),N1(n),r=n.pendingLanes,t&4194090&&r&42?n===RR?eA++:(eA=0,RR=n):eA=0,zp(0)}}function PW(n,e){(n.pooledCacheLanes&=e)===0&&(e=n.pooledCache,e!=null&&(n.pooledCache=null,Bp(e)))}function Cb(n){return CW(),NW(),DW(),LW()}function LW(){if(Ua!==5)return!1;var n=c3,e=ER;ER=0;var t=rD(J6),i=Fn.T,r=Hi.p;try{Hi.p=32>t?32:t,Fn.T=null,t=wR,wR=null;var s=c3,a=J6;if(Ua=0,gd=c3=null,J6=0,nr&6)throw Error(pt(331));var o=nr;if(nr|=4,vW(s.current),mW(s,s.current,a,t),nr=o,zp(0,!1),zl&&typeof zl.onPostCommitFiberRoot=="function")try{zl.onPostCommitFiberRoot(wp,s)}catch{}return!0}finally{Hi.p=r,Fn.T=i,PW(n,e)}}function sI(n,e,t){e=S0(t,e),e=_R(n.stateNode,e,2),n=l3(n,e,2),n!==null&&(Cp(n,2),N1(n))}function xr(n,e,t){if(n.tag===3)sI(n,n,t);else for(;e!==null;){if(e.tag===3){sI(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(u3===null||!u3.has(i))){n=S0(t,n),t=$j(2),i=l3(e,t,2),i!==null&&(Kj(t,i,e,n),Cp(i,2),N1(i));break}}e=e.return}}function yM(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new boe;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(OD=!0,r.add(t),n=woe.bind(null,n,e,t),e.then(n,n))}function woe(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),n.pingedLanes|=n.suspendedLanes&t,n.warmLanes&=~t,wr===n&&(Ci&t)===t&&(fs===4||fs===3&&(Ci&62914560)===Ci&&300>o1()-FD?!(nr&2)&&yd(n,0):ID|=t,md===Ci&&(md=0)),N1(n)}function BW(n,e){e===0&&(e=CH()),n=u8(n,e),n!==null&&(Cp(n,e),N1(n))}function Roe(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),BW(n,t)}function Coe(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;case 22:i=n.stateNode._retryCache;break;default:throw Error(pt(314))}i!==null&&i.delete(e),BW(n,t)}function Noe(n,e){return nD(n,e)}var qx=null,p6=null,NR=!1,Hx=!1,vM=!1,vf=0;function N1(n){n!==p6&&n.next===null&&(p6===null?qx=p6=n:p6=p6.next=n),Hx=!0,NR||(NR=!0,Poe())}function zp(n,e){if(!vM&&Hx){vM=!0;do for(var t=!1,i=qx;i!==null;){if(n!==0){var r=i.pendingLanes;if(r===0)var s=0;else{var a=i.suspendedLanes,o=i.pingedLanes;s=(1<<31-Vl(42|n)+1)-1,s&=r&~(a&~o),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(t=!0,aI(i,s))}else s=Ci,s=gb(i,i===wr?s:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(s&3)||Rp(i,s)||(t=!0,aI(i,s));i=i.next}while(t);vM=!1}}function Doe(){UW()}function UW(){Hx=NR=!1;var n=0;vf!==0&&(Voe()&&(n=vf),vf=0);for(var e=o1(),t=null,i=qx;i!==null;){var r=i.next,s=OW(i,e);s===0?(i.next=null,t===null?qx=r:t.next=r,r===null&&(p6=t)):(t=i,(n!==0||s&3)&&(Hx=!0)),i=r}zp(n)}function OW(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes&-62914561;0<s;){var a=31-Vl(s),o=1<<a,l=r[a];l===-1?(!(o&t)||o&i)&&(r[a]=iae(o,e)):l<=e&&(n.expiredLanes|=o),s&=~o}if(e=wr,t=Ci,t=gb(n,n===e?t:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),i=n.callbackNode,t===0||n===e&&(er===2||er===9)||n.cancelPendingCommit!==null)return i!==null&&i!==null&&jT(i),n.callbackNode=null,n.callbackPriority=0;if(!(t&3)||Rp(n,t)){if(e=t&-t,e===n.callbackPriority)return e;switch(i!==null&&jT(i),rD(t)){case 2:case 8:t=EH;break;case 32:t=Mx;break;case 268435456:t=wH;break;default:t=Mx}return i=IW.bind(null,n),t=nD(t,i),n.callbackPriority=e,n.callbackNode=t,e}return i!==null&&i!==null&&jT(i),n.callbackPriority=2,n.callbackNode=null,2}function IW(n,e){if(Ua!==0&&Ua!==5)return n.callbackNode=null,n.callbackPriority=0,null;var t=n.callbackNode;if(Cb()&&n.callbackNode!==t)return null;var i=Ci;return i=gb(n,n===wr?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),i===0?null:(SW(n,i,e),OW(n,o1()),n.callbackNode!=null&&n.callbackNode===t?IW.bind(null,n):null)}function aI(n,e){if(Cb())return null;SW(n,e,!0)}function Poe(){Goe(function(){nr&6?nD(MH,Doe):UW()})}function VD(){return vf===0&&(vf=RH()),vf}function oI(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Lv(""+n)}function lI(n,e){var t=e.ownerDocument.createElement("input");return t.name=e.name,t.value=e.value,n.id&&t.setAttribute("form",n.id),e.parentNode.insertBefore(t,e),n=new FormData(n),t.parentNode.removeChild(t),n}function Loe(n,e,t,i,r){if(e==="submit"&&t&&t.stateNode===r){var s=oI((r[ll]||null).action),a=i.submitter;a&&(e=(e=a[ll]||null)?oI(e.formAction):a.getAttribute("formAction"),e!==null&&(s=e,a=null));var o=new yb("action","action",null,i,r);n.push({event:o,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(vf!==0){var l=a?lI(r,a):new FormData(r);vR(t,{pending:!0,data:l,method:r.method,action:s},null,l)}}else typeof s=="function"&&(o.preventDefault(),l=a?lI(r,a):new FormData(r),vR(t,{pending:!0,data:l,method:r.method,action:s},s,l))},currentTarget:r}]})}}for(var xM=0;xM<oR.length;xM++){var _M=oR[xM],Boe=_M.toLowerCase(),Uoe=_M[0].toUpperCase()+_M.slice(1);Mu(Boe,"on"+Uoe)}Mu(ZH,"onAnimationEnd");Mu(JH,"onAnimationIteration");Mu(ej,"onAnimationStart");Mu("dblclick","onDoubleClick");Mu("focusin","onFocus");Mu("focusout","onBlur");Mu(Zae,"onTransitionRun");Mu(Jae,"onTransitionStart");Mu(eoe,"onTransitionCancel");Mu(tj,"onTransitionEnd");cd("onMouseEnter",["mouseout","mouseover"]);cd("onMouseLeave",["mouseout","mouseover"]);cd("onPointerEnter",["pointerout","pointerover"]);cd("onPointerLeave",["pointerout","pointerover"]);uh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uh("onBeforeInput",["compositionend","keypress","textInput","paste"]);uh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var NA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ooe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(NA));function FW(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;s=o,r.currentTarget=u;try{s(r)}catch(c){Ix(c)}r.currentTarget=null,s=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;s=o,r.currentTarget=u;try{s(r)}catch(c){Ix(c)}r.currentTarget=null,s=l}}}}function bi(n,e){var t=e[eR];t===void 0&&(t=e[eR]=new Set);var i=n+"__bubble";t.has(i)||(zW(e,n,2,!1),t.add(i))}function bM(n,e,t){var i=0;e&&(i|=4),zW(t,n,i,e)}var kg="_reactListening"+Math.random().toString(36).slice(2);function kD(n){if(!n[kg]){n[kg]=!0,LH.forEach(function(t){t!=="selectionchange"&&(Ooe.has(t)||bM(t,!1,n),bM(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[kg]||(e[kg]=!0,bM("selectionchange",!1,e))}}function zW(n,e,t,i){switch(KW(e)){case 2:var r=ule;break;case 8:r=cle;break;default:r=jD}t=r.bind(null,e,t,n),r=void 0,!rR||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function SM(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===r)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&a.stateNode.containerInfo===r)return;a=a.return}for(;o!==null;){if(a=_6(o),a===null)return;if(l=a.tag,l===5||l===6||l===26||l===27){i=s=a;continue e}o=o.parentNode}}i=i.return}kH(function(){var u=s,c=oD(t),f=[];e:{var m=nj.get(n);if(m!==void 0){var v=yb,_=n;switch(n){case"keypress":if(Uv(t)===0)break e;case"keydown":case"keyup":v=Nae;break;case"focusin":_="focus",v=JT;break;case"focusout":_="blur",v=JT;break;case"beforeblur":case"afterblur":v=JT;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=pO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=yae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Lae;break;case ZH:case JH:case ej:v=_ae;break;case tj:v=Uae;break;case"scroll":case"scrollend":v=mae;break;case"wheel":v=Iae;break;case"copy":case"cut":case"paste":v=Sae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=gO;break;case"toggle":case"beforetoggle":v=zae}var T=(e&4)!==0,M=!T&&(n==="scroll"||n==="scrollend"),S=T?m!==null?m+"Capture":null:m;T=[];for(var R=u,C;R!==null;){var P=R;if(C=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||C===null||S===null||(P=TA(R,S),P!=null&&T.push(DA(R,P,C))),M)break;R=R.return}0<T.length&&(m=new v(m,_,null,t,c),f.push({event:m,listeners:T}))}}if(!(e&7)){e:{if(m=n==="mouseover"||n==="pointerover",v=n==="mouseout"||n==="pointerout",m&&t!==iR&&(_=t.relatedTarget||t.fromElement)&&(_6(_)||_[o8]))break e;if((v||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,v?(_=t.relatedTarget||t.toElement,v=u,_=_?_6(_):null,_!==null&&(M=Ep(_),T=_.tag,_!==M||T!==5&&T!==27&&T!==6)&&(_=null)):(v=null,_=u),v!==_)){if(T=pO,P="onMouseLeave",S="onMouseEnter",R="mouse",(n==="pointerout"||n==="pointerover")&&(T=gO,P="onPointerLeave",S="onPointerEnter",R="pointer"),M=v==null?m:M9(v),C=_==null?m:M9(_),m=new T(P,R+"leave",v,t,c),m.target=M,m.relatedTarget=C,P=null,_6(c)===u&&(T=new T(S,R+"enter",_,t,c),T.target=C,T.relatedTarget=M,P=T),M=P,v&&_)t:{for(T=v,S=_,R=0,C=T;C;C=E5(C))R++;for(C=0,P=S;P;P=E5(P))C++;for(;0<R-C;)T=E5(T),R--;for(;0<C-R;)S=E5(S),C--;for(;R--;){if(T===S||S!==null&&T===S.alternate)break t;T=E5(T),S=E5(S)}T=null}else T=null;v!==null&&uI(f,m,v,T,!1),_!==null&&M!==null&&uI(f,M,_,T,!0)}}e:{if(m=u?M9(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var B=_O;else if(xO(m))if(XH)B=Qae;else{B=Xae;var O=Wae}else v=m.nodeName,!v||v.toLowerCase()!=="input"||m.type!=="checkbox"&&m.type!=="radio"?u&&aD(u.elementType)&&(B=_O):B=Yae;if(B&&(B=B(n,u))){WH(f,B,t,c);break e}O&&O(n,m,u),n==="focusout"&&u&&m.type==="number"&&u.memoizedProps.value!=null&&nR(m,"number",m.value)}switch(O=u?M9(u):window,n){case"focusin":(xO(O)||O.contentEditable==="true")&&(T6=O,sR=u,H9=null);break;case"focusout":H9=sR=T6=null;break;case"mousedown":aR=!0;break;case"contextmenu":case"mouseup":case"dragend":aR=!1,EO(f,t,c);break;case"selectionchange":if(Kae)break;case"keydown":case"keyup":EO(f,t,c)}var V;if(cD)e:{switch(n){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else S6?HH(n,t)&&(F="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(F="onCompositionStart");F&&(qH&&t.locale!=="ko"&&(S6||F!=="onCompositionStart"?F==="onCompositionEnd"&&S6&&(V=GH()):(J2=c,lD="value"in J2?J2.value:J2.textContent,S6=!0)),O=jx(u,F),0<O.length&&(F=new mO(F,n,null,t,c),f.push({event:F,listeners:O}),V?F.data=V:(V=jH(t),V!==null&&(F.data=V)))),(V=kae?Gae(n,t):qae(n,t))&&(F=jx(u,"onBeforeInput"),0<F.length&&(O=new mO("onBeforeInput","beforeinput",null,t,c),f.push({event:O,listeners:F}),O.data=V)),Loe(f,n,u,t,c)}FW(f,e)})}function DA(n,e,t){return{instance:n,listener:e,currentTarget:t}}function jx(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||s===null||(r=TA(n,t),r!=null&&i.unshift(DA(n,r,s)),r=TA(n,e),r!=null&&i.push(DA(n,r,s))),n.tag===3)return i;n=n.return}return[]}function E5(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function uI(n,e,t,i,r){for(var s=e._reactName,a=[];t!==null&&t!==i;){var o=t,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===i)break;o!==5&&o!==26&&o!==27||u===null||(l=u,r?(u=TA(t,s),u!=null&&a.unshift(DA(t,u,l))):r||(u=TA(t,s),u!=null&&a.push(DA(t,u,l)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var Ioe=/\r\n?/g,Foe=/\u0000|\uFFFD/g;function cI(n){return(typeof n=="string"?n:""+n).replace(Ioe,`
`).replace(Foe,"")}function VW(n,e){return e=cI(e),cI(n)===e}function Nb(){}function lr(n,e,t,i,r,s){switch(t){case"children":typeof i=="string"?e==="body"||e==="textarea"&&i===""||fd(n,i):(typeof i=="number"||typeof i=="bigint")&&e!=="body"&&fd(n,""+i);break;case"className":Bg(n,"class",i);break;case"tabIndex":Bg(n,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Bg(n,t,i);break;case"style":VH(n,i,s);break;case"data":if(e!=="object"){Bg(n,"data",i);break}case"src":case"href":if(i===""&&(e!=="a"||t!=="href")){n.removeAttribute(t);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){n.removeAttribute(t);break}i=Lv(""+i),n.setAttribute(t,i);break;case"action":case"formAction":if(typeof i=="function"){n.setAttribute(t,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(t==="formAction"?(e!=="input"&&lr(n,e,"name",r.name,r,null),lr(n,e,"formEncType",r.formEncType,r,null),lr(n,e,"formMethod",r.formMethod,r,null),lr(n,e,"formTarget",r.formTarget,r,null)):(lr(n,e,"encType",r.encType,r,null),lr(n,e,"method",r.method,r,null),lr(n,e,"target",r.target,r,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){n.removeAttribute(t);break}i=Lv(""+i),n.setAttribute(t,i);break;case"onClick":i!=null&&(n.onclick=Nb);break;case"onScroll":i!=null&&bi("scroll",n);break;case"onScrollEnd":i!=null&&bi("scrollend",n);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(pt(61));if(t=i.__html,t!=null){if(r.children!=null)throw Error(pt(60));n.innerHTML=t}}break;case"multiple":n.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":n.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){n.removeAttribute("xlink:href");break}t=Lv(""+i),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",t);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(t,""+i):n.removeAttribute(t);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(t,""):n.removeAttribute(t);break;case"capture":case"download":i===!0?n.setAttribute(t,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?n.setAttribute(t,i):n.removeAttribute(t);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?n.setAttribute(t,i):n.removeAttribute(t);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?n.removeAttribute(t):n.setAttribute(t,i);break;case"popover":bi("beforetoggle",n),bi("toggle",n),Pv(n,"popover",i);break;case"xlinkActuate":J1(n,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":J1(n,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":J1(n,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":J1(n,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":J1(n,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":J1(n,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":J1(n,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":J1(n,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":J1(n,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Pv(n,"is",i);break;case"innerText":case"textContent":break;default:(!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(t=Aae.get(t)||t,Pv(n,t,i))}}function DR(n,e,t,i,r,s){switch(t){case"style":VH(n,i,s);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(pt(61));if(t=i.__html,t!=null){if(r.children!=null)throw Error(pt(60));n.innerHTML=t}}break;case"children":typeof i=="string"?fd(n,i):(typeof i=="number"||typeof i=="bigint")&&fd(n,""+i);break;case"onScroll":i!=null&&bi("scroll",n);break;case"onScrollEnd":i!=null&&bi("scrollend",n);break;case"onClick":i!=null&&(n.onclick=Nb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!BH.hasOwnProperty(t))e:{if(t[0]==="o"&&t[1]==="n"&&(r=t.endsWith("Capture"),e=t.slice(2,r?t.length-7:void 0),s=n[ll]||null,s=s!=null?s[t]:null,typeof s=="function"&&n.removeEventListener(e,s,r),typeof i=="function")){typeof s!="function"&&s!==null&&(t in n?n[t]=null:n.hasAttribute(t)&&n.removeAttribute(t)),n.addEventListener(e,i,r);break e}t in n?n[t]=i:i===!0?n.setAttribute(t,""):Pv(n,t,i)}}}function Va(n,e,t){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bi("error",n),bi("load",n);var i=!1,r=!1,s;for(s in t)if(t.hasOwnProperty(s)){var a=t[s];if(a!=null)switch(s){case"src":i=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(pt(137,e));default:lr(n,e,s,a,t,null)}}r&&lr(n,e,"srcSet",t.srcSet,t,null),i&&lr(n,e,"src",t.src,t,null);return;case"input":bi("invalid",n);var o=s=a=r=null,l=null,u=null;for(i in t)if(t.hasOwnProperty(i)){var c=t[i];if(c!=null)switch(i){case"name":r=c;break;case"type":a=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":s=c;break;case"defaultValue":o=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error(pt(137,e));break;default:lr(n,e,i,c,t,null)}}IH(n,s,o,l,u,a,r,!1),Ex(n);return;case"select":bi("invalid",n),i=a=s=null;for(r in t)if(t.hasOwnProperty(r)&&(o=t[r],o!=null))switch(r){case"value":s=o;break;case"defaultValue":a=o;break;case"multiple":i=o;default:lr(n,e,r,o,t,null)}e=s,t=a,n.multiple=!!i,e!=null?X6(n,!!i,e,!1):t!=null&&X6(n,!!i,t,!0);return;case"textarea":bi("invalid",n),s=r=i=null;for(a in t)if(t.hasOwnProperty(a)&&(o=t[a],o!=null))switch(a){case"value":i=o;break;case"defaultValue":r=o;break;case"children":s=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(pt(91));break;default:lr(n,e,a,o,t,null)}zH(n,i,r,s),Ex(n);return;case"option":for(l in t)if(t.hasOwnProperty(l)&&(i=t[l],i!=null))switch(l){case"selected":n.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:lr(n,e,l,i,t,null)}return;case"dialog":bi("beforetoggle",n),bi("toggle",n),bi("cancel",n),bi("close",n);break;case"iframe":case"object":bi("load",n);break;case"video":case"audio":for(i=0;i<NA.length;i++)bi(NA[i],n);break;case"image":bi("error",n),bi("load",n);break;case"details":bi("toggle",n);break;case"embed":case"source":case"link":bi("error",n),bi("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in t)if(t.hasOwnProperty(u)&&(i=t[u],i!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(pt(137,e));default:lr(n,e,u,i,t,null)}return;default:if(aD(e)){for(c in t)t.hasOwnProperty(c)&&(i=t[c],i!==void 0&&DR(n,e,c,i,t,void 0));return}}for(o in t)t.hasOwnProperty(o)&&(i=t[o],i!=null&&lr(n,e,o,i,t,null))}function zoe(n,e,t,i){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,s=null,a=null,o=null,l=null,u=null,c=null;for(v in t){var f=t[v];if(t.hasOwnProperty(v)&&f!=null)switch(v){case"checked":break;case"value":break;case"defaultValue":l=f;default:i.hasOwnProperty(v)||lr(n,e,v,null,i,f)}}for(var m in i){var v=i[m];if(f=t[m],i.hasOwnProperty(m)&&(v!=null||f!=null))switch(m){case"type":s=v;break;case"name":r=v;break;case"checked":u=v;break;case"defaultChecked":c=v;break;case"value":a=v;break;case"defaultValue":o=v;break;case"children":case"dangerouslySetInnerHTML":if(v!=null)throw Error(pt(137,e));break;default:v!==f&&lr(n,e,m,v,i,f)}}tR(n,a,o,l,u,c,s,r);return;case"select":v=a=o=m=null;for(s in t)if(l=t[s],t.hasOwnProperty(s)&&l!=null)switch(s){case"value":break;case"multiple":v=l;default:i.hasOwnProperty(s)||lr(n,e,s,null,i,l)}for(r in i)if(s=i[r],l=t[r],i.hasOwnProperty(r)&&(s!=null||l!=null))switch(r){case"value":m=s;break;case"defaultValue":o=s;break;case"multiple":a=s;default:s!==l&&lr(n,e,r,s,i,l)}e=o,t=a,i=v,m!=null?X6(n,!!t,m,!1):!!i!=!!t&&(e!=null?X6(n,!!t,e,!0):X6(n,!!t,t?[]:"",!1));return;case"textarea":v=m=null;for(o in t)if(r=t[o],t.hasOwnProperty(o)&&r!=null&&!i.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:lr(n,e,o,null,i,r)}for(a in i)if(r=i[a],s=t[a],i.hasOwnProperty(a)&&(r!=null||s!=null))switch(a){case"value":m=r;break;case"defaultValue":v=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(pt(91));break;default:r!==s&&lr(n,e,a,r,i,s)}FH(n,m,v);return;case"option":for(var _ in t)if(m=t[_],t.hasOwnProperty(_)&&m!=null&&!i.hasOwnProperty(_))switch(_){case"selected":n.selected=!1;break;default:lr(n,e,_,null,i,m)}for(l in i)if(m=i[l],v=t[l],i.hasOwnProperty(l)&&m!==v&&(m!=null||v!=null))switch(l){case"selected":n.selected=m&&typeof m!="function"&&typeof m!="symbol";break;default:lr(n,e,l,m,i,v)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var T in t)m=t[T],t.hasOwnProperty(T)&&m!=null&&!i.hasOwnProperty(T)&&lr(n,e,T,null,i,m);for(u in i)if(m=i[u],v=t[u],i.hasOwnProperty(u)&&m!==v&&(m!=null||v!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(pt(137,e));break;default:lr(n,e,u,m,i,v)}return;default:if(aD(e)){for(var M in t)m=t[M],t.hasOwnProperty(M)&&m!==void 0&&!i.hasOwnProperty(M)&&DR(n,e,M,void 0,i,m);for(c in i)m=i[c],v=t[c],!i.hasOwnProperty(c)||m===v||m===void 0&&v===void 0||DR(n,e,c,m,i,v);return}}for(var S in t)m=t[S],t.hasOwnProperty(S)&&m!=null&&!i.hasOwnProperty(S)&&lr(n,e,S,null,i,m);for(f in i)m=i[f],v=t[f],!i.hasOwnProperty(f)||m===v||m==null&&v==null||lr(n,e,f,m,i,v)}var PR=null,LR=null;function Wx(n){return n.nodeType===9?n:n.ownerDocument}function fI(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kW(n,e){if(n===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&e==="foreignObject"?0:n}function BR(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var TM=null;function Voe(){var n=window.event;return n&&n.type==="popstate"?n===TM?!1:(TM=n,!0):(TM=null,!1)}var GW=typeof setTimeout=="function"?setTimeout:void 0,koe=typeof clearTimeout=="function"?clearTimeout:void 0,hI=typeof Promise=="function"?Promise:void 0,Goe=typeof queueMicrotask=="function"?queueMicrotask:typeof hI<"u"?function(n){return hI.resolve(null).then(n).catch(qoe)}:GW;function qoe(n){setTimeout(function(){throw n})}function P3(n){return n==="head"}function dI(n,e){var t=e,i=0,r=0;do{var s=t.nextSibling;if(n.removeChild(t),s&&s.nodeType===8)if(t=s.data,t==="/$"){if(0<i&&8>i){t=i;var a=n.ownerDocument;if(t&1&&tA(a.documentElement),t&2&&tA(a.body),t&4)for(t=a.head,tA(t),a=t.firstChild;a;){var o=a.nextSibling,l=a.nodeName;a[Np]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&a.rel.toLowerCase()==="stylesheet"||t.removeChild(a),a=o}}if(r===0){n.removeChild(s),OA(e);return}r--}else t==="$"||t==="$?"||t==="$!"?r++:i=t.charCodeAt(0)-48;else i=0;t=s}while(t);OA(e)}function UR(n){var e=n.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var t=e;switch(e=e.nextSibling,t.nodeName){case"HTML":case"HEAD":case"BODY":UR(t),sD(t);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(t.rel.toLowerCase()==="stylesheet")continue}n.removeChild(t)}}function Hoe(n,e,t,i){for(;n.nodeType===1;){var r=t;if(n.nodeName.toLowerCase()!==e.toLowerCase()){if(!i&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(i){if(!n[Np])switch(e){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(s=n.getAttribute("rel"),s==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(s!==r.rel||n.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||n.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||n.getAttribute("title")!==(r.title==null?null:r.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(s=n.getAttribute("src"),(s!==(r.src==null?null:r.src)||n.getAttribute("type")!==(r.type==null?null:r.type)||n.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&s&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(e==="input"&&n.type==="hidden"){var s=r.name==null?null:""+r.name;if(r.type==="hidden"&&n.getAttribute("name")===s)return n}else return n;if(n=vu(n.nextSibling),n===null)break}return null}function joe(n,e,t){if(e==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!t||(n=vu(n.nextSibling),n===null))return null;return n}function OR(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Woe(n,e){var t=n.ownerDocument;if(n.data!=="$?"||t.readyState==="complete")e();else{var i=function(){e(),t.removeEventListener("DOMContentLoaded",i)};t.addEventListener("DOMContentLoaded",i),n._reactRetry=i}}function vu(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return n}var IR=null;function AI(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}function qW(n,e,t){switch(e=Wx(t),n){case"html":if(n=e.documentElement,!n)throw Error(pt(452));return n;case"head":if(n=e.head,!n)throw Error(pt(453));return n;case"body":if(n=e.body,!n)throw Error(pt(454));return n;default:throw Error(pt(451))}}function tA(n){for(var e=n.attributes;e.length;)n.removeAttributeNode(e[0]);sD(n)}var L0=new Map,pI=new Set;function Xx(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Jc=Hi.d;Hi.d={f:Xoe,r:Yoe,D:Qoe,C:$oe,L:Koe,m:Zoe,X:ele,S:Joe,M:tle};function Xoe(){var n=Jc.f(),e=wb();return n||e}function Yoe(n){var e=l8(n);e!==null&&e.tag===5&&e.type==="form"?Oj(e):Jc.r(n)}var f8=typeof document>"u"?null:document;function HW(n,e,t){var i=f8;if(i&&typeof e=="string"&&e){var r=b0(e);r='link[rel="'+n+'"][href="'+r+'"]',typeof t=="string"&&(r+='[crossorigin="'+t+'"]'),pI.has(r)||(pI.add(r),n={rel:n,crossOrigin:t,href:e},i.querySelector(r)===null&&(e=i.createElement("link"),Va(e,"link",n),va(e),i.head.appendChild(e)))}}function Qoe(n){Jc.D(n),HW("dns-prefetch",n,null)}function $oe(n,e){Jc.C(n,e),HW("preconnect",n,e)}function Koe(n,e,t){Jc.L(n,e,t);var i=f8;if(i&&n&&e){var r='link[rel="preload"][as="'+b0(e)+'"]';e==="image"&&t&&t.imageSrcSet?(r+='[imagesrcset="'+b0(t.imageSrcSet)+'"]',typeof t.imageSizes=="string"&&(r+='[imagesizes="'+b0(t.imageSizes)+'"]')):r+='[href="'+b0(n)+'"]';var s=r;switch(e){case"style":s=vd(n);break;case"script":s=h8(n)}L0.has(s)||(n=Ir({rel:"preload",href:e==="image"&&t&&t.imageSrcSet?void 0:n,as:e},t),L0.set(s,n),i.querySelector(r)!==null||e==="style"&&i.querySelector(Vp(s))||e==="script"&&i.querySelector(kp(s))||(e=i.createElement("link"),Va(e,"link",n),va(e),i.head.appendChild(e)))}}function Zoe(n,e){Jc.m(n,e);var t=f8;if(t&&n){var i=e&&typeof e.as=="string"?e.as:"script",r='link[rel="modulepreload"][as="'+b0(i)+'"][href="'+b0(n)+'"]',s=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=h8(n)}if(!L0.has(s)&&(n=Ir({rel:"modulepreload",href:n},e),L0.set(s,n),t.querySelector(r)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(t.querySelector(kp(s)))return}i=t.createElement("link"),Va(i,"link",n),va(i),t.head.appendChild(i)}}}function Joe(n,e,t){Jc.S(n,e,t);var i=f8;if(i&&n){var r=W6(i).hoistableStyles,s=vd(n);e=e||"default";var a=r.get(s);if(!a){var o={loading:0,preload:null};if(a=i.querySelector(Vp(s)))o.loading=5;else{n=Ir({rel:"stylesheet",href:n,"data-precedence":e},t),(t=L0.get(s))&&GD(n,t);var l=a=i.createElement("link");va(l),Va(l,"link",n),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Gv(a,e,i)}a={type:"stylesheet",instance:a,count:1,state:o},r.set(s,a)}}}function ele(n,e){Jc.X(n,e);var t=f8;if(t&&n){var i=W6(t).hoistableScripts,r=h8(n),s=i.get(r);s||(s=t.querySelector(kp(r)),s||(n=Ir({src:n,async:!0},e),(e=L0.get(r))&&qD(n,e),s=t.createElement("script"),va(s),Va(s,"link",n),t.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function tle(n,e){Jc.M(n,e);var t=f8;if(t&&n){var i=W6(t).hoistableScripts,r=h8(n),s=i.get(r);s||(s=t.querySelector(kp(r)),s||(n=Ir({src:n,async:!0,type:"module"},e),(e=L0.get(r))&&qD(n,e),s=t.createElement("script"),va(s),Va(s,"link",n),t.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},i.set(r,s))}}function mI(n,e,t,i){var r=(r=a3.current)?Xx(r):null;if(!r)throw Error(pt(446));switch(n){case"meta":case"title":return null;case"style":return typeof t.precedence=="string"&&typeof t.href=="string"?(e=vd(t.href),t=W6(r).hoistableStyles,i=t.get(e),i||(i={type:"style",instance:null,count:0,state:null},t.set(e,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(t.rel==="stylesheet"&&typeof t.href=="string"&&typeof t.precedence=="string"){n=vd(t.href);var s=W6(r).hoistableStyles,a=s.get(n);if(a||(r=r.ownerDocument||r,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(n,a),(s=r.querySelector(Vp(n)))&&!s._p&&(a.instance=s,a.state.loading=5),L0.has(n)||(t={rel:"preload",as:"style",href:t.href,crossOrigin:t.crossOrigin,integrity:t.integrity,media:t.media,hrefLang:t.hrefLang,referrerPolicy:t.referrerPolicy},L0.set(n,t),s||nle(r,n,t,a.state))),e&&i===null)throw Error(pt(528,""));return a}if(e&&i!==null)throw Error(pt(529,""));return null;case"script":return e=t.async,t=t.src,typeof t=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=h8(t),t=W6(r).hoistableScripts,i=t.get(e),i||(i={type:"script",instance:null,count:0,state:null},t.set(e,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(pt(444,n))}}function vd(n){return'href="'+b0(n)+'"'}function Vp(n){return'link[rel="stylesheet"]['+n+"]"}function jW(n){return Ir({},n,{"data-precedence":n.precedence,precedence:null})}function nle(n,e,t,i){n.querySelector('link[rel="preload"][as="style"]['+e+"]")?i.loading=1:(e=n.createElement("link"),i.preload=e,e.addEventListener("load",function(){return i.loading|=1}),e.addEventListener("error",function(){return i.loading|=2}),Va(e,"link",t),va(e),n.head.appendChild(e))}function h8(n){return'[src="'+b0(n)+'"]'}function kp(n){return"script[async]"+n}function gI(n,e,t){if(e.count++,e.instance===null)switch(e.type){case"style":var i=n.querySelector('style[data-href~="'+b0(t.href)+'"]');if(i)return e.instance=i,va(i),i;var r=Ir({},t,{"data-href":t.href,"data-precedence":t.precedence,href:null,precedence:null});return i=(n.ownerDocument||n).createElement("style"),va(i),Va(i,"style",r),Gv(i,t.precedence,n),e.instance=i;case"stylesheet":r=vd(t.href);var s=n.querySelector(Vp(r));if(s)return e.state.loading|=4,e.instance=s,va(s),s;i=jW(t),(r=L0.get(r))&&GD(i,r),s=(n.ownerDocument||n).createElement("link"),va(s);var a=s;return a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Va(s,"link",i),e.state.loading|=4,Gv(s,t.precedence,n),e.instance=s;case"script":return s=h8(t.src),(r=n.querySelector(kp(s)))?(e.instance=r,va(r),r):(i=t,(r=L0.get(s))&&(i=Ir({},t),qD(i,r)),n=n.ownerDocument||n,r=n.createElement("script"),va(r),Va(r,"link",i),n.head.appendChild(r),e.instance=r);case"void":return null;default:throw Error(pt(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(i=e.instance,e.state.loading|=4,Gv(i,t.precedence,n));return e.instance}function Gv(n,e,t){for(var i=t.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,s=r,a=0;a<i.length;a++){var o=i[a];if(o.dataset.precedence===e)s=o;else if(s!==r)break}s?s.parentNode.insertBefore(n,s.nextSibling):(e=t.nodeType===9?t.head:t,e.insertBefore(n,e.firstChild))}function GD(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.title==null&&(n.title=e.title)}function qD(n,e){n.crossOrigin==null&&(n.crossOrigin=e.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=e.referrerPolicy),n.integrity==null&&(n.integrity=e.integrity)}var qv=null;function yI(n,e,t){if(qv===null){var i=new Map,r=qv=new Map;r.set(t,i)}else r=qv,i=r.get(t),i||(i=new Map,r.set(t,i));if(i.has(n))return i;for(i.set(n,null),t=t.getElementsByTagName(n),r=0;r<t.length;r++){var s=t[r];if(!(s[Np]||s[ro]||n==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var a=s.getAttribute(e)||"";a=n+a;var o=i.get(a);o?o.push(s):i.set(a,[s])}}return i}function vI(n,e,t){n=n.ownerDocument||n,n.head.insertBefore(t,e==="title"?n.querySelector("head > title"):null)}function ile(n,e,t){if(t===1||e.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return n=e.disabled,typeof e.precedence=="string"&&n==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function WW(n){return!(n.type==="stylesheet"&&!(n.state.loading&3))}var PA=null;function rle(){}function sle(n,e,t){if(PA===null)throw Error(pt(475));var i=PA;if(e.type==="stylesheet"&&(typeof t.media!="string"||matchMedia(t.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var r=vd(t.href),s=n.querySelector(Vp(r));if(s){n=s._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(i.count++,i=Yx.bind(i),n.then(i,i)),e.state.loading|=4,e.instance=s,va(s);return}s=n.ownerDocument||n,t=jW(t),(r=L0.get(r))&&GD(t,r),s=s.createElement("link"),va(s);var a=s;a._p=new Promise(function(o,l){a.onload=o,a.onerror=l}),Va(s,"link",t),e.instance=s}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(e,n),(n=e.state.preload)&&!(e.state.loading&3)&&(i.count++,e=Yx.bind(i),n.addEventListener("load",e),n.addEventListener("error",e))}}function ale(){if(PA===null)throw Error(pt(475));var n=PA;return n.stylesheets&&n.count===0&&FR(n,n.stylesheets),0<n.count?function(e){var t=setTimeout(function(){if(n.stylesheets&&FR(n,n.stylesheets),n.unsuspend){var i=n.unsuspend;n.unsuspend=null,i()}},6e4);return n.unsuspend=e,function(){n.unsuspend=null,clearTimeout(t)}}:null}function Yx(){if(this.count--,this.count===0){if(this.stylesheets)FR(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Qx=null;function FR(n,e){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Qx=new Map,e.forEach(ole,n),Qx=null,Yx.call(n))}function ole(n,e){if(!(e.state.loading&4)){var t=Qx.get(n);if(t)var i=t.get(null);else{t=new Map,Qx.set(n,t);for(var r=n.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<r.length;s++){var a=r[s];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(t.set(a.dataset.precedence,a),i=a)}i&&t.set(null,i)}r=e.instance,a=r.getAttribute("data-precedence"),s=t.get(a)||i,s===i&&t.set(null,r),t.set(a,r),this.count++,i=Yx.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),s?s.parentNode.insertBefore(r,s.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(r,n.firstChild)),e.state.loading|=4}}var LA={$$typeof:yc,Provider:null,Consumer:null,_currentValue:df,_currentValue2:df,_threadCount:0};function lle(n,e,t,i,r,s,a,o){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=WT(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=WT(0),this.hiddenUpdates=WT(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=s,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function XW(n,e,t,i,r,s,a,o,l,u,c,f){return n=new lle(n,e,t,a,o,l,u,f),e=1,s===!0&&(e|=24),s=Fl(3,null,null,e),n.current=s,s.stateNode=n,e=gD(),e.refCount++,n.pooledCache=e,e.refCount++,s.memoizedState={element:i,isDehydrated:t,cache:e},vD(s),n}function YW(n){return n?(n=w6,n):w6}function QW(n,e,t,i,r,s){r=YW(r),i.context===null?i.context=r:i.pendingContext=r,i=o3(e),i.payload={element:t},s=s===void 0?null:s,s!==null&&(i.callback=s),t=l3(n,i,e),t!==null&&(Gl(t,n,e),X9(t,n,e))}function xI(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function HD(n,e){xI(n,e),(n=n.alternate)&&xI(n,e)}function $W(n){if(n.tag===13){var e=u8(n,67108864);e!==null&&Gl(e,n,67108864),HD(n,67108864)}}var $x=!0;function ule(n,e,t,i){var r=Fn.T;Fn.T=null;var s=Hi.p;try{Hi.p=2,jD(n,e,t,i)}finally{Hi.p=s,Fn.T=r}}function cle(n,e,t,i){var r=Fn.T;Fn.T=null;var s=Hi.p;try{Hi.p=8,jD(n,e,t,i)}finally{Hi.p=s,Fn.T=r}}function jD(n,e,t,i){if($x){var r=zR(i);if(r===null)SM(n,e,i,Kx,t),_I(n,i);else if(hle(r,n,e,t,i))i.stopPropagation();else if(_I(n,i),e&4&&-1<fle.indexOf(n)){for(;r!==null;){var s=l8(r);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var a=k4(s.pendingLanes);if(a!==0){var o=s;for(o.pendingLanes|=2,o.entangledLanes|=2;a;){var l=1<<31-Vl(a);o.entanglements[1]|=l,a&=~l}N1(s),!(nr&6)&&(kx=o1()+500,zp(0))}}break;case 13:o=u8(s,2),o!==null&&Gl(o,s,2),wb(),HD(s,2)}if(s=zR(i),s===null&&SM(n,e,i,Kx,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else SM(n,e,i,null,t)}}function zR(n){return n=oD(n),WD(n)}var Kx=null;function WD(n){if(Kx=null,n=_6(n),n!==null){var e=Ep(n);if(e===null)n=null;else{var t=e.tag;if(t===13){if(n=_H(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null)}}return Kx=n,null}function KW(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($se()){case MH:return 2;case EH:return 8;case Mx:case Kse:return 32;case wH:return 268435456;default:return 32}default:return 32}}var VR=!1,f3=null,h3=null,d3=null,BA=new Map,UA=new Map,W2=[],fle="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _I(n,e){switch(n){case"focusin":case"focusout":f3=null;break;case"dragenter":case"dragleave":h3=null;break;case"mouseover":case"mouseout":d3=null;break;case"pointerover":case"pointerout":BA.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":UA.delete(e.pointerId)}}function F7(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=l8(e),e!==null&&$W(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function hle(n,e,t,i,r){switch(e){case"focusin":return f3=F7(f3,n,e,t,i,r),!0;case"dragenter":return h3=F7(h3,n,e,t,i,r),!0;case"mouseover":return d3=F7(d3,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return BA.set(s,F7(BA.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,UA.set(s,F7(UA.get(s)||null,n,e,t,i,r)),!0}return!1}function ZW(n){var e=_6(n.target);if(e!==null){var t=Ep(e);if(t!==null){if(e=t.tag,e===13){if(e=_H(t),e!==null){n.blockedOn=e,sae(n.priority,function(){if(t.tag===13){var i=kl();i=iD(i);var r=u8(t,i);r!==null&&Gl(r,t,i),HD(t,i)}});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Hv(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=zR(n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);iR=i,t.target.dispatchEvent(i),iR=null}else return e=l8(t),e!==null&&$W(e),n.blockedOn=t,!1;e.shift()}return!0}function bI(n,e,t){Hv(n)&&t.delete(e)}function dle(){VR=!1,f3!==null&&Hv(f3)&&(f3=null),h3!==null&&Hv(h3)&&(h3=null),d3!==null&&Hv(d3)&&(d3=null),BA.forEach(bI),UA.forEach(bI)}function Gg(n,e){n.blockedOn===e&&(n.blockedOn=null,VR||(VR=!0,ia.unstable_scheduleCallback(ia.unstable_NormalPriority,dle)))}var qg=null;function SI(n){qg!==n&&(qg=n,ia.unstable_scheduleCallback(ia.unstable_NormalPriority,function(){qg===n&&(qg=null);for(var e=0;e<n.length;e+=3){var t=n[e],i=n[e+1],r=n[e+2];if(typeof i!="function"){if(WD(i||t)===null)continue;break}var s=l8(t);s!==null&&(n.splice(e,3),e-=3,vR(s,{pending:!0,data:r,method:t.method,action:i},i,r))}}))}function OA(n){function e(l){return Gg(l,n)}f3!==null&&Gg(f3,n),h3!==null&&Gg(h3,n),d3!==null&&Gg(d3,n),BA.forEach(e),UA.forEach(e);for(var t=0;t<W2.length;t++){var i=W2[t];i.blockedOn===n&&(i.blockedOn=null)}for(;0<W2.length&&(t=W2[0],t.blockedOn===null);)ZW(t),t.blockedOn===null&&W2.shift();if(t=(n.ownerDocument||n).$$reactFormReplay,t!=null)for(i=0;i<t.length;i+=3){var r=t[i],s=t[i+1],a=r[ll]||null;if(typeof s=="function")a||SI(t);else if(a){var o=null;if(s&&s.hasAttribute("formAction")){if(r=s,a=s[ll]||null)o=a.formAction;else if(WD(r)!==null)continue}else o=a.action;typeof o=="function"?t[i+1]=o:(t.splice(i,3),i-=3),SI(t)}}}function XD(n){this._internalRoot=n}Db.prototype.render=XD.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(pt(409));var t=e.current,i=kl();QW(t,i,n,e,null,null)};Db.prototype.unmount=XD.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;QW(n.current,2,null,n,null,null),wb(),e[o8]=null}};function Db(n){this._internalRoot=n}Db.prototype.unstable_scheduleHydration=function(n){if(n){var e=PH();n={blockedOn:null,target:n,priority:e};for(var t=0;t<W2.length&&e!==0&&e<W2[t].priority;t++);W2.splice(t,0,n),t===0&&ZW(n)}};var TI=vH.version;if(TI!=="19.1.0")throw Error(pt(527,TI,"19.1.0"));Hi.findDOMNode=function(n){var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(pt(188)):(n=Object.keys(n).join(","),Error(pt(268,n)));return n=qse(e),n=n!==null?bH(n):null,n=n===null?null:n.stateNode,n};var Ale={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Fn,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hg.isDisabled&&Hg.supportsFiber)try{wp=Hg.inject(Ale),zl=Hg}catch{}}pb.createRoot=function(n,e){if(!xH(n))throw Error(pt(299));var t=!1,i="",r=Xj,s=Yj,a=Qj,o=null;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onUncaughtError!==void 0&&(r=e.onUncaughtError),e.onCaughtError!==void 0&&(s=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(o=e.unstable_transitionCallbacks)),e=XW(n,1,!1,null,null,t,i,r,s,a,o,null),n[o8]=e.current,kD(n),new XD(e)};pb.hydrateRoot=function(n,e,t){if(!xH(n))throw Error(pt(299));var i=!1,r="",s=Xj,a=Yj,o=Qj,l=null,u=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(l=t.unstable_transitionCallbacks),t.formState!==void 0&&(u=t.formState)),e=XW(n,1,!0,e,t??null,i,r,s,a,o,l,u),e.context=YW(null),t=e.current,i=kl(),i=iD(i),r=o3(i),r.callback=null,l3(t,r,i),t=i,e.current.lanes=t,Cp(e,t),N1(e),n[o8]=e.current,kD(n),new Db(e)};pb.version="19.1.0";function JW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JW)}catch(n){console.error(n)}}JW(),dH.exports=pb;var ple=dH.exports;const mle=s8(ple);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function IA(){return IA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},IA.apply(this,arguments)}var n3;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(n3||(n3={}));const MI="popstate";function gle(n){n===void 0&&(n={});function e(r,s){let{pathname:a="/",search:o="",hash:l=""}=dh(r.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),kR("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){let a=r.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=r.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:Zx(s))}function i(r,s){YD(r.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return vle(e,t,i,n)}function ps(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function YD(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yle(){return Math.random().toString(36).substr(2,8)}function EI(n,e){return{usr:n.state,key:n.key,idx:e}}function kR(n,e,t,i){return t===void 0&&(t=null),IA({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?dh(e):e,{state:t,key:e&&e.key||i||yle()})}function Zx(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function dh(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function vle(n,e,t,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,a=r.history,o=n3.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(IA({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){o=n3.Pop;let M=c(),S=M==null?null:M-u;u=M,l&&l({action:o,location:T.location,delta:S})}function m(M,S){o=n3.Push;let R=kR(T.location,M,S);t&&t(R,M),u=c()+1;let C=EI(R,u),P=T.createHref(R);try{a.pushState(C,"",P)}catch(B){if(B instanceof DOMException&&B.name==="DataCloneError")throw B;r.location.assign(P)}s&&l&&l({action:o,location:T.location,delta:1})}function v(M,S){o=n3.Replace;let R=kR(T.location,M,S);t&&t(R,M),u=c();let C=EI(R,u),P=T.createHref(R);a.replaceState(C,"",P),s&&l&&l({action:o,location:T.location,delta:0})}function _(M){let S=r.location.origin!=="null"?r.location.origin:r.location.href,R=typeof M=="string"?M:Zx(M);return R=R.replace(/ $/,"%20"),ps(S,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,S)}let T={get action(){return o},get location(){return n(r,a)},listen(M){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(MI,f),l=M,()=>{r.removeEventListener(MI,f),l=null}},createHref(M){return e(r,M)},createURL:_,encodeLocation(M){let S=_(M);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:m,replace:v,go(M){return a.go(M)}};return T}var wI;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(wI||(wI={}));function xle(n,e,t){return t===void 0&&(t="/"),_le(n,e,t)}function _le(n,e,t,i){let r=typeof e=="string"?dh(e):e,s=xd(r.pathname||"/",t);if(s==null)return null;let a=eX(n);ble(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Lle(s);o=Dle(a[l],u)}return o}function eX(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let r=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(ps(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=A3([i,l.relativePath]),c=t.concat(l);s.children&&s.children.length>0&&(ps(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),eX(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Cle(u,s.index),routesMeta:c})};return n.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))r(s,a);else for(let l of tX(s.path))r(s,a,l)}),e}function tX(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let a=tX(i.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),r&&o.push(...a),o.map(l=>n.startsWith("/")&&l===""?"/":l)}function ble(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Nle(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const Sle=/^:[\w-]+$/,Tle=3,Mle=2,Ele=1,wle=10,Rle=-2,RI=n=>n==="*";function Cle(n,e){let t=n.split("/"),i=t.length;return t.some(RI)&&(i+=Rle),e&&(i+=Mle),t.filter(r=>!RI(r)).reduce((r,s)=>r+(Sle.test(s)?Tle:s===""?Ele:wle),i)}function Nle(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function Dle(n,e,t){let{routesMeta:i}=n,r={},s="/",a=[];for(let o=0;o<i.length;++o){let l=i[o],u=o===i.length-1,c=s==="/"?e:e.slice(s.length)||"/",f=GR({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),m=l.route;if(!f)return null;Object.assign(r,f.params),a.push({params:r,pathname:A3([s,f.pathname]),pathnameBase:Ile(A3([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=A3([s,f.pathnameBase]))}return a}function GR(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=Ple(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],a=s.replace(/(.)\/+$/,"$1"),o=r.slice(1);return{params:i.reduce((u,c,f)=>{let{paramName:m,isOptional:v}=c;if(m==="*"){let T=o[f]||"";a=s.slice(0,s.length-T.length).replace(/(.)\/+$/,"$1")}const _=o[f];return v&&!_?u[m]=void 0:u[m]=(_||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:n}}function Ple(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),YD(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(i.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function Lle(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return YD(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function xd(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function Ble(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?dh(n):n;return{pathname:t?t.startsWith("/")?t:Ule(t,e):e,search:Fle(i),hash:zle(r)}}function Ule(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function MM(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ole(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function nX(n,e){let t=Ole(n);return e?t.map((i,r)=>r===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function iX(n,e,t,i){i===void 0&&(i=!1);let r;typeof n=="string"?r=dh(n):(r=IA({},n),ps(!r.pathname||!r.pathname.includes("?"),MM("?","pathname","search",r)),ps(!r.pathname||!r.pathname.includes("#"),MM("#","pathname","hash",r)),ps(!r.search||!r.search.includes("#"),MM("#","search","hash",r)));let s=n===""||r.pathname==="",a=s?"/":r.pathname,o;if(a==null)o=t;else{let f=e.length-1;if(!i&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),f-=1;r.pathname=m.join("/")}o=f>=0?e[f]:"/"}let l=Ble(r,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const A3=n=>n.join("/").replace(/\/\/+/g,"/"),Ile=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Fle=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,zle=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Vle(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const rX=["post","put","patch","delete"];new Set(rX);const kle=["get",...rX];new Set(kle);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function FA(){return FA=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},FA.apply(this,arguments)}const Pb=be.createContext(null),sX=be.createContext(null),L3=be.createContext(null),Lb=be.createContext(null),Ah=be.createContext({outlet:null,matches:[],isDataRoute:!1}),aX=be.createContext(null);function Gle(n,e){let{relative:t}=e===void 0?{}:e;Gp()||ps(!1);let{basename:i,navigator:r}=be.useContext(L3),{hash:s,pathname:a,search:o}=Bb(n,{relative:t}),l=a;return i!=="/"&&(l=a==="/"?i:A3([i,a])),r.createHref({pathname:l,search:o,hash:s})}function Gp(){return be.useContext(Lb)!=null}function d8(){return Gp()||ps(!1),be.useContext(Lb).location}function oX(n){be.useContext(L3).static||be.useLayoutEffect(n)}function qle(){let{isDataRoute:n}=be.useContext(Ah);return n?n0e():Hle()}function Hle(){Gp()||ps(!1);let n=be.useContext(Pb),{basename:e,future:t,navigator:i}=be.useContext(L3),{matches:r}=be.useContext(Ah),{pathname:s}=d8(),a=JSON.stringify(nX(r,t.v7_relativeSplatPath)),o=be.useRef(!1);return oX(()=>{o.current=!0}),be.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){i.go(u);return}let f=iX(u,JSON.parse(a),s,c.relative==="path");n==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:A3([e,f.pathname])),(c.replace?i.replace:i.push)(f,c.state,c)},[e,i,a,s,n])}function Bb(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=be.useContext(L3),{matches:r}=be.useContext(Ah),{pathname:s}=d8(),a=JSON.stringify(nX(r,i.v7_relativeSplatPath));return be.useMemo(()=>iX(n,JSON.parse(a),s,t==="path"),[n,a,s,t])}function jle(n,e){return Wle(n,e)}function Wle(n,e,t,i){Gp()||ps(!1);let{navigator:r}=be.useContext(L3),{matches:s}=be.useContext(Ah),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=d8(),c;if(e){var f;let M=typeof e=="string"?dh(e):e;l==="/"||(f=M.pathname)!=null&&f.startsWith(l)||ps(!1),c=M}else c=u;let m=c.pathname||"/",v=m;if(l!=="/"){let M=l.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(M.length).join("/")}let _=xle(n,{pathname:v}),T=Kle(_&&_.map(M=>Object.assign({},M,{params:Object.assign({},o,M.params),pathname:A3([l,r.encodeLocation?r.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?l:A3([l,r.encodeLocation?r.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),s,t,i);return e&&T?be.createElement(Lb.Provider,{value:{location:FA({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:n3.Pop}},T):T}function Xle(){let n=t0e(),e=Vle(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return be.createElement(be.Fragment,null,be.createElement("h2",null,"Unexpected Application Error!"),be.createElement("h3",{style:{fontStyle:"italic"}},e),t?be.createElement("pre",{style:r},t):null,null)}const Yle=be.createElement(Xle,null);class Qle extends be.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?be.createElement(Ah.Provider,{value:this.props.routeContext},be.createElement(aX.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $le(n){let{routeContext:e,match:t,children:i}=n,r=be.useContext(Pb);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),be.createElement(Ah.Provider,{value:e},i)}function Kle(n,e,t,i){var r;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,o=(r=t)==null?void 0:r.errors;if(o!=null){let c=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);c>=0||ps(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(t&&i&&i.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:m,errors:v}=t,_=f.route.loader&&m[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||_){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,m)=>{let v,_=!1,T=null,M=null;t&&(v=o&&f.route.id?o[f.route.id]:void 0,T=f.route.errorElement||Yle,l&&(u<0&&m===0?(i0e("route-fallback"),_=!0,M=null):u===m&&(_=!0,M=f.route.hydrateFallbackElement||null)));let S=e.concat(a.slice(0,m+1)),R=()=>{let C;return v?C=T:_?C=M:f.route.Component?C=be.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=c,be.createElement($le,{match:f,routeContext:{outlet:c,matches:S,isDataRoute:t!=null},children:C})};return t&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?be.createElement(Qle,{location:t.location,revalidation:t.revalidation,component:T,error:v,children:R(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):R()},null)}var lX=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(lX||{}),uX=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(uX||{});function Zle(n){let e=be.useContext(Pb);return e||ps(!1),e}function Jle(n){let e=be.useContext(sX);return e||ps(!1),e}function e0e(n){let e=be.useContext(Ah);return e||ps(!1),e}function cX(n){let e=e0e(),t=e.matches[e.matches.length-1];return t.route.id||ps(!1),t.route.id}function t0e(){var n;let e=be.useContext(aX),t=Jle(),i=cX();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function n0e(){let{router:n}=Zle(lX.UseNavigateStable),e=cX(uX.UseNavigateStable),t=be.useRef(!1);return oX(()=>{t.current=!0}),be.useCallback(function(r,s){s===void 0&&(s={}),t.current&&(typeof r=="number"?n.navigate(r):n.navigate(r,FA({fromRouteId:e},s)))},[n,e])}const CI={};function i0e(n,e,t){CI[n]||(CI[n]=!0)}function r0e(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function $u(n){ps(!1)}function s0e(n){let{basename:e="/",children:t=null,location:i,navigationType:r=n3.Pop,navigator:s,static:a=!1,future:o}=n;Gp()&&ps(!1);let l=e.replace(/^\/*/,"/"),u=be.useMemo(()=>({basename:l,navigator:s,static:a,future:FA({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof i=="string"&&(i=dh(i));let{pathname:c="/",search:f="",hash:m="",state:v=null,key:_="default"}=i,T=be.useMemo(()=>{let M=xd(c,l);return M==null?null:{location:{pathname:M,search:f,hash:m,state:v,key:_},navigationType:r}},[l,c,f,m,v,_,r]);return T==null?null:be.createElement(L3.Provider,{value:u},be.createElement(Lb.Provider,{children:t,value:T}))}function a0e(n){let{children:e,location:t}=n;return jle(qR(e),t)}new Promise(()=>{});function qR(n,e){e===void 0&&(e=[]);let t=[];return be.Children.forEach(n,(i,r)=>{if(!be.isValidElement(i))return;let s=[...e,r];if(i.type===be.Fragment){t.push.apply(t,qR(i.props.children,s));return}i.type!==$u&&ps(!1),!i.props.index||!i.props.children||ps(!1);let a={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(a.children=qR(i.props.children,s)),t.push(a)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jx(){return Jx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Jx.apply(this,arguments)}function fX(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function o0e(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function l0e(n,e){return n.button===0&&(!e||e==="_self")&&!o0e(n)}const u0e=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],c0e=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],f0e="6";try{window.__reactRouterVersion=f0e}catch{}const h0e=be.createContext({isTransitioning:!1}),d0e="startTransition",NI=Ose[d0e];function A0e(n){let{basename:e,children:t,future:i,window:r}=n,s=be.useRef();s.current==null&&(s.current=gle({window:r,v5Compat:!0}));let a=s.current,[o,l]=be.useState({action:a.action,location:a.location}),{v7_startTransition:u}=i||{},c=be.useCallback(f=>{u&&NI?NI(()=>l(f)):l(f)},[l,u]);return be.useLayoutEffect(()=>a.listen(c),[a,c]),be.useEffect(()=>r0e(i),[i]),be.createElement(s0e,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:i})}const p0e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",m0e=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ba=be.forwardRef(function(e,t){let{onClick:i,relative:r,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,m=fX(e,u0e),{basename:v}=be.useContext(L3),_,T=!1;if(typeof u=="string"&&m0e.test(u)&&(_=u,p0e))try{let C=new URL(window.location.href),P=u.startsWith("//")?new URL(C.protocol+u):new URL(u),B=xd(P.pathname,v);P.origin===C.origin&&B!=null?u=B+P.search+P.hash:T=!0}catch{}let M=Gle(u,{relative:r}),S=y0e(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:r,viewTransition:f});function R(C){i&&i(C),C.defaultPrevented||S(C)}return be.createElement("a",Jx({},m,{href:_||M,onClick:T||s?i:R,ref:t,target:l}))}),DI=be.forwardRef(function(e,t){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:c}=e,f=fX(e,c0e),m=Bb(l,{relative:f.relative}),v=d8(),_=be.useContext(sX),{navigator:T,basename:M}=be.useContext(L3),S=_!=null&&v0e(m)&&u===!0,R=T.encodeLocation?T.encodeLocation(m).pathname:m.pathname,C=v.pathname,P=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;r||(C=C.toLowerCase(),P=P?P.toLowerCase():null,R=R.toLowerCase()),P&&M&&(P=xd(P,M)||P);const B=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let O=C===R||!a&&C.startsWith(R)&&C.charAt(B)==="/",V=P!=null&&(P===R||!a&&P.startsWith(R)&&P.charAt(R.length)==="/"),F={isActive:O,isPending:V,isTransitioning:S},z=O?i:void 0,k;typeof s=="function"?k=s(F):k=[s,O?"active":null,V?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let H=typeof o=="function"?o(F):o;return be.createElement(Ba,Jx({},f,{"aria-current":z,className:k,ref:t,style:H,to:l,viewTransition:u}),typeof c=="function"?c(F):c)});var HR;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(HR||(HR={}));var PI;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(PI||(PI={}));function g0e(n){let e=be.useContext(Pb);return e||ps(!1),e}function y0e(n,e){let{target:t,replace:i,state:r,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=qle(),u=d8(),c=Bb(n,{relative:a});return be.useCallback(f=>{if(l0e(f,t)){f.preventDefault();let m=i!==void 0?i:Zx(u)===Zx(c);l(n,{replace:m,state:r,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,c,i,r,t,n,s,a,o])}function v0e(n,e){e===void 0&&(e={});let t=be.useContext(h0e);t==null&&ps(!1);let{basename:i}=g0e(HR.useViewTransitionState),r=Bb(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=xd(t.currentLocation.pathname,i)||t.currentLocation.pathname,a=xd(t.nextLocation.pathname,i)||t.nextLocation.pathname;return GR(r.pathname,a)!=null||GR(r.pathname,s)!=null}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0e=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_0e=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,i)=>i?i.toUpperCase():t.toLowerCase()),LI=n=>{const e=_0e(n);return e.charAt(0).toUpperCase()+e.slice(1)},hX=(...n)=>n.filter((e,t,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===t).join(" ").trim(),b0e=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S0e={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0e=be.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:i,className:r="",children:s,iconNode:a,...o},l)=>be.createElement("svg",{ref:l,...S0e,width:e,height:e,stroke:n,strokeWidth:i?Number(t)*24/Number(e):t,className:hX("lucide",r),...!s&&!b0e(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,c])=>be.createElement(u,c)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=(n,e)=>{const t=be.forwardRef(({className:i,...r},s)=>be.createElement(T0e,{ref:s,iconNode:e,className:hX(`lucide-${x0e(LI(n))}`,`lucide-${n}`,i),...r}));return t.displayName=LI(n),t};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0e=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],EM=V0("arrow-right",M0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0e=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],w0e=V0("briefcase",E0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0e=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],C0e=V0("building",R0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0e=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],nA=V0("check",N0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0e=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],P0e=V0("chevron-down",D0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0e=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Gu=V0("circle-check-big",L0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0e=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],U0e=V0("clock",B0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0e=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],I0e=V0("linkedin",O0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0e=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],BI=V0("loader-circle",F0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0e=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],V0e=V0("menu",z0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0e=[["path",{d:"M12 22v-5",key:"1ega77"}],["path",{d:"M9 8V2",key:"14iosj"}],["path",{d:"M15 8V2",key:"18g5xt"}],["path",{d:"M18 8v5a4 4 0 0 1-4 4h-4a4 4 0 0 1-4-4V8Z",key:"osxo6l"}]],G0e=V0("plug",k0e);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0e=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],H0e=V0("x",q0e),jR=[{name:"Home",path:"/"},{name:"Services",path:"/services",subLinks:[{name:"Fractional Talent",path:"/services/fractional-talent"},{name:"HR Advisory",path:"/services/hr-advisory"},{name:"Leadership & Team Coaching",path:"/services/coaching"}]},{name:"Case Studies",path:"/case-studies"},{name:"About Us",path:"/about"},{name:"Our Philosophy",path:"/philosophy"}],j0e=[{industry:"Tech",challenge:"High growth tech firm struggling with talent acquisition and retention.",solution:"Fractional HR leadership to build scalable recruitment processes.",result:"Increased employee retention by 20% within the first year."},{industry:"Retail",challenge:"Established retail chain facing declining employee morale and engagement.",solution:"Leadership and team coaching program for store managers.",result:"Boosted employee engagement scores by 30%."},{industry:"Services SME",challenge:"Small to medium enterprise needing senior HR expertise without the full-time cost.",solution:"Fractional HR Director providing strategic guidance and operational support.",result:"Saved 40% on HR leadership costs while improving HR effectiveness."},{industry:"Media Agency",challenge:"A fast-paced media agency needed to develop its next line of leaders.",solution:"Implemented a bespoke talent development and professional coaching plan.",result:"Successfully promoted 5 new leaders from within the organization."},{industry:"Manufacturing",challenge:"A manufacturing company needed to streamline its HR operations post-merger.",solution:"HR Advisory services to harmonize policies and systems.",result:"Achieved full HR systems integration 3 months ahead of schedule."}],W0e=["We underpromise, overdeliver.","Our petite size ensures timely, quality results.","We treat your business like its ours."],X0e=[{title:"Fairness",description:"We operate with fairness and equality in all our partnerships."},{title:"Transparency",description:"We believe in open and honest communication to build lasting relationships."},{title:"Trust",description:"Our foundation is built on trust, earning it through every action."},{title:"Flexibility",description:"We adapt to your needs, providing custom solutions that fit your business."}];function UI(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Y0e(...n){return e=>{let t=!1;const i=n.map(r=>{const s=UI(r,e);return!t&&typeof s=="function"&&(t=!0),s});if(t)return()=>{for(let r=0;r<i.length;r++){const s=i[r];typeof s=="function"?s():UI(n[r],null)}}}}function dX(n){const e=$0e(n),t=be.forwardRef((i,r)=>{const{children:s,...a}=i,o=be.Children.toArray(s),l=o.find(Z0e);if(l){const u=l.props.children,c=o.map(f=>f===l?be.Children.count(u)>1?be.Children.only(null):be.isValidElement(u)?u.props.children:null:f);return W.jsx(e,{...a,ref:r,children:be.isValidElement(u)?be.cloneElement(u,void 0,c):null})}return W.jsx(e,{...a,ref:r,children:s})});return t.displayName=`${n}.Slot`,t}var Q0e=dX("Slot");function $0e(n){const e=be.forwardRef((t,i)=>{const{children:r,...s}=t;if(be.isValidElement(r)){const a=eue(r),o=J0e(s,r.props);return r.type!==be.Fragment&&(o.ref=i?Y0e(i,a):a),be.cloneElement(r,o)}return be.Children.count(r)>1?be.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var K0e=Symbol("radix.slottable");function Z0e(n){return be.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===K0e}function J0e(n,e){const t={...e};for(const i in e){const r=n[i],s=e[i];/^on[A-Z]/.test(i)?r&&s?t[i]=(...o)=>{const l=s(...o);return r(...o),l}:r&&(t[i]=r):i==="style"?t[i]={...r,...s}:i==="className"&&(t[i]=[r,s].filter(Boolean).join(" "))}return{...n,...t}}function eue(n){var i,r;let e=(i=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:i.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(r=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function AX(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=AX(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function pX(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=AX(n))&&(i&&(i+=" "),i+=e);return i}const OI=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,II=pX,mX=(n,e)=>t=>{var i;if((e==null?void 0:e.variants)==null)return II(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:r,defaultVariants:s}=e,a=Object.keys(r).map(u=>{const c=t==null?void 0:t[u],f=s==null?void 0:s[u];if(c===null)return null;const m=OI(c)||OI(f);return r[u][m]}),o=t&&Object.entries(t).reduce((u,c)=>{let[f,m]=c;return m===void 0||(u[f]=m),u},{}),l=e==null||(i=e.compoundVariants)===null||i===void 0?void 0:i.reduce((u,c)=>{let{class:f,className:m,...v}=c;return Object.entries(v).every(_=>{let[T,M]=_;return Array.isArray(M)?M.includes({...s,...o}[T]):{...s,...o}[T]===M})?[...u,f,m]:u},[]);return II(n,a,l,t==null?void 0:t.class,t==null?void 0:t.className)},QD="-",tue=n=>{const e=iue(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=n;return{getClassGroupId:a=>{const o=a.split(QD);return o[0]===""&&o.length!==1&&o.shift(),gX(o,e)||nue(a)},getConflictingClassGroupIds:(a,o)=>{const l=t[a]||[];return o&&i[a]?[...l,...i[a]]:l}}},gX=(n,e)=>{var a;if(n.length===0)return e.classGroupId;const t=n[0],i=e.nextPart.get(t),r=i?gX(n.slice(1),i):void 0;if(r)return r;if(e.validators.length===0)return;const s=n.join(QD);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},FI=/^\[(.+)\]$/,nue=n=>{if(FI.test(n)){const e=FI.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},iue=n=>{const{theme:e,classGroups:t}=n,i={nextPart:new Map,validators:[]};for(const r in t)WR(t[r],i,r,e);return i},WR=(n,e,t,i)=>{n.forEach(r=>{if(typeof r=="string"){const s=r===""?e:zI(e,r);s.classGroupId=t;return}if(typeof r=="function"){if(rue(r)){WR(r(i),e,t,i);return}e.validators.push({validator:r,classGroupId:t});return}Object.entries(r).forEach(([s,a])=>{WR(a,zI(e,s),t,i)})})},zI=(n,e)=>{let t=n;return e.split(QD).forEach(i=>{t.nextPart.has(i)||t.nextPart.set(i,{nextPart:new Map,validators:[]}),t=t.nextPart.get(i)}),t},rue=n=>n.isThemeGetter,sue=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,i=new Map;const r=(s,a)=>{t.set(s,a),e++,e>n&&(e=0,i=t,t=new Map)};return{get(s){let a=t.get(s);if(a!==void 0)return a;if((a=i.get(s))!==void 0)return r(s,a),a},set(s,a){t.has(s)?t.set(s,a):r(s,a)}}},XR="!",YR=":",aue=YR.length,oue=n=>{const{prefix:e,experimentalParseClassName:t}=n;let i=r=>{const s=[];let a=0,o=0,l=0,u;for(let _=0;_<r.length;_++){let T=r[_];if(a===0&&o===0){if(T===YR){s.push(r.slice(l,_)),l=_+aue;continue}if(T==="/"){u=_;continue}}T==="["?a++:T==="]"?a--:T==="("?o++:T===")"&&o--}const c=s.length===0?r:r.substring(l),f=lue(c),m=f!==c,v=u&&u>l?u-l:void 0;return{modifiers:s,hasImportantModifier:m,baseClassName:f,maybePostfixModifierPosition:v}};if(e){const r=e+YR,s=i;i=a=>a.startsWith(r)?s(a.substring(r.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(t){const r=i;i=s=>t({className:s,parseClassName:r})}return i},lue=n=>n.endsWith(XR)?n.substring(0,n.length-1):n.startsWith(XR)?n.substring(1):n,uue=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(i=>[i,!0]));return i=>{if(i.length<=1)return i;const r=[];let s=[];return i.forEach(a=>{a[0]==="["||e[a]?(r.push(...s.sort(),a),s=[]):s.push(a)}),r.push(...s.sort()),r}},cue=n=>({cache:sue(n.cacheSize),parseClassName:oue(n),sortModifiers:uue(n),...tue(n)}),fue=/\s+/,hue=(n,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:r,sortModifiers:s}=e,a=[],o=n.trim().split(fue);let l="";for(let u=o.length-1;u>=0;u-=1){const c=o[u],{isExternal:f,modifiers:m,hasImportantModifier:v,baseClassName:_,maybePostfixModifierPosition:T}=t(c);if(f){l=c+(l.length>0?" "+l:l);continue}let M=!!T,S=i(M?_.substring(0,T):_);if(!S){if(!M){l=c+(l.length>0?" "+l:l);continue}if(S=i(_),!S){l=c+(l.length>0?" "+l:l);continue}M=!1}const R=s(m).join(":"),C=v?R+XR:R,P=C+S;if(a.includes(P))continue;a.push(P);const B=r(S,M);for(let O=0;O<B.length;++O){const V=B[O];a.push(C+V)}l=c+(l.length>0?" "+l:l)}return l};function due(){let n=0,e,t,i="";for(;n<arguments.length;)(e=arguments[n++])&&(t=yX(e))&&(i&&(i+=" "),i+=t);return i}const yX=n=>{if(typeof n=="string")return n;let e,t="";for(let i=0;i<n.length;i++)n[i]&&(e=yX(n[i]))&&(t&&(t+=" "),t+=e);return t};function Aue(n,...e){let t,i,r,s=a;function a(l){const u=e.reduce((c,f)=>f(c),n());return t=cue(u),i=t.cache.get,r=t.cache.set,s=o,o(l)}function o(l){const u=i(l);if(u)return u;const c=hue(l,t);return r(l,c),c}return function(){return s(due.apply(null,arguments))}}const Ks=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},vX=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,xX=/^\((?:(\w[\w-]*):)?(.+)\)$/i,pue=/^\d+\/\d+$/,mue=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,gue=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,yue=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,vue=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,xue=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,w5=n=>pue.test(n),fi=n=>!!n&&!Number.isNaN(Number(n)),b2=n=>!!n&&Number.isInteger(Number(n)),wM=n=>n.endsWith("%")&&fi(n.slice(0,-1)),nc=n=>mue.test(n),_ue=()=>!0,bue=n=>gue.test(n)&&!yue.test(n),_X=()=>!1,Sue=n=>vue.test(n),Tue=n=>xue.test(n),Mue=n=>!sn(n)&&!an(n),Eue=n=>A8(n,TX,_X),sn=n=>vX.test(n),p4=n=>A8(n,MX,bue),RM=n=>A8(n,Due,fi),VI=n=>A8(n,bX,_X),wue=n=>A8(n,SX,Tue),jg=n=>A8(n,EX,Sue),an=n=>xX.test(n),z7=n=>p8(n,MX),Rue=n=>p8(n,Pue),kI=n=>p8(n,bX),Cue=n=>p8(n,TX),Nue=n=>p8(n,SX),Wg=n=>p8(n,EX,!0),A8=(n,e,t)=>{const i=vX.exec(n);return i?i[1]?e(i[1]):t(i[2]):!1},p8=(n,e,t=!1)=>{const i=xX.exec(n);return i?i[1]?e(i[1]):t:!1},bX=n=>n==="position"||n==="percentage",SX=n=>n==="image"||n==="url",TX=n=>n==="length"||n==="size"||n==="bg-size",MX=n=>n==="length",Due=n=>n==="number",Pue=n=>n==="family-name",EX=n=>n==="shadow",Lue=()=>{const n=Ks("color"),e=Ks("font"),t=Ks("text"),i=Ks("font-weight"),r=Ks("tracking"),s=Ks("leading"),a=Ks("breakpoint"),o=Ks("container"),l=Ks("spacing"),u=Ks("radius"),c=Ks("shadow"),f=Ks("inset-shadow"),m=Ks("text-shadow"),v=Ks("drop-shadow"),_=Ks("blur"),T=Ks("perspective"),M=Ks("aspect"),S=Ks("ease"),R=Ks("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],B=()=>[...P(),an,sn],O=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto","contain","none"],F=()=>[an,sn,l],z=()=>[w5,"full","auto",...F()],k=()=>[b2,"none","subgrid",an,sn],H=()=>["auto",{span:["full",b2,an,sn]},b2,an,sn],Z=()=>[b2,"auto",an,sn],$=()=>["auto","min","max","fr",an,sn],ae=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ne=()=>["start","end","center","stretch","center-safe","end-safe"],Y=()=>["auto",...F()],ee=()=>[w5,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],Q=()=>[n,an,sn],fe=()=>[...P(),kI,VI,{position:[an,sn]}],ge=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Re=()=>["auto","cover","contain",Cue,Eue,{size:[an,sn]}],Ge=()=>[wM,z7,p4],We=()=>["","none","full",u,an,sn],Se=()=>["",fi,z7,p4],qe=()=>["solid","dashed","dotted","double"],St=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],at=()=>[fi,wM,kI,VI],Ct=()=>["","none",_,an,sn],Jt=()=>["none",fi,an,sn],It=()=>["none",fi,an,sn],Sn=()=>[fi,an,sn],hn=()=>[w5,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[nc],breakpoint:[nc],color:[_ue],container:[nc],"drop-shadow":[nc],ease:["in","out","in-out"],font:[Mue],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[nc],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[nc],shadow:[nc],spacing:["px",fi],text:[nc],"text-shadow":[nc],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",w5,sn,an,M]}],container:["container"],columns:[{columns:[fi,sn,an,o]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:B()}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:z()}],"inset-x":[{"inset-x":z()}],"inset-y":[{"inset-y":z()}],start:[{start:z()}],end:[{end:z()}],top:[{top:z()}],right:[{right:z()}],bottom:[{bottom:z()}],left:[{left:z()}],visibility:["visible","invisible","collapse"],z:[{z:[b2,"auto",an,sn]}],basis:[{basis:[w5,"full","auto",o,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[fi,w5,"auto","initial","none",sn]}],grow:[{grow:["",fi,an,sn]}],shrink:[{shrink:["",fi,an,sn]}],order:[{order:[b2,"first","last","none",an,sn]}],"grid-cols":[{"grid-cols":k()}],"col-start-end":[{col:H()}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":k()}],"row-start-end":[{row:H()}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...ae(),"normal"]}],"justify-items":[{"justify-items":[...ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...ne()]}],"align-content":[{content:["normal",...ae()]}],"align-items":[{items:[...ne(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ne(),{baseline:["","last"]}]}],"place-content":[{"place-content":ae()}],"place-items":[{"place-items":[...ne(),"baseline"]}],"place-self":[{"place-self":["auto",...ne()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:Y()}],mx:[{mx:Y()}],my:[{my:Y()}],ms:[{ms:Y()}],me:[{me:Y()}],mt:[{mt:Y()}],mr:[{mr:Y()}],mb:[{mb:Y()}],ml:[{ml:Y()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:ee()}],w:[{w:[o,"screen",...ee()]}],"min-w":[{"min-w":[o,"screen","none",...ee()]}],"max-w":[{"max-w":[o,"screen","none","prose",{screen:[a]},...ee()]}],h:[{h:["screen","lh",...ee()]}],"min-h":[{"min-h":["screen","lh","none",...ee()]}],"max-h":[{"max-h":["screen","lh",...ee()]}],"font-size":[{text:["base",t,z7,p4]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,an,RM]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",wM,sn]}],"font-family":[{font:[Rue,sn,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,an,sn]}],"line-clamp":[{"line-clamp":[fi,"none",an,RM]}],leading:[{leading:[s,...F()]}],"list-image":[{"list-image":["none",an,sn]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",an,sn]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Q()}],"text-color":[{text:Q()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...qe(),"wavy"]}],"text-decoration-thickness":[{decoration:[fi,"from-font","auto",an,p4]}],"text-decoration-color":[{decoration:Q()}],"underline-offset":[{"underline-offset":[fi,"auto",an,sn]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",an,sn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",an,sn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:fe()}],"bg-repeat":[{bg:ge()}],"bg-size":[{bg:Re()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},b2,an,sn],radial:["",an,sn],conic:[b2,an,sn]},Nue,wue]}],"bg-color":[{bg:Q()}],"gradient-from-pos":[{from:Ge()}],"gradient-via-pos":[{via:Ge()}],"gradient-to-pos":[{to:Ge()}],"gradient-from":[{from:Q()}],"gradient-via":[{via:Q()}],"gradient-to":[{to:Q()}],rounded:[{rounded:We()}],"rounded-s":[{"rounded-s":We()}],"rounded-e":[{"rounded-e":We()}],"rounded-t":[{"rounded-t":We()}],"rounded-r":[{"rounded-r":We()}],"rounded-b":[{"rounded-b":We()}],"rounded-l":[{"rounded-l":We()}],"rounded-ss":[{"rounded-ss":We()}],"rounded-se":[{"rounded-se":We()}],"rounded-ee":[{"rounded-ee":We()}],"rounded-es":[{"rounded-es":We()}],"rounded-tl":[{"rounded-tl":We()}],"rounded-tr":[{"rounded-tr":We()}],"rounded-br":[{"rounded-br":We()}],"rounded-bl":[{"rounded-bl":We()}],"border-w":[{border:Se()}],"border-w-x":[{"border-x":Se()}],"border-w-y":[{"border-y":Se()}],"border-w-s":[{"border-s":Se()}],"border-w-e":[{"border-e":Se()}],"border-w-t":[{"border-t":Se()}],"border-w-r":[{"border-r":Se()}],"border-w-b":[{"border-b":Se()}],"border-w-l":[{"border-l":Se()}],"divide-x":[{"divide-x":Se()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Se()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...qe(),"hidden","none"]}],"divide-style":[{divide:[...qe(),"hidden","none"]}],"border-color":[{border:Q()}],"border-color-x":[{"border-x":Q()}],"border-color-y":[{"border-y":Q()}],"border-color-s":[{"border-s":Q()}],"border-color-e":[{"border-e":Q()}],"border-color-t":[{"border-t":Q()}],"border-color-r":[{"border-r":Q()}],"border-color-b":[{"border-b":Q()}],"border-color-l":[{"border-l":Q()}],"divide-color":[{divide:Q()}],"outline-style":[{outline:[...qe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[fi,an,sn]}],"outline-w":[{outline:["",fi,z7,p4]}],"outline-color":[{outline:Q()}],shadow:[{shadow:["","none",c,Wg,jg]}],"shadow-color":[{shadow:Q()}],"inset-shadow":[{"inset-shadow":["none",f,Wg,jg]}],"inset-shadow-color":[{"inset-shadow":Q()}],"ring-w":[{ring:Se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Q()}],"ring-offset-w":[{"ring-offset":[fi,p4]}],"ring-offset-color":[{"ring-offset":Q()}],"inset-ring-w":[{"inset-ring":Se()}],"inset-ring-color":[{"inset-ring":Q()}],"text-shadow":[{"text-shadow":["none",m,Wg,jg]}],"text-shadow-color":[{"text-shadow":Q()}],opacity:[{opacity:[fi,an,sn]}],"mix-blend":[{"mix-blend":[...St(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":St()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[fi]}],"mask-image-linear-from-pos":[{"mask-linear-from":at()}],"mask-image-linear-to-pos":[{"mask-linear-to":at()}],"mask-image-linear-from-color":[{"mask-linear-from":Q()}],"mask-image-linear-to-color":[{"mask-linear-to":Q()}],"mask-image-t-from-pos":[{"mask-t-from":at()}],"mask-image-t-to-pos":[{"mask-t-to":at()}],"mask-image-t-from-color":[{"mask-t-from":Q()}],"mask-image-t-to-color":[{"mask-t-to":Q()}],"mask-image-r-from-pos":[{"mask-r-from":at()}],"mask-image-r-to-pos":[{"mask-r-to":at()}],"mask-image-r-from-color":[{"mask-r-from":Q()}],"mask-image-r-to-color":[{"mask-r-to":Q()}],"mask-image-b-from-pos":[{"mask-b-from":at()}],"mask-image-b-to-pos":[{"mask-b-to":at()}],"mask-image-b-from-color":[{"mask-b-from":Q()}],"mask-image-b-to-color":[{"mask-b-to":Q()}],"mask-image-l-from-pos":[{"mask-l-from":at()}],"mask-image-l-to-pos":[{"mask-l-to":at()}],"mask-image-l-from-color":[{"mask-l-from":Q()}],"mask-image-l-to-color":[{"mask-l-to":Q()}],"mask-image-x-from-pos":[{"mask-x-from":at()}],"mask-image-x-to-pos":[{"mask-x-to":at()}],"mask-image-x-from-color":[{"mask-x-from":Q()}],"mask-image-x-to-color":[{"mask-x-to":Q()}],"mask-image-y-from-pos":[{"mask-y-from":at()}],"mask-image-y-to-pos":[{"mask-y-to":at()}],"mask-image-y-from-color":[{"mask-y-from":Q()}],"mask-image-y-to-color":[{"mask-y-to":Q()}],"mask-image-radial":[{"mask-radial":[an,sn]}],"mask-image-radial-from-pos":[{"mask-radial-from":at()}],"mask-image-radial-to-pos":[{"mask-radial-to":at()}],"mask-image-radial-from-color":[{"mask-radial-from":Q()}],"mask-image-radial-to-color":[{"mask-radial-to":Q()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[fi]}],"mask-image-conic-from-pos":[{"mask-conic-from":at()}],"mask-image-conic-to-pos":[{"mask-conic-to":at()}],"mask-image-conic-from-color":[{"mask-conic-from":Q()}],"mask-image-conic-to-color":[{"mask-conic-to":Q()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:fe()}],"mask-repeat":[{mask:ge()}],"mask-size":[{mask:Re()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",an,sn]}],filter:[{filter:["","none",an,sn]}],blur:[{blur:Ct()}],brightness:[{brightness:[fi,an,sn]}],contrast:[{contrast:[fi,an,sn]}],"drop-shadow":[{"drop-shadow":["","none",v,Wg,jg]}],"drop-shadow-color":[{"drop-shadow":Q()}],grayscale:[{grayscale:["",fi,an,sn]}],"hue-rotate":[{"hue-rotate":[fi,an,sn]}],invert:[{invert:["",fi,an,sn]}],saturate:[{saturate:[fi,an,sn]}],sepia:[{sepia:["",fi,an,sn]}],"backdrop-filter":[{"backdrop-filter":["","none",an,sn]}],"backdrop-blur":[{"backdrop-blur":Ct()}],"backdrop-brightness":[{"backdrop-brightness":[fi,an,sn]}],"backdrop-contrast":[{"backdrop-contrast":[fi,an,sn]}],"backdrop-grayscale":[{"backdrop-grayscale":["",fi,an,sn]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[fi,an,sn]}],"backdrop-invert":[{"backdrop-invert":["",fi,an,sn]}],"backdrop-opacity":[{"backdrop-opacity":[fi,an,sn]}],"backdrop-saturate":[{"backdrop-saturate":[fi,an,sn]}],"backdrop-sepia":[{"backdrop-sepia":["",fi,an,sn]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",an,sn]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[fi,"initial",an,sn]}],ease:[{ease:["linear","initial",S,an,sn]}],delay:[{delay:[fi,an,sn]}],animate:[{animate:["none",R,an,sn]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[T,an,sn]}],"perspective-origin":[{"perspective-origin":B()}],rotate:[{rotate:Jt()}],"rotate-x":[{"rotate-x":Jt()}],"rotate-y":[{"rotate-y":Jt()}],"rotate-z":[{"rotate-z":Jt()}],scale:[{scale:It()}],"scale-x":[{"scale-x":It()}],"scale-y":[{"scale-y":It()}],"scale-z":[{"scale-z":It()}],"scale-3d":["scale-3d"],skew:[{skew:Sn()}],"skew-x":[{"skew-x":Sn()}],"skew-y":[{"skew-y":Sn()}],transform:[{transform:[an,sn,"","none","gpu","cpu"]}],"transform-origin":[{origin:B()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:hn()}],"translate-x":[{"translate-x":hn()}],"translate-y":[{"translate-y":hn()}],"translate-z":[{"translate-z":hn()}],"translate-none":["translate-none"],accent:[{accent:Q()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Q()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",an,sn]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",an,sn]}],fill:[{fill:["none",...Q()]}],"stroke-w":[{stroke:[fi,z7,p4,RM]}],stroke:[{stroke:["none",...Q()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Bue=Aue(Lue);function B0(...n){return Bue(pX(n))}const Uue=mX("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),QR=be.forwardRef(({className:n,variant:e,size:t,asChild:i=!1,...r},s)=>{const a=i?Q0e:"button";return W.jsx(a,{className:B0(Uue({variant:e,size:t,className:n})),ref:s,...r})});QR.displayName="Button";const T0=({children:n,onClick:e,variant:t="primary",size:i="md",className:r="",disabled:s=!1,loading:a=!1,as:o="button",...l})=>{const u="default",c={sm:"sm",md:"default",lg:"lg"},f=s||a;return o!=="button"?yr.createElement(QR,{asChild:!0,variant:u,size:c[i],disabled:f,style:{color:"hsl(var(--primary-foreground))"}},yr.createElement(o,{onClick:e,...l},a&&yr.createElement(BI,{className:"w-4 h-4 mr-2 animate-spin"}),n)):W.jsxs(QR,{onClick:e,disabled:f,variant:u,size:c[i],...l,children:[a&&W.jsx(BI,{className:"w-4 h-4 mr-2 animate-spin"}),n]})},wX=""+new URL("logo-BfFEiBFZ.svg",import.meta.url).href,Oue=()=>{const[n,e]=be.useState(!1),t=({to:r,children:s,className:a})=>W.jsx(DI,{to:r,className:({isActive:o})=>`py-2 text-sm font-medium transition-colors ${o?"text-secondary":"text-slate-700 hover:text-secondary"} ${a}`,onClick:()=>e(!1),children:s}),i=({to:r,children:s,className:a})=>W.jsx(DI,{to:r,className:({isActive:o})=>`py-2 text-xl font-medium transition-colors text-center ${o?"text-secondary":"text-slate-700 hover:text-secondary"} ${a}`,onClick:()=>e(!1),children:s});return W.jsx("header",{className:"sticky top-0 z-50 bg-emerald-50/80 backdrop-blur-lg shadow-sm",children:W.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[W.jsxs("div",{className:"flex items-center justify-between h-20",children:[W.jsx(Ba,{to:"/",className:"flex items-center space-x-2",children:W.jsx("img",{src:wX,alt:"CrackerJack People Partners",className:"h-12 w-auto"})}),W.jsx("nav",{className:"hidden lg:flex items-center space-x-8",children:jR.map(r=>r.subLinks?W.jsxs("div",{className:"relative group",children:[W.jsxs(Ba,{to:r.path,className:"flex items-center py-2 text-sm font-medium text-slate-700 hover:text-secondary",children:[r.name,W.jsx(P0e,{className:"w-4 h-4 ml-1"})]}),W.jsx("div",{className:"absolute top-full left-0 mt-1 w-48 bg-white rounded-md shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:r.subLinks.map(s=>W.jsx(Ba,{to:s.path,className:"block px-4 py-2 text-sm text-slate-700 hover:bg-slate-50 hover:text-secondary first:rounded-t-md last:rounded-b-md",children:s.name},s.name))})]},r.name):W.jsx(t,{to:r.path,children:r.name},r.name))}),W.jsx("div",{className:"hidden lg:flex items-center",children:W.jsx(T0,{as:Ba,to:"/contact",children:"Contact Us"})}),W.jsx("div",{className:"lg:hidden flex items-center",children:W.jsx("button",{onClick:()=>e(!n),"aria-label":"Toggle menu",children:n?W.jsx(H0e,{className:"w-6 h-6"}):W.jsx(V0e,{className:"w-6 h-6"})})})]}),n&&W.jsx("div",{className:"lg:hidden absolute top-full left-0 right-0 bg-white/95 backdrop-blur-lg shadow-lg border-t border-slate-200 z-40",children:W.jsxs("nav",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 flex flex-col space-y-4",children:[jR.map(r=>r.subLinks?W.jsxs("div",{children:[W.jsx("span",{className:"flex items-center justify-center py-2 text-xl font-medium text-slate-700",children:W.jsx(Ba,{to:r.path,onClick:()=>e(!1),children:r.name})}),W.jsx("div",{className:"pl-4",children:r.subLinks.map(s=>W.jsx(t,{to:s.path,className:"block text-center",children:s.name},s.name))})]},r.name):W.jsx(i,{to:r.path,children:r.name},r.name)),W.jsx(T0,{as:Ba,to:"/contact",className:"w-full text-center mt-4",children:"Contact Us"})]})})]})})},Iue=()=>W.jsx("footer",{className:"bg-primary text-slate-300",children:W.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[W.jsxs("div",{className:"md:col-span-1",children:[W.jsx("img",{src:wX,alt:"CrackerJack People Partners",className:"h-12 w-auto brightness-0 invert"}),W.jsx("p",{className:"mt-2 text-sm text-slate-400",children:"Partnering for growth."}),W.jsx("div",{className:"mt-4 flex space-x-4",children:W.jsx("a",{href:"https://www.linkedin.com/company/crackerjack-people-partners",target:"_blank",rel:"noopener noreferrer",className:"text-slate-400 hover:text-white transition-colors",children:W.jsx(I0e,{className:"w-6 h-6"})})})]}),W.jsxs("div",{children:[W.jsx("h3",{className:"text-sm font-semibold tracking-wider uppercase text-white",children:"Quick Links"}),W.jsx("ul",{className:"mt-4 space-y-2",children:jR.map(n=>W.jsx("li",{children:W.jsx(Ba,{to:n.path,className:"text-base text-slate-400 hover:text-white transition-colors",children:n.name})},n.name))})]}),W.jsxs("div",{children:[W.jsx("h3",{className:"text-sm font-semibold tracking-wider uppercase text-white",children:"Contact"}),W.jsxs("ul",{className:"mt-4 space-y-2 text-base text-slate-400",children:[W.jsx("li",{children:W.jsx("a",{href:"mailto:alex@crackerjack-people.com",className:"hover:text-white transition-colors",children:"alex@crackerjack-people.com"})}),W.jsx("li",{children:W.jsx("a",{href:"tel:+6587588048",className:"hover:text-white transition-colors",children:"+65 8758 8048"})})]})]})]}),W.jsx("div",{className:"mt-8 border-t border-slate-700 pt-8 text-center text-sm text-slate-400",children:W.jsxs("p",{children:[" ",new Date().getFullYear()," CrackerJack People Partners. All rights reserved."]})})]})}),Fue=""+new URL("greenfields-BZdCpjl9.jpg",import.meta.url).href,RX=({title:n,subtitle:e,buttonText:t,buttonLink:i="/contact"})=>W.jsxs("section",{className:"relative bg-secondary mt-48",children:[W.jsxs("div",{className:"absolute inset-0",children:[W.jsx("img",{src:Fue,alt:"Green terraced fields",className:"w-full h-full object-cover"}),W.jsx("div",{className:"absolute inset-0 bg-slate-900 opacity-60"})]}),W.jsxs("div",{className:"relative container mx-auto px-4 sm:px-6 lg:px-8 py-32 text-center text-white",children:[W.jsx("h2",{className:"text-3xl md:text-4xl font-bold",children:n}),W.jsx("p",{className:"mt-4 text-lg text-slate-200",children:e}),W.jsx("div",{className:"mt-8",children:W.jsx(T0,{as:Ba,to:i,children:t})})]})]}),ed=be.forwardRef(({className:n,...e},t)=>W.jsx("div",{ref:t,className:B0("rounded-lg border bg-card text-card-foreground shadow-sm",n),...e}));ed.displayName="Card";const jv=be.forwardRef(({className:n,...e},t)=>W.jsx("div",{ref:t,className:B0("flex flex-col space-y-1.5 p-6",n),...e}));jv.displayName="CardHeader";const Wv=be.forwardRef(({className:n,...e},t)=>W.jsx("div",{ref:t,className:B0("text-2xl font-semibold leading-none tracking-tight",n),...e}));Wv.displayName="CardTitle";const Xv=be.forwardRef(({className:n,...e},t)=>W.jsx("div",{ref:t,className:B0("text-sm text-muted-foreground",n),...e}));Xv.displayName="CardDescription";const Yv=be.forwardRef(({className:n,...e},t)=>W.jsx("div",{ref:t,className:B0("p-6 pt-0",n),...e}));Yv.displayName="CardContent";const Qv=be.forwardRef(({className:n,...e},t)=>W.jsx("div",{ref:t,className:B0("flex items-center p-6 pt-0",n),...e}));Qv.displayName="CardFooter";const $v=({children:n,className:e="",onClick:t})=>{const i=B0("transition-shadow duration-300 hover:shadow-xl",e);return t?W.jsx("button",{onClick:t,className:B0(i,"text-left"),children:W.jsx(ed,{className:"h-full",children:n})}):W.jsx(ed,{className:i,children:n})};function zue(){return W.jsx("div",{className:"py-20 lg:py-20",children:W.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-10 md:gap-2 max-w-7xl mx-auto",children:Vue.map(n=>W.jsxs("div",{className:"relative bg-gradient-to-b dark:from-neutral-900 from-neutral-100 dark:to-neutral-950 to-white p-6 rounded-3xl overflow-hidden",children:[W.jsx(kue,{size:20}),W.jsx("p",{className:"text-4xl font-light text-neutral-800 dark:text-white relative z-20",children:n.title}),W.jsx("p",{className:"text-neutral-600 dark:text-neutral-400 mt-4 text-base font-normal relative z-20",children:n.description})]},n.title))})})}const Vue=[{title:"20%",description:"Increase in Employee Retention"},{title:"40%",description:"Savings on HR leadership costs"},{title:"2x",description:"Revenue growth within a year for a key client"}],kue=({pattern:n,size:e})=>{const t=n??[[Math.floor(Math.random()*4)+7,Math.floor(Math.random()*6)+1],[Math.floor(Math.random()*4)+7,Math.floor(Math.random()*6)+1],[Math.floor(Math.random()*4)+7,Math.floor(Math.random()*6)+1],[Math.floor(Math.random()*4)+7,Math.floor(Math.random()*6)+1],[Math.floor(Math.random()*4)+7,Math.floor(Math.random()*6)+1]];return W.jsx("div",{className:"pointer-events-none absolute left-1/2 top-0  -ml-20 -mt-2 h-full w-full [mask-image:linear-gradient(white,transparent)]",children:W.jsx("div",{className:"absolute inset-0 bg-gradient-to-r  [mask-image:radial-gradient(farthest-side_at_top,white,transparent)] dark:from-zinc-900/30 from-zinc-100/30 to-zinc-300/30 dark:to-zinc-900/30 opacity-100",children:W.jsx(Gue,{width:e??20,height:e??20,x:"-12",y:"4",squares:t,className:"absolute inset-0 h-full w-full  mix-blend-overlay dark:fill-white/10 dark:stroke-white/10 stroke-black/10 fill-black/10"})})})};function Gue({width:n,height:e,x:t,y:i,squares:r,...s}){const a=be.useId();return W.jsxs("svg",{"aria-hidden":"true",...s,children:[W.jsx("defs",{children:W.jsx("pattern",{id:a,width:n,height:e,patternUnits:"userSpaceOnUse",x:t,y:i,children:W.jsx("path",{d:`M.5 ${e}V.5H${n}`,fill:"none"})})}),W.jsx("rect",{width:"100%",height:"100%",strokeWidth:0,fill:`url(#${a})`}),r&&W.jsx("svg",{x:t,y:i,className:"overflow-visible",children:r.map(([o,l])=>W.jsx("rect",{strokeWidth:"0",width:n+1,height:e+1,x:o*n,y:l*e},`${o}-${l}`))})]})}const que=""+new URL("herobg-CwrtvDQp.jpg",import.meta.url).href,CX=""+new URL("fractional-kcBd7A4s.jpg",import.meta.url).href,NX=""+new URL("hradv-CcdlRozZ.jpg",import.meta.url).href,DX=""+new URL("leader-CnuZoKlK.jpg",import.meta.url).href,Hue=""+new URL("crackerjack-diff-DsQI74kt.png",import.meta.url).href,jue=()=>W.jsxs("div",{className:"space-y-24 md:space-y-32",children:[W.jsxs("section",{className:"relative bg-primary text-white h-[80svh] flex items-center",children:[W.jsxs("div",{className:"absolute inset-0",children:[W.jsx("img",{src:que,alt:"person in modern office background",className:"w-full h-full object-cover"}),W.jsx("div",{className:"absolute inset-0 bg-slate-900 opacity-60"}),W.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none",children:[W.jsx("defs",{children:W.jsxs("filter",{id:"noiseFilter",x:"0%",y:"0%",width:"100%",height:"100%",children:[W.jsx("feTurbulence",{baseFrequency:"0.5",numOctaves:"20",stitchTiles:"stitch",type:"fractalNoise"}),W.jsx("feColorMatrix",{type:"saturate",values:"0"}),W.jsx("feBlend",{mode:"multiply",in2:"SourceGraphic"})]})}),W.jsx("rect",{width:"100%",height:"100%",filter:"url(#noiseFilter)",opacity:"0.2",fill:"white"})]})]}),W.jsxs("div",{className:"relative container mx-auto px-4 sm:px-6 lg:px-8 text-center w-full",children:[W.jsxs("h1",{className:"text-5xl md:text-6xl font-semibold tracking-tight",children:["Your Partner for ",W.jsx("span",{className:"text-emerald-400 relative inline-block shimmer-text",children:"Growth"})]}),W.jsx("p",{className:"mt-6 max-w-3xl mx-auto text-lg md:text-xl text-slate-300",children:"We are dedicated People Partners, providing turnkey solutions for fractional talent, HR advisory, and development."}),W.jsxs("div",{className:"mt-10 flex flex-col sm:flex-row justify-center items-center gap-4",children:[W.jsx(T0,{as:Ba,to:"/services",variant:"primary",size:"md",className:"w-full sm:w-auto",children:"Explore Our Services"}),W.jsx(T0,{as:Ba,to:"/contact",size:"md",className:"w-full sm:w-auto",children:"Book a Consultation"})]})]})]}),W.jsxs("section",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[W.jsxs("div",{className:"text-center",children:[W.jsx("h2",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:"Customized Talent Solutions for Your Business"}),W.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-slate-600",children:"We offer a suite of services designed to meet you where you are and help you grow."})]}),W.jsxs("div",{className:"mt-12 grid md:grid-cols-3 gap-8",children:[W.jsxs($v,{className:"overflow-hidden",children:[W.jsx("div",{className:"h-48 bg-gradient-to-br from-blue-500 to-purple-600",children:W.jsx("img",{src:CX,alt:"Fractional Talent",className:"w-full h-full object-cover opacity-80"})}),W.jsxs("div",{className:"p-8 text-center",children:[W.jsx("h3",{className:"text-xl font-bold text-primary",children:"Fractional Talent"}),W.jsx("p",{className:"mt-4 text-slate-600",children:"Access top-tier experts on a part-time basis, bringing specialized skills to your team exactly when you need them."})]})]}),W.jsxs($v,{className:"overflow-hidden",children:[W.jsx("div",{className:"h-48 bg-gradient-to-br from-green-500 to-teal-600",children:W.jsx("img",{src:NX,alt:"HR Advisory",className:"w-full h-full object-cover opacity-80"})}),W.jsxs("div",{className:"p-8 text-center",children:[W.jsx("h3",{className:"text-xl font-bold text-primary",children:"HR Advisory"}),W.jsx("p",{className:"mt-4 text-slate-600",children:"Optimize your people practices, systems, and processes with strategic guidance from seasoned HR professionals."})]})]}),W.jsxs($v,{className:"overflow-hidden",children:[W.jsx("div",{className:"h-48 bg-gradient-to-br from-orange-500 to-red-600",children:W.jsx("img",{src:DX,alt:"Leadership & Team Coaching",className:"w-full h-full object-cover opacity-80"})}),W.jsxs("div",{className:"p-8 text-center",children:[W.jsx("h3",{className:"text-xl font-bold text-primary",children:"Leadership & Team Coaching"}),W.jsx("p",{className:"mt-4 text-slate-600",children:"Unlock the full potential of your leaders and teams through targeted coaching and development programs."})]})]})]}),W.jsx("div",{className:"mt-12 text-center",children:W.jsx(T0,{as:Ba,to:"/services",variant:"secondary",children:"Learn More About Our Services"})})]}),W.jsx("section",{className:"bg-slate-100 py-20",children:W.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[W.jsxs("div",{className:"text-center",children:[W.jsx("h2",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:"Real-World Results"}),W.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-slate-600",children:"We deliver measurable impact for our clients."})]}),W.jsx(zue,{}),W.jsx("div",{className:"mt-12 text-center",children:W.jsx(T0,{as:Ba,to:"/case-studies",variant:"secondary",children:"See Our Case Studies"})})]})}),W.jsx("section",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:W.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[W.jsx("div",{children:W.jsx("img",{src:Hue,alt:"CrackerJack Distinction",className:"w-[65vw] md:w-full"})}),W.jsxs("div",{children:[W.jsx("h2",{className:"text-3xl md:text-4xl font-bold tracking-tight",children:"The CrackerJack Distinction"}),W.jsx("p",{className:"mt-4 text-lg text-slate-600",children:"What makes us different is our commitment to your success."}),W.jsx("ul",{className:"mt-8 space-y-4",children:W0e.map((n,e)=>W.jsxs("li",{className:"flex items-start",children:[W.jsx(nA,{className:"w-6 h-6 text-slate-400 flex-shrink-0 mr-3 mt-1"}),W.jsx("span",{className:"text-slate-600 text-lg",children:n})]},e))}),W.jsx("div",{className:"mt-10",children:W.jsx(T0,{as:Ba,to:"/about",variant:"secondary",children:"Learn More About Us"})})]})]})}),W.jsx(RX,{title:"Let's explore greenfields together.",subtitle:"Contact us for a no-obligations discussion about your business needs.",buttonText:"Get In Touch"})]}),Wue=()=>{const n=["Employer branding","Executive Search","Campus recruitment","Talent mapping","M&A (HR)","Outplacement","Surveys (Culture, engagement, compensation)","Talent assessments","Training"];return W.jsxs("div",{className:"bg-white",children:[W.jsx("section",{className:"bg-slate-100 py-16 md:py-24 text-center",children:W.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[W.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-primary",children:"Our Services"}),W.jsx("p",{className:"mt-4 max-w-3xl mx-auto text-lg text-slate-600",children:"We deliver customized solutions by combining deep expertise with a flexible approach, ensuring your talent and HR strategies drive business success."})]})}),W.jsx("section",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-20",children:W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[W.jsxs(ed,{className:"hover:shadow-lg transition-shadow duration-300 flex flex-col h-full",children:[W.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-t-lg",children:W.jsx("img",{src:CX,alt:"Fractional Talent Services",className:"w-full h-full object-cover"})}),W.jsx(jv,{children:W.jsx(Wv,{className:"text-primary",children:"Fractional Hires"})}),W.jsxs(Yv,{className:"flex-grow",children:[W.jsx(Xv,{className:"text-slate-600 text-lg mb-6",children:"Gain access to senior-level expertise without the cost of a full-time executive. Our fractional model provides the strategic leadership you need, when you need it."}),W.jsxs("ul",{className:"space-y-3 text-slate-600",children:[W.jsxs("li",{className:"flex items-center",children:[W.jsx(Gu,{className:"w-5 h-5 text-secondary mr-3 flex-shrink-0"}),"Fractional CHRO, HR Director, Head of Talent"]}),W.jsxs("li",{className:"flex items-center",children:[W.jsx(Gu,{className:"w-5 h-5 text-secondary mr-3 flex-shrink-0"}),"HR Business Partners"]}),W.jsxs("li",{className:"flex items-center",children:[W.jsx(Gu,{className:"w-5 h-5 text-secondary mr-3 flex-shrink-0"}),"Talent Acquisition and Management Specialists"]})]})]}),W.jsx(Qv,{className:"mt-auto",children:W.jsxs(T0,{as:Ba,to:"/services/fractional-talent",className:"w-full",children:["Learn More ",W.jsx(EM,{className:"w-4 h-4 ml-2"})]})})]}),W.jsxs(ed,{className:"hover:shadow-lg transition-shadow duration-300 flex flex-col h-full",children:[W.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-t-lg",children:W.jsx("img",{src:NX,alt:"HR Advisory Services",className:"w-full h-full object-cover"})}),W.jsx(jv,{children:W.jsx(Wv,{className:"text-primary",children:"HR Advisory"})}),W.jsxs(Yv,{className:"flex-grow",children:[W.jsx(Xv,{className:"text-slate-600 text-lg mb-6",children:"Strengthen your HR foundation with our expert advisory services. We help you design and implement practices that attract, retain, and develop top talent."}),W.jsxs("ul",{className:"space-y-3 text-slate-600",children:[W.jsxs("li",{className:"flex items-center",children:[W.jsx(Gu,{className:"w-5 h-5 text-secondary mr-3 flex-shrink-0"}),"HR framework and policies design"]}),W.jsxs("li",{className:"flex items-center",children:[W.jsx(Gu,{className:"w-5 h-5 text-secondary mr-3 flex-shrink-0"}),"Performance management systems"]}),W.jsxs("li",{className:"flex items-center",children:[W.jsx(Gu,{className:"w-5 h-5 text-secondary mr-3 flex-shrink-0"}),"Compensation and benefits analysis"]}),W.jsxs("li",{className:"flex items-center",children:[W.jsx(Gu,{className:"w-5 h-5 text-secondary mr-3 flex-shrink-0"}),"Employee relations and compliance"]})]})]}),W.jsx(Qv,{className:"mt-auto",children:W.jsxs(T0,{as:Ba,to:"/services/hr-advisory",className:"w-full",children:["Learn More ",W.jsx(EM,{className:"w-4 h-4 ml-2"})]})})]}),W.jsxs(ed,{className:"hover:shadow-lg transition-shadow duration-300 flex flex-col h-full",children:[W.jsx("div",{className:"aspect-video w-full overflow-hidden rounded-t-lg",children:W.jsx("img",{src:DX,alt:"Leadership & Team Coaching Services",className:"w-full h-full object-cover"})}),W.jsx(jv,{children:W.jsx(Wv,{className:"text-primary",children:"Leadership & Team Coaching"})}),W.jsxs(Yv,{className:"flex-grow",children:[W.jsx(Xv,{className:"text-slate-600 text-lg mb-6",children:"Invest in your most valuable assetyour people. Our coaching programs are designed to enhance leadership capabilities, improve team dynamics, and foster a culture of high performance."}),W.jsxs("ul",{className:"space-y-3 text-slate-600",children:[W.jsxs("li",{className:"flex items-center",children:[W.jsx(Gu,{className:"w-5 h-5 text-secondary mr-3 flex-shrink-0"}),"Executive and leadership coaching"]}),W.jsxs("li",{className:"flex items-center",children:[W.jsx(Gu,{className:"w-5 h-5 text-secondary mr-3 flex-shrink-0"}),"Team effectiveness workshops"]}),W.jsxs("li",{className:"flex items-center",children:[W.jsx(Gu,{className:"w-5 h-5 text-secondary mr-3 flex-shrink-0"}),"Talent development and succession planning"]})]})]}),W.jsx(Qv,{className:"mt-auto",children:W.jsxs(T0,{as:Ba,to:"/services/coaching",className:"w-full",children:["Learn More ",W.jsx(EM,{className:"w-4 h-4 ml-2"})]})})]})]})}),W.jsx("section",{className:"bg-slate-50 py-20",children:W.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[W.jsxs("div",{className:"text-center",children:[W.jsx("h2",{className:"text-3xl font-bold text-primary",children:"Integrated Value-Added Services"}),W.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-slate-600",children:"Through our trusted network of partners, we offer a range of specialized services to provide a holistic solution for your business."})]}),W.jsx("div",{className:"mt-12",children:W.jsx("div",{className:"flex flex-wrap justify-center gap-4",children:n.map(e=>W.jsx("span",{className:"bg-white text-secondary py-2 px-4 rounded-full shadow-sm text-sm font-medium",children:e},e))})})]})})]})},PX=be.createContext({});function Xue(n){const e=be.useRef(null);return e.current===null&&(e.current=n()),e.current}const $D=typeof window<"u",Yue=$D?be.useLayoutEffect:be.useEffect,KD=be.createContext(null);function ZD(n,e){n.indexOf(e)===-1&&n.push(e)}function JD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Fc=(n,e,t)=>t>e?e:t<n?n:t;let eP=()=>{};const zc={},LX=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n);function BX(n){return typeof n=="object"&&n!==null}const UX=n=>/^0[^.\s]+$/u.test(n);function tP(n){let e;return()=>(e===void 0&&(e=n()),e)}const N0=n=>n,Que=(n,e)=>t=>e(n(t)),qp=(...n)=>n.reduce(Que),zA=(n,e,t)=>{const i=e-n;return i===0?1:(t-n)/i};class nP{constructor(){this.subscriptions=[]}add(e){return ZD(this.subscriptions,e),()=>JD(this.subscriptions,e)}notify(e,t,i){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](e,t,i);else for(let s=0;s<r;s++){const a=this.subscriptions[s];a&&a(e,t,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const u1=n=>n*1e3,c1=n=>n/1e3;function OX(n,e){return e?n*(1e3/e):0}const IX=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,$ue=1e-7,Kue=12;function Zue(n,e,t,i,r){let s,a,o=0;do a=e+(t-e)/2,s=IX(a,i,r)-n,s>0?t=a:e=a;while(Math.abs(s)>$ue&&++o<Kue);return a}function Hp(n,e,t,i){if(n===e&&t===i)return N0;const r=s=>Zue(s,0,1,n,t);return s=>s===0||s===1?s:IX(r(s),e,i)}const FX=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,zX=n=>e=>1-n(1-e),VX=Hp(.33,1.53,.69,.99),iP=zX(VX),kX=FX(iP),GX=n=>(n*=2)<1?.5*iP(n):.5*(2-Math.pow(2,-10*(n-1))),rP=n=>1-Math.sin(Math.acos(n)),qX=zX(rP),HX=FX(rP),Jue=Hp(.42,0,1,1),e1e=Hp(0,0,.58,1),jX=Hp(.42,0,.58,1),t1e=n=>Array.isArray(n)&&typeof n[0]!="number",WX=n=>Array.isArray(n)&&typeof n[0]=="number",n1e={linear:N0,easeIn:Jue,easeInOut:jX,easeOut:e1e,circIn:rP,circInOut:HX,circOut:qX,backIn:iP,backInOut:kX,backOut:VX,anticipate:GX},i1e=n=>typeof n=="string",GI=n=>{if(WX(n)){eP(n.length===4);const[e,t,i,r]=n;return Hp(e,t,i,r)}else if(i1e(n))return n1e[n];return n},Xg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],qI={value:null};function r1e(n,e){let t=new Set,i=new Set,r=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function u(f){a.has(f)&&(c.schedule(f),n()),l++,f(o)}const c={schedule:(f,m=!1,v=!1)=>{const T=v&&r?t:i;return m&&a.add(f),T.has(f)||T.add(f),f},cancel:f=>{i.delete(f),a.delete(f)},process:f=>{if(o=f,r){s=!0;return}r=!0,[t,i]=[i,t],t.forEach(u),e&&qI.value&&qI.value.frameloop[e].push(l),l=0,t.clear(),r=!1,s&&(s=!1,c.process(f))}};return c}const s1e=40;function XX(n,e){let t=!1,i=!0;const r={delta:0,timestamp:0,isProcessing:!1},s=()=>t=!0,a=Xg.reduce((C,P)=>(C[P]=r1e(s,e?P:void 0),C),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:c,update:f,preRender:m,render:v,postRender:_}=a,T=()=>{const C=zc.useManualTiming?r.timestamp:performance.now();t=!1,zc.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(C-r.timestamp,s1e),1)),r.timestamp=C,r.isProcessing=!0,o.process(r),l.process(r),u.process(r),c.process(r),f.process(r),m.process(r),v.process(r),_.process(r),r.isProcessing=!1,t&&e&&(i=!1,n(T))},M=()=>{t=!0,i=!0,r.isProcessing||n(T)};return{schedule:Xg.reduce((C,P)=>{const B=a[P];return C[P]=(O,V=!1,F=!1)=>(t||M(),B.schedule(O,V,F)),C},{}),cancel:C=>{for(let P=0;P<Xg.length;P++)a[Xg[P]].cancel(C)},state:r,steps:a}}const{schedule:jr,cancel:M3,state:Pa,steps:CM}=XX(typeof requestAnimationFrame<"u"?requestAnimationFrame:N0,!0);let Kv;function a1e(){Kv=void 0}const Ko={now:()=>(Kv===void 0&&Ko.set(Pa.isProcessing||zc.useManualTiming?Pa.timestamp:performance.now()),Kv),set:n=>{Kv=n,queueMicrotask(a1e)}},YX=n=>e=>typeof e=="string"&&e.startsWith(n),sP=YX("--"),o1e=YX("var(--"),aP=n=>o1e(n)?l1e.test(n.split("/*")[0].trim()):!1,l1e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,m8={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},VA={...m8,transform:n=>Fc(0,1,n)},Yg={...m8,default:1},iA=n=>Math.round(n*1e5)/1e5,oP=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function u1e(n){return n==null}const c1e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lP=(n,e)=>t=>!!(typeof t=="string"&&c1e.test(t)&&t.startsWith(n)||e&&!u1e(t)&&Object.prototype.hasOwnProperty.call(t,e)),QX=(n,e,t)=>i=>{if(typeof i!="string")return i;const[r,s,a,o]=i.match(oP);return{[n]:parseFloat(r),[e]:parseFloat(s),[t]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},f1e=n=>Fc(0,255,n),NM={...m8,transform:n=>Math.round(f1e(n))},tf={test:lP("rgb","red"),parse:QX("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:i=1})=>"rgba("+NM.transform(n)+", "+NM.transform(e)+", "+NM.transform(t)+", "+iA(VA.transform(i))+")"};function h1e(n){let e="",t="",i="",r="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),i=n.substring(5,7),r=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),i=n.substring(3,4),r=n.substring(4,5),e+=e,t+=t,i+=i,r+=r),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}}const $R={test:lP("#"),parse:h1e,transform:tf.transform},jp=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),I2=jp("deg"),f1=jp("%"),Un=jp("px"),d1e=jp("vh"),A1e=jp("vw"),HI={...f1,parse:n=>f1.parse(n)/100,transform:n=>f1.transform(n*100)},D6={test:lP("hsl","hue"),parse:QX("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:i=1})=>"hsla("+Math.round(n)+", "+f1.transform(iA(e))+", "+f1.transform(iA(t))+", "+iA(VA.transform(i))+")"},Ls={test:n=>tf.test(n)||$R.test(n)||D6.test(n),parse:n=>tf.test(n)?tf.parse(n):D6.test(n)?D6.parse(n):$R.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?tf.transform(n):D6.transform(n),getAnimatableNone:n=>{const e=Ls.parse(n);return e.alpha=0,Ls.transform(e)}},p1e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function m1e(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(oP))==null?void 0:e.length)||0)+(((t=n.match(p1e))==null?void 0:t.length)||0)>0}const $X="number",KX="color",g1e="var",y1e="var(",jI="${}",v1e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function kA(n){const e=n.toString(),t=[],i={color:[],number:[],var:[]},r=[];let s=0;const o=e.replace(v1e,l=>(Ls.test(l)?(i.color.push(s),r.push(KX),t.push(Ls.parse(l))):l.startsWith(y1e)?(i.var.push(s),r.push(g1e),t.push(l)):(i.number.push(s),r.push($X),t.push(parseFloat(l))),++s,jI)).split(jI);return{values:t,split:o,indexes:i,types:r}}function ZX(n){return kA(n).values}function JX(n){const{split:e,types:t}=kA(n),i=e.length;return r=>{let s="";for(let a=0;a<i;a++)if(s+=e[a],r[a]!==void 0){const o=t[a];o===$X?s+=iA(r[a]):o===KX?s+=Ls.transform(r[a]):s+=r[a]}return s}}const x1e=n=>typeof n=="number"?0:Ls.test(n)?Ls.getAnimatableNone(n):n;function _1e(n){const e=ZX(n);return JX(n)(e.map(x1e))}const E3={test:m1e,parse:ZX,createTransformer:JX,getAnimatableNone:_1e};function DM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function b1e({hue:n,saturation:e,lightness:t,alpha:i}){n/=360,e/=100,t/=100;let r=0,s=0,a=0;if(!e)r=s=a=t;else{const o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;r=DM(l,o,n+1/3),s=DM(l,o,n),a=DM(l,o,n-1/3)}return{red:Math.round(r*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:i}}function e_(n,e){return t=>t>0?e:n}const Zr=(n,e,t)=>n+(e-n)*t,PM=(n,e,t)=>{const i=n*n,r=t*(e*e-i)+i;return r<0?0:Math.sqrt(r)},S1e=[$R,tf,D6],T1e=n=>S1e.find(e=>e.test(n));function WI(n){const e=T1e(n);if(!e)return!1;let t=e.parse(n);return e===D6&&(t=b1e(t)),t}const XI=(n,e)=>{const t=WI(n),i=WI(e);if(!t||!i)return e_(n,e);const r={...t};return s=>(r.red=PM(t.red,i.red,s),r.green=PM(t.green,i.green,s),r.blue=PM(t.blue,i.blue,s),r.alpha=Zr(t.alpha,i.alpha,s),tf.transform(r))},KR=new Set(["none","hidden"]);function M1e(n,e){return KR.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function E1e(n,e){return t=>Zr(n,e,t)}function uP(n){return typeof n=="number"?E1e:typeof n=="string"?aP(n)?e_:Ls.test(n)?XI:C1e:Array.isArray(n)?eY:typeof n=="object"?Ls.test(n)?XI:w1e:e_}function eY(n,e){const t=[...n],i=t.length,r=n.map((s,a)=>uP(s)(s,e[a]));return s=>{for(let a=0;a<i;a++)t[a]=r[a](s);return t}}function w1e(n,e){const t={...n,...e},i={};for(const r in t)n[r]!==void 0&&e[r]!==void 0&&(i[r]=uP(n[r])(n[r],e[r]));return r=>{for(const s in i)t[s]=i[s](r);return t}}function R1e(n,e){const t=[],i={color:0,var:0,number:0};for(let r=0;r<e.values.length;r++){const s=e.types[r],a=n.indexes[s][i[s]],o=n.values[a]??0;t[r]=o,i[s]++}return t}const C1e=(n,e)=>{const t=E3.createTransformer(e),i=kA(n),r=kA(e);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?KR.has(n)&&!r.values.length||KR.has(e)&&!i.values.length?M1e(n,e):qp(eY(R1e(i,r),r.values),t):e_(n,e)};function tY(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?Zr(n,e,t):uP(n)(n,e)}const N1e=n=>{const e=({timestamp:t})=>n(t);return{start:(t=!0)=>jr.update(e,t),stop:()=>M3(e),now:()=>Pa.isProcessing?Pa.timestamp:Ko.now()}},nY=(n,e,t=10)=>{let i="";const r=Math.max(Math.round(e/t),2);for(let s=0;s<r;s++)i+=Math.round(n(s/(r-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},t_=2e4;function cP(n){let e=0;const t=50;let i=n.next(e);for(;!i.done&&e<t_;)e+=t,i=n.next(e);return e>=t_?1/0:e}function D1e(n,e=100,t){const i=t({...n,keyframes:[0,e]}),r=Math.min(cP(i),t_);return{type:"keyframes",ease:s=>i.next(r*s).value/e,duration:c1(r)}}const P1e=5;function iY(n,e,t){const i=Math.max(e-P1e,0);return OX(t-n(i),e-i)}const os={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},LM=.001;function L1e({duration:n=os.duration,bounce:e=os.bounce,velocity:t=os.velocity,mass:i=os.mass}){let r,s,a=1-e;a=Fc(os.minDamping,os.maxDamping,a),n=Fc(os.minDuration,os.maxDuration,c1(n)),a<1?(r=u=>{const c=u*a,f=c*n,m=c-t,v=ZR(u,a),_=Math.exp(-f);return LM-m/v*_},s=u=>{const f=u*a*n,m=f*t+t,v=Math.pow(a,2)*Math.pow(u,2)*n,_=Math.exp(-f),T=ZR(Math.pow(u,2),a);return(-r(u)+LM>0?-1:1)*((m-v)*_)/T}):(r=u=>{const c=Math.exp(-u*n),f=(u-t)*n+1;return-LM+c*f},s=u=>{const c=Math.exp(-u*n),f=(t-u)*(n*n);return c*f});const o=5/n,l=U1e(r,s,o);if(n=u1(n),isNaN(l))return{stiffness:os.stiffness,damping:os.damping,duration:n};{const u=Math.pow(l,2)*i;return{stiffness:u,damping:a*2*Math.sqrt(i*u),duration:n}}}const B1e=12;function U1e(n,e,t){let i=t;for(let r=1;r<B1e;r++)i=i-n(i)/e(i);return i}function ZR(n,e){return n*Math.sqrt(1-e*e)}const O1e=["duration","bounce"],I1e=["stiffness","damping","mass"];function YI(n,e){return e.some(t=>n[t]!==void 0)}function F1e(n){let e={velocity:os.velocity,stiffness:os.stiffness,damping:os.damping,mass:os.mass,isResolvedFromDuration:!1,...n};if(!YI(n,I1e)&&YI(n,O1e))if(n.visualDuration){const t=n.visualDuration,i=2*Math.PI/(t*1.2),r=i*i,s=2*Fc(.05,1,1-(n.bounce||0))*Math.sqrt(r);e={...e,mass:os.mass,stiffness:r,damping:s}}else{const t=L1e(n);e={...e,...t,mass:os.mass},e.isResolvedFromDuration=!0}return e}function n_(n=os.visualDuration,e=os.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:i,restDelta:r}=t;const s=t.keyframes[0],a=t.keyframes[t.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:c,duration:f,velocity:m,isResolvedFromDuration:v}=F1e({...t,velocity:-c1(t.velocity||0)}),_=m||0,T=u/(2*Math.sqrt(l*c)),M=a-s,S=c1(Math.sqrt(l/c)),R=Math.abs(M)<5;i||(i=R?os.restSpeed.granular:os.restSpeed.default),r||(r=R?os.restDelta.granular:os.restDelta.default);let C;if(T<1){const B=ZR(S,T);C=O=>{const V=Math.exp(-T*S*O);return a-V*((_+T*S*M)/B*Math.sin(B*O)+M*Math.cos(B*O))}}else if(T===1)C=B=>a-Math.exp(-S*B)*(M+(_+S*M)*B);else{const B=S*Math.sqrt(T*T-1);C=O=>{const V=Math.exp(-T*S*O),F=Math.min(B*O,300);return a-V*((_+T*S*M)*Math.sinh(F)+B*M*Math.cosh(F))/B}}const P={calculatedDuration:v&&f||null,next:B=>{const O=C(B);if(v)o.done=B>=f;else{let V=B===0?_:0;T<1&&(V=B===0?u1(_):iY(C,B,O));const F=Math.abs(V)<=i,z=Math.abs(a-O)<=r;o.done=F&&z}return o.value=o.done?a:O,o},toString:()=>{const B=Math.min(cP(P),t_),O=nY(V=>P.next(B*V).value,B,30);return B+"ms "+O},toTransition:()=>{}};return P}n_.applyToOptions=n=>{const e=D1e(n,100,n_);return n.ease=e.ease,n.duration=u1(e.duration),n.type="keyframes",n};function JR({keyframes:n,velocity:e=0,power:t=.8,timeConstant:i=325,bounceDamping:r=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:c}){const f=n[0],m={done:!1,value:f},v=F=>o!==void 0&&F<o||l!==void 0&&F>l,_=F=>o===void 0?l:l===void 0||Math.abs(o-F)<Math.abs(l-F)?o:l;let T=t*e;const M=f+T,S=a===void 0?M:a(M);S!==M&&(T=S-f);const R=F=>-T*Math.exp(-F/i),C=F=>S+R(F),P=F=>{const z=R(F),k=C(F);m.done=Math.abs(z)<=u,m.value=m.done?S:k};let B,O;const V=F=>{v(m.value)&&(B=F,O=n_({keyframes:[m.value,_(m.value)],velocity:iY(C,F,m.value),damping:r,stiffness:s,restDelta:u,restSpeed:c}))};return V(0),{calculatedDuration:null,next:F=>{let z=!1;return!O&&B===void 0&&(z=!0,P(F),V(F)),B!==void 0&&F>=B?O.next(F-B):(!z&&P(F),m)}}}function z1e(n,e,t){const i=[],r=t||zc.mix||tY,s=n.length-1;for(let a=0;a<s;a++){let o=r(n[a],n[a+1]);if(e){const l=Array.isArray(e)?e[a]||N0:e;o=qp(l,o)}i.push(o)}return i}function V1e(n,e,{clamp:t=!0,ease:i,mixer:r}={}){const s=n.length;if(eP(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=n[0]===n[1];n[0]>n[s-1]&&(n=[...n].reverse(),e=[...e].reverse());const o=z1e(e,i,r),l=o.length,u=c=>{if(a&&c<n[0])return e[0];let f=0;if(l>1)for(;f<n.length-2&&!(c<n[f+1]);f++);const m=zA(n[f],n[f+1],c);return o[f](m)};return t?c=>u(Fc(n[0],n[s-1],c)):u}function k1e(n,e){const t=n[n.length-1];for(let i=1;i<=e;i++){const r=zA(0,e,i);n.push(Zr(t,1,r))}}function G1e(n){const e=[0];return k1e(e,n.length-1),e}function q1e(n,e){return n.map(t=>t*e)}function H1e(n,e){return n.map(()=>e||jX).splice(0,n.length-1)}function rA({duration:n=300,keyframes:e,times:t,ease:i="easeInOut"}){const r=t1e(i)?i.map(GI):GI(i),s={done:!1,value:e[0]},a=q1e(t&&t.length===e.length?t:G1e(e),n),o=V1e(a,e,{ease:Array.isArray(r)?r:H1e(e,r)});return{calculatedDuration:n,next:l=>(s.value=o(l),s.done=l>=n,s)}}const j1e=n=>n!==null;function fP(n,{repeat:e,repeatType:t="loop"},i,r=1){const s=n.filter(j1e),o=r<0||e&&t!=="loop"&&e%2===1?0:s.length-1;return!o||i===void 0?s[o]:i}const W1e={decay:JR,inertia:JR,tween:rA,keyframes:rA,spring:n_};function rY(n){typeof n.type=="string"&&(n.type=W1e[n.type])}class hP{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}}const X1e=n=>n/100;class dP extends hP{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,r;const{motionValue:t}=this.options;t&&t.updatedAt!==Ko.now()&&this.tick(Ko.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(r=(i=this.options).onStop)==null||r.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;rY(e);const{type:t=rA,repeat:i=0,repeatDelay:r=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=t||rA;l!==rA&&typeof o[0]!="number"&&(this.mixKeyframes=qp(X1e,tY(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=cP(u));const{calculatedDuration:c}=u;this.calculatedDuration=c,this.resolvedDuration=c+r,this.totalDuration=this.resolvedDuration*(i+1)-r,this.generator=u}updateTime(e){const t=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=t}tick(e,t=!1){const{generator:i,totalDuration:r,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return i.next(0);const{delay:u=0,keyframes:c,repeat:f,repeatType:m,repeatDelay:v,type:_,onUpdate:T,finalKeyframe:M}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-r/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);const S=this.currentTime-u*(this.playbackSpeed>=0?1:-1),R=this.playbackSpeed>=0?S<0:S>r;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let C=this.currentTime,P=i;if(f){const F=Math.min(this.currentTime,r)/o;let z=Math.floor(F),k=F%1;!k&&F>=1&&(k=1),k===1&&z--,z=Math.min(z,f+1),!!(z%2)&&(m==="reverse"?(k=1-k,v&&(k-=v/o)):m==="mirror"&&(P=a)),C=Fc(0,1,k)*o}const B=R?{done:!1,value:c[0]}:P.next(C);s&&(B.value=s(B.value));let{done:O}=B;!R&&l!==null&&(O=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const V=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return V&&_!==JR&&(B.value=fP(c,this.options,M,this.speed)),T&&T(B.value),V&&this.finish(),B}then(e,t){return this.finished.then(e,t)}get duration(){return c1(this.calculatedDuration)}get time(){return c1(this.currentTime)}set time(e){var t;e=u1(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(t=this.driver)==null||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ko.now());const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=c1(this.currentTime))}play(){var r,s;if(this.isStopped)return;const{driver:e=N1e,startTime:t}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(r=this.options).onPlay)==null||s.call(r);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=t??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ko.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",(t=(e=this.options).onComplete)==null||t.call(e)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(t=(e=this.options).onCancel)==null||t.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(t=this.driver)==null||t.stop(),e.observe(this)}}function Y1e(n){for(let e=1;e<n.length;e++)n[e]??(n[e]=n[e-1])}const nf=n=>n*180/Math.PI,eC=n=>{const e=nf(Math.atan2(n[1],n[0]));return tC(e)},Q1e={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:eC,rotateZ:eC,skewX:n=>nf(Math.atan(n[1])),skewY:n=>nf(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},tC=n=>(n=n%360,n<0&&(n+=360),n),QI=eC,$I=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),KI=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),$1e={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:$I,scaleY:KI,scale:n=>($I(n)+KI(n))/2,rotateX:n=>tC(nf(Math.atan2(n[6],n[5]))),rotateY:n=>tC(nf(Math.atan2(-n[2],n[0]))),rotateZ:QI,rotate:QI,skewX:n=>nf(Math.atan(n[4])),skewY:n=>nf(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function nC(n){return n.includes("scale")?1:0}function iC(n,e){if(!n||n==="none")return nC(e);const t=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,r;if(t)i=$1e,r=t;else{const o=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=Q1e,r=o}if(!r)return nC(e);const s=i[e],a=r[1].split(",").map(Z1e);return typeof s=="function"?s(a):a[s]}const K1e=(n,e)=>{const{transform:t="none"}=getComputedStyle(n);return iC(t,e)};function Z1e(n){return parseFloat(n.trim())}const g8=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],y8=new Set(g8),ZI=n=>n===m8||n===Un,J1e=new Set(["x","y","z"]),ece=g8.filter(n=>!J1e.has(n));function tce(n){const e=[];return ece.forEach(t=>{const i=n.getValue(t);i!==void 0&&(e.push([t,i.get()]),i.set(t.startsWith("scale")?1:0))}),e}const xf={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:(n,{transform:e})=>iC(e,"x"),y:(n,{transform:e})=>iC(e,"y")};xf.translateX=xf.x;xf.translateY=xf.y;const _f=new Set;let rC=!1,sC=!1,aC=!1;function sY(){if(sC){const n=Array.from(_f).filter(i=>i.needsMeasurement),e=new Set(n.map(i=>i.element)),t=new Map;e.forEach(i=>{const r=tce(i);r.length&&(t.set(i,r),i.render())}),n.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const r=t.get(i);r&&r.forEach(([s,a])=>{var o;(o=i.getValue(s))==null||o.set(a)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}sC=!1,rC=!1,_f.forEach(n=>n.complete(aC)),_f.clear()}function aY(){_f.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(sC=!0)})}function nce(){aC=!0,aY(),sY(),aC=!1}class AP{constructor(e,t,i,r,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=i,this.motionValue=r,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(_f.add(this),rC||(rC=!0,jr.read(aY),jr.resolveKeyframes(sY))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:i,motionValue:r}=this;if(e[0]===null){const s=r==null?void 0:r.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(i&&t){const o=i.readValue(t,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),r&&s===void 0&&r.set(e[0])}Y1e(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),_f.delete(this)}cancel(){this.state==="scheduled"&&(_f.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ice=n=>n.startsWith("--");function rce(n,e,t){ice(e)?n.style.setProperty(e,t):n.style[e]=t}const sce=tP(()=>window.ScrollTimeline!==void 0),ace={};function oce(n,e){const t=tP(n);return()=>ace[e]??t()}const oY=oce(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),w9=([n,e,t,i])=>`cubic-bezier(${n}, ${e}, ${t}, ${i})`,JI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:w9([0,.65,.55,1]),circOut:w9([.55,0,1,.45]),backIn:w9([.31,.01,.66,-.59]),backOut:w9([.33,1.53,.69,.99])};function lY(n,e){if(n)return typeof n=="function"?oY()?nY(n,e):"ease-out":WX(n)?w9(n):Array.isArray(n)?n.map(t=>lY(t,e)||JI.easeOut):JI[n]}function lce(n,e,t,{delay:i=0,duration:r=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const c={[e]:t};l&&(c.offset=l);const f=lY(o,r);Array.isArray(f)&&(c.easing=f);const m={delay:i,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(m.pseudoElement=u),n.animate(c,m)}function uY(n){return typeof n=="function"&&"applyToOptions"in n}function uce({type:n,...e}){return uY(n)&&oY()?n.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class cce extends hP{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:t,name:i,keyframes:r,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,eP(typeof e.type!="string");const u=uce(e);this.animation=lce(t,i,r,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const c=fP(r,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(c):rce(t,i,c),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;(t=(e=this.animation).finish)==null||t.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,t;this.isPseudoElement||(t=(e=this.animation).commitStyles)==null||t.call(e)}get duration(){var t,i;const e=((i=(t=this.animation.effect)==null?void 0:t.getComputedTiming)==null?void 0:i.call(t).duration)||0;return c1(Number(e))}get time(){return c1(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=u1(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:t}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&sce()?(this.animation.timeline=e,N0):t(this)}}const cY={anticipate:GX,backInOut:kX,circInOut:HX};function fce(n){return n in cY}function hce(n){typeof n.ease=="string"&&fce(n.ease)&&(n.ease=cY[n.ease])}const eF=10;class dce extends cce{constructor(e){hce(e),rY(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:t,onUpdate:i,onComplete:r,element:s,...a}=this.options;if(!t)return;if(e!==void 0){t.set(e);return}const o=new dP({...a,autoplay:!1}),l=u1(this.finishedTime??this.time);t.setWithVelocity(o.sample(l-eF).value,o.sample(l).value,eF),o.stop()}}const tF=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(E3.test(n)||n==="0")&&!n.startsWith("url("));function Ace(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function pce(n,e,t,i){const r=n[0];if(r===null)return!1;if(e==="display"||e==="visibility")return!0;const s=n[n.length-1],a=tF(r,e),o=tF(s,e);return!a||!o?!1:Ace(n)||(t==="spring"||uY(t))&&i}const mce=new Set(["opacity","clipPath","filter","transform"]),gce=tP(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function yce(n){var c;const{motionValue:e,name:t,repeatDelay:i,repeatType:r,damping:s,type:a}=n;if(!(((c=e==null?void 0:e.owner)==null?void 0:c.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return gce()&&t&&mce.has(t)&&(t!=="transform"||!u)&&!l&&!i&&r!=="mirror"&&s!==0&&a!=="inertia"}const vce=40;class xce extends hP{constructor({autoplay:e=!0,delay:t=0,type:i="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:c,...f}){var _;super(),this.stop=()=>{var T,M;this._animation&&(this._animation.stop(),(T=this.stopTimeline)==null||T.call(this)),(M=this.keyframeResolver)==null||M.cancel()},this.createdAt=Ko.now();const m={autoplay:e,delay:t,type:i,repeat:r,repeatDelay:s,repeatType:a,name:l,motionValue:u,element:c,...f},v=(c==null?void 0:c.KeyframeResolver)||AP;this.keyframeResolver=new v(o,(T,M,S)=>this.onKeyframesResolved(T,M,m,!S),l,u,c),(_=this.keyframeResolver)==null||_.scheduleResolve()}onKeyframesResolved(e,t,i,r){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:c}=i;this.resolvedAt=Ko.now(),pce(e,s,a,o)||((zc.instantAnimations||!l)&&(c==null||c(fP(e,i,t))),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const m={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>vce?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:t,...i,keyframes:e},v=!u&&yce(m)?new dce({...m,element:m.motionValue.owner.current}):new dP(m);v.finished.then(()=>this.notifyFinished()).catch(N0),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),nce()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const _ce=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function bce(n){const e=_ce.exec(n);if(!e)return[,];const[,t,i,r]=e;return[`--${t??i}`,r]}function fY(n,e,t=1){const[i,r]=bce(n);if(!i)return;const s=window.getComputedStyle(e).getPropertyValue(i);if(s){const a=s.trim();return LX(a)?parseFloat(a):a}return aP(r)?fY(r,e,t+1):r}function pP(n,e){return(n==null?void 0:n[e])??(n==null?void 0:n.default)??n}const hY=new Set(["width","height","top","left","right","bottom",...g8]),Sce={test:n=>n==="auto",parse:n=>n},dY=n=>e=>e.test(n),AY=[m8,Un,f1,I2,A1e,d1e,Sce],nF=n=>AY.find(dY(n));function Tce(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||UX(n):!0}const Mce=new Set(["brightness","contrast","saturate","opacity"]);function Ece(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[i]=t.match(oP)||[];if(!i)return n;const r=t.replace(i,"");let s=Mce.has(e)?1:0;return i!==t&&(s*=100),e+"("+s+r+")"}const wce=/\b([a-z-]*)\(.*?\)/gu,oC={...E3,getAnimatableNone:n=>{const e=n.match(wce);return e?e.map(Ece).join(" "):n}},iF={...m8,transform:Math.round},Rce={rotate:I2,rotateX:I2,rotateY:I2,rotateZ:I2,scale:Yg,scaleX:Yg,scaleY:Yg,scaleZ:Yg,skew:I2,skewX:I2,skewY:I2,distance:Un,translateX:Un,translateY:Un,translateZ:Un,x:Un,y:Un,z:Un,perspective:Un,transformPerspective:Un,opacity:VA,originX:HI,originY:HI,originZ:Un},mP={borderWidth:Un,borderTopWidth:Un,borderRightWidth:Un,borderBottomWidth:Un,borderLeftWidth:Un,borderRadius:Un,radius:Un,borderTopLeftRadius:Un,borderTopRightRadius:Un,borderBottomRightRadius:Un,borderBottomLeftRadius:Un,width:Un,maxWidth:Un,height:Un,maxHeight:Un,top:Un,right:Un,bottom:Un,left:Un,padding:Un,paddingTop:Un,paddingRight:Un,paddingBottom:Un,paddingLeft:Un,margin:Un,marginTop:Un,marginRight:Un,marginBottom:Un,marginLeft:Un,backgroundPositionX:Un,backgroundPositionY:Un,...Rce,zIndex:iF,fillOpacity:VA,strokeOpacity:VA,numOctaves:iF},Cce={...mP,color:Ls,backgroundColor:Ls,outlineColor:Ls,fill:Ls,stroke:Ls,borderColor:Ls,borderTopColor:Ls,borderRightColor:Ls,borderBottomColor:Ls,borderLeftColor:Ls,filter:oC,WebkitFilter:oC},pY=n=>Cce[n];function mY(n,e){let t=pY(n);return t!==oC&&(t=E3),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Nce=new Set(["auto","none","0"]);function Dce(n,e,t){let i=0,r;for(;i<n.length&&!r;){const s=n[i];typeof s=="string"&&!Nce.has(s)&&kA(s).values.length&&(r=n[i]),i++}if(r&&t)for(const s of e)n[s]=mY(t,r)}class Pce extends AP{constructor(e,t,i,r,s){super(e,t,i,r,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:i}=this;if(!t||!t.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),aP(u))){const c=fY(u,t.current);c!==void 0&&(e[l]=c),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!hY.has(i)||e.length!==2)return;const[r,s]=e,a=nF(r),o=nF(s);if(a!==o)if(ZI(a)&&ZI(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else xf[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,i=[];for(let r=0;r<e.length;r++)(e[r]===null||Tce(e[r]))&&i.push(r);i.length&&Dce(e,i,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xf[i](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const r=t[t.length-1];r!==void 0&&e.getValue(i,r).jump(r,!1)}measureEndState(){var o;const{element:e,name:t,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const r=e.getValue(t);r&&r.jump(this.measuredOrigin,!1);const s=i.length-1,a=i[s];i[s]=xf[t](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function Lce(n,e,t){if(n instanceof EventTarget)return[n];if(typeof n=="string"){let i=document;const r=(t==null?void 0:t[n])??i.querySelectorAll(n);return r?Array.from(r):[]}return Array.from(n)}const gY=(n,e)=>e&&typeof n=="number"?e.transform(n):n;function Bce(n){return BX(n)&&"offsetHeight"in n}const rF=30,Uce=n=>!isNaN(parseFloat(n));class Oce{constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,r=!0)=>{var a,o;const s=Ko.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((a=this.events.change)==null||a.notify(this.current),this.dependents))for(const l of this.dependents)l.dirty();r&&((o=this.events.renderRequest)==null||o.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=Ko.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Uce(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new nP);const i=this.events[e].add(t);return e==="change"?()=>{i(),jr.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,i){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ko.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>rF)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,rF);return OX(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;(e=this.dependents)==null||e.clear(),(t=this.events.destroy)==null||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _d(n,e){return new Oce(n,e)}const{schedule:gP}=XX(queueMicrotask,!1),uu={x:!1,y:!1};function yY(){return uu.x||uu.y}function Ice(n){return n==="x"||n==="y"?uu[n]?null:(uu[n]=!0,()=>{uu[n]=!1}):uu.x||uu.y?null:(uu.x=uu.y=!0,()=>{uu.x=uu.y=!1})}function vY(n,e){const t=Lce(n),i=new AbortController,r={passive:!0,...e,signal:i.signal};return[t,r,()=>i.abort()]}function sF(n){return!(n.pointerType==="touch"||yY())}function Fce(n,e,t={}){const[i,r,s]=vY(n,t),a=o=>{if(!sF(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const c=f=>{sF(f)&&(u(f),l.removeEventListener("pointerleave",c))};l.addEventListener("pointerleave",c,r)};return i.forEach(o=>{o.addEventListener("pointerenter",a,r)}),s}const xY=(n,e)=>e?n===e?!0:xY(n,e.parentElement):!1,yP=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,zce=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Vce(n){return zce.has(n.tagName)||n.tabIndex!==-1}const Zv=new WeakSet;function aF(n){return e=>{e.key==="Enter"&&n(e)}}function BM(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const kce=(n,e)=>{const t=n.currentTarget;if(!t)return;const i=aF(()=>{if(Zv.has(t))return;BM(t,"down");const r=aF(()=>{BM(t,"up")}),s=()=>BM(t,"cancel");t.addEventListener("keyup",r,e),t.addEventListener("blur",s,e)});t.addEventListener("keydown",i,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",i),e)};function oF(n){return yP(n)&&!yY()}function Gce(n,e,t={}){const[i,r,s]=vY(n,t),a=o=>{const l=o.currentTarget;if(!oF(o))return;Zv.add(l);const u=e(l,o),c=(v,_)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),Zv.has(l)&&Zv.delete(l),oF(v)&&typeof u=="function"&&u(v,{success:_})},f=v=>{c(v,l===window||l===document||t.useGlobalTarget||xY(l,v.target))},m=v=>{c(v,!1)};window.addEventListener("pointerup",f,r),window.addEventListener("pointercancel",m,r)};return i.forEach(o=>{(t.useGlobalTarget?window:o).addEventListener("pointerdown",a,r),Bce(o)&&(o.addEventListener("focus",u=>kce(u,r)),!Vce(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function _Y(n){return BX(n)&&"ownerSVGElement"in n}function qce(n){return _Y(n)&&n.tagName==="svg"}const ao=n=>!!(n&&n.getVelocity),Hce=[...AY,Ls,E3],jce=n=>Hce.find(dY(n)),bY=be.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function Wce(n=!0){const e=be.useContext(KD);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:i,register:r}=e,s=be.useId();be.useEffect(()=>{if(n)return r(s)},[n]);const a=be.useCallback(()=>n&&i&&i(s),[s,i,n]);return!t&&i?[!1,a]:[!0]}const SY=be.createContext({strict:!1}),lF={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bd={};for(const n in lF)bd[n]={isEnabled:e=>lF[n].some(t=>!!e[t])};function Xce(n){for(const e in n)bd[e]={...bd[e],...n[e]}}const Yce=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function i_(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Yce.has(n)}let TY=n=>!i_(n);function Qce(n){typeof n=="function"&&(TY=e=>e.startsWith("on")?!i_(e):n(e))}try{Qce(require("@emotion/is-prop-valid").default)}catch{}function $ce(n,e,t){const i={};for(const r in n)r==="values"&&typeof n.values=="object"||(TY(r)||t===!0&&i_(r)||!e&&!i_(r)||n.draggable&&r.startsWith("onDrag"))&&(i[r]=n[r]);return i}function Kce(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...i)=>n(...i);return new Proxy(t,{get:(i,r)=>r==="create"?n:(e.has(r)||e.set(r,n(r)),e.get(r))})}const Ub=be.createContext({});function Ob(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function GA(n){return typeof n=="string"||Array.isArray(n)}const vP=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xP=["initial",...vP];function Ib(n){return Ob(n.animate)||xP.some(e=>GA(n[e]))}function MY(n){return!!(Ib(n)||n.variants)}function Zce(n,e){if(Ib(n)){const{initial:t,animate:i}=n;return{initial:t===!1||GA(t)?t:void 0,animate:GA(i)?i:void 0}}return n.inherit!==!1?e:{}}function Jce(n){const{initial:e,animate:t}=Zce(n,be.useContext(Ub));return be.useMemo(()=>({initial:e,animate:t}),[uF(e),uF(t)])}function uF(n){return Array.isArray(n)?n.join(" "):n}const e2e=Symbol.for("motionComponentSymbol");function P6(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function t2e(n,e,t){return be.useCallback(i=>{i&&n.onMount&&n.onMount(i),e&&(i?e.mount(i):e.unmount()),t&&(typeof t=="function"?t(i):P6(t)&&(t.current=i))},[e])}const _P=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),n2e="framerAppearId",EY="data-"+_P(n2e),wY=be.createContext({});function i2e(n,e,t,i,r){var T,M;const{visualElement:s}=be.useContext(Ub),a=be.useContext(SY),o=be.useContext(KD),l=be.useContext(bY).reducedMotion,u=be.useRef(null);i=i||a.renderer,!u.current&&i&&(u.current=i(n,{visualState:e,parent:s,props:t,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const c=u.current,f=be.useContext(wY);c&&!c.projection&&r&&(c.type==="html"||c.type==="svg")&&r2e(u.current,t,r,f);const m=be.useRef(!1);be.useInsertionEffect(()=>{c&&m.current&&c.update(t,o)});const v=t[EY],_=be.useRef(!!v&&!((T=window.MotionHandoffIsComplete)!=null&&T.call(window,v))&&((M=window.MotionHasOptimisedAnimation)==null?void 0:M.call(window,v)));return Yue(()=>{c&&(m.current=!0,window.MotionIsMounted=!0,c.updateFeatures(),gP.render(c.render),_.current&&c.animationState&&c.animationState.animateChanges())}),be.useEffect(()=>{c&&(!_.current&&c.animationState&&c.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,v)}),_.current=!1))}),c}function r2e(n,e,t,i){const{layoutId:r,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:c}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:RY(n.parent)),n.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!a||o&&P6(o),visualElement:n,animationType:typeof s=="string"?s:"both",initialPromotionConfig:i,crossfade:c,layoutScroll:l,layoutRoot:u})}function RY(n){if(n)return n.options.allowProjection!==!1?n.projection:RY(n.parent)}function s2e({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:i,Component:r}){n&&Xce(n);function s(o,l){let u;const c={...be.useContext(bY),...o,layoutId:a2e(o)},{isStatic:f}=c,m=Jce(o),v=i(o,f);if(!f&&$D){o2e();const _=l2e(c);u=_.MeasureLayout,m.visualElement=i2e(r,v,c,e,_.ProjectionNode)}return W.jsxs(Ub.Provider,{value:m,children:[u&&m.visualElement?W.jsx(u,{visualElement:m.visualElement,...c}):null,t(r,o,t2e(v,m.visualElement,l),v,f,m.visualElement)]})}s.displayName=`motion.${typeof r=="string"?r:`create(${r.displayName??r.name??""})`}`;const a=be.forwardRef(s);return a[e2e]=r,a}function a2e({layoutId:n}){const e=be.useContext(PX).id;return e&&n!==void 0?e+"-"+n:n}function o2e(n,e){be.useContext(SY).strict}function l2e(n){const{drag:e,layout:t}=bd;if(!e&&!t)return{};const i={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const qA={};function u2e(n){for(const e in n)qA[e]=n[e],sP(e)&&(qA[e].isCSSVariable=!0)}function CY(n,{layout:e,layoutId:t}){return y8.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!qA[n]||n==="opacity")}const c2e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},f2e=g8.length;function h2e(n,e,t){let i="",r=!0;for(let s=0;s<f2e;s++){const a=g8[s],o=n[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||t){const u=gY(o,mP[a]);if(!l){r=!1;const c=c2e[a]||a;i+=`${c}(${u}) `}t&&(e[a]=u)}}return i=i.trim(),t?i=t(e,r?"":i):r&&(i="none"),i}function bP(n,e,t){const{style:i,vars:r,transformOrigin:s}=n;let a=!1,o=!1;for(const l in e){const u=e[l];if(y8.has(l)){a=!0;continue}else if(sP(l)){r[l]=u;continue}else{const c=gY(u,mP[l]);l.startsWith("origin")?(o=!0,s[l]=c):i[l]=c}}if(e.transform||(a||t?i.transform=h2e(e,n.transform,t):i.transform&&(i.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:c=0}=s;i.transformOrigin=`${l} ${u} ${c}`}}const SP=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NY(n,e,t){for(const i in e)!ao(e[i])&&!CY(i,t)&&(n[i]=e[i])}function d2e({transformTemplate:n},e){return be.useMemo(()=>{const t=SP();return bP(t,e,n),Object.assign({},t.vars,t.style)},[e])}function A2e(n,e){const t=n.style||{},i={};return NY(i,t,n),Object.assign(i,d2e(n,e)),i}function p2e(n,e){const t={},i=A2e(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=i,t}const m2e={offset:"stroke-dashoffset",array:"stroke-dasharray"},g2e={offset:"strokeDashoffset",array:"strokeDasharray"};function y2e(n,e,t=1,i=0,r=!0){n.pathLength=1;const s=r?m2e:g2e;n[s.offset]=Un.transform(-i);const a=Un.transform(e),o=Un.transform(t);n[s.array]=`${a} ${o}`}function DY(n,{attrX:e,attrY:t,attrScale:i,pathLength:r,pathSpacing:s=1,pathOffset:a=0,...o},l,u,c){if(bP(n,o,u),l){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:f,style:m}=n;f.transform&&(m.transform=f.transform,delete f.transform),(m.transform||f.transformOrigin)&&(m.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),m.transform&&(m.transformBox=(c==null?void 0:c.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),t!==void 0&&(f.y=t),i!==void 0&&(f.scale=i),r!==void 0&&y2e(f,r,s,a,!1)}const PY=()=>({...SP(),attrs:{}}),LY=n=>typeof n=="string"&&n.toLowerCase()==="svg";function v2e(n,e,t,i){const r=be.useMemo(()=>{const s=PY();return DY(s,e,LY(i),n.transformTemplate,n.style),{...s.attrs,style:{...s.style}}},[e]);if(n.style){const s={};NY(s,n.style,n),r.style={...s,...r.style}}return r}const x2e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function TP(n){return typeof n!="string"||n.includes("-")?!1:!!(x2e.indexOf(n)>-1||/[A-Z]/u.test(n))}function _2e(n=!1){return(t,i,r,{latestValues:s},a)=>{const l=(TP(t)?v2e:p2e)(i,s,a,t),u=$ce(i,typeof t=="string",n),c=t!==be.Fragment?{...u,...l,ref:r}:{},{children:f}=i,m=be.useMemo(()=>ao(f)?f.get():f,[f]);return be.createElement(t,{...c,children:m})}}function cF(n){const e=[{},{}];return n==null||n.values.forEach((t,i)=>{e[0][i]=t.get(),e[1][i]=t.getVelocity()}),e}function MP(n,e,t,i){if(typeof e=="function"){const[r,s]=cF(i);e=e(t!==void 0?t:n.custom,r,s)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[r,s]=cF(i);e=e(t!==void 0?t:n.custom,r,s)}return e}function Jv(n){return ao(n)?n.get():n}function b2e({scrapeMotionValuesFromProps:n,createRenderState:e},t,i,r){return{latestValues:S2e(t,i,r,n),renderState:e()}}const BY=n=>(e,t)=>{const i=be.useContext(Ub),r=be.useContext(KD),s=()=>b2e(n,e,i,r);return t?s():Xue(s)};function S2e(n,e,t,i){const r={},s=i(n,{});for(const m in s)r[m]=Jv(s[m]);let{initial:a,animate:o}=n;const l=Ib(n),u=MY(n);e&&u&&!l&&n.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let c=t?t.initial===!1:!1;c=c||a===!1;const f=c?o:a;if(f&&typeof f!="boolean"&&!Ob(f)){const m=Array.isArray(f)?f:[f];for(let v=0;v<m.length;v++){const _=MP(n,m[v]);if(_){const{transitionEnd:T,transition:M,...S}=_;for(const R in S){let C=S[R];if(Array.isArray(C)){const P=c?C.length-1:0;C=C[P]}C!==null&&(r[R]=C)}for(const R in T)r[R]=T[R]}}}return r}function EP(n,e,t){var s;const{style:i}=n,r={};for(const a in i)(ao(i[a])||e.style&&ao(e.style[a])||CY(a,n)||((s=t==null?void 0:t.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(r[a]=i[a]);return r}const T2e={useVisualState:BY({scrapeMotionValuesFromProps:EP,createRenderState:SP})};function UY(n,e,t){const i=EP(n,e,t);for(const r in n)if(ao(n[r])||ao(e[r])){const s=g8.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;i[s]=n[r]}return i}const M2e={useVisualState:BY({scrapeMotionValuesFromProps:UY,createRenderState:PY})};function E2e(n,e){return function(i,{forwardMotionProps:r}={forwardMotionProps:!1}){const a={...TP(i)?M2e:T2e,preloadedFeatures:n,useRender:_2e(r),createVisualElement:e,Component:i};return s2e(a)}}function HA(n,e,t){const i=n.getProps();return MP(i,e,t!==void 0?t:i.custom,n)}const lC=n=>Array.isArray(n);function w2e(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,_d(t))}function R2e(n){return lC(n)?n[n.length-1]||0:n}function C2e(n,e){const t=HA(n,e);let{transitionEnd:i={},transition:r={},...s}=t||{};s={...s,...i};for(const a in s){const o=R2e(s[a]);w2e(n,a,o)}}function N2e(n){return!!(ao(n)&&n.add)}function uC(n,e){const t=n.getValue("willChange");if(N2e(t))return t.add(e);if(!t&&zc.WillChange){const i=new zc.WillChange("auto");n.addValue("willChange",i),i.add(e)}}function OY(n){return n.props[EY]}const D2e=n=>n!==null;function P2e(n,{repeat:e,repeatType:t="loop"},i){const r=n.filter(D2e),s=e&&t!=="loop"&&e%2===1?0:r.length-1;return r[s]}const L2e={type:"spring",stiffness:500,damping:25,restSpeed:10},B2e=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),U2e={type:"keyframes",duration:.8},O2e={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},I2e=(n,{keyframes:e})=>e.length>2?U2e:y8.has(n)?n.startsWith("scale")?B2e(e[1]):L2e:O2e;function F2e({when:n,delay:e,delayChildren:t,staggerChildren:i,staggerDirection:r,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...c}){return!!Object.keys(c).length}const wP=(n,e,t,i={},r,s)=>a=>{const o=pP(i,n)||{},l=o.delay||i.delay||0;let{elapsed:u=0}=i;u=u-u1(l);const c={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:m=>{e.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:n,motionValue:e,element:s?void 0:r};F2e(o)||Object.assign(c,I2e(n,c)),c.duration&&(c.duration=u1(c.duration)),c.repeatDelay&&(c.repeatDelay=u1(c.repeatDelay)),c.from!==void 0&&(c.keyframes[0]=c.from);let f=!1;if((c.type===!1||c.duration===0&&!c.repeatDelay)&&(c.duration=0,c.delay===0&&(f=!0)),(zc.instantAnimations||zc.skipAnimations)&&(f=!0,c.duration=0,c.delay=0),c.allowFlatten=!o.type&&!o.ease,f&&!s&&e.get()!==void 0){const m=P2e(c.keyframes,o);if(m!==void 0){jr.update(()=>{c.onUpdate(m),c.onComplete()});return}}return o.isSync?new dP(c):new xce(c)};function z2e({protectedKeys:n,needsAnimating:e},t){const i=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,i}function IY(n,e,{delay:t=0,transitionOverride:i,type:r}={}){let{transition:s=n.getDefaultTransition(),transitionEnd:a,...o}=e;i&&(s=i);const l=[],u=r&&n.animationState&&n.animationState.getState()[r];for(const c in o){const f=n.getValue(c,n.latestValues[c]??null),m=o[c];if(m===void 0||u&&z2e(u,c))continue;const v={delay:t,...pP(s||{},c)},_=f.get();if(_!==void 0&&!f.isAnimating&&!Array.isArray(m)&&m===_&&!v.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const S=OY(n);if(S){const R=window.MotionHandoffAnimation(S,c,jr);R!==null&&(v.startTime=R,T=!0)}}uC(n,c),f.start(wP(c,f,m,n.shouldReduceMotion&&hY.has(c)?{type:!1}:v,n,T));const M=f.animation;M&&l.push(M)}return a&&Promise.all(l).then(()=>{jr.update(()=>{a&&C2e(n,a)})}),l}function cC(n,e,t={}){var l;const i=HA(n,e,t.type==="exit"?(l=n.presenceContext)==null?void 0:l.custom:void 0);let{transition:r=n.getDefaultTransition()||{}}=i||{};t.transitionOverride&&(r=t.transitionOverride);const s=i?()=>Promise.all(IY(n,i,t)):()=>Promise.resolve(),a=n.variantChildren&&n.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:m}=r;return V2e(n,e,u,c,f,m,t)}:()=>Promise.resolve(),{when:o}=r;if(o){const[u,c]=o==="beforeChildren"?[s,a]:[a,s];return u().then(()=>c())}else return Promise.all([s(),a(t.delay)])}function V2e(n,e,t=0,i=0,r=0,s=1,a){const o=[],l=n.variantChildren.size,u=(l-1)*r,c=typeof i=="function",f=c?m=>i(m,l):s===1?(m=0)=>m*r:(m=0)=>u-m*r;return Array.from(n.variantChildren).sort(k2e).forEach((m,v)=>{m.notify("AnimationStart",e),o.push(cC(m,e,{...a,delay:t+(c?0:i)+f(v)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(o)}function k2e(n,e){return n.sortNodePosition(e)}function G2e(n,e,t={}){n.notify("AnimationStart",e);let i;if(Array.isArray(e)){const r=e.map(s=>cC(n,s,t));i=Promise.all(r)}else if(typeof e=="string")i=cC(n,e,t);else{const r=typeof e=="function"?HA(n,e,t.custom):e;i=Promise.all(IY(n,r,t))}return i.then(()=>{n.notify("AnimationComplete",e)})}function FY(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let i=0;i<t;i++)if(e[i]!==n[i])return!1;return!0}const q2e=xP.length;function zY(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?zY(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<q2e;t++){const i=xP[t],r=n.props[i];(GA(r)||r===!1)&&(e[i]=r)}return e}const H2e=[...vP].reverse(),j2e=vP.length;function W2e(n){return e=>Promise.all(e.map(({animation:t,options:i})=>G2e(n,t,i)))}function X2e(n){let e=W2e(n),t=fF(),i=!0;const r=l=>(u,c)=>{var m;const f=HA(n,c,l==="exit"?(m=n.presenceContext)==null?void 0:m.custom:void 0);if(f){const{transition:v,transitionEnd:_,...T}=f;u={...u,...T,..._}}return u};function s(l){e=l(n)}function a(l){const{props:u}=n,c=zY(n.parent)||{},f=[],m=new Set;let v={},_=1/0;for(let M=0;M<j2e;M++){const S=H2e[M],R=t[S],C=u[S]!==void 0?u[S]:c[S],P=GA(C),B=S===l?R.isActive:null;B===!1&&(_=M);let O=C===c[S]&&C!==u[S]&&P;if(O&&i&&n.manuallyAnimateOnMount&&(O=!1),R.protectedKeys={...v},!R.isActive&&B===null||!C&&!R.prevProp||Ob(C)||typeof C=="boolean")continue;const V=Y2e(R.prevProp,C);let F=V||S===l&&R.isActive&&!O&&P||M>_&&P,z=!1;const k=Array.isArray(C)?C:[C];let H=k.reduce(r(S),{});B===!1&&(H={});const{prevResolvedValues:Z={}}=R,$={...Z,...H},ae=ee=>{F=!0,m.has(ee)&&(z=!0,m.delete(ee)),R.needsAnimating[ee]=!0;const Q=n.getValue(ee);Q&&(Q.liveStyle=!1)};for(const ee in $){const Q=H[ee],fe=Z[ee];if(v.hasOwnProperty(ee))continue;let ge=!1;lC(Q)&&lC(fe)?ge=!FY(Q,fe):ge=Q!==fe,ge?Q!=null?ae(ee):m.add(ee):Q!==void 0&&m.has(ee)?ae(ee):R.protectedKeys[ee]=!0}R.prevProp=C,R.prevResolvedValues=H,R.isActive&&(v={...v,...H}),i&&n.blockInitialAnimation&&(F=!1),F&&(!(O&&V)||z)&&f.push(...k.map(ee=>({animation:ee,options:{type:S}})))}if(m.size){const M={};if(typeof u.initial!="boolean"){const S=HA(n,Array.isArray(u.initial)?u.initial[0]:u.initial);S&&S.transition&&(M.transition=S.transition)}m.forEach(S=>{const R=n.getBaseTarget(S),C=n.getValue(S);C&&(C.liveStyle=!0),M[S]=R??null}),f.push({animation:M})}let T=!!f.length;return i&&(u.initial===!1||u.initial===u.animate)&&!n.manuallyAnimateOnMount&&(T=!1),i=!1,T?e(f):Promise.resolve()}function o(l,u){var f;if(t[l].isActive===u)return Promise.resolve();(f=n.variantChildren)==null||f.forEach(m=>{var v;return(v=m.animationState)==null?void 0:v.setActive(l,u)}),t[l].isActive=u;const c=a(l);for(const m in t)t[m].protectedKeys={};return c}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>t,reset:()=>{t=fF(),i=!0}}}function Y2e(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!FY(e,n):!1}function m4(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function fF(){return{animate:m4(!0),whileInView:m4(),whileHover:m4(),whileTap:m4(),whileDrag:m4(),whileFocus:m4(),exit:m4()}}class B3{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Q2e extends B3{constructor(e){super(e),e.animationState||(e.animationState=X2e(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Ob(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let $2e=0;class K2e extends B3{constructor(){super(...arguments),this.id=$2e++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const r=this.node.animationState.setActive("exit",!e);t&&!e&&r.then(()=>{t(this.id)})}mount(){const{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Z2e={animation:{Feature:Q2e},exit:{Feature:K2e}};function jA(n,e,t,i={passive:!0}){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t)}function Wp(n){return{point:{x:n.pageX,y:n.pageY}}}const J2e=n=>e=>yP(e)&&n(e,Wp(e));function sA(n,e,t,i){return jA(n,e,J2e(t),i)}function VY({top:n,left:e,right:t,bottom:i}){return{x:{min:e,max:t},y:{min:n,max:i}}}function e3e({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function t3e(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),i=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:i.y,right:i.x}}const kY=1e-4,n3e=1-kY,i3e=1+kY,GY=.01,r3e=0-GY,s3e=0+GY;function Do(n){return n.max-n.min}function a3e(n,e,t){return Math.abs(n-e)<=t}function hF(n,e,t,i=.5){n.origin=i,n.originPoint=Zr(e.min,e.max,n.origin),n.scale=Do(t)/Do(e),n.translate=Zr(t.min,t.max,n.origin)-n.originPoint,(n.scale>=n3e&&n.scale<=i3e||isNaN(n.scale))&&(n.scale=1),(n.translate>=r3e&&n.translate<=s3e||isNaN(n.translate))&&(n.translate=0)}function aA(n,e,t,i){hF(n.x,e.x,t.x,i?i.originX:void 0),hF(n.y,e.y,t.y,i?i.originY:void 0)}function dF(n,e,t){n.min=t.min+e.min,n.max=n.min+Do(e)}function o3e(n,e,t){dF(n.x,e.x,t.x),dF(n.y,e.y,t.y)}function AF(n,e,t){n.min=e.min-t.min,n.max=n.min+Do(e)}function oA(n,e,t){AF(n.x,e.x,t.x),AF(n.y,e.y,t.y)}const pF=()=>({translate:0,scale:1,origin:0,originPoint:0}),L6=()=>({x:pF(),y:pF()}),mF=()=>({min:0,max:0}),bs=()=>({x:mF(),y:mF()});function d0(n){return[n("x"),n("y")]}function UM(n){return n===void 0||n===1}function fC({scale:n,scaleX:e,scaleY:t}){return!UM(n)||!UM(e)||!UM(t)}function H4(n){return fC(n)||qY(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function qY(n){return gF(n.x)||gF(n.y)}function gF(n){return n&&n!=="0%"}function r_(n,e,t){const i=n-t,r=e*i;return t+r}function yF(n,e,t,i,r){return r!==void 0&&(n=r_(n,r,i)),r_(n,t,i)+e}function hC(n,e=0,t=1,i,r){n.min=yF(n.min,e,t,i,r),n.max=yF(n.max,e,t,i,r)}function HY(n,{x:e,y:t}){hC(n.x,e.translate,e.scale,e.originPoint),hC(n.y,t.translate,t.scale,t.originPoint)}const vF=.999999999999,xF=1.0000000000001;function l3e(n,e,t,i=!1){const r=t.length;if(!r)return;e.x=e.y=1;let s,a;for(let o=0;o<r;o++){s=t[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(i&&s.options.layoutScroll&&s.scroll&&s!==s.root&&U6(n,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,HY(n,a)),i&&H4(s.latestValues)&&U6(n,s.latestValues))}e.x<xF&&e.x>vF&&(e.x=1),e.y<xF&&e.y>vF&&(e.y=1)}function B6(n,e){n.min=n.min+e,n.max=n.max+e}function _F(n,e,t,i,r=.5){const s=Zr(n.min,n.max,r);hC(n,e,t,s,i)}function U6(n,e){_F(n.x,e.x,e.scaleX,e.scale,e.originX),_F(n.y,e.y,e.scaleY,e.scale,e.originY)}function jY(n,e){return VY(t3e(n.getBoundingClientRect(),e))}function u3e(n,e,t){const i=jY(n,t),{scroll:r}=e;return r&&(B6(i.x,r.offset.x),B6(i.y,r.offset.y)),i}const WY=({current:n})=>n?n.ownerDocument.defaultView:null,bF=(n,e)=>Math.abs(n-e);function c3e(n,e){const t=bF(n.x,e.x),i=bF(n.y,e.y);return Math.sqrt(t**2+i**2)}class XY{constructor(e,t,{transformPagePoint:i,contextWindow:r=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=IM(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,_=c3e(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!_)return;const{point:T}=m,{timestamp:M}=Pa;this.history.push({...T,timestamp:M});const{onStart:S,onMove:R}=this.handlers;v||(S&&S(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,m)},this.handlePointerMove=(m,v)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=OM(v,this.transformPagePoint),jr.update(this.updatePoint,!0)},this.handlePointerUp=(m,v)=>{this.end();const{onEnd:_,onSessionEnd:T,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=IM(m.type==="pointercancel"?this.lastMoveEventInfo:OM(v,this.transformPagePoint),this.history);this.startEvent&&_&&_(m,S),T&&T(m,S)},!yP(e))return;this.dragSnapToOrigin=s,this.handlers=t,this.transformPagePoint=i,this.distanceThreshold=a,this.contextWindow=r||window;const o=Wp(e),l=OM(o,this.transformPagePoint),{point:u}=l,{timestamp:c}=Pa;this.history=[{...u,timestamp:c}];const{onSessionStart:f}=t;f&&f(e,IM(l,this.history)),this.removeListeners=qp(sA(this.contextWindow,"pointermove",this.handlePointerMove),sA(this.contextWindow,"pointerup",this.handlePointerUp),sA(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),M3(this.updatePoint)}}function OM(n,e){return e?{point:e(n.point)}:n}function SF(n,e){return{x:n.x-e.x,y:n.y-e.y}}function IM({point:n},e){return{point:n,delta:SF(n,YY(e)),offset:SF(n,f3e(e)),velocity:h3e(e,.1)}}function f3e(n){return n[0]}function YY(n){return n[n.length-1]}function h3e(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,i=null;const r=YY(n);for(;t>=0&&(i=n[t],!(r.timestamp-i.timestamp>u1(e)));)t--;if(!i)return{x:0,y:0};const s=c1(r.timestamp-i.timestamp);if(s===0)return{x:0,y:0};const a={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function d3e(n,{min:e,max:t},i){return e!==void 0&&n<e?n=i?Zr(e,n,i.min):Math.max(n,e):t!==void 0&&n>t&&(n=i?Zr(t,n,i.max):Math.min(n,t)),n}function TF(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function A3e(n,{top:e,left:t,bottom:i,right:r}){return{x:TF(n.x,t,r),y:TF(n.y,e,i)}}function MF(n,e){let t=e.min-n.min,i=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,i]=[i,t]),{min:t,max:i}}function p3e(n,e){return{x:MF(n.x,e.x),y:MF(n.y,e.y)}}function m3e(n,e){let t=.5;const i=Do(n),r=Do(e);return r>i?t=zA(e.min,e.max-i,n.min):i>r&&(t=zA(n.min,n.max-r,e.min)),Fc(0,1,t)}function g3e(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const dC=.35;function y3e(n=dC){return n===!1?n=0:n===!0&&(n=dC),{x:EF(n,"left","right"),y:EF(n,"top","bottom")}}function EF(n,e,t){return{min:wF(n,e),max:wF(n,t)}}function wF(n,e){return typeof n=="number"?n:n[e]||0}const v3e=new WeakMap;class x3e{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bs(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:t=!1,distanceThreshold:i}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Wp(f).point)},a=(f,m)=>{const{drag:v,dragPropagation:_,onDragStart:T}=this.getProps();if(v&&!_&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ice(v),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=m,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),d0(S=>{let R=this.getAxisMotionValue(S).get()||0;if(f1.test(R)){const{projection:C}=this.visualElement;if(C&&C.layout){const P=C.layout.layoutBox[S];P&&(R=Do(P)*(parseFloat(R)/100))}}this.originPoint[S]=R}),T&&jr.postRender(()=>T(f,m)),uC(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},o=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m;const{dragPropagation:v,dragDirectionLock:_,onDirectionLock:T,onDrag:M}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:S}=m;if(_&&this.currentDirection===null){this.currentDirection=_3e(S),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",m.point,S),this.updateAxis("y",m.point,S),this.visualElement.render(),M&&M(f,m)},l=(f,m)=>{this.latestPointerEvent=f,this.latestPanInfo=m,this.stop(f,m),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>d0(f=>{var m;return this.getAnimationState(f)==="paused"&&((m=this.getAxisMotionValue(f).animation)==null?void 0:m.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new XY(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,distanceThreshold:i,contextWindow:WY(this.visualElement)})}stop(e,t){const i=e||this.latestPointerEvent,r=t||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!r||!i)return;const{velocity:a}=r;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&jr.postRender(()=>o(i,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,i){const{drag:r}=this.getProps();if(!i||!Qg(e,r,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(a=d3e(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:t}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,r=this.constraints;e&&P6(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=A3e(i.layoutBox,e):this.constraints=!1,this.elastic=y3e(t),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&d0(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=g3e(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!P6(e))return!1;const i=e.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const s=u3e(i,r.root,this.visualElement.getTransformPagePoint());let a=p3e(r.layout.layoutBox,s);if(t){const o=t(e3e(a));this.hasMutatedConstraints=!!o,o&&(a=VY(o))}return a}startAnimation(e){const{drag:t,dragMomentum:i,dragElastic:r,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=d0(c=>{if(!Qg(c,t,this.currentDirection))return;let f=l&&l[c]||{};a&&(f={min:0,max:0});const m=r?200:1e6,v=r?40:1e7,_={type:"inertia",velocity:i?e[c]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(c,_)});return Promise.all(u).then(o)}startAxisValueAnimation(e,t){const i=this.getAxisMotionValue(e);return uC(this.visualElement,e),i.start(wP(e,i,0,t,this.visualElement,!1))}stopAnimation(){d0(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){d0(e=>{var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)==null?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),r=i[t];return r||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){d0(t=>{const{drag:i}=this.getProps();if(!Qg(t,i,this.currentDirection))return;const{projection:r}=this.visualElement,s=this.getAxisMotionValue(t);if(r&&r.layout){const{min:a,max:o}=r.layout.layoutBox[t];s.set(e[t]-Zr(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:i}=this.visualElement;if(!P6(t)||!i||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};d0(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();r[a]=m3e({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),d0(a=>{if(!Qg(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(Zr(l,u,r[a]))})}addListeners(){if(!this.visualElement.current)return;v3e.set(this.visualElement,this);const e=this.visualElement.current,t=sA(e,"pointerdown",l=>{const{drag:u,dragListener:c=!0}=this.getProps();u&&c&&this.start(l)}),i=()=>{const{dragConstraints:l}=this.getProps();P6(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,s=r.addEventListener("measure",i);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),jr.read(i);const a=jA(window,"resize",()=>this.scalePositionWithinConstraints()),o=r.addEventListener("didUpdate",({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(d0(c=>{const f=this.getAxisMotionValue(c);f&&(this.originPoint[c]+=l[c].translate,f.set(f.get()+l[c].translate))}),this.visualElement.render())});return()=>{a(),t(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:i=!1,dragPropagation:r=!1,dragConstraints:s=!1,dragElastic:a=dC,dragMomentum:o=!0}=e;return{...e,drag:t,dragDirectionLock:i,dragPropagation:r,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function Qg(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function _3e(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class b3e extends B3{constructor(e){super(e),this.removeGroupControls=N0,this.removeListeners=N0,this.controls=new x3e(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||N0}unmount(){this.removeGroupControls(),this.removeListeners()}}const RF=n=>(e,t)=>{n&&jr.postRender(()=>n(e,t))};class S3e extends B3{constructor(){super(...arguments),this.removePointerDownListener=N0}onPointerDown(e){this.session=new XY(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WY(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:i,onPanEnd:r}=this.node.getProps();return{onSessionStart:RF(e),onStart:RF(t),onMove:i,onEnd:(s,a)=>{delete this.session,r&&jr.postRender(()=>r(s,a))}}}mount(){this.removePointerDownListener=sA(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ex={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function CF(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const V7={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(Un.test(n))n=parseFloat(n);else return n;const t=CF(n,e.target.x),i=CF(n,e.target.y);return`${t}% ${i}%`}},T3e={correct:(n,{treeScale:e,projectionDelta:t})=>{const i=n,r=E3.parse(n);if(r.length>5)return i;const s=E3.createTransformer(n),a=typeof r[0]!="number"?1:0,o=t.x.scale*e.x,l=t.y.scale*e.y;r[0+a]/=o,r[1+a]/=l;const u=Zr(o,l,.5);return typeof r[2+a]=="number"&&(r[2+a]/=u),typeof r[3+a]=="number"&&(r[3+a]/=u),s(r)}};let NF=!1;class M3e extends be.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i,layoutId:r}=this.props,{projection:s}=e;u2e(E3e),s&&(t.group&&t.group.add(s),i&&i.register&&r&&i.register(s),NF&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),ex.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:i,drag:r,isPresent:s}=this.props,{projection:a}=i;return a&&(a.isPresent=s,NF=!0,r||e.layoutDependency!==t||t===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||jr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),gP.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:i}=this.props,{projection:r}=e;r&&(r.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(r),i&&i.deregister&&i.deregister(r))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function QY(n){const[e,t]=Wce(),i=be.useContext(PX);return W.jsx(M3e,{...n,layoutGroup:i,switchLayoutGroup:be.useContext(wY),isPresent:e,safeToRemove:t})}const E3e={borderRadius:{...V7,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:V7,borderTopRightRadius:V7,borderBottomLeftRadius:V7,borderBottomRightRadius:V7,boxShadow:T3e};function w3e(n,e,t){const i=ao(n)?n:_d(n);return i.start(wP("",i,e,t)),i.animation}const R3e=(n,e)=>n.depth-e.depth;class C3e{constructor(){this.children=[],this.isDirty=!1}add(e){ZD(this.children,e),this.isDirty=!0}remove(e){JD(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(R3e),this.isDirty=!1,this.children.forEach(e)}}function N3e(n,e){const t=Ko.now(),i=({timestamp:r})=>{const s=r-t;s>=e&&(M3(i),n(s-e))};return jr.setup(i,!0),()=>M3(i)}const $Y=["TopLeft","TopRight","BottomLeft","BottomRight"],D3e=$Y.length,DF=n=>typeof n=="string"?parseFloat(n):n,PF=n=>typeof n=="number"||Un.test(n);function P3e(n,e,t,i,r,s){r?(n.opacity=Zr(0,t.opacity??1,L3e(i)),n.opacityExit=Zr(e.opacity??1,0,B3e(i))):s&&(n.opacity=Zr(e.opacity??1,t.opacity??1,i));for(let a=0;a<D3e;a++){const o=`border${$Y[a]}Radius`;let l=LF(e,o),u=LF(t,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||PF(l)===PF(u)?(n[o]=Math.max(Zr(DF(l),DF(u),i),0),(f1.test(u)||f1.test(l))&&(n[o]+="%")):n[o]=u}(e.rotate||t.rotate)&&(n.rotate=Zr(e.rotate||0,t.rotate||0,i))}function LF(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const L3e=KY(0,.5,qX),B3e=KY(.5,.95,N0);function KY(n,e,t){return i=>i<n?0:i>e?1:t(zA(n,e,i))}function BF(n,e){n.min=e.min,n.max=e.max}function f0(n,e){BF(n.x,e.x),BF(n.y,e.y)}function UF(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function OF(n,e,t,i,r){return n-=e,n=r_(n,1/t,i),r!==void 0&&(n=r_(n,1/r,i)),n}function U3e(n,e=0,t=1,i=.5,r,s=n,a=n){if(f1.test(e)&&(e=parseFloat(e),e=Zr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Zr(s.min,s.max,i);n===s&&(o-=e),n.min=OF(n.min,e,t,o,r),n.max=OF(n.max,e,t,o,r)}function IF(n,e,[t,i,r],s,a){U3e(n,e[t],e[i],e[r],e.scale,s,a)}const O3e=["x","scaleX","originX"],I3e=["y","scaleY","originY"];function FF(n,e,t,i){IF(n.x,e,O3e,t?t.x:void 0,i?i.x:void 0),IF(n.y,e,I3e,t?t.y:void 0,i?i.y:void 0)}function zF(n){return n.translate===0&&n.scale===1}function ZY(n){return zF(n.x)&&zF(n.y)}function VF(n,e){return n.min===e.min&&n.max===e.max}function F3e(n,e){return VF(n.x,e.x)&&VF(n.y,e.y)}function kF(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function JY(n,e){return kF(n.x,e.x)&&kF(n.y,e.y)}function GF(n){return Do(n.x)/Do(n.y)}function qF(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class z3e{constructor(){this.members=[]}add(e){ZD(this.members,e),e.scheduleRender()}remove(e){if(JD(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(r=>e===r);if(t===0)return!1;let i;for(let r=t;r>=0;r--){const s=this.members[r];if(s.isPresent!==!1){i=s;break}}return i?(this.promote(i),!0):!1}promote(e,t){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,t&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:r}=e.options;r===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:i}=e;t.onExitComplete&&t.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function V3e(n,e,t){let i="";const r=n.x.translate/e.x,s=n.y.translate/e.y,a=(t==null?void 0:t.z)||0;if((r||s||a)&&(i=`translate3d(${r}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:u,rotate:c,rotateX:f,rotateY:m,skewX:v,skewY:_}=t;u&&(i=`perspective(${u}px) ${i}`),c&&(i+=`rotate(${c}deg) `),f&&(i+=`rotateX(${f}deg) `),m&&(i+=`rotateY(${m}deg) `),v&&(i+=`skewX(${v}deg) `),_&&(i+=`skewY(${_}deg) `)}const o=n.x.scale*e.x,l=n.y.scale*e.y;return(o!==1||l!==1)&&(i+=`scale(${o}, ${l})`),i||"none"}const FM=["","X","Y","Z"],k3e=1e3;let G3e=0;function zM(n,e,t,i){const{latestValues:r}=e;r[n]&&(t[n]=r[n],e.setStaticValue(n,0),i&&(i[n]=0))}function eQ(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=OY(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:r,layoutId:s}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",jr,!(r||s))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&eQ(i)}function tQ({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:i,resetTransform:r}){return class{constructor(a={},o=e==null?void 0:e()){this.id=G3e++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(j3e),this.nodes.forEach(Q3e),this.nodes.forEach($3e),this.nodes.forEach(W3e)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new C3e)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new nP),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=_Y(a)&&!qce(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),n){let c,f=0;const m=()=>this.root.updateBlockedByResize=!1;jr.read(()=>{f=window.innerWidth}),n(a,()=>{const v=window.innerWidth;v!==f&&(f=v,this.root.updateBlockedByResize=!0,c&&c(),c=N3e(m,250),ex.hasAnimatedSinceResize&&(ex.hasAnimatedSinceResize=!1,this.nodes.forEach(WF)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:c,hasLayoutChanged:f,hasRelativeLayoutChanged:m,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||u.getDefaultTransition()||t4e,{onLayoutAnimationStart:T,onLayoutAnimationComplete:M}=u.getProps(),S=!this.targetLayout||!JY(this.targetLayout,v),R=!f&&m;if(this.options.layoutRoot||this.resumeFrom||R||f&&(S||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...pP(_,"layout"),onPlay:T,onComplete:M};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(c,R)}else f||WF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),M3(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(K3e),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&eQ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const f=this.path[c];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(HF);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(jF);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Y3e),this.nodes.forEach(q3e),this.nodes.forEach(H3e)):this.nodes.forEach(jF),this.clearAllSnapshots();const o=Ko.now();Pa.delta=Fc(0,1e3/60,o-Pa.timestamp),Pa.timestamp=o,Pa.isProcessing=!0,CM.update.process(Pa),CM.preRender.process(Pa),CM.render.process(Pa),Pa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,gP.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(X3e),this.sharedNodes.forEach(Z3e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,jr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){jr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Do(this.snapshot.measuredBox.x)&&!Do(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=i(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!r)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!ZY(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||H4(this.latestValues)||c)&&(r(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),n4e(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return bs();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(i4e))){const{scroll:c}=this.root;c&&(B6(o.x,c.offset.x),B6(o.y,c.offset.y))}return o}removeElementScroll(a){var l;const o=bs();if(f0(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const c=this.path[u],{scroll:f,options:m}=c;c!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&f0(o,a),B6(o.x,f.offset.x),B6(o.y,f.offset.y))}return o}applyTransform(a,o=!1){const l=bs();f0(l,a);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&U6(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),H4(c.latestValues)&&U6(l,c.latestValues)}return H4(this.latestValues)&&U6(l,this.latestValues),l}removeTransform(a){const o=bs();f0(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!H4(u.latestValues))continue;fC(u.latestValues)&&u.updateSnapshot();const c=bs(),f=u.measurePageBox();f0(c,f),FF(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return H4(this.latestValues)&&FF(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var m;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:c,layoutId:f}=this.options;if(!(!this.layout||!(c||f))){if(this.resolvedRelativeTargetAt=Pa.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bs(),this.relativeTargetOrigin=bs(),oA(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),f0(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bs(),this.targetWithTransforms=bs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),o3e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):f0(this.target,this.layout.layoutBox),HY(this.target,this.targetDelta)):f0(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bs(),this.relativeTargetOrigin=bs(),oA(this.relativeTargetOrigin,this.target,v.target),f0(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||fC(this.parent.latestValues)||qY(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var _;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(_=this.parent)!=null&&_.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Pa.timestamp&&(l=!1),l)return;const{layout:u,layoutId:c}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||c))return;f0(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;l3e(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=bs());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(UF(this.prevProjectionDelta.x,this.projectionDelta.x),UF(this.prevProjectionDelta.y,this.projectionDelta.y)),aA(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!qF(this.projectionDelta.x,this.prevProjectionDelta.x)||!qF(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=L6(),this.projectionDelta=L6(),this.projectionDeltaWithTransform=L6()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},c={...this.latestValues},f=L6();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const m=bs(),v=l?l.source:void 0,_=this.layout?this.layout.source:void 0,T=v!==_,M=this.getStack(),S=!M||M.members.length<=1,R=!!(T&&!S&&this.options.crossfade===!0&&!this.path.some(e4e));this.animationProgress=0;let C;this.mixTargetDelta=P=>{const B=P/1e3;XF(f.x,a.x,B),XF(f.y,a.y,B),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(oA(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),J3e(this.relativeTarget,this.relativeTargetOrigin,m,B),C&&F3e(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=bs()),f0(C,this.relativeTarget)),T&&(this.animationValues=c,P3e(c,u,this.latestValues,B,R,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(M3(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=jr.update(()=>{ex.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_d(0)),this.currentAnimation=w3e(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),a.onUpdate&&a.onUpdate(c)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(k3e),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:c}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&nQ(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||bs();const f=Do(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const m=Do(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+m}f0(o,l),U6(o,c),aA(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new z3e),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&zM("z",a,u,this.animationValues);for(let c=0;c<FM.length;c++)zM(`rotate${FM[c]}`,a,u,this.animationValues),zM(`skew${FM[c]}`,a,u,this.animationValues);a.render();for(const c in u)a.setStaticValue(c,u[c]),this.animationValues&&(this.animationValues[c]=u[c]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=Jv(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=Jv(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!H4(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const c=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=V3e(this.projectionDeltaWithTransform,this.treeScale,c);l&&(f=l(c,f)),a.transform=f;const{x:m,y:v}=this.projectionDelta;a.transformOrigin=`${m.origin*100}% ${v.origin*100}% 0`,u.animationValues?a.opacity=u===this?c.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:c.opacityExit:a.opacity=u===this?c.opacity!==void 0?c.opacity:"":c.opacityExit!==void 0?c.opacityExit:0;for(const _ in qA){if(c[_]===void 0)continue;const{correct:T,applyTo:M,isCSSVariable:S}=qA[_],R=f==="none"?c[_]:T(c[_],u);if(M){const C=M.length;for(let P=0;P<C;P++)a[M[P]]=R}else S?this.options.visualElement.renderState.vars[_]=R:a[_]=R}this.options.layoutId&&(a.pointerEvents=u===this?Jv(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(HF),this.root.sharedNodes.clear()}}}function q3e(n){n.updateLayout()}function H3e(n){var t;const e=((t=n.resumeFrom)==null?void 0:t.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&e&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:r}=n.layout,{animationType:s}=n.options,a=e.source!==n.layout.source;s==="size"?d0(f=>{const m=a?e.measuredBox[f]:e.layoutBox[f],v=Do(m);m.min=i[f].min,m.max=m.min+v}):nQ(s,e.layoutBox,i)&&d0(f=>{const m=a?e.measuredBox[f]:e.layoutBox[f],v=Do(i[f]);m.max=m.min+v,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[f].max=n.relativeTarget[f].min+v)});const o=L6();aA(o,i,e.layoutBox);const l=L6();a?aA(l,n.applyTransform(r,!0),e.measuredBox):aA(l,i,e.layoutBox);const u=!ZY(o);let c=!1;if(!n.resumeFrom){const f=n.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:v}=f;if(m&&v){const _=bs();oA(_,e.layoutBox,m.layoutBox);const T=bs();oA(T,i,v.layoutBox),JY(_,T)||(c=!0),f.options.layoutRoot&&(n.relativeTarget=T,n.relativeTargetOrigin=_,n.relativeParent=f)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:c})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function j3e(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function W3e(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function X3e(n){n.clearSnapshot()}function HF(n){n.clearMeasurements()}function jF(n){n.isLayoutDirty=!1}function Y3e(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function WF(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function Q3e(n){n.resolveTargetDelta()}function $3e(n){n.calcProjection()}function K3e(n){n.resetSkewAndRotation()}function Z3e(n){n.removeLeadSnapshot()}function XF(n,e,t){n.translate=Zr(e.translate,0,t),n.scale=Zr(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function YF(n,e,t,i){n.min=Zr(e.min,t.min,i),n.max=Zr(e.max,t.max,i)}function J3e(n,e,t,i){YF(n.x,e.x,t.x,i),YF(n.y,e.y,t.y,i)}function e4e(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const t4e={duration:.45,ease:[.4,0,.1,1]},QF=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),$F=QF("applewebkit/")&&!QF("chrome/")?Math.round:N0;function KF(n){n.min=$F(n.min),n.max=$F(n.max)}function n4e(n){KF(n.x),KF(n.y)}function nQ(n,e,t){return n==="position"||n==="preserve-aspect"&&!a3e(GF(e),GF(t),.2)}function i4e(n){var e;return n!==n.root&&((e=n.scroll)==null?void 0:e.wasRoot)}const r4e=tQ({attachResizeListener:(n,e)=>jA(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),VM={current:void 0},iQ=tQ({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!VM.current){const n=new r4e({});n.mount(window),n.setOptions({layoutScroll:!0}),VM.current=n}return VM.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),s4e={pan:{Feature:S3e},drag:{Feature:b3e,ProjectionNode:iQ,MeasureLayout:QY}};function ZF(n,e,t){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",t==="Start");const r="onHover"+t,s=i[r];s&&jr.postRender(()=>s(e,Wp(e)))}class a4e extends B3{mount(){const{current:e}=this.node;e&&(this.unmount=Fce(e,(t,i)=>(ZF(this.node,i,"Start"),r=>ZF(this.node,r,"End"))))}unmount(){}}class o4e extends B3{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=qp(jA(this.node.current,"focus",()=>this.onFocus()),jA(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function JF(n,e,t){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",t==="Start");const r="onTap"+(t==="End"?"":t),s=i[r];s&&jr.postRender(()=>s(e,Wp(e)))}class l4e extends B3{mount(){const{current:e}=this.node;e&&(this.unmount=Gce(e,(t,i)=>(JF(this.node,i,"Start"),(r,{success:s})=>JF(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const AC=new WeakMap,kM=new WeakMap,u4e=n=>{const e=AC.get(n.target);e&&e(n)},c4e=n=>{n.forEach(u4e)};function f4e({root:n,...e}){const t=n||document;kM.has(t)||kM.set(t,{});const i=kM.get(t),r=JSON.stringify(e);return i[r]||(i[r]=new IntersectionObserver(c4e,{root:n,...e})),i[r]}function h4e(n,e,t){const i=f4e(e);return AC.set(n,t),i.observe(n),()=>{AC.delete(n),i.unobserve(n)}}const d4e={some:0,all:1};class A4e extends B3{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:i,amount:r="some",once:s}=e,a={root:t?t.current:void 0,rootMargin:i,threshold:typeof r=="number"?r:d4e[r]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:c,onViewportLeave:f}=this.node.getProps(),m=u?c:f;m&&m(l)};return h4e(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(p4e(e,t))&&this.startObserver()}unmount(){}}function p4e({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const m4e={inView:{Feature:A4e},tap:{Feature:l4e},focus:{Feature:o4e},hover:{Feature:a4e}},g4e={layout:{ProjectionNode:iQ,MeasureLayout:QY}},pC={current:null},rQ={current:!1};function y4e(){if(rQ.current=!0,!!$D)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>pC.current=n.matches;n.addEventListener("change",e),e()}else pC.current=!1}const v4e=new WeakMap;function x4e(n,e,t){for(const i in e){const r=e[i],s=t[i];if(ao(r))n.addValue(i,r);else if(ao(s))n.addValue(i,_d(r,{owner:n}));else if(s!==r)if(n.hasValue(i)){const a=n.getValue(i);a.liveStyle===!0?a.jump(r):a.hasAnimated||a.set(r)}else{const a=n.getStaticValue(i);n.addValue(i,_d(a!==void 0?a:r,{owner:n}))}}for(const i in t)e[i]===void 0&&n.removeValue(i);return e}const ez=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _4e{scrapeMotionValuesFromProps(e,t,i){return{}}constructor({parent:e,props:t,presenceContext:i,reducedMotionConfig:r,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=AP,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=Ko.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,jr.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=t.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=t,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=r,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=Ib(t),this.isVariantNode=MY(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...f}=this.scrapeMotionValuesFromProps(t,{},this);for(const m in f){const v=f[m];l[m]!==void 0&&ao(v)&&v.set(l[m],!1)}}mount(e){this.current=e,v4e.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,i)=>this.bindToMotionValue(i,t)),rQ.current||y4e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pC.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),M3(this.notifyUpdate),M3(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=y8.has(e);i&&this.onBindTransform&&this.onBindTransform();const r=t.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&jr.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),s=t.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),s(),a&&a(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in bd){const t=bd[e];if(!t)continue;const{isEnabled:i,Feature:r}=t;if(!this.features[e]&&r&&i(this.props)&&(this.features[e]=new r(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let i=0;i<ez.length;i++){const r=ez[i];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const s="on"+r,a=e[s];a&&(this.propEventSubscriptions[r]=this.on(r,a))}this.prevMotionValues=x4e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const i=this.values.get(e);t!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&t!==void 0&&(i=_d(t===null?void 0:t,{owner:this}),this.addValue(e,i)),i}readValue(e,t){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(LX(i)||UX(i))?i=parseFloat(i):!jce(i)&&E3.test(t)&&(i=mY(e,t)),this.setBaseTarget(e,ao(i)?i.get():i)),ao(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var s;const{initial:t}=this.props;let i;if(typeof t=="string"||typeof t=="object"){const a=MP(this.props,t,(s=this.presenceContext)==null?void 0:s.custom);a&&(i=a[e])}if(t&&i!==void 0)return i;const r=this.getBaseTargetFromProps(this.props,e);return r!==void 0&&!ao(r)?r:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new nP),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class sQ extends _4e{constructor(){super(...arguments),this.KeyframeResolver=Pce}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:i}){delete t[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ao(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function aQ(n,{style:e,vars:t},i,r){const s=n.style;let a;for(a in e)s[a]=e[a];r==null||r.applyProjectionStyles(s,i);for(a in t)s.setProperty(a,t[a])}function b4e(n){return window.getComputedStyle(n)}class S4e extends sQ{constructor(){super(...arguments),this.type="html",this.renderInstance=aQ}readValueFromInstance(e,t){var i;if(y8.has(t))return(i=this.projection)!=null&&i.isProjecting?nC(t):K1e(e,t);{const r=b4e(e),s=(sP(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return jY(e,t)}build(e,t,i){bP(e,t,i.transformTemplate)}scrapeMotionValuesFromProps(e,t,i){return EP(e,t,i)}}const oQ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function T4e(n,e,t,i){aQ(n,e,void 0,i);for(const r in e.attrs)n.setAttribute(oQ.has(r)?r:_P(r),e.attrs[r])}class M4e extends sQ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bs}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(y8.has(t)){const i=pY(t);return i&&i.default||0}return t=oQ.has(t)?t:_P(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,i){return UY(e,t,i)}build(e,t,i){DY(e,t,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,t,i,r){T4e(e,t,i,r)}mount(e){this.isSVGTag=LY(e.tagName),super.mount(e)}}const E4e=(n,e)=>TP(n)?new M4e(e):new S4e(e,{allowProjection:n!==be.Fragment}),w4e=E2e({...Z2e,...m4e,...s4e,...g4e},E4e),R4e=Kce(w4e);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const v8="178",j4={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},W4={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},RP=0,s_=1,CP=2,C4e=3,NP=0,Xp=1,lA=2,So=3,Bo=0,Zi=1,hs=2,nl=0,uo=1,Uf=2,Of=3,If=4,bf=5,Oa=100,Fb=101,zb=102,DP=103,PP=104,Ku=200,Vb=201,kb=202,Gb=203,Sd=204,Td=205,qb=206,Hb=207,jb=208,Wb=209,Xb=210,lQ=211,uQ=212,cQ=213,fQ=214,Md=0,Ed=1,wd=2,Vc=3,Rd=4,Cd=5,Nd=6,Dd=7,x8=0,LP=1,BP=2,co=0,UP=1,OP=2,IP=3,Yb=4,hQ=5,FP=6,zP=7,mC="attached",dQ="detached",Yp=300,Xl=301,U0=302,w3=303,R3=304,kc=306,Gc=1e3,Po=1001,qc=1002,fr=1003,Qp=1004,N4e=1004,Au=1005,D4e=1005,dr=1006,p3=1007,P4e=1007,Fa=1008,AQ=1008,Lr=1009,m3=1010,g3=1011,w0=1012,ea=1013,tr=1014,Mr=1015,Fs=1016,$p=1017,Kp=1018,il=1020,Zp=35902,Qb=1021,_8=1022,_r=1023,rl=1026,sl=1027,ph=1028,U3=1029,r1=1030,mh=1031,pQ=1032,gh=1033,y3=33776,Mc=33777,Ec=33778,wc=33779,Pd=35840,Ld=35841,Bd=35842,Ud=35843,Od=36196,Ff=37492,zf=37496,Vf=37808,kf=37809,Gf=37810,qf=37811,Hf=37812,jf=37813,Wf=37814,Xf=37815,Yf=37816,Qf=37817,$f=37818,Kf=37819,Zf=37820,Jf=37821,v3=36492,a_=36494,o_=36495,$b=36283,Id=36284,Fd=36285,zd=36286,mQ=2200,gQ=2201,yQ=2202,WA=2300,l_=2301,tx=2302,rf=2400,sf=2401,XA=2402,Kb=2500,VP=2501,vQ=0,xQ=1,gC=2,_Q=3200,bQ=3201,L4e=3202,B4e=3203,v1=0,kP=1,no="",Os="srgb",ql="srgb-linear",eh="linear",Xt="srgb",SQ=0,V2=7680,TQ=7681,MQ=7682,EQ=7683,wQ=34055,RQ=34056,CQ=5386,NQ=512,DQ=513,PQ=514,LQ=515,BQ=516,UQ=517,OQ=518,u_=519,Zb=512,Jp=513,Jb=514,em=515,eS=516,tS=517,nS=518,iS=519,Vd=35044,af=35048,U4e=35040,O4e=35045,I4e=35049,F4e=35041,z4e=35046,V4e=35050,k4e=35042,G4e="100",yC="300 es",za=2e3,bu=2001,q4e={COMPUTE:"compute",RENDER:"render"},H4e={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},j4e={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let $l=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}};const Ka=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let tz=1234567;const Sf=Math.PI/180,th=180/Math.PI;function Hl(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ka[n&255]+Ka[n>>8&255]+Ka[n>>16&255]+Ka[n>>24&255]+"-"+Ka[e&255]+Ka[e>>8&255]+"-"+Ka[e>>16&15|64]+Ka[e>>24&255]+"-"+Ka[t&63|128]+Ka[t>>8&255]+"-"+Ka[t>>16&255]+Ka[t>>24&255]+Ka[i&255]+Ka[i>>8&255]+Ka[i>>16&255]+Ka[i>>24&255]).toLowerCase()}function Kn(n,e,t){return Math.max(e,Math.min(t,n))}function GP(n,e){return(n%e+e)%e}function W4e(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function X4e(n,e,t){return n!==e?(t-n)/(e-n):0}function uA(n,e,t){return(1-t)*n+t*e}function Y4e(n,e,t,i){return uA(n,e,1-Math.exp(-t*i))}function Q4e(n,e=1){return e-Math.abs(GP(n,e*2)-e)}function $4e(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function K4e(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function Z4e(n,e){return n+Math.floor(Math.random()*(e-n+1))}function J4e(n,e){return n+Math.random()*(e-n)}function efe(n){return n*(.5-Math.random())}function tfe(n){n!==void 0&&(tz=n);let e=tz+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function nfe(n){return n*Sf}function ife(n){return n*th}function rfe(n){return(n&n-1)===0&&n!==0}function sfe(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function afe(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function ofe(n,e,t,i,r){const s=Math.cos,a=Math.sin,o=s(t/2),l=a(t/2),u=s((e+i)/2),c=a((e+i)/2),f=s((e-i)/2),m=a((e-i)/2),v=s((i-e)/2),_=a((i-e)/2);switch(r){case"XYX":n.set(o*c,l*f,l*m,o*u);break;case"YZY":n.set(l*m,o*c,l*f,o*u);break;case"ZXZ":n.set(l*f,l*m,o*c,o*u);break;case"XZX":n.set(o*c,l*_,l*v,o*u);break;case"YXY":n.set(l*v,o*c,l*_,o*u);break;case"ZYZ":n.set(l*_,l*v,o*c,o*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function Co(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function ni(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const rS={DEG2RAD:Sf,RAD2DEG:th,generateUUID:Hl,clamp:Kn,euclideanModulo:GP,mapLinear:W4e,inverseLerp:X4e,lerp:uA,damp:Y4e,pingpong:Q4e,smoothstep:$4e,smootherstep:K4e,randInt:Z4e,randFloat:J4e,randFloatSpread:efe,seededRandom:tfe,degToRad:nfe,radToDeg:ife,isPowerOfTwo:rfe,ceilPowerOfTwo:sfe,floorPowerOfTwo:afe,setQuaternionFromProperEuler:ofe,normalize:ni,denormalize:Co};class Ye{constructor(e=0,t=0){Ye.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Kn(this.x,e.x,t.x),this.y=Kn(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Kn(this.x,e,t),this.y=Kn(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Kn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Kn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,a=this.y-e.y;return this.x=s*i-a*r+e.x,this.y=s*r+a*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class ka{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,a,o){let l=i[r+0],u=i[r+1],c=i[r+2],f=i[r+3];const m=s[a+0],v=s[a+1],_=s[a+2],T=s[a+3];if(o===0){e[t+0]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f;return}if(o===1){e[t+0]=m,e[t+1]=v,e[t+2]=_,e[t+3]=T;return}if(f!==T||l!==m||u!==v||c!==_){let M=1-o;const S=l*m+u*v+c*_+f*T,R=S>=0?1:-1,C=1-S*S;if(C>Number.EPSILON){const B=Math.sqrt(C),O=Math.atan2(B,S*R);M=Math.sin(M*O)/B,o=Math.sin(o*O)/B}const P=o*R;if(l=l*M+m*P,u=u*M+v*P,c=c*M+_*P,f=f*M+T*P,M===1-o){const B=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=B,u*=B,c*=B,f*=B}}e[t]=l,e[t+1]=u,e[t+2]=c,e[t+3]=f}static multiplyQuaternionsFlat(e,t,i,r,s,a){const o=i[r],l=i[r+1],u=i[r+2],c=i[r+3],f=s[a],m=s[a+1],v=s[a+2],_=s[a+3];return e[t]=o*_+c*f+l*v-u*m,e[t+1]=l*_+c*m+u*f-o*v,e[t+2]=u*_+c*v+o*m-l*f,e[t+3]=c*_-o*f-l*m-u*v,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,u=o(i/2),c=o(r/2),f=o(s/2),m=l(i/2),v=l(r/2),_=l(s/2);switch(a){case"XYZ":this._x=m*c*f+u*v*_,this._y=u*v*f-m*c*_,this._z=u*c*_+m*v*f,this._w=u*c*f-m*v*_;break;case"YXZ":this._x=m*c*f+u*v*_,this._y=u*v*f-m*c*_,this._z=u*c*_-m*v*f,this._w=u*c*f+m*v*_;break;case"ZXY":this._x=m*c*f-u*v*_,this._y=u*v*f+m*c*_,this._z=u*c*_+m*v*f,this._w=u*c*f-m*v*_;break;case"ZYX":this._x=m*c*f-u*v*_,this._y=u*v*f+m*c*_,this._z=u*c*_-m*v*f,this._w=u*c*f+m*v*_;break;case"YZX":this._x=m*c*f+u*v*_,this._y=u*v*f+m*c*_,this._z=u*c*_-m*v*f,this._w=u*c*f-m*v*_;break;case"XZY":this._x=m*c*f-u*v*_,this._y=u*v*f-m*c*_,this._z=u*c*_+m*v*f,this._w=u*c*f+m*v*_;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],a=t[1],o=t[5],l=t[9],u=t[2],c=t[6],f=t[10],m=i+o+f;if(m>0){const v=.5/Math.sqrt(m+1);this._w=.25/v,this._x=(c-l)*v,this._y=(s-u)*v,this._z=(a-r)*v}else if(i>o&&i>f){const v=2*Math.sqrt(1+i-o-f);this._w=(c-l)/v,this._x=.25*v,this._y=(r+a)/v,this._z=(s+u)/v}else if(o>f){const v=2*Math.sqrt(1+o-i-f);this._w=(s-u)/v,this._x=(r+a)/v,this._y=.25*v,this._z=(l+c)/v}else{const v=2*Math.sqrt(1+f-i-o);this._w=(a-r)/v,this._x=(s+u)/v,this._y=(l+c)/v,this._z=.25*v}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<1e-8?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Kn(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,a=e._w,o=t._x,l=t._y,u=t._z,c=t._w;return this._x=i*c+a*o+r*u-s*l,this._y=r*c+a*l+s*o-i*u,this._z=s*c+a*u+i*l-r*o,this._w=a*c-i*o-r*l-s*u,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,a=this._w;let o=a*e._w+i*e._x+r*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=i,this._y=r,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const v=1-t;return this._w=v*a+t*this._w,this._x=v*i+t*this._x,this._y=v*r+t*this._y,this._z=v*s+t*this._z,this.normalize(),this}const u=Math.sqrt(l),c=Math.atan2(u,o),f=Math.sin((1-t)*c)/u,m=Math.sin(t*c)/u;return this._w=a*f+this._w*m,this._x=i*f+this._x*m,this._y=r*f+this._y*m,this._z=s*f+this._z*m,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class re{constructor(e=0,t=0,i=0){re.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(nz.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(nz.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,a=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*a,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*a,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*a,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,a=e.y,o=e.z,l=e.w,u=2*(a*r-o*i),c=2*(o*t-s*r),f=2*(s*i-a*t);return this.x=t+l*u+a*f-o*c,this.y=i+l*c+o*u-s*f,this.z=r+l*f+s*c-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Kn(this.x,e.x,t.x),this.y=Kn(this.y,e.y,t.y),this.z=Kn(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Kn(this.x,e,t),this.y=Kn(this.y,e,t),this.z=Kn(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Kn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,a=t.x,o=t.y,l=t.z;return this.x=r*l-s*o,this.y=s*a-i*l,this.z=i*o-r*a,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return GM.copy(this).projectOnVector(e),this.sub(GM)}reflect(e){return this.sub(GM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Kn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const GM=new re,nz=new ka;class On{constructor(e,t,i,r,s,a,o,l,u){On.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,l,u)}set(e,t,i,r,s,a,o,l,u){const c=this.elements;return c[0]=e,c[1]=r,c[2]=o,c[3]=t,c[4]=s,c[5]=l,c[6]=i,c[7]=a,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[3],l=i[6],u=i[1],c=i[4],f=i[7],m=i[2],v=i[5],_=i[8],T=r[0],M=r[3],S=r[6],R=r[1],C=r[4],P=r[7],B=r[2],O=r[5],V=r[8];return s[0]=a*T+o*R+l*B,s[3]=a*M+o*C+l*O,s[6]=a*S+o*P+l*V,s[1]=u*T+c*R+f*B,s[4]=u*M+c*C+f*O,s[7]=u*S+c*P+f*V,s[2]=m*T+v*R+_*B,s[5]=m*M+v*C+_*O,s[8]=m*S+v*P+_*V,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],c=e[8];return t*a*c-t*o*u-i*s*c+i*o*l+r*s*u-r*a*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],c=e[8],f=c*a-o*u,m=o*l-c*s,v=u*s-a*l,_=t*f+i*m+r*v;if(_===0)return this.set(0,0,0,0,0,0,0,0,0);const T=1/_;return e[0]=f*T,e[1]=(r*u-c*i)*T,e[2]=(o*i-r*a)*T,e[3]=m*T,e[4]=(c*t-r*l)*T,e[5]=(r*s-o*t)*T,e[6]=v*T,e[7]=(i*l-u*t)*T,e[8]=(a*t-i*s)*T,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,a,o){const l=Math.cos(s),u=Math.sin(s);return this.set(i*l,i*u,-i*(l*a+u*o)+a+e,-r*u,r*l,-r*(-u*a+l*o)+o+t,0,0,1),this}scale(e,t){return this.premultiply(qM.makeScale(e,t)),this}rotate(e){return this.premultiply(qM.makeRotation(-e)),this}translate(e,t){return this.premultiply(qM.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const qM=new On;function qP(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const lfe={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function O6(n,e){return new lfe[n](e)}function YA(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function HP(){const n=YA("canvas");return n.style.display="block",n}const iz={};function jl(n){n in iz||(iz[n]=!0,console.warn(n))}function ufe(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}function cfe(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function ffe(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const rz=new On().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),sz=new On().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function hfe(){const n={enabled:!0,workingColorSpace:ql,spaces:{},convert:function(r,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===Xt&&(r.r=Rc(r.r),r.g=Rc(r.g),r.b=Rc(r.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===Xt&&(r.r=td(r.r),r.g=td(r.g),r.b=td(r.b))),r},workingToColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},colorSpaceToWorking:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===no?eh:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,a){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(r,s){return jl("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),n.workingToColorSpace(r,s)},toWorkingColorSpace:function(r,s){return jl("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),n.colorSpaceToWorking(r,s)}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[ql]:{primaries:e,whitePoint:i,transfer:eh,toXYZ:rz,fromXYZ:sz,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Os},outputColorSpaceConfig:{drawingBufferColorSpace:Os}},[Os]:{primaries:e,whitePoint:i,transfer:Xt,toXYZ:rz,fromXYZ:sz,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Os}}}),n}const wn=hfe();function Rc(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function td(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let R5;class IQ{static getDataURL(e,t="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let i;if(e instanceof HTMLCanvasElement)i=e;else{R5===void 0&&(R5=YA("canvas")),R5.width=e.width,R5.height=e.height;const r=R5.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),i=R5}return i.toDataURL(t)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=YA("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let a=0;a<s.length;a++)s[a]=Rc(s[a]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(Rc(t[i]/255)*255):t[i]=Rc(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let dfe=0;class i3{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:dfe++}),this.uuid=Hl(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const t=this.data;return t instanceof HTMLVideoElement?e.set(t.videoWidth,t.videoHeight):t!==null?e.set(t.width,t.height,t.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let a=0,o=r.length;a<o;a++)r[a].isDataTexture?s.push(HM(r[a].image)):s.push(HM(r[a]))}else s=HM(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function HM(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?IQ.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Afe=0;const jM=new re;class Ur extends $l{constructor(e=Ur.DEFAULT_IMAGE,t=Ur.DEFAULT_MAPPING,i=Po,r=Po,s=dr,a=Fa,o=_r,l=Lr,u=Ur.DEFAULT_ANISOTROPY,c=no){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Afe++}),this.uuid=Hl(),this.name="",this.source=new i3(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=a,this.anisotropy=u,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Ye(0,0),this.repeat=new Ye(1,1),this.center=new Ye(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new On,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(jM).x}get height(){return this.source.getSize(jM).y}get depth(){return this.source.getSize(jM).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Texture.setValues(): parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Texture.setValues(): property '${t}' does not exist.`);continue}r&&i&&r.isVector2&&i.isVector2||r&&i&&r.isVector3&&i.isVector3||r&&i&&r.isMatrix3&&i.isMatrix3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Yp)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Gc:e.x=e.x-Math.floor(e.x);break;case Po:e.x=e.x<0?0:1;break;case qc:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Gc:e.y=e.y-Math.floor(e.y);break;case Po:e.y=e.y<0?0:1;break;case qc:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ur.DEFAULT_IMAGE=null;Ur.DEFAULT_MAPPING=Yp;Ur.DEFAULT_ANISOTROPY=1;class ln{constructor(e=0,t=0,i=0,r=1){ln.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*r+a[12]*s,this.y=a[1]*t+a[5]*i+a[9]*r+a[13]*s,this.z=a[2]*t+a[6]*i+a[10]*r+a[14]*s,this.w=a[3]*t+a[7]*i+a[11]*r+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,u=l[0],c=l[4],f=l[8],m=l[1],v=l[5],_=l[9],T=l[2],M=l[6],S=l[10];if(Math.abs(c-m)<.01&&Math.abs(f-T)<.01&&Math.abs(_-M)<.01){if(Math.abs(c+m)<.1&&Math.abs(f+T)<.1&&Math.abs(_+M)<.1&&Math.abs(u+v+S-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const C=(u+1)/2,P=(v+1)/2,B=(S+1)/2,O=(c+m)/4,V=(f+T)/4,F=(_+M)/4;return C>P&&C>B?C<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(C),r=O/i,s=V/i):P>B?P<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(P),i=O/r,s=F/r):B<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(B),i=V/s,r=F/s),this.set(i,r,s,t),this}let R=Math.sqrt((M-_)*(M-_)+(f-T)*(f-T)+(m-c)*(m-c));return Math.abs(R)<.001&&(R=1),this.x=(M-_)/R,this.y=(f-T)/R,this.z=(m-c)/R,this.w=Math.acos((u+v+S-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Kn(this.x,e.x,t.x),this.y=Kn(this.y,e.y,t.y),this.z=Kn(this.z,e.z,t.z),this.w=Kn(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Kn(this.x,e,t),this.y=Kn(this.y,e,t),this.z=Kn(this.z,e,t),this.w=Kn(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Kn(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class Eu extends $l{constructor(e=1,t=1,i={}){super(),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:dr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},i),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=i.depth,this.scissor=new ln(0,0,e,t),this.scissorTest=!1,this.viewport=new ln(0,0,e,t);const r={width:e,height:t,depth:i.depth},s=new Ur(r);this.textures=[];const a=i.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(i),this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples,this.multiview=i.multiview}_setTextureOptions(e={}){const t={minFilter:dr,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(t.mapping=e.mapping),e.wrapS!==void 0&&(t.wrapS=e.wrapS),e.wrapT!==void 0&&(t.wrapT=e.wrapT),e.wrapR!==void 0&&(t.wrapR=e.wrapR),e.magFilter!==void 0&&(t.magFilter=e.magFilter),e.minFilter!==void 0&&(t.minFilter=e.minFilter),e.format!==void 0&&(t.format=e.format),e.type!==void 0&&(t.type=e.type),e.anisotropy!==void 0&&(t.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(t.colorSpace=e.colorSpace),e.flipY!==void 0&&(t.flipY=e.flipY),e.generateMipmaps!==void 0&&(t.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(t.internalFormat=e.internalFormat);for(let i=0;i<this.textures.length;i++)this.textures[i].setValues(t)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i,this.textures[r].isArrayTexture=this.textures[r].image.depth>1;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let t=0,i=e.textures.length;t<i;t++){this.textures[t]=e.textures[t].clone(),this.textures[t].isRenderTargetTexture=!0,this.textures[t].renderTarget=this;const r=Object.assign({},e.textures[t].image);this.textures[t].source=new i3(r)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class x1 extends Eu{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class tm extends Ur{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=fr,this.minFilter=fr,this.wrapR=Po,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class pfe extends x1{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new tm(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class sS extends Ur{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=fr,this.minFilter=fr,this.wrapR=Po,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class mfe extends x1{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new sS(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}class na{constructor(e=new re(1/0,1/0,1/0),t=new re(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(tu.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(tu.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=tu.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,tu):tu.fromBufferAttribute(s,a),tu.applyMatrix4(e.matrixWorld),this.expandByPoint(tu);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),$g.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),$g.copy(i.boundingBox)),$g.applyMatrix4(e.matrixWorld),this.union($g)}const r=e.children;for(let s=0,a=r.length;s<a;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,tu),tu.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(k7),Kg.subVectors(this.max,k7),C5.subVectors(e.a,k7),N5.subVectors(e.b,k7),D5.subVectors(e.c,k7),S2.subVectors(N5,C5),T2.subVectors(D5,N5),g4.subVectors(C5,D5);let t=[0,-S2.z,S2.y,0,-T2.z,T2.y,0,-g4.z,g4.y,S2.z,0,-S2.x,T2.z,0,-T2.x,g4.z,0,-g4.x,-S2.y,S2.x,0,-T2.y,T2.x,0,-g4.y,g4.x,0];return!WM(t,C5,N5,D5,Kg)||(t=[1,0,0,0,1,0,0,0,1],!WM(t,C5,N5,D5,Kg))?!1:(Zg.crossVectors(S2,T2),t=[Zg.x,Zg.y,Zg.z],WM(t,C5,N5,D5,Kg))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,tu).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(tu).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ic[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ic[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ic[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ic[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ic[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ic[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ic[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ic[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ic),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const ic=[new re,new re,new re,new re,new re,new re,new re,new re],tu=new re,$g=new na,C5=new re,N5=new re,D5=new re,S2=new re,T2=new re,g4=new re,k7=new re,Kg=new re,Zg=new re,y4=new re;function WM(n,e,t,i,r){for(let s=0,a=n.length-3;s<=a;s+=3){y4.fromArray(n,s);const o=r.x*Math.abs(y4.x)+r.y*Math.abs(y4.y)+r.z*Math.abs(y4.z),l=e.dot(y4),u=t.dot(y4),c=i.dot(y4);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>o)return!1}return!0}const gfe=new na,G7=new re,XM=new re;class Vs{constructor(e=new re,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):gfe.setFromPoints(e).getCenter(i);let r=0;for(let s=0,a=e.length;s<a;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;G7.subVectors(e,this.center);const t=G7.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(G7,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(XM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(G7.copy(e.center).add(XM)),this.expandByPoint(G7.copy(e.center).sub(XM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const rc=new re,YM=new re,Jg=new re,M2=new re,QM=new re,ey=new re,$M=new re;class yh{constructor(e=new re,t=new re(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,rc)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=rc.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(rc.copy(this.origin).addScaledVector(this.direction,t),rc.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){YM.copy(e).add(t).multiplyScalar(.5),Jg.copy(t).sub(e).normalize(),M2.copy(this.origin).sub(YM);const s=e.distanceTo(t)*.5,a=-this.direction.dot(Jg),o=M2.dot(this.direction),l=-M2.dot(Jg),u=M2.lengthSq(),c=Math.abs(1-a*a);let f,m,v,_;if(c>0)if(f=a*l-o,m=a*o-l,_=s*c,f>=0)if(m>=-_)if(m<=_){const T=1/c;f*=T,m*=T,v=f*(f+a*m+2*o)+m*(a*f+m+2*l)+u}else m=s,f=Math.max(0,-(a*m+o)),v=-f*f+m*(m+2*l)+u;else m=-s,f=Math.max(0,-(a*m+o)),v=-f*f+m*(m+2*l)+u;else m<=-_?(f=Math.max(0,-(-a*s+o)),m=f>0?-s:Math.min(Math.max(-s,-l),s),v=-f*f+m*(m+2*l)+u):m<=_?(f=0,m=Math.min(Math.max(-s,-l),s),v=m*(m+2*l)+u):(f=Math.max(0,-(a*s+o)),m=f>0?s:Math.min(Math.max(-s,-l),s),v=-f*f+m*(m+2*l)+u);else m=a>0?-s:s,f=Math.max(0,-(a*m+o)),v=-f*f+m*(m+2*l)+u;return i&&i.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(YM).addScaledVector(Jg,m),v}intersectSphere(e,t){rc.subVectors(e.center,this.origin);const i=rc.dot(this.direction),r=rc.dot(rc)-i*i,s=e.radius*e.radius;if(r>s)return null;const a=Math.sqrt(s-r),o=i-a,l=i+a;return l<0?null:o<0?this.at(l,t):this.at(o,t)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,a,o,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,m=this.origin;return u>=0?(i=(e.min.x-m.x)*u,r=(e.max.x-m.x)*u):(i=(e.max.x-m.x)*u,r=(e.min.x-m.x)*u),c>=0?(s=(e.min.y-m.y)*c,a=(e.max.y-m.y)*c):(s=(e.max.y-m.y)*c,a=(e.min.y-m.y)*c),i>a||s>r||((s>i||isNaN(i))&&(i=s),(a<r||isNaN(r))&&(r=a),f>=0?(o=(e.min.z-m.z)*f,l=(e.max.z-m.z)*f):(o=(e.max.z-m.z)*f,l=(e.min.z-m.z)*f),i>l||o>r)||((o>i||i!==i)&&(i=o),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,rc)!==null}intersectTriangle(e,t,i,r,s){QM.subVectors(t,e),ey.subVectors(i,e),$M.crossVectors(QM,ey);let a=this.direction.dot($M),o;if(a>0){if(r)return null;o=1}else if(a<0)o=-1,a=-a;else return null;M2.subVectors(this.origin,e);const l=o*this.direction.dot(ey.crossVectors(M2,ey));if(l<0)return null;const u=o*this.direction.dot(QM.cross(M2));if(u<0||l+u>a)return null;const c=-o*M2.dot($M);return c<0?null:this.at(c/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Yt{constructor(e,t,i,r,s,a,o,l,u,c,f,m,v,_,T,M){Yt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,a,o,l,u,c,f,m,v,_,T,M)}set(e,t,i,r,s,a,o,l,u,c,f,m,v,_,T,M){const S=this.elements;return S[0]=e,S[4]=t,S[8]=i,S[12]=r,S[1]=s,S[5]=a,S[9]=o,S[13]=l,S[2]=u,S[6]=c,S[10]=f,S[14]=m,S[3]=v,S[7]=_,S[11]=T,S[15]=M,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Yt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/P5.setFromMatrixColumn(e,0).length(),s=1/P5.setFromMatrixColumn(e,1).length(),a=1/P5.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,a=Math.cos(i),o=Math.sin(i),l=Math.cos(r),u=Math.sin(r),c=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const m=a*c,v=a*f,_=o*c,T=o*f;t[0]=l*c,t[4]=-l*f,t[8]=u,t[1]=v+_*u,t[5]=m-T*u,t[9]=-o*l,t[2]=T-m*u,t[6]=_+v*u,t[10]=a*l}else if(e.order==="YXZ"){const m=l*c,v=l*f,_=u*c,T=u*f;t[0]=m+T*o,t[4]=_*o-v,t[8]=a*u,t[1]=a*f,t[5]=a*c,t[9]=-o,t[2]=v*o-_,t[6]=T+m*o,t[10]=a*l}else if(e.order==="ZXY"){const m=l*c,v=l*f,_=u*c,T=u*f;t[0]=m-T*o,t[4]=-a*f,t[8]=_+v*o,t[1]=v+_*o,t[5]=a*c,t[9]=T-m*o,t[2]=-a*u,t[6]=o,t[10]=a*l}else if(e.order==="ZYX"){const m=a*c,v=a*f,_=o*c,T=o*f;t[0]=l*c,t[4]=_*u-v,t[8]=m*u+T,t[1]=l*f,t[5]=T*u+m,t[9]=v*u-_,t[2]=-u,t[6]=o*l,t[10]=a*l}else if(e.order==="YZX"){const m=a*l,v=a*u,_=o*l,T=o*u;t[0]=l*c,t[4]=T-m*f,t[8]=_*f+v,t[1]=f,t[5]=a*c,t[9]=-o*c,t[2]=-u*c,t[6]=v*f+_,t[10]=m-T*f}else if(e.order==="XZY"){const m=a*l,v=a*u,_=o*l,T=o*u;t[0]=l*c,t[4]=-f,t[8]=u*c,t[1]=m*f+T,t[5]=a*c,t[9]=v*f-_,t[2]=_*f-v,t[6]=o*c,t[10]=T*f+m}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(yfe,e,vfe)}lookAt(e,t,i){const r=this.elements;return El.subVectors(e,t),El.lengthSq()===0&&(El.z=1),El.normalize(),E2.crossVectors(i,El),E2.lengthSq()===0&&(Math.abs(i.z)===1?El.x+=1e-4:El.z+=1e-4,El.normalize(),E2.crossVectors(i,El)),E2.normalize(),ty.crossVectors(El,E2),r[0]=E2.x,r[4]=ty.x,r[8]=El.x,r[1]=E2.y,r[5]=ty.y,r[9]=El.y,r[2]=E2.z,r[6]=ty.z,r[10]=El.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,a=i[0],o=i[4],l=i[8],u=i[12],c=i[1],f=i[5],m=i[9],v=i[13],_=i[2],T=i[6],M=i[10],S=i[14],R=i[3],C=i[7],P=i[11],B=i[15],O=r[0],V=r[4],F=r[8],z=r[12],k=r[1],H=r[5],Z=r[9],$=r[13],ae=r[2],ne=r[6],Y=r[10],ee=r[14],Q=r[3],fe=r[7],ge=r[11],Re=r[15];return s[0]=a*O+o*k+l*ae+u*Q,s[4]=a*V+o*H+l*ne+u*fe,s[8]=a*F+o*Z+l*Y+u*ge,s[12]=a*z+o*$+l*ee+u*Re,s[1]=c*O+f*k+m*ae+v*Q,s[5]=c*V+f*H+m*ne+v*fe,s[9]=c*F+f*Z+m*Y+v*ge,s[13]=c*z+f*$+m*ee+v*Re,s[2]=_*O+T*k+M*ae+S*Q,s[6]=_*V+T*H+M*ne+S*fe,s[10]=_*F+T*Z+M*Y+S*ge,s[14]=_*z+T*$+M*ee+S*Re,s[3]=R*O+C*k+P*ae+B*Q,s[7]=R*V+C*H+P*ne+B*fe,s[11]=R*F+C*Z+P*Y+B*ge,s[15]=R*z+C*$+P*ee+B*Re,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],a=e[1],o=e[5],l=e[9],u=e[13],c=e[2],f=e[6],m=e[10],v=e[14],_=e[3],T=e[7],M=e[11],S=e[15];return _*(+s*l*f-r*u*f-s*o*m+i*u*m+r*o*v-i*l*v)+T*(+t*l*v-t*u*m+s*a*m-r*a*v+r*u*c-s*l*c)+M*(+t*u*f-t*o*v-s*a*f+i*a*v+s*o*c-i*u*c)+S*(-r*o*c-t*l*f+t*o*m+r*a*f-i*a*m+i*l*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],a=e[4],o=e[5],l=e[6],u=e[7],c=e[8],f=e[9],m=e[10],v=e[11],_=e[12],T=e[13],M=e[14],S=e[15],R=f*M*u-T*m*u+T*l*v-o*M*v-f*l*S+o*m*S,C=_*m*u-c*M*u-_*l*v+a*M*v+c*l*S-a*m*S,P=c*T*u-_*f*u+_*o*v-a*T*v-c*o*S+a*f*S,B=_*f*l-c*T*l-_*o*m+a*T*m+c*o*M-a*f*M,O=t*R+i*C+r*P+s*B;if(O===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const V=1/O;return e[0]=R*V,e[1]=(T*m*s-f*M*s-T*r*v+i*M*v+f*r*S-i*m*S)*V,e[2]=(o*M*s-T*l*s+T*r*u-i*M*u-o*r*S+i*l*S)*V,e[3]=(f*l*s-o*m*s-f*r*u+i*m*u+o*r*v-i*l*v)*V,e[4]=C*V,e[5]=(c*M*s-_*m*s+_*r*v-t*M*v-c*r*S+t*m*S)*V,e[6]=(_*l*s-a*M*s-_*r*u+t*M*u+a*r*S-t*l*S)*V,e[7]=(a*m*s-c*l*s+c*r*u-t*m*u-a*r*v+t*l*v)*V,e[8]=P*V,e[9]=(_*f*s-c*T*s-_*i*v+t*T*v+c*i*S-t*f*S)*V,e[10]=(a*T*s-_*o*s+_*i*u-t*T*u-a*i*S+t*o*S)*V,e[11]=(c*o*s-a*f*s-c*i*u+t*f*u+a*i*v-t*o*v)*V,e[12]=B*V,e[13]=(c*T*r-_*f*r+_*i*m-t*T*m-c*i*M+t*f*M)*V,e[14]=(_*o*r-a*T*r-_*i*l+t*T*l+a*i*M-t*o*M)*V,e[15]=(a*f*r-c*o*r+c*i*l-t*f*l-a*i*m+t*o*m)*V,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,a=e.x,o=e.y,l=e.z,u=s*a,c=s*o;return this.set(u*a+i,u*o-r*l,u*l+r*o,0,u*o+r*l,c*o+i,c*l-r*a,0,u*l-r*o,c*l+r*a,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,a){return this.set(1,i,s,0,e,1,a,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,a=t._y,o=t._z,l=t._w,u=s+s,c=a+a,f=o+o,m=s*u,v=s*c,_=s*f,T=a*c,M=a*f,S=o*f,R=l*u,C=l*c,P=l*f,B=i.x,O=i.y,V=i.z;return r[0]=(1-(T+S))*B,r[1]=(v+P)*B,r[2]=(_-C)*B,r[3]=0,r[4]=(v-P)*O,r[5]=(1-(m+S))*O,r[6]=(M+R)*O,r[7]=0,r[8]=(_+C)*V,r[9]=(M-R)*V,r[10]=(1-(m+T))*V,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=P5.set(r[0],r[1],r[2]).length();const a=P5.set(r[4],r[5],r[6]).length(),o=P5.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],nu.copy(this);const u=1/s,c=1/a,f=1/o;return nu.elements[0]*=u,nu.elements[1]*=u,nu.elements[2]*=u,nu.elements[4]*=c,nu.elements[5]*=c,nu.elements[6]*=c,nu.elements[8]*=f,nu.elements[9]*=f,nu.elements[10]*=f,t.setFromRotationMatrix(nu),i.x=s,i.y=a,i.z=o,this}makePerspective(e,t,i,r,s,a,o=za){const l=this.elements,u=2*s/(t-e),c=2*s/(i-r),f=(t+e)/(t-e),m=(i+r)/(i-r);let v,_;if(o===za)v=-(a+s)/(a-s),_=-2*a*s/(a-s);else if(o===bu)v=-a/(a-s),_=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=u,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=c,l[9]=m,l[13]=0,l[2]=0,l[6]=0,l[10]=v,l[14]=_,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,a,o=za){const l=this.elements,u=1/(t-e),c=1/(i-r),f=1/(a-s),m=(t+e)*u,v=(i+r)*c;let _,T;if(o===za)_=(a+s)*f,T=-2*f;else if(o===bu)_=s*f,T=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-m,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-v,l[2]=0,l[6]=0,l[10]=T,l[14]=-_,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const P5=new re,nu=new Yt,yfe=new re(0,0,0),vfe=new re(1,1,1),E2=new re,ty=new re,El=new re,az=new Yt,oz=new ka;class Sa{constructor(e=0,t=0,i=0,r=Sa.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],a=r[4],o=r[8],l=r[1],u=r[5],c=r[9],f=r[2],m=r[6],v=r[10];switch(t){case"XYZ":this._y=Math.asin(Kn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-c,v),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(m,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Kn(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(o,v),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Kn(m,-1,1)),Math.abs(m)<.9999999?(this._y=Math.atan2(-f,v),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Kn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(m,v),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Kn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(o,v));break;case"XZY":this._z=Math.asin(-Kn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(m,u),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-c,v),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return az.makeRotationFromQuaternion(e),this.setFromRotationMatrix(az,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return oz.setFromEuler(this),this.setFromQuaternion(oz,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Sa.DEFAULT_ORDER="XYZ";class kd{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let xfe=0;const lz=new re,L5=new ka,sc=new Yt,ny=new re,q7=new re,_fe=new re,bfe=new ka,uz=new re(1,0,0),cz=new re(0,1,0),fz=new re(0,0,1),hz={type:"added"},Sfe={type:"removed"},B5={type:"childadded",child:null},KM={type:"childremoved",child:null};class Mi extends $l{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:xfe++}),this.uuid=Hl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Mi.DEFAULT_UP.clone();const e=new re,t=new Sa,i=new ka,r=new re(1,1,1);function s(){i.setFromEuler(t,!1)}function a(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Yt},normalMatrix:{value:new On}}),this.matrix=new Yt,this.matrixWorld=new Yt,this.matrixAutoUpdate=Mi.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Mi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new kd,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return L5.setFromAxisAngle(e,t),this.quaternion.multiply(L5),this}rotateOnWorldAxis(e,t){return L5.setFromAxisAngle(e,t),this.quaternion.premultiply(L5),this}rotateX(e){return this.rotateOnAxis(uz,e)}rotateY(e){return this.rotateOnAxis(cz,e)}rotateZ(e){return this.rotateOnAxis(fz,e)}translateOnAxis(e,t){return lz.copy(e).applyQuaternion(this.quaternion),this.position.add(lz.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(uz,e)}translateY(e){return this.translateOnAxis(cz,e)}translateZ(e){return this.translateOnAxis(fz,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(sc.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?ny.copy(e):ny.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),q7.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?sc.lookAt(q7,ny,this.up):sc.lookAt(ny,q7,this.up),this.quaternion.setFromRotationMatrix(sc),r&&(sc.extractRotation(r.matrixWorld),L5.setFromRotationMatrix(sc),this.quaternion.premultiply(L5.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(hz),B5.child=e,this.dispatchEvent(B5),B5.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Sfe),KM.child=e,this.dispatchEvent(KM),KM.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),sc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),sc.multiply(e.parent.matrixWorld)),e.applyMatrix4(sc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(hz),B5.child=e,this.dispatchEvent(B5),B5.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const a=this.children[i].getObjectByProperty(e,t);if(a!==void 0)return a}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(q7,e,_fe),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(q7,bfe,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,a=r.length;s<a;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),r.instanceInfo=this._instanceInfo.map(o=>({...o})),r.availableInstanceIds=this._availableInstanceIds.slice(),r.availableGeometryIds=this._availableGeometryIds.slice(),r.nextIndexStart=this._nextIndexStart,r.nextVertexStart=this._nextVertexStart,r.geometryCount=this._geometryCount,r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.matricesTexture=this._matricesTexture.toJSON(e),r.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(r.boundingBox=this.boundingBox.toJSON()));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,u=this.material.length;l<u;l++)o.push(s(e.materials,this.material[l]));r.material=o}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let o=0;o<this.children.length;o++)r.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];r.animations.push(s(e.animations,l))}}if(t){const o=a(e.geometries),l=a(e.materials),u=a(e.textures),c=a(e.images),f=a(e.shapes),m=a(e.skeletons),v=a(e.animations),_=a(e.nodes);o.length>0&&(i.geometries=o),l.length>0&&(i.materials=l),u.length>0&&(i.textures=u),c.length>0&&(i.images=c),f.length>0&&(i.shapes=f),m.length>0&&(i.skeletons=m),v.length>0&&(i.animations=v),_.length>0&&(i.nodes=_)}return i.object=r,i;function a(o){const l=[];for(const u in o){const c=o[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Mi.DEFAULT_UP=new re(0,1,0);Mi.DEFAULT_MATRIX_AUTO_UPDATE=!0;Mi.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const iu=new re,ac=new re,ZM=new re,oc=new re,U5=new re,O5=new re,dz=new re,JM=new re,eE=new re,tE=new re,nE=new ln,iE=new ln,rE=new ln;class $o{constructor(e=new re,t=new re,i=new re){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),iu.subVectors(e,t),r.cross(iu);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){iu.subVectors(r,t),ac.subVectors(i,t),ZM.subVectors(e,t);const a=iu.dot(iu),o=iu.dot(ac),l=iu.dot(ZM),u=ac.dot(ac),c=ac.dot(ZM),f=a*u-o*o;if(f===0)return s.set(0,0,0),null;const m=1/f,v=(u*l-o*c)*m,_=(a*c-o*l)*m;return s.set(1-v-_,_,v)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,oc)===null?!1:oc.x>=0&&oc.y>=0&&oc.x+oc.y<=1}static getInterpolation(e,t,i,r,s,a,o,l){return this.getBarycoord(e,t,i,r,oc)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,oc.x),l.addScaledVector(a,oc.y),l.addScaledVector(o,oc.z),l)}static getInterpolatedAttribute(e,t,i,r,s,a){return nE.setScalar(0),iE.setScalar(0),rE.setScalar(0),nE.fromBufferAttribute(e,t),iE.fromBufferAttribute(e,i),rE.fromBufferAttribute(e,r),a.setScalar(0),a.addScaledVector(nE,s.x),a.addScaledVector(iE,s.y),a.addScaledVector(rE,s.z),a}static isFrontFacing(e,t,i,r){return iu.subVectors(i,t),ac.subVectors(e,t),iu.cross(ac).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return iu.subVectors(this.c,this.b),ac.subVectors(this.a,this.b),iu.cross(ac).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return $o.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return $o.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return $o.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return $o.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return $o.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let a,o;U5.subVectors(r,i),O5.subVectors(s,i),JM.subVectors(e,i);const l=U5.dot(JM),u=O5.dot(JM);if(l<=0&&u<=0)return t.copy(i);eE.subVectors(e,r);const c=U5.dot(eE),f=O5.dot(eE);if(c>=0&&f<=c)return t.copy(r);const m=l*f-c*u;if(m<=0&&l>=0&&c<=0)return a=l/(l-c),t.copy(i).addScaledVector(U5,a);tE.subVectors(e,s);const v=U5.dot(tE),_=O5.dot(tE);if(_>=0&&v<=_)return t.copy(s);const T=v*u-l*_;if(T<=0&&u>=0&&_<=0)return o=u/(u-_),t.copy(i).addScaledVector(O5,o);const M=c*_-v*f;if(M<=0&&f-c>=0&&v-_>=0)return dz.subVectors(s,r),o=(f-c)/(f-c+(v-_)),t.copy(r).addScaledVector(dz,o);const S=1/(M+T+m);return a=T*S,o=m*S,t.copy(i).addScaledVector(U5,a).addScaledVector(O5,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const FQ={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},w2={h:0,s:0,l:0},iy={h:0,s:0,l:0};function sE(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let Nt=class{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Os){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,wn.colorSpaceToWorking(this,t),this}setRGB(e,t,i,r=wn.workingColorSpace){return this.r=e,this.g=t,this.b=i,wn.colorSpaceToWorking(this,r),this}setHSL(e,t,i,r=wn.workingColorSpace){if(e=GP(e,1),t=Kn(t,0,1),i=Kn(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,a=2*i-s;this.r=sE(a,s,e+1/3),this.g=sE(a,s,e),this.b=sE(a,s,e-1/3)}return wn.colorSpaceToWorking(this,r),this}setStyle(e,t=Os){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[1],o=r[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(a===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Os){const i=FQ[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Rc(e.r),this.g=Rc(e.g),this.b=Rc(e.b),this}copyLinearToSRGB(e){return this.r=td(e.r),this.g=td(e.g),this.b=td(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Os){return wn.workingToColorSpace(Za.copy(this),e),Math.round(Kn(Za.r*255,0,255))*65536+Math.round(Kn(Za.g*255,0,255))*256+Math.round(Kn(Za.b*255,0,255))}getHexString(e=Os){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=wn.workingColorSpace){wn.workingToColorSpace(Za.copy(this),t);const i=Za.r,r=Za.g,s=Za.b,a=Math.max(i,r,s),o=Math.min(i,r,s);let l,u;const c=(o+a)/2;if(o===a)l=0,u=0;else{const f=a-o;switch(u=c<=.5?f/(a+o):f/(2-a-o),a){case i:l=(r-s)/f+(r<s?6:0);break;case r:l=(s-i)/f+2;break;case s:l=(i-r)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,t=wn.workingColorSpace){return wn.workingToColorSpace(Za.copy(this),t),e.r=Za.r,e.g=Za.g,e.b=Za.b,e}getStyle(e=Os){wn.workingToColorSpace(Za.copy(this),e);const t=Za.r,i=Za.g,r=Za.b;return e!==Os?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(w2),this.setHSL(w2.h+e,w2.s+t,w2.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(w2),e.getHSL(iy);const i=uA(w2.h,iy.h,t),r=uA(w2.s,iy.s,t),s=uA(w2.l,iy.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Za=new Nt;Nt.NAMES=FQ;let Tfe=0;class Ta extends $l{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Tfe++}),this.uuid=Hl(),this.name="",this.type="Material",this.blending=uo,this.side=Bo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Sd,this.blendDst=Td,this.blendEquation=Oa,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Nt(0,0,0),this.blendAlpha=0,this.depthFunc=Vc,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=u_,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=V2,this.stencilZFail=V2,this.stencilZPass=V2,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==uo&&(i.blending=this.blending),this.side!==Bo&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==Sd&&(i.blendSrc=this.blendSrc),this.blendDst!==Td&&(i.blendDst=this.blendDst),this.blendEquation!==Oa&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Vc&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==u_&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==V2&&(i.stencilFail=this.stencilFail),this.stencilZFail!==V2&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==V2&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(t){const s=r(e.textures),a=r(e.images);s.length>0&&(i.textures=s),a.length>0&&(i.images=a)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ia extends Ta{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Sa,this.combine=x8,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const pc=Mfe();function Mfe(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):u<-14?(i[l]=1024>>-u-14,i[l|256]=1024>>-u-14|32768,r[l]=-u-1,r[l|256]=-u-1):u<=15?(i[l]=u+15<<10,i[l|256]=u+15<<10|32768,r[l]=13,r[l|256]=13):u<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,s[l]=u|c}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:a,offsetTable:o}}function qo(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Kn(n,-65504,65504),pc.floatView[0]=n;const e=pc.uint32View[0],t=e>>23&511;return pc.baseTable[t]+((e&8388607)>>pc.shiftTable[t])}function R9(n){const e=n>>10;return pc.uint32View[0]=pc.mantissaTable[pc.offsetTable[e]+(n&1023)]+pc.exponentTable[e],pc.floatView[0]}class Efe{static toHalfFloat(e){return qo(e)}static fromHalfFloat(e){return R9(e)}}const Ds=new re,ry=new Ye;let wfe=0;class di{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:wfe++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=Vd,this.updateRanges=[],this.gpuType=Mr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)ry.fromBufferAttribute(this,t),ry.applyMatrix3(e),this.setXY(t,ry.x,ry.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Ds.fromBufferAttribute(this,t),Ds.applyMatrix3(e),this.setXYZ(t,Ds.x,Ds.y,Ds.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Ds.fromBufferAttribute(this,t),Ds.applyMatrix4(e),this.setXYZ(t,Ds.x,Ds.y,Ds.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Ds.fromBufferAttribute(this,t),Ds.applyNormalMatrix(e),this.setXYZ(t,Ds.x,Ds.y,Ds.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Ds.fromBufferAttribute(this,t),Ds.transformDirection(e),this.setXYZ(t,Ds.x,Ds.y,Ds.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Co(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=ni(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Co(t,this.array)),t}setX(e,t){return this.normalized&&(t=ni(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Co(t,this.array)),t}setY(e,t){return this.normalized&&(t=ni(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Co(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ni(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Co(t,this.array)),t}setW(e,t){return this.normalized&&(t=ni(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=ni(t,this.array),i=ni(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=ni(t,this.array),i=ni(i,this.array),r=ni(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=ni(t,this.array),i=ni(i,this.array),r=ni(r,this.array),s=ni(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Vd&&(e.usage=this.usage),e}}class Rfe extends di{constructor(e,t,i){super(new Int8Array(e),t,i)}}class Cfe extends di{constructor(e,t,i){super(new Uint8Array(e),t,i)}}class Nfe extends di{constructor(e,t,i){super(new Uint8ClampedArray(e),t,i)}}class Dfe extends di{constructor(e,t,i){super(new Int16Array(e),t,i)}}class aS extends di{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class Pfe extends di{constructor(e,t,i){super(new Int32Array(e),t,i)}}class oS extends di{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class jP extends di{constructor(e,t,i){super(new Uint16Array(e),t,i),this.isFloat16BufferAttribute=!0}getX(e){let t=R9(this.array[e*this.itemSize]);return this.normalized&&(t=Co(t,this.array)),t}setX(e,t){return this.normalized&&(t=ni(t,this.array)),this.array[e*this.itemSize]=qo(t),this}getY(e){let t=R9(this.array[e*this.itemSize+1]);return this.normalized&&(t=Co(t,this.array)),t}setY(e,t){return this.normalized&&(t=ni(t,this.array)),this.array[e*this.itemSize+1]=qo(t),this}getZ(e){let t=R9(this.array[e*this.itemSize+2]);return this.normalized&&(t=Co(t,this.array)),t}setZ(e,t){return this.normalized&&(t=ni(t,this.array)),this.array[e*this.itemSize+2]=qo(t),this}getW(e){let t=R9(this.array[e*this.itemSize+3]);return this.normalized&&(t=Co(t,this.array)),t}setW(e,t){return this.normalized&&(t=ni(t,this.array)),this.array[e*this.itemSize+3]=qo(t),this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=ni(t,this.array),i=ni(i,this.array)),this.array[e+0]=qo(t),this.array[e+1]=qo(i),this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=ni(t,this.array),i=ni(i,this.array),r=ni(r,this.array)),this.array[e+0]=qo(t),this.array[e+1]=qo(i),this.array[e+2]=qo(r),this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=ni(t,this.array),i=ni(i,this.array),r=ni(r,this.array),s=ni(s,this.array)),this.array[e+0]=qo(t),this.array[e+1]=qo(i),this.array[e+2]=qo(r),this.array[e+3]=qo(s),this}}class Qt extends di{constructor(e,t,i){super(new Float32Array(e),t,i)}}let Lfe=0;const h0=new Yt,aE=new Mi,I5=new re,wl=new na,H7=new na,pa=new re;class bn extends $l{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Lfe++}),this.uuid=Hl(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(qP(e)?oS:aS)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new On().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return h0.makeRotationFromQuaternion(e),this.applyMatrix4(h0),this}rotateX(e){return h0.makeRotationX(e),this.applyMatrix4(h0),this}rotateY(e){return h0.makeRotationY(e),this.applyMatrix4(h0),this}rotateZ(e){return h0.makeRotationZ(e),this.applyMatrix4(h0),this}translate(e,t,i){return h0.makeTranslation(e,t,i),this.applyMatrix4(h0),this}scale(e,t,i){return h0.makeScale(e,t,i),this.applyMatrix4(h0),this}lookAt(e){return aE.lookAt(e),aE.updateMatrix(),this.applyMatrix4(aE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(I5).negate(),this.translate(I5.x,I5.y,I5.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const a=e[r];i.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Qt(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new na);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new re(-1/0,-1/0,-1/0),new re(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];wl.setFromBufferAttribute(s),this.morphTargetsRelative?(pa.addVectors(this.boundingBox.min,wl.min),this.boundingBox.expandByPoint(pa),pa.addVectors(this.boundingBox.max,wl.max),this.boundingBox.expandByPoint(pa)):(this.boundingBox.expandByPoint(wl.min),this.boundingBox.expandByPoint(wl.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Vs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new re,1/0);return}if(e){const i=this.boundingSphere.center;if(wl.setFromBufferAttribute(e),t)for(let s=0,a=t.length;s<a;s++){const o=t[s];H7.setFromBufferAttribute(o),this.morphTargetsRelative?(pa.addVectors(wl.min,H7.min),wl.expandByPoint(pa),pa.addVectors(wl.max,H7.max),wl.expandByPoint(pa)):(wl.expandByPoint(H7.min),wl.expandByPoint(H7.max))}wl.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)pa.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(pa));if(t)for(let s=0,a=t.length;s<a;s++){const o=t[s],l=this.morphTargetsRelative;for(let u=0,c=o.count;u<c;u++)pa.fromBufferAttribute(o,u),l&&(I5.fromBufferAttribute(e,u),pa.add(I5)),r=Math.max(r,i.distanceToSquared(pa))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new di(new Float32Array(4*i.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let F=0;F<i.count;F++)o[F]=new re,l[F]=new re;const u=new re,c=new re,f=new re,m=new Ye,v=new Ye,_=new Ye,T=new re,M=new re;function S(F,z,k){u.fromBufferAttribute(i,F),c.fromBufferAttribute(i,z),f.fromBufferAttribute(i,k),m.fromBufferAttribute(s,F),v.fromBufferAttribute(s,z),_.fromBufferAttribute(s,k),c.sub(u),f.sub(u),v.sub(m),_.sub(m);const H=1/(v.x*_.y-_.x*v.y);isFinite(H)&&(T.copy(c).multiplyScalar(_.y).addScaledVector(f,-v.y).multiplyScalar(H),M.copy(f).multiplyScalar(v.x).addScaledVector(c,-_.x).multiplyScalar(H),o[F].add(T),o[z].add(T),o[k].add(T),l[F].add(M),l[z].add(M),l[k].add(M))}let R=this.groups;R.length===0&&(R=[{start:0,count:e.count}]);for(let F=0,z=R.length;F<z;++F){const k=R[F],H=k.start,Z=k.count;for(let $=H,ae=H+Z;$<ae;$+=3)S(e.getX($+0),e.getX($+1),e.getX($+2))}const C=new re,P=new re,B=new re,O=new re;function V(F){B.fromBufferAttribute(r,F),O.copy(B);const z=o[F];C.copy(z),C.sub(B.multiplyScalar(B.dot(z))).normalize(),P.crossVectors(O,z);const H=P.dot(l[F])<0?-1:1;a.setXYZW(F,C.x,C.y,C.z,H)}for(let F=0,z=R.length;F<z;++F){const k=R[F],H=k.start,Z=k.count;for(let $=H,ae=H+Z;$<ae;$+=3)V(e.getX($+0)),V(e.getX($+1)),V(e.getX($+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new di(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let m=0,v=i.count;m<v;m++)i.setXYZ(m,0,0,0);const r=new re,s=new re,a=new re,o=new re,l=new re,u=new re,c=new re,f=new re;if(e)for(let m=0,v=e.count;m<v;m+=3){const _=e.getX(m+0),T=e.getX(m+1),M=e.getX(m+2);r.fromBufferAttribute(t,_),s.fromBufferAttribute(t,T),a.fromBufferAttribute(t,M),c.subVectors(a,s),f.subVectors(r,s),c.cross(f),o.fromBufferAttribute(i,_),l.fromBufferAttribute(i,T),u.fromBufferAttribute(i,M),o.add(c),l.add(c),u.add(c),i.setXYZ(_,o.x,o.y,o.z),i.setXYZ(T,l.x,l.y,l.z),i.setXYZ(M,u.x,u.y,u.z)}else for(let m=0,v=t.count;m<v;m+=3)r.fromBufferAttribute(t,m+0),s.fromBufferAttribute(t,m+1),a.fromBufferAttribute(t,m+2),c.subVectors(a,s),f.subVectors(r,s),c.cross(f),i.setXYZ(m+0,c.x,c.y,c.z),i.setXYZ(m+1,c.x,c.y,c.z),i.setXYZ(m+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)pa.fromBufferAttribute(e,t),pa.normalize(),e.setXYZ(t,pa.x,pa.y,pa.z)}toNonIndexed(){function e(o,l){const u=o.array,c=o.itemSize,f=o.normalized,m=new u.constructor(l.length*c);let v=0,_=0;for(let T=0,M=l.length;T<M;T++){o.isInterleavedBufferAttribute?v=l[T]*o.data.stride+o.offset:v=l[T]*c;for(let S=0;S<c;S++)m[_++]=u[v++]}return new di(m,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new bn,i=this.index.array,r=this.attributes;for(const o in r){const l=r[o],u=e(l,i);t.setAttribute(o,u)}const s=this.morphAttributes;for(const o in s){const l=[],u=s[o];for(let c=0,f=u.length;c<f;c++){const m=u[c],v=e(m,i);l.push(v)}t.morphAttributes[o]=l}t.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const u=a[o];t.addGroup(u.start,u.count,u.materialIndex)}return t}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const u=i[l];e.data.attributes[l]=u.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,m=u.length;f<m;f++){const v=u[f];c.push(v.toJSON(e.data))}c.length>0&&(r[l]=c,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone());const r=e.attributes;for(const u in r){const c=r[u];this.setAttribute(u,c.clone(t))}const s=e.morphAttributes;for(const u in s){const c=[],f=s[u];for(let m=0,v=f.length;m<v;m++)c.push(f[m].clone(t));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,c=a.length;u<c;u++){const f=a[u];this.addGroup(f.start,f.count,f.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Az=new Yt,v4=new yh,sy=new Vs,pz=new re,ay=new re,oy=new re,ly=new re,oE=new re,uy=new re,mz=new re,cy=new re;class ii extends Mi{constructor(e=new bn,t=new Ia){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,a=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const o=this.morphTargetInfluences;if(s&&o){uy.set(0,0,0);for(let l=0,u=s.length;l<u;l++){const c=o[l],f=s[l];c!==0&&(oE.fromBufferAttribute(f,e),a?uy.addScaledVector(oE,c):uy.addScaledVector(oE.sub(t),c))}t.add(uy)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),sy.copy(i.boundingSphere),sy.applyMatrix4(s),v4.copy(e.ray).recast(e.near),!(sy.containsPoint(v4.origin)===!1&&(v4.intersectSphere(sy,pz)===null||v4.origin.distanceToSquared(pz)>(e.far-e.near)**2))&&(Az.copy(s).invert(),v4.copy(e.ray).applyMatrix4(Az),!(i.boundingBox!==null&&v4.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,v4)))}_computeIntersections(e,t,i){let r;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,u=s.attributes.uv,c=s.attributes.uv1,f=s.attributes.normal,m=s.groups,v=s.drawRange;if(o!==null)if(Array.isArray(a))for(let _=0,T=m.length;_<T;_++){const M=m[_],S=a[M.materialIndex],R=Math.max(M.start,v.start),C=Math.min(o.count,Math.min(M.start+M.count,v.start+v.count));for(let P=R,B=C;P<B;P+=3){const O=o.getX(P),V=o.getX(P+1),F=o.getX(P+2);r=fy(this,S,e,i,u,c,f,O,V,F),r&&(r.faceIndex=Math.floor(P/3),r.face.materialIndex=M.materialIndex,t.push(r))}}else{const _=Math.max(0,v.start),T=Math.min(o.count,v.start+v.count);for(let M=_,S=T;M<S;M+=3){const R=o.getX(M),C=o.getX(M+1),P=o.getX(M+2);r=fy(this,a,e,i,u,c,f,R,C,P),r&&(r.faceIndex=Math.floor(M/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(a))for(let _=0,T=m.length;_<T;_++){const M=m[_],S=a[M.materialIndex],R=Math.max(M.start,v.start),C=Math.min(l.count,Math.min(M.start+M.count,v.start+v.count));for(let P=R,B=C;P<B;P+=3){const O=P,V=P+1,F=P+2;r=fy(this,S,e,i,u,c,f,O,V,F),r&&(r.faceIndex=Math.floor(P/3),r.face.materialIndex=M.materialIndex,t.push(r))}}else{const _=Math.max(0,v.start),T=Math.min(l.count,v.start+v.count);for(let M=_,S=T;M<S;M+=3){const R=M,C=M+1,P=M+2;r=fy(this,a,e,i,u,c,f,R,C,P),r&&(r.faceIndex=Math.floor(M/3),t.push(r))}}}}function Bfe(n,e,t,i,r,s,a,o){let l;if(e.side===Zi?l=i.intersectTriangle(a,s,r,!0,o):l=i.intersectTriangle(r,s,a,e.side===Bo,o),l===null)return null;cy.copy(o),cy.applyMatrix4(n.matrixWorld);const u=t.ray.origin.distanceTo(cy);return u<t.near||u>t.far?null:{distance:u,point:cy.clone(),object:n}}function fy(n,e,t,i,r,s,a,o,l,u){n.getVertexPosition(o,ay),n.getVertexPosition(l,oy),n.getVertexPosition(u,ly);const c=Bfe(n,e,t,i,ay,oy,ly,mz);if(c){const f=new re;$o.getBarycoord(mz,ay,oy,ly,f),r&&(c.uv=$o.getInterpolatedAttribute(r,o,l,u,f,new Ye)),s&&(c.uv1=$o.getInterpolatedAttribute(s,o,l,u,f,new Ye)),a&&(c.normal=$o.getInterpolatedAttribute(a,o,l,u,f,new re),c.normal.dot(i.direction)>0&&c.normal.multiplyScalar(-1));const m={a:o,b:l,c:u,normal:new re,materialIndex:0};$o.getNormal(ay,oy,ly,m.normal),c.face=m,c.barycoord=f}return c}class D1 extends bn{constructor(e=1,t=1,i=1,r=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:a};const o=this;r=Math.floor(r),s=Math.floor(s),a=Math.floor(a);const l=[],u=[],c=[],f=[];let m=0,v=0;_("z","y","x",-1,-1,i,t,e,a,s,0),_("z","y","x",1,-1,i,t,-e,a,s,1),_("x","z","y",1,1,e,i,t,r,a,2),_("x","z","y",1,-1,e,i,-t,r,a,3),_("x","y","z",1,-1,e,t,i,r,s,4),_("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new Qt(u,3)),this.setAttribute("normal",new Qt(c,3)),this.setAttribute("uv",new Qt(f,2));function _(T,M,S,R,C,P,B,O,V,F,z){const k=P/V,H=B/F,Z=P/2,$=B/2,ae=O/2,ne=V+1,Y=F+1;let ee=0,Q=0;const fe=new re;for(let ge=0;ge<Y;ge++){const Re=ge*H-$;for(let Ge=0;Ge<ne;Ge++){const We=Ge*k-Z;fe[T]=We*R,fe[M]=Re*C,fe[S]=ae,u.push(fe.x,fe.y,fe.z),fe[T]=0,fe[M]=0,fe[S]=O>0?1:-1,c.push(fe.x,fe.y,fe.z),f.push(Ge/V),f.push(1-ge/F),ee+=1}}for(let ge=0;ge<F;ge++)for(let Re=0;Re<V;Re++){const Ge=m+Re+ne*ge,We=m+Re+ne*(ge+1),Se=m+(Re+1)+ne*(ge+1),qe=m+(Re+1)+ne*ge;l.push(Ge,We,qe),l.push(We,Se,qe),Q+=6}o.addGroup(v,Q,z),v+=Q,m+=ee}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new D1(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Gd(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function _o(n){const e={};for(let t=0;t<n.length;t++){const i=Gd(n[t]);for(const r in i)e[r]=i[r]}return e}function Ufe(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function zQ(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:wn.workingColorSpace}const lS={clone:Gd,merge:_o};var Ofe=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Ife=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Uo extends Ta{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Ofe,this.fragmentShader=Ife,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Gd(e.uniforms),this.uniformsGroups=Ufe(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const a=this.uniforms[r].value;a&&a.isTexture?t.uniforms[r]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?t.uniforms[r]={type:"c",value:a.getHex()}:a&&a.isVector2?t.uniforms[r]={type:"v2",value:a.toArray()}:a&&a.isVector3?t.uniforms[r]={type:"v3",value:a.toArray()}:a&&a.isVector4?t.uniforms[r]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?t.uniforms[r]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?t.uniforms[r]={type:"m4",value:a.toArray()}:t.uniforms[r]={value:a}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class vh extends Mi{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Yt,this.projectionMatrix=new Yt,this.projectionMatrixInverse=new Yt,this.coordinateSystem=za}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const R2=new re,gz=new Ye,yz=new Ye;class Tr extends vh{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=th*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Sf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return th*2*Math.atan(Math.tan(Sf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){R2.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(R2.x,R2.y).multiplyScalar(-e/R2.z),R2.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(R2.x,R2.y).multiplyScalar(-e/R2.z)}getViewSize(e,t){return this.getViewBounds(e,gz,yz),t.subVectors(yz,gz)}setViewOffset(e,t,i,r,s,a){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(Sf*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,u=a.fullHeight;s+=a.offsetX*r/l,t-=a.offsetY*i/u,r*=a.width/l,i*=a.height/u}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const F5=-90,z5=1;class WP extends Mi{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Tr(F5,z5,e,t);r.layers=this.layers,this.add(r);const s=new Tr(F5,z5,e,t);s.layers=this.layers,this.add(s);const a=new Tr(F5,z5,e,t);a.layers=this.layers,this.add(a);const o=new Tr(F5,z5,e,t);o.layers=this.layers,this.add(o);const l=new Tr(F5,z5,e,t);l.layers=this.layers,this.add(l);const u=new Tr(F5,z5,e,t);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,a,o,l]=t;for(const u of t)this.remove(u);if(e===za)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===bu)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of t)this.add(u),u.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,u,c]=this.children,f=e.getRenderTarget(),m=e.getActiveCubeFace(),v=e.getActiveMipmapLevel(),_=e.xr.enabled;e.xr.enabled=!1;const T=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,a),e.setRenderTarget(i,2,r),e.render(t,o),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,u),i.texture.generateMipmaps=T,e.setRenderTarget(i,5,r),e.render(t,c),e.setRenderTarget(f,m,v),e.xr.enabled=_,i.texture.needsPMREMUpdate=!0}}class O3 extends Ur{constructor(e=[],t=Xl,i,r,s,a,o,l,u,c){super(e,t,i,r,s,a,o,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class XP extends x1{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new O3(r),this._setTextureOptions(t),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new D1(5,5,5),s=new Uo({name:"CubemapFromEquirect",uniforms:Gd(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Zi,blending:nl});s.uniforms.tEquirect.value=t;const a=new ii(r,s),o=t.minFilter;return t.minFilter===Fa&&(t.minFilter=dr),new WP(1,10,this).update(e,a),t.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,t=!0,i=!0,r=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(t,i,r);e.setRenderTarget(s)}}let oo=class extends Mi{constructor(){super(),this.isGroup=!0,this.type="Group"}};const Ffe={type:"move"};class cA{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new oo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new oo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new re,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new re),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new oo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new re,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new re),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,a=null;const o=this._targetRay,l=this._grip,u=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const T of e.hand.values()){const M=t.getJointPose(T,i),S=this._getHandJoint(u,T);M!==null&&(S.matrix.fromArray(M.transform.matrix),S.matrix.decompose(S.position,S.rotation,S.scale),S.matrixWorldNeedsUpdate=!0,S.jointRadius=M.radius),S.visible=M!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],m=c.position.distanceTo(f.position),v=.02,_=.005;u.inputState.pinching&&m>v+_?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&m<=v-_&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(o.matrix.fromArray(r.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,r.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(r.linearVelocity)):o.hasLinearVelocity=!1,r.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(r.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Ffe)))}return o!==null&&(o.visible=r!==null),l!==null&&(l.visible=s!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new oo;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class uS{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new Nt(e),this.density=t}clone(){return new uS(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class nm{constructor(e,t=1,i=1e3){this.isFog=!0,this.name="",this.color=new Nt(e),this.near=t,this.far=i}clone(){return new nm(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class xh extends Mi{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Sa,this.environmentIntensity=1,this.environmentRotation=new Sa,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class b8{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Vd,this.updateRanges=[],this.version=0,this.uuid=Hl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Hl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Hl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const vo=new re;class Lo{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)vo.fromBufferAttribute(this,t),vo.applyMatrix4(e),this.setXYZ(t,vo.x,vo.y,vo.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)vo.fromBufferAttribute(this,t),vo.applyNormalMatrix(e),this.setXYZ(t,vo.x,vo.y,vo.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)vo.fromBufferAttribute(this,t),vo.transformDirection(e),this.setXYZ(t,vo.x,vo.y,vo.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=Co(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=ni(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=ni(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=ni(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=ni(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=ni(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Co(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Co(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Co(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Co(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=ni(t,this.array),i=ni(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=ni(t,this.array),i=ni(i,this.array),r=ni(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=ni(t,this.array),i=ni(i,this.array),r=ni(r,this.array),s=ni(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new di(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Lo(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class cS extends Ta{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Nt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let V5;const j7=new re,k5=new re,G5=new re,q5=new Ye,W7=new Ye,VQ=new Yt,hy=new re,X7=new re,dy=new re,vz=new Ye,lE=new Ye,xz=new Ye;class kQ extends Mi{constructor(e=new cS){if(super(),this.isSprite=!0,this.type="Sprite",V5===void 0){V5=new bn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new b8(t,5);V5.setIndex([0,1,2,0,2,3]),V5.setAttribute("position",new Lo(i,3,0,!1)),V5.setAttribute("uv",new Lo(i,2,3,!1))}this.geometry=V5,this.material=e,this.center=new Ye(.5,.5),this.count=1}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),k5.setFromMatrixScale(this.matrixWorld),VQ.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),G5.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&k5.multiplyScalar(-G5.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const a=this.center;Ay(hy.set(-.5,-.5,0),G5,a,k5,r,s),Ay(X7.set(.5,-.5,0),G5,a,k5,r,s),Ay(dy.set(.5,.5,0),G5,a,k5,r,s),vz.set(0,0),lE.set(1,0),xz.set(1,1);let o=e.ray.intersectTriangle(hy,X7,dy,!1,j7);if(o===null&&(Ay(X7.set(-.5,.5,0),G5,a,k5,r,s),lE.set(0,1),o=e.ray.intersectTriangle(hy,dy,X7,!1,j7),o===null))return;const l=e.ray.origin.distanceTo(j7);l<e.near||l>e.far||t.push({distance:l,point:j7.clone(),uv:$o.getInterpolation(j7,hy,X7,dy,vz,lE,xz,new Ye),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Ay(n,e,t,i,r,s){q5.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(W7.x=s*q5.x-r*q5.y,W7.y=r*q5.x+s*q5.y):W7.copy(q5),n.copy(e),n.x+=W7.x,n.y+=W7.y,n.applyMatrix4(VQ)}const py=new re,_z=new re;class GQ extends Mi{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let i=0,r=t.length;i<r;i++){const s=t[i];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,i=0){t=Math.abs(t);const r=this.levels;let s;for(s=0;s<r.length&&!(t<r[s].distance);s++);return r.splice(s,0,{distance:t,hysteresis:i,object:e}),this.add(e),this}removeLevel(e){const t=this.levels;for(let i=0;i<t.length;i++)if(t[i].distance===e){const r=t.splice(i,1);return this.remove(r[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let i,r;for(i=1,r=t.length;i<r;i++){let s=t[i].distance;if(t[i].object.visible&&(s-=s*t[i].hysteresis),e<s)break}return t[i-1].object}return null}raycast(e,t){if(this.levels.length>0){py.setFromMatrixPosition(this.matrixWorld);const r=e.ray.origin.distanceTo(py);this.getObjectForDistance(r).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){py.setFromMatrixPosition(e.matrixWorld),_z.setFromMatrixPosition(this.matrixWorld);const i=py.distanceTo(_z)/e.zoom;t[0].object.visible=!0;let r,s;for(r=1,s=t.length;r<s;r++){let a=t[r].distance;if(t[r].object.visible&&(a-=a*t[r].hysteresis),i>=a)t[r-1].object.visible=!1,t[r].object.visible=!0;else break}for(this._currentLevel=r-1;r<s;r++)t[r].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const i=this.levels;for(let r=0,s=i.length;r<s;r++){const a=i[r];t.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return t}}const bz=new re,Sz=new ln,Tz=new ln,zfe=new re,Mz=new Yt,my=new re,uE=new Vs,Ez=new Yt,cE=new yh;class qQ extends ii{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=mC,this.bindMatrix=new Yt,this.bindMatrixInverse=new Yt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new na),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,my),this.boundingBox.expandByPoint(my)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Vs),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,my),this.boundingSphere.expandByPoint(my)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),uE.copy(this.boundingSphere),uE.applyMatrix4(r),e.ray.intersectsSphere(uE)!==!1&&(Ez.copy(r).invert(),cE.copy(e.ray).applyMatrix4(Ez),!(this.boundingBox!==null&&cE.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,cE)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new ln,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===mC?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===dQ?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;Sz.fromBufferAttribute(r.attributes.skinIndex,e),Tz.fromBufferAttribute(r.attributes.skinWeight,e),bz.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const a=Tz.getComponent(s);if(a!==0){const o=Sz.getComponent(s);Mz.multiplyMatrices(i.bones[o].matrixWorld,i.boneInverses[o]),t.addScaledVector(zfe.copy(bz).applyMatrix4(Mz),a)}}return t.applyMatrix4(this.bindMatrixInverse)}}class YP extends Mi{constructor(){super(),this.isBone=!0,this.type="Bone"}}class xu extends Ur{constructor(e=null,t=1,i=1,r,s,a,o,l,u=fr,c=fr,f,m){super(null,a,o,l,u,c,r,s,f,m),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const wz=new Yt,Vfe=new Yt;class fS{constructor(e=[],t=[]){this.uuid=Hl(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Yt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new Yt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:Vfe;wz.multiplyMatrices(o,t[s]),wz.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new fS(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new xu(t,e,e,_r,Mr);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let a=t[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new YP),this.bones.push(a),this.boneInverses.push(new Yt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const a=t[r];e.bones.push(a.uuid);const o=i[r];e.boneInverses.push(o.toArray())}return e}}class al extends di{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const H5=new Yt,Rz=new Yt,gy=[],Cz=new na,kfe=new Yt,Y7=new ii,Q7=new Vs;class HQ extends ii{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new al(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,kfe)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new na),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,H5),Cz.copy(e.boundingBox).applyMatrix4(H5),this.boundingBox.union(Cz)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Vs),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,H5),Q7.copy(e.boundingSphere).applyMatrix4(H5),this.boundingSphere.union(Q7)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,a=e*s+1;for(let o=0;o<i.length;o++)i[o]=r[a+o]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Y7.geometry=this.geometry,Y7.material=this.material,Y7.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Q7.copy(this.boundingSphere),Q7.applyMatrix4(i),e.ray.intersectsSphere(Q7)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,H5),Rz.multiplyMatrices(i,H5),Y7.matrixWorld=Rz,Y7.raycast(e,gy);for(let a=0,o=gy.length;a<o;a++){const l=gy[a];l.instanceId=s,l.object=this,t.push(l)}gy.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new al(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new xu(new Float32Array(r*this.count),r,this.count,ph,Mr));const s=this.morphTexture.source.data.data;let a=0;for(let u=0;u<i.length;u++)a+=i[u];const o=this.geometry.morphTargetsRelative?1:1-a,l=r*e;s[l]=o,s.set(i,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const fE=new re,Gfe=new re,qfe=new On;class hu{constructor(e=new re(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=fE.subVectors(i,t).cross(Gfe.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(fE),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||qfe.getNormalMatrix(e),r=this.coplanarPoint(fE).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const x4=new Vs,Hfe=new Ye(.5,.5),yy=new re;class I3{constructor(e=new hu,t=new hu,i=new hu,r=new hu,s=new hu,a=new hu){this.planes=[e,t,i,r,s,a]}set(e,t,i,r,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(r),o[4].copy(s),o[5].copy(a),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=za){const i=this.planes,r=e.elements,s=r[0],a=r[1],o=r[2],l=r[3],u=r[4],c=r[5],f=r[6],m=r[7],v=r[8],_=r[9],T=r[10],M=r[11],S=r[12],R=r[13],C=r[14],P=r[15];if(i[0].setComponents(l-s,m-u,M-v,P-S).normalize(),i[1].setComponents(l+s,m+u,M+v,P+S).normalize(),i[2].setComponents(l+a,m+c,M+_,P+R).normalize(),i[3].setComponents(l-a,m-c,M-_,P-R).normalize(),i[4].setComponents(l-o,m-f,M-T,P-C).normalize(),t===za)i[5].setComponents(l+o,m+f,M+T,P+C).normalize();else if(t===bu)i[5].setComponents(o,f,T,C).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),x4.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),x4.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(x4)}intersectsSprite(e){x4.center.set(0,0,0);const t=Hfe.distanceTo(e.center);return x4.radius=.7071067811865476+t,x4.applyMatrix4(e.matrixWorld),this.intersectsSphere(x4)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(yy.x=r.normal.x>0?e.max.x:e.min.x,yy.y=r.normal.y>0?e.max.y:e.min.y,yy.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(yy)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const qu=new Yt,Hu=new I3;class im{constructor(){this.coordinateSystem=za}intersectsObject(e,t){if(!t.isArrayCamera||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(qu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Hu.setFromProjectionMatrix(qu,this.coordinateSystem),Hu.intersectsObject(e))return!0}return!1}intersectsSprite(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(qu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Hu.setFromProjectionMatrix(qu,this.coordinateSystem),Hu.intersectsSprite(e))return!0}return!1}intersectsSphere(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(qu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Hu.setFromProjectionMatrix(qu,this.coordinateSystem),Hu.intersectsSphere(e))return!0}return!1}intersectsBox(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(qu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Hu.setFromProjectionMatrix(qu,this.coordinateSystem),Hu.intersectsBox(e))return!0}return!1}containsPoint(e,t){if(!t||!t.cameras||t.cameras.length===0)return!1;for(let i=0;i<t.cameras.length;i++){const r=t.cameras[i];if(qu.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),Hu.setFromProjectionMatrix(qu,this.coordinateSystem),Hu.containsPoint(e))return!0}return!1}clone(){return new im}}function hE(n,e){return n-e}function jfe(n,e){return n.z-e.z}function Wfe(n,e){return e.z-n.z}class Xfe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t,i,r){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=t,o.z=i,o.index=r}reset(){this.list.length=0,this.index=0}}const Go=new Yt,Yfe=new Nt(1,1,1),Nz=new I3,Qfe=new im,vy=new na,_4=new Vs,$7=new re,Dz=new re,$fe=new re,dE=new Xfe,Ja=new ii,xy=[];function Kfe(n,e,t=0){const i=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const r=n.count;for(let s=0;s<r;s++)for(let a=0;a<i;a++)e.setComponent(s+t,a,n.getComponent(s,a))}else e.array.set(n.array,t*i);e.needsUpdate=!0}function b4(n,e){if(n.constructor!==e.constructor){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++)e[i]=n[i]}else{const t=Math.min(n.length,e.length);e.set(new n.constructor(n.buffer,0,t))}}class jQ extends ii{constructor(e,t,i=t*2,r){super(new bn,r),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=t,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),i=new xu(t,e,e,_r,Mr);this._matricesTexture=i}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Uint32Array(e*e),i=new xu(t,e,e,U3,tr);this._indirectTexture=i}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const t=new Float32Array(e*e*4).fill(1),i=new xu(t,e,e,_r,Mr);i.colorSpace=wn.workingColorSpace,this._colorsTexture=i}_initializeGeometry(e){const t=this.geometry,i=this._maxVertexCount,r=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:l,normalized:u}=a,c=new o.constructor(i*l),f=new di(c,l,u);t.setAttribute(s,f)}if(e.getIndex()!==null){const s=i>65535?new Uint32Array(r):new Uint16Array(r);t.setIndex(new di(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in t.attributes){if(!e.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const r=e.getAttribute(i),s=t.getAttribute(i);if(r.itemSize!==s.itemSize||r.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const t=this._instanceInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const t=this._geometryInfo;if(e<0||e>=t.length||t[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new na);const e=this.boundingBox,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Go),this.getBoundingBoxAt(s,vy).applyMatrix4(Go),e.union(vy)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Vs);const e=this.boundingSphere,t=this._instanceInfo;e.makeEmpty();for(let i=0,r=t.length;i<r;i++){if(t[i].active===!1)continue;const s=t[i].geometryIndex;this.getMatrixAt(i,Go),this.getBoundingSphereAt(s,_4).applyMatrix4(Go),e.union(_4)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:e};let r=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(hE),r=this._availableInstanceIds.shift(),this._instanceInfo[r]=i):(r=this._instanceInfo.length,this._instanceInfo.push(i));const s=this._matricesTexture;Go.identity().toArray(s.image.data,r*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(Yfe.toArray(a.image.data,r*4),a.needsUpdate=!0),this._visibilityChanged=!0,r}addGeometry(e,t=-1,i=-1){this._initializeGeometry(e),this._validateGeometry(e);const r={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;r.vertexStart=this._nextVertexStart,r.reservedVertexCount=t===-1?e.getAttribute("position").count:t;const a=e.getIndex();if(a!==null&&(r.indexStart=this._nextIndexStart,r.reservedIndexCount=i===-1?a.count:i),r.indexStart!==-1&&r.indexStart+r.reservedIndexCount>this._maxIndexCount||r.vertexStart+r.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(hE),l=this._availableGeometryIds.shift(),s[l]=r):(l=this._geometryCount,this._geometryCount++,s.push(r)),this.setGeometryAt(l,e),this._nextIndexStart=r.indexStart+r.reservedIndexCount,this._nextVertexStart=r.vertexStart+r.reservedVertexCount,l}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const i=this.geometry,r=i.getIndex()!==null,s=i.getIndex(),a=t.getIndex(),o=this._geometryInfo[e];if(r&&a.count>o.reservedIndexCount||t.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,u=o.reservedVertexCount;o.vertexCount=t.getAttribute("position").count;for(const c in i.attributes){const f=t.getAttribute(c),m=i.getAttribute(c);Kfe(f,m,l);const v=f.itemSize;for(let _=f.count,T=u;_<T;_++){const M=l+_;for(let S=0;S<v;S++)m.setComponent(M,S,0)}m.needsUpdate=!0,m.addUpdateRange(l*v,u*v)}if(r){const c=o.indexStart,f=o.reservedIndexCount;o.indexCount=t.getIndex().count;for(let m=0;m<a.count;m++)s.setX(c+m,l+a.getX(m));for(let m=a.count,v=f;m<v;m++)s.setX(c+m,l);s.needsUpdate=!0,s.addUpdateRange(c,o.reservedIndexCount)}return o.start=r?o.indexStart:o.vertexStart,o.count=r?o.indexCount:o.vertexCount,o.boundingBox=null,t.boundingBox!==null&&(o.boundingBox=t.boundingBox.clone()),o.boundingSphere=null,t.boundingSphere!==null&&(o.boundingSphere=t.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._geometryInfo;if(e>=t.length||t[e].active===!1)return this;const i=this._instanceInfo;for(let r=0,s=i.length;r<s;r++)i[r].active&&i[r].geometryIndex===e&&this.deleteInstance(r);return t[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,t=0;const i=this._geometryInfo,r=i.map((a,o)=>o).sort((a,o)=>i[a].vertexStart-i[o].vertexStart),s=this.geometry;for(let a=0,o=i.length;a<o;a++){const l=r[a],u=i[l];if(u.active!==!1){if(s.index!==null){if(u.indexStart!==t){const{indexStart:c,vertexStart:f,reservedIndexCount:m}=u,v=s.index,_=v.array,T=e-f;for(let M=c;M<c+m;M++)_[M]=_[M]+T;v.array.copyWithin(t,c,c+m),v.addUpdateRange(t,m),u.indexStart=t}t+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:c,reservedVertexCount:f}=u,m=s.attributes;for(const v in m){const _=m[v],{array:T,itemSize:M}=_;T.copyWithin(e*M,c*M,(c+f)*M),_.addUpdateRange(e*M,f*M)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=s.index?u.indexStart:u.vertexStart,this._nextIndexStart=s.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingBox===null){const s=new na,a=i.index,o=i.attributes.position;for(let l=r.start,u=r.start+r.count;l<u;l++){let c=l;a&&(c=a.getX(c)),s.expandByPoint($7.fromBufferAttribute(o,c))}r.boundingBox=s}return t.copy(r.boundingBox),t}getBoundingSphereAt(e,t){if(e>=this._geometryCount)return null;const i=this.geometry,r=this._geometryInfo[e];if(r.boundingSphere===null){const s=new Vs;this.getBoundingBoxAt(e,vy),vy.getCenter(s.center);const a=i.index,o=i.attributes.position;let l=0;for(let u=r.start,c=r.start+r.count;u<c;u++){let f=u;a&&(f=a.getX(f)),$7.fromBufferAttribute(o,f),l=Math.max(l,s.center.distanceToSquared($7))}s.radius=Math.sqrt(l),r.boundingSphere=s}return t.copy(r.boundingSphere),t}setMatrixAt(e,t){this.validateInstanceId(e);const i=this._matricesTexture,r=this._matricesTexture.image.data;return t.toArray(r,e*16),i.needsUpdate=!0,this}getMatrixAt(e,t){return this.validateInstanceId(e),t.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,t){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),t.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,t){return this.validateInstanceId(e),t.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,t){return this.validateInstanceId(e),this._instanceInfo[e].visible===t?this:(this._instanceInfo[e].visible=t,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,t){return this.validateInstanceId(e),this.validateGeometryId(t),this._instanceInfo[e].geometryIndex=t,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,t={}){this.validateGeometryId(e);const i=this._geometryInfo[e];return t.vertexStart=i.vertexStart,t.vertexCount=i.vertexCount,t.reservedVertexCount=i.reservedVertexCount,t.indexStart=i.indexStart,t.indexCount=i.indexCount,t.reservedIndexCount=i.reservedIndexCount,t.start=i.start,t.count=i.count,t}setInstanceCount(e){const t=this._availableInstanceIds,i=this._instanceInfo;for(t.sort(hE);t[t.length-1]===i.length;)i.pop(),t.pop();if(e<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const r=new Int32Array(e),s=new Int32Array(e);b4(this._multiDrawCounts,r),b4(this._multiDrawStarts,s),this._multiDrawCounts=r,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),b4(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),b4(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),b4(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,t){const i=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...i.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${t}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(l=>l.indexStart+l.reservedIndexCount))>t)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${t}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=t,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new bn,this._initializeGeometry(s));const a=this.geometry;s.index&&b4(s.index.array,a.index.array);for(const o in s.attributes)b4(s.attributes[o].array,a.attributes[o].array)}raycast(e,t){const i=this._instanceInfo,r=this._geometryInfo,s=this.matrixWorld,a=this.geometry;Ja.material=this.material,Ja.geometry.index=a.index,Ja.geometry.attributes=a.attributes,Ja.geometry.boundingBox===null&&(Ja.geometry.boundingBox=new na),Ja.geometry.boundingSphere===null&&(Ja.geometry.boundingSphere=new Vs);for(let o=0,l=i.length;o<l;o++){if(!i[o].visible||!i[o].active)continue;const u=i[o].geometryIndex,c=r[u];Ja.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(o,Ja.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,Ja.geometry.boundingBox),this.getBoundingSphereAt(u,Ja.geometry.boundingSphere),Ja.raycast(e,xy);for(let f=0,m=xy.length;f<m;f++){const v=xy[f];v.object=this,v.batchId=o,t.push(v)}xy.length=0}Ja.material=null,Ja.geometry.index=null,Ja.geometry.attributes={},Ja.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(t=>({...t,boundingBox:t.boundingBox!==null?t.boundingBox.clone():null,boundingSphere:t.boundingSphere!==null?t.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(t=>({...t})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,t,i,r,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=r.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,c=this._multiDrawCounts,f=this._geometryInfo,m=this.perObjectFrustumCulled,v=this._indirectTexture,_=v.image.data,T=i.isArrayCamera?Qfe:Nz;m&&!i.isArrayCamera&&(Go.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),Nz.setFromProjectionMatrix(Go,e.coordinateSystem));let M=0;if(this.sortObjects){Go.copy(this.matrixWorld).invert(),$7.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Go),Dz.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Go);for(let C=0,P=l.length;C<P;C++)if(l[C].visible&&l[C].active){const B=l[C].geometryIndex;this.getMatrixAt(C,Go),this.getBoundingSphereAt(B,_4).applyMatrix4(Go);let O=!1;if(m&&(O=!T.intersectsSphere(_4,i)),!O){const V=f[B],F=$fe.subVectors(_4.center,$7).dot(Dz);dE.push(V.start,V.count,F,C)}}const S=dE.list,R=this.customSort;R===null?S.sort(s.transparent?Wfe:jfe):R.call(this,S,i);for(let C=0,P=S.length;C<P;C++){const B=S[C];u[M]=B.start*o,c[M]=B.count,_[M]=B.index,M++}dE.reset()}else for(let S=0,R=l.length;S<R;S++)if(l[S].visible&&l[S].active){const C=l[S].geometryIndex;let P=!1;if(m&&(this.getMatrixAt(S,Go),this.getBoundingSphereAt(C,_4).applyMatrix4(Go),P=!T.intersectsSphere(_4,i)),!P){const B=f[C];u[M]=B.start*o,c[M]=B.count,_[M]=S,M++}}v.needsUpdate=!0,this._multiDrawCount=M,this._visibilityChanged=!1}onBeforeShadow(e,t,i,r,s,a){this.onBeforeRender(e,null,r,s,a)}}class aa extends Ta{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Nt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const c_=new re,f_=new re,Pz=new Yt,K7=new yh,_y=new Vs,AE=new re,Lz=new re;class Su extends Mi{constructor(e=new bn,t=new aa){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)c_.fromBufferAttribute(t,r-1),f_.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=c_.distanceTo(f_);e.setAttribute("lineDistance",new Qt(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),_y.copy(i.boundingSphere),_y.applyMatrix4(r),_y.radius+=s,e.ray.intersectsSphere(_y)===!1)return;Pz.copy(r).invert(),K7.copy(e.ray).applyMatrix4(Pz);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=this.isLineSegments?2:1,c=i.index,m=i.attributes.position;if(c!==null){const v=Math.max(0,a.start),_=Math.min(c.count,a.start+a.count);for(let T=v,M=_-1;T<M;T+=u){const S=c.getX(T),R=c.getX(T+1),C=by(this,e,K7,l,S,R,T);C&&t.push(C)}if(this.isLineLoop){const T=c.getX(_-1),M=c.getX(v),S=by(this,e,K7,l,T,M,_-1);S&&t.push(S)}}else{const v=Math.max(0,a.start),_=Math.min(m.count,a.start+a.count);for(let T=v,M=_-1;T<M;T+=u){const S=by(this,e,K7,l,T,T+1,T);S&&t.push(S)}if(this.isLineLoop){const T=by(this,e,K7,l,_-1,v,_-1);T&&t.push(T)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function by(n,e,t,i,r,s,a){const o=n.geometry.attributes.position;if(c_.fromBufferAttribute(o,r),f_.fromBufferAttribute(o,s),t.distanceSqToSegment(c_,f_,AE,Lz)>i)return;AE.applyMatrix4(n.matrixWorld);const u=e.ray.origin.distanceTo(AE);if(!(u<e.near||u>e.far))return{distance:u,point:Lz.clone().applyMatrix4(n.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:n}}const Bz=new re,Uz=new re;class k0 extends Su{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)Bz.fromBufferAttribute(t,r),Uz.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+Bz.distanceTo(Uz);e.setAttribute("lineDistance",new Qt(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class WQ extends Su{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class rm extends Ta{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Nt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Oz=new Yt,vC=new yh,Sy=new Vs,Ty=new re;class QP extends Mi{constructor(e=new bn,t=new rm){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,a=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Sy.copy(i.boundingSphere),Sy.applyMatrix4(r),Sy.radius+=s,e.ray.intersectsSphere(Sy)===!1)return;Oz.copy(r).invert(),vC.copy(e.ray).applyMatrix4(Oz);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,u=i.index,f=i.attributes.position;if(u!==null){const m=Math.max(0,a.start),v=Math.min(u.count,a.start+a.count);for(let _=m,T=v;_<T;_++){const M=u.getX(_);Ty.fromBufferAttribute(f,M),Iz(Ty,M,l,r,e,t,this)}}else{const m=Math.max(0,a.start),v=Math.min(f.count,a.start+a.count);for(let _=m,T=v;_<T;_++)Ty.fromBufferAttribute(f,_),Iz(Ty,_,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=r.length;s<a;s++){const o=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function Iz(n,e,t,i,r,s,a){const o=vC.distanceSqToPoint(n);if(o<t){const l=new re;vC.closestPointToPoint(n,l),l.applyMatrix4(i);const u=r.ray.origin.distanceTo(l);if(u<r.near||u>r.far)return;s.push({distance:u,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class XQ extends Ur{constructor(e,t,i,r,s=dr,a=dr,o,l,u){super(e,t,i,r,s,a,o,l,u),this.isVideoTexture=!0,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Zfe extends XQ{constructor(e,t,i,r,s,a,o,l){super({},e,t,i,r,s,a,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class $P extends Ur{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=fr,this.minFilter=fr,this.generateMipmaps=!1,this.needsUpdate=!0}}class hS extends Ur{constructor(e,t,i,r,s,a,o,l,u,c,f,m){super(null,a,o,l,u,c,r,s,f,m),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Jfe extends hS{constructor(e,t,i,r,s,a){super(e,t,i,s,a),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=Po,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class ehe extends hS{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,Xl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class the extends Ur{constructor(e,t,i,r,s,a,o,l,u){super(e,t,i,r,s,a,o,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ol extends Ur{constructor(e,t,i=tr,r,s,a,o=fr,l=fr,u,c=rl,f=1){if(c!==rl&&c!==sl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const m={width:e,height:t,depth:f};super(m,r,s,a,o,l,c,i,u),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new i3(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class dS extends bn{constructor(e=1,t=1,i=4,r=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:t,capSegments:i,radialSegments:r,heightSegments:s},t=Math.max(0,t),i=Math.max(1,Math.floor(i)),r=Math.max(3,Math.floor(r)),s=Math.max(1,Math.floor(s));const a=[],o=[],l=[],u=[],c=t/2,f=Math.PI/2*e,m=t,v=2*f+m,_=i*2+s,T=r+1,M=new re,S=new re;for(let R=0;R<=_;R++){let C=0,P=0,B=0,O=0;if(R<=i){const z=R/i,k=z*Math.PI/2;P=-c-e*Math.cos(k),B=e*Math.sin(k),O=-e*Math.cos(k),C=z*f}else if(R<=i+s){const z=(R-i)/s;P=-c+z*t,B=e,O=0,C=f+z*m}else{const z=(R-i-s)/i,k=z*Math.PI/2;P=c+e*Math.sin(k),B=e*Math.cos(k),O=e*Math.sin(k),C=f+m+z*f}const V=Math.max(0,Math.min(1,C/v));let F=0;R===0?F=.5/r:R===_&&(F=-.5/r);for(let z=0;z<=r;z++){const k=z/r,H=k*Math.PI*2,Z=Math.sin(H),$=Math.cos(H);S.x=-B*$,S.y=P,S.z=B*Z,o.push(S.x,S.y,S.z),M.set(-B*$,O,B*Z),M.normalize(),l.push(M.x,M.y,M.z),u.push(k+F,V)}if(R>0){const z=(R-1)*T;for(let k=0;k<r;k++){const H=z+k,Z=z+k+1,$=R*T+k,ae=R*T+k+1;a.push(H,Z,$),a.push(Z,ae,$)}}}this.setIndex(a),this.setAttribute("position",new Qt(o,3)),this.setAttribute("normal",new Qt(l,3)),this.setAttribute("uv",new Qt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new dS(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class S8 extends bn{constructor(e=1,t=32,i=0,r=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:r},t=Math.max(3,t);const s=[],a=[],o=[],l=[],u=new re,c=new Ye;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let f=0,m=3;f<=t;f++,m+=3){const v=i+f/t*r;u.x=e*Math.cos(v),u.y=e*Math.sin(v),a.push(u.x,u.y,u.z),o.push(0,0,1),c.x=(a[m]/e+1)/2,c.y=(a[m+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new Qt(a,3)),this.setAttribute("normal",new Qt(o,3)),this.setAttribute("uv",new Qt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new S8(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class _h extends bn{constructor(e=1,t=1,i=1,r=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const u=this;r=Math.floor(r),s=Math.floor(s);const c=[],f=[],m=[],v=[];let _=0;const T=[],M=i/2;let S=0;R(),a===!1&&(e>0&&C(!0),t>0&&C(!1)),this.setIndex(c),this.setAttribute("position",new Qt(f,3)),this.setAttribute("normal",new Qt(m,3)),this.setAttribute("uv",new Qt(v,2));function R(){const P=new re,B=new re;let O=0;const V=(t-e)/i;for(let F=0;F<=s;F++){const z=[],k=F/s,H=k*(t-e)+e;for(let Z=0;Z<=r;Z++){const $=Z/r,ae=$*l+o,ne=Math.sin(ae),Y=Math.cos(ae);B.x=H*ne,B.y=-k*i+M,B.z=H*Y,f.push(B.x,B.y,B.z),P.set(ne,V,Y).normalize(),m.push(P.x,P.y,P.z),v.push($,1-k),z.push(_++)}T.push(z)}for(let F=0;F<r;F++)for(let z=0;z<s;z++){const k=T[z][F],H=T[z+1][F],Z=T[z+1][F+1],$=T[z][F+1];(e>0||z!==0)&&(c.push(k,H,$),O+=3),(t>0||z!==s-1)&&(c.push(H,Z,$),O+=3)}u.addGroup(S,O,0),S+=O}function C(P){const B=_,O=new Ye,V=new re;let F=0;const z=P===!0?e:t,k=P===!0?1:-1;for(let Z=1;Z<=r;Z++)f.push(0,M*k,0),m.push(0,k,0),v.push(.5,.5),_++;const H=_;for(let Z=0;Z<=r;Z++){const ae=Z/r*l+o,ne=Math.cos(ae),Y=Math.sin(ae);V.x=z*Y,V.y=M*k,V.z=z*ne,f.push(V.x,V.y,V.z),m.push(0,k,0),O.x=ne*.5+.5,O.y=Y*.5*k+.5,v.push(O.x,O.y),_++}for(let Z=0;Z<r;Z++){const $=B+Z,ae=H+Z;P===!0?c.push(ae,ae+1,$):c.push(ae+1,ae,$),F+=3}u.addGroup(S,F,P===!0?1:2),S+=F}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _h(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class sm extends _h{constructor(e=1,t=1,i=32,r=1,s=!1,a=0,o=Math.PI*2){super(0,e,t,i,r,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:i,heightSegments:r,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new sm(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class F3 extends bn{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],a=[];o(r),u(i),c(),this.setAttribute("position",new Qt(s,3)),this.setAttribute("normal",new Qt(s.slice(),3)),this.setAttribute("uv",new Qt(a,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function o(R){const C=new re,P=new re,B=new re;for(let O=0;O<t.length;O+=3)v(t[O+0],C),v(t[O+1],P),v(t[O+2],B),l(C,P,B,R)}function l(R,C,P,B){const O=B+1,V=[];for(let F=0;F<=O;F++){V[F]=[];const z=R.clone().lerp(P,F/O),k=C.clone().lerp(P,F/O),H=O-F;for(let Z=0;Z<=H;Z++)Z===0&&F===O?V[F][Z]=z:V[F][Z]=z.clone().lerp(k,Z/H)}for(let F=0;F<O;F++)for(let z=0;z<2*(O-F)-1;z++){const k=Math.floor(z/2);z%2===0?(m(V[F][k+1]),m(V[F+1][k]),m(V[F][k])):(m(V[F][k+1]),m(V[F+1][k+1]),m(V[F+1][k]))}}function u(R){const C=new re;for(let P=0;P<s.length;P+=3)C.x=s[P+0],C.y=s[P+1],C.z=s[P+2],C.normalize().multiplyScalar(R),s[P+0]=C.x,s[P+1]=C.y,s[P+2]=C.z}function c(){const R=new re;for(let C=0;C<s.length;C+=3){R.x=s[C+0],R.y=s[C+1],R.z=s[C+2];const P=M(R)/2/Math.PI+.5,B=S(R)/Math.PI+.5;a.push(P,1-B)}_(),f()}function f(){for(let R=0;R<a.length;R+=6){const C=a[R+0],P=a[R+2],B=a[R+4],O=Math.max(C,P,B),V=Math.min(C,P,B);O>.9&&V<.1&&(C<.2&&(a[R+0]+=1),P<.2&&(a[R+2]+=1),B<.2&&(a[R+4]+=1))}}function m(R){s.push(R.x,R.y,R.z)}function v(R,C){const P=R*3;C.x=e[P+0],C.y=e[P+1],C.z=e[P+2]}function _(){const R=new re,C=new re,P=new re,B=new re,O=new Ye,V=new Ye,F=new Ye;for(let z=0,k=0;z<s.length;z+=9,k+=6){R.set(s[z+0],s[z+1],s[z+2]),C.set(s[z+3],s[z+4],s[z+5]),P.set(s[z+6],s[z+7],s[z+8]),O.set(a[k+0],a[k+1]),V.set(a[k+2],a[k+3]),F.set(a[k+4],a[k+5]),B.copy(R).add(C).add(P).divideScalar(3);const H=M(B);T(O,k+0,R,H),T(V,k+2,C,H),T(F,k+4,P,H)}}function T(R,C,P,B){B<0&&R.x===1&&(a[C]=R.x-1),P.x===0&&P.z===0&&(a[C]=B/2/Math.PI+.5)}function M(R){return Math.atan2(R.z,-R.x)}function S(R){return Math.atan2(-R.y,Math.sqrt(R.x*R.x+R.z*R.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new F3(e.vertices,e.indices,e.radius,e.details)}}class AS extends F3{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=1/i,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-i,0,-r,i,0,r,-i,0,r,i,-r,-i,0,-r,i,0,r,-i,0,r,i,0,-i,0,-r,i,0,-r,-i,0,r,i,0,r],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new AS(e.radius,e.detail)}}const My=new re,Ey=new re,pE=new re,wy=new $o;class YQ extends bn{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const r=Math.pow(10,4),s=Math.cos(Sf*t),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),m={},v=[];for(let _=0;_<l;_+=3){a?(u[0]=a.getX(_),u[1]=a.getX(_+1),u[2]=a.getX(_+2)):(u[0]=_,u[1]=_+1,u[2]=_+2);const{a:T,b:M,c:S}=wy;if(T.fromBufferAttribute(o,u[0]),M.fromBufferAttribute(o,u[1]),S.fromBufferAttribute(o,u[2]),wy.getNormal(pE),f[0]=`${Math.round(T.x*r)},${Math.round(T.y*r)},${Math.round(T.z*r)}`,f[1]=`${Math.round(M.x*r)},${Math.round(M.y*r)},${Math.round(M.z*r)}`,f[2]=`${Math.round(S.x*r)},${Math.round(S.y*r)},${Math.round(S.z*r)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let R=0;R<3;R++){const C=(R+1)%3,P=f[R],B=f[C],O=wy[c[R]],V=wy[c[C]],F=`${P}_${B}`,z=`${B}_${P}`;z in m&&m[z]?(pE.dot(m[z].normal)<=s&&(v.push(O.x,O.y,O.z),v.push(V.x,V.y,V.z)),m[z]=null):F in m||(m[F]={index0:u[R],index1:u[C],normal:pE.clone()})}}for(const _ in m)if(m[_]){const{index0:T,index1:M}=m[_];My.fromBufferAttribute(o,T),Ey.fromBufferAttribute(o,M),v.push(My.x,My.y,My.z),v.push(Ey.x,Ey.y,Ey.z)}this.setAttribute("position",new Qt(v,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class G0{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let a=1;a<=e;a++)i=this.getPoint(a/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t=null){const i=this.getLengths();let r=0;const s=i.length;let a;t?a=t:a=e*i[s-1];let o=0,l=s-1,u;for(;o<=l;)if(r=Math.floor(o+(l-o)/2),u=i[r]-a,u<0)o=r+1;else if(u>0)l=r-1;else{l=r;break}if(r=l,i[r]===a)return r/(s-1);const c=i[r],m=i[r+1]-c,v=(a-c)/m;return(r+v)/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const a=this.getPoint(r),o=this.getPoint(s),l=t||(a.isVector2?new Ye:new re);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t=!1){const i=new re,r=[],s=[],a=[],o=new re,l=new Yt;for(let v=0;v<=e;v++){const _=v/e;r[v]=this.getTangentAt(_,new re)}s[0]=new re,a[0]=new re;let u=Number.MAX_VALUE;const c=Math.abs(r[0].x),f=Math.abs(r[0].y),m=Math.abs(r[0].z);c<=u&&(u=c,i.set(1,0,0)),f<=u&&(u=f,i.set(0,1,0)),m<=u&&i.set(0,0,1),o.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],o),a[0].crossVectors(r[0],s[0]);for(let v=1;v<=e;v++){if(s[v]=s[v-1].clone(),a[v]=a[v-1].clone(),o.crossVectors(r[v-1],r[v]),o.length()>Number.EPSILON){o.normalize();const _=Math.acos(Kn(r[v-1].dot(r[v]),-1,1));s[v].applyMatrix4(l.makeRotationAxis(o,_))}a[v].crossVectors(r[v],s[v])}if(t===!0){let v=Math.acos(Kn(s[0].dot(s[e]),-1,1));v/=e,r[0].dot(o.crossVectors(s[0],s[e]))>0&&(v=-v);for(let _=1;_<=e;_++)s[_].applyMatrix4(l.makeRotationAxis(r[_],v*_)),a[_].crossVectors(r[_],s[_])}return{tangents:r,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class pS extends G0{constructor(e=0,t=0,i=1,r=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,t=new Ye){const i=t,r=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(a?s=0:s=r),this.aClockwise===!0&&!a&&(s===r?s=-r:s=s-r);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),u=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),m=l-this.aX,v=u-this.aY;l=m*c-v*f+this.aX,u=m*f+v*c+this.aY}return i.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class QQ extends pS{constructor(e,t,i,r,s,a){super(e,t,i,i,r,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function KP(){let n=0,e=0,t=0,i=0;function r(s,a,o,l){n=s,e=o,t=-3*s+3*a-2*o-l,i=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,u){r(a,o,u*(o-s),u*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,u,c,f){let m=(a-s)/u-(o-s)/(u+c)+(o-a)/c,v=(o-a)/c-(l-a)/(c+f)+(l-o)/f;m*=c,v*=c,r(a,o,m,v)},calc:function(s){const a=s*s,o=a*s;return n+e*s+t*a+i*o}}}const Ry=new re,mE=new KP,gE=new KP,yE=new KP;class $Q extends G0{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new re){const i=t,r=this.points,s=r.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let u,c;this.closed||o>0?u=r[(o-1)%s]:(Ry.subVectors(r[0],r[1]).add(r[0]),u=Ry);const f=r[o%s],m=r[(o+1)%s];if(this.closed||o+2<s?c=r[(o+2)%s]:(Ry.subVectors(r[s-1],r[s-2]).add(r[s-1]),c=Ry),this.curveType==="centripetal"||this.curveType==="chordal"){const v=this.curveType==="chordal"?.5:.25;let _=Math.pow(u.distanceToSquared(f),v),T=Math.pow(f.distanceToSquared(m),v),M=Math.pow(m.distanceToSquared(c),v);T<1e-4&&(T=1),_<1e-4&&(_=T),M<1e-4&&(M=T),mE.initNonuniformCatmullRom(u.x,f.x,m.x,c.x,_,T,M),gE.initNonuniformCatmullRom(u.y,f.y,m.y,c.y,_,T,M),yE.initNonuniformCatmullRom(u.z,f.z,m.z,c.z,_,T,M)}else this.curveType==="catmullrom"&&(mE.initCatmullRom(u.x,f.x,m.x,c.x,this.tension),gE.initCatmullRom(u.y,f.y,m.y,c.y,this.tension),yE.initCatmullRom(u.z,f.z,m.z,c.z,this.tension));return i.set(mE.calc(l),gE.calc(l),yE.calc(l)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new re().fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function Fz(n,e,t,i,r){const s=(i-e)*.5,a=(r-t)*.5,o=n*n,l=n*o;return(2*t-2*i+s+a)*l+(-3*t+3*i-2*s-a)*o+s*n+t}function nhe(n,e){const t=1-n;return t*t*e}function ihe(n,e){return 2*(1-n)*n*e}function rhe(n,e){return n*n*e}function fA(n,e,t,i){return nhe(n,e)+ihe(n,t)+rhe(n,i)}function she(n,e){const t=1-n;return t*t*t*e}function ahe(n,e){const t=1-n;return 3*t*t*n*e}function ohe(n,e){return 3*(1-n)*n*n*e}function lhe(n,e){return n*n*n*e}function hA(n,e,t,i,r){return she(n,e)+ahe(n,t)+ohe(n,i)+lhe(n,r)}class ZP extends G0{constructor(e=new Ye,t=new Ye,i=new Ye,r=new Ye){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new Ye){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(hA(e,r.x,s.x,a.x,o.x),hA(e,r.y,s.y,a.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class JP extends G0{constructor(e=new re,t=new re,i=new re,r=new re){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new re){const i=t,r=this.v0,s=this.v1,a=this.v2,o=this.v3;return i.set(hA(e,r.x,s.x,a.x,o.x),hA(e,r.y,s.y,a.y,o.y),hA(e,r.z,s.z,a.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class eL extends G0{constructor(e=new Ye,t=new Ye){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new Ye){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new Ye){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class KQ extends G0{constructor(e=new re,t=new re){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new re){const i=t;return e===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new re){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class tL extends G0{constructor(e=new Ye,t=new Ye,i=new Ye){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new Ye){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(fA(e,r.x,s.x,a.x),fA(e,r.y,s.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nL extends G0{constructor(e=new re,t=new re,i=new re){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new re){const i=t,r=this.v0,s=this.v1,a=this.v2;return i.set(fA(e,r.x,s.x,a.x),fA(e,r.y,s.y,a.y),fA(e,r.z,s.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iL extends G0{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new Ye){const i=t,r=this.points,s=(r.length-1)*e,a=Math.floor(s),o=s-a,l=r[a===0?a:a-1],u=r[a],c=r[a>r.length-2?r.length-1:a+1],f=r[a>r.length-3?r.length-1:a+2];return i.set(Fz(o,l.x,u.x,c.x,f.x),Fz(o,l.y,u.y,c.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++){const r=this.points[t];e.points.push(r.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push(new Ye().fromArray(r))}return this}}var h_=Object.freeze({__proto__:null,ArcCurve:QQ,CatmullRomCurve3:$Q,CubicBezierCurve:ZP,CubicBezierCurve3:JP,EllipseCurve:pS,LineCurve:eL,LineCurve3:KQ,QuadraticBezierCurve:tL,QuadraticBezierCurve3:nL,SplineCurve:iL});class ZQ extends G0{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const i=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new h_[i](t,e))}return this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const a=r[s]-i,o=this.curves[s],l=o.getLength(),u=l===0?0:1-a/l;return o.getPointAt(u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const a=s[r],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let u=0;u<l.length;u++){const c=l[u];i&&i.equals(c)||(t.push(c),i=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(r.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++){const r=this.curves[t];e.curves.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push(new h_[r.type]().fromJSON(r))}return this}}let d_=class extends ZQ{constructor(e){super(),this.type="Path",this.currentPoint=new Ye,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new eL(this.currentPoint.clone(),new Ye(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new tL(this.currentPoint.clone(),new Ye(e,t),new Ye(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,a){const o=new ZP(this.currentPoint.clone(),new Ye(e,t),new Ye(i,r),new Ye(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new iL(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,t+l,i,r,s,a),this}absarc(e,t,i,r,s,a){return this.absellipse(e,t,i,i,r,s,a),this}ellipse(e,t,i,r,s,a,o,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,t+c,i,r,s,a,o,l),this}absellipse(e,t,i,r,s,a,o,l){const u=new pS(e,t,i,r,s,a,o,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class Tf extends d_{constructor(e){super(e),this.uuid=Hl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(r.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++){const r=this.holes[t];e.holes.push(r.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push(new d_().fromJSON(r))}return this}}function uhe(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=JQ(n,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,u;if(i&&(s=Ahe(n,e,s,t)),n.length>80*t){o=1/0,l=1/0;let c=-1/0,f=-1/0;for(let m=t;m<r;m+=t){const v=n[m],_=n[m+1];v<o&&(o=v),_<l&&(l=_),v>c&&(c=v),_>f&&(f=_)}u=Math.max(c-o,f-l),u=u!==0?32767/u:0}return QA(s,a,t,o,l,u,0),a}function JQ(n,e,t,i,r){let s;if(r===Mhe(n,e,t,i)>0)for(let a=e;a<t;a+=i)s=zz(a/i|0,n[a],n[a+1],s);else for(let a=t-i;a>=e;a-=i)s=zz(a/i|0,n[a],n[a+1],s);return s&&qd(s,s.next)&&(KA(s),s=s.next),s}function nh(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(qd(t,t.next)||Jr(t.prev,t,t.next)===0)){if(KA(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function QA(n,e,t,i,r,s,a){if(!n)return;!a&&s&&vhe(n,i,r,s);let o=n;for(;n.prev!==n.next;){const l=n.prev,u=n.next;if(s?fhe(n,i,r,s):che(n)){e.push(l.i,n.i,u.i),KA(n),n=u.next,o=u.next;continue}if(n=u,n===o){a?a===1?(n=hhe(nh(n),e),QA(n,e,t,i,r,s,2)):a===2&&dhe(n,e,t,i,r,s):QA(nh(n),e,t,i,r,s,1);break}}}function che(n){const e=n.prev,t=n,i=n.next;if(Jr(e,t,i)>=0)return!1;const r=e.x,s=t.x,a=i.x,o=e.y,l=t.y,u=i.y,c=Math.min(r,s,a),f=Math.min(o,l,u),m=Math.max(r,s,a),v=Math.max(o,l,u);let _=i.next;for(;_!==e;){if(_.x>=c&&_.x<=m&&_.y>=f&&_.y<=v&&C9(r,o,s,l,a,u,_.x,_.y)&&Jr(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function fhe(n,e,t,i){const r=n.prev,s=n,a=n.next;if(Jr(r,s,a)>=0)return!1;const o=r.x,l=s.x,u=a.x,c=r.y,f=s.y,m=a.y,v=Math.min(o,l,u),_=Math.min(c,f,m),T=Math.max(o,l,u),M=Math.max(c,f,m),S=xC(v,_,e,t,i),R=xC(T,M,e,t,i);let C=n.prevZ,P=n.nextZ;for(;C&&C.z>=S&&P&&P.z<=R;){if(C.x>=v&&C.x<=T&&C.y>=_&&C.y<=M&&C!==r&&C!==a&&C9(o,c,l,f,u,m,C.x,C.y)&&Jr(C.prev,C,C.next)>=0||(C=C.prevZ,P.x>=v&&P.x<=T&&P.y>=_&&P.y<=M&&P!==r&&P!==a&&C9(o,c,l,f,u,m,P.x,P.y)&&Jr(P.prev,P,P.next)>=0))return!1;P=P.nextZ}for(;C&&C.z>=S;){if(C.x>=v&&C.x<=T&&C.y>=_&&C.y<=M&&C!==r&&C!==a&&C9(o,c,l,f,u,m,C.x,C.y)&&Jr(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;P&&P.z<=R;){if(P.x>=v&&P.x<=T&&P.y>=_&&P.y<=M&&P!==r&&P!==a&&C9(o,c,l,f,u,m,P.x,P.y)&&Jr(P.prev,P,P.next)>=0)return!1;P=P.nextZ}return!0}function hhe(n,e){let t=n;do{const i=t.prev,r=t.next.next;!qd(i,r)&&t$(i,t,t.next,r)&&$A(i,r)&&$A(r,i)&&(e.push(i.i,t.i,r.i),KA(t),KA(t.next),t=n=r),t=t.next}while(t!==n);return nh(t)}function dhe(n,e,t,i,r,s){let a=n;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&bhe(a,o)){let l=n$(a,o);a=nh(a,a.next),l=nh(l,l.next),QA(a,e,t,i,r,s,0),QA(l,e,t,i,r,s,0);return}o=o.next}a=a.next}while(a!==n)}function Ahe(n,e,t,i){const r=[];for(let s=0,a=e.length;s<a;s++){const o=e[s]*i,l=s<a-1?e[s+1]*i:n.length,u=JQ(n,o,l,i,!1);u===u.next&&(u.steiner=!0),r.push(_he(u))}r.sort(phe);for(let s=0;s<r.length;s++)t=mhe(r[s],t);return t}function phe(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function mhe(n,e){const t=ghe(n,e);if(!t)return e;const i=n$(t,n);return nh(i,i.next),nh(t,t.next)}function ghe(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,a;if(qd(n,t))return t;do{if(qd(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const f=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=i&&f>s&&(s=f,a=t.x<t.next.x?t:t.next,f===i))return a}t=t.next}while(t!==e);if(!a)return null;const o=a,l=a.x,u=a.y;let c=1/0;t=a;do{if(i>=t.x&&t.x>=l&&i!==t.x&&e$(r<u?i:s,r,l,u,r<u?s:i,r,t.x,t.y)){const f=Math.abs(r-t.y)/(i-t.x);$A(t,n)&&(f<c||f===c&&(t.x>a.x||t.x===a.x&&yhe(a,t)))&&(a=t,c=f)}t=t.next}while(t!==o);return a}function yhe(n,e){return Jr(n.prev,n,e.prev)<0&&Jr(e.next,n,n.next)<0}function vhe(n,e,t,i){let r=n;do r.z===0&&(r.z=xC(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,xhe(r)}function xhe(n){let e,t=1;do{let i=n,r;n=null;let s=null;for(e=0;i;){e++;let a=i,o=0;for(let u=0;u<t&&(o++,a=a.nextZ,!!a);u++);let l=t;for(;o>0||l>0&&a;)o!==0&&(l===0||!a||i.z<=a.z)?(r=i,i=i.nextZ,o--):(r=a,a=a.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;i=a}s.nextZ=null,t*=2}while(e>1);return n}function xC(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function _he(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function e$(n,e,t,i,r,s,a,o){return(r-a)*(e-o)>=(n-a)*(s-o)&&(n-a)*(i-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(r-a)*(i-o)}function C9(n,e,t,i,r,s,a,o){return!(n===a&&e===o)&&e$(n,e,t,i,r,s,a,o)}function bhe(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!She(n,e)&&($A(n,e)&&$A(e,n)&&The(n,e)&&(Jr(n.prev,n,e.prev)||Jr(n,e.prev,e))||qd(n,e)&&Jr(n.prev,n,n.next)>0&&Jr(e.prev,e,e.next)>0)}function Jr(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function qd(n,e){return n.x===e.x&&n.y===e.y}function t$(n,e,t,i){const r=Ny(Jr(n,e,t)),s=Ny(Jr(n,e,i)),a=Ny(Jr(t,i,n)),o=Ny(Jr(t,i,e));return!!(r!==s&&a!==o||r===0&&Cy(n,t,e)||s===0&&Cy(n,i,e)||a===0&&Cy(t,n,i)||o===0&&Cy(t,e,i))}function Cy(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Ny(n){return n>0?1:n<0?-1:0}function She(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&t$(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function $A(n,e){return Jr(n.prev,n,n.next)<0?Jr(n,e,n.next)>=0&&Jr(n,n.prev,e)>=0:Jr(n,e,n.prev)<0||Jr(n,n.next,e)<0}function The(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function n$(n,e){const t=_C(n.i,n.x,n.y),i=_C(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function zz(n,e,t,i){const r=_C(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function KA(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function _C(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Mhe(n,e,t,i){let r=0;for(let s=e,a=t-i;s<t;s+=i)r+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return r}class Ehe{static triangulate(e,t,i=2){return uhe(e,t,i)}}class pu{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return i*.5}static isClockWise(e){return pu.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];Vz(e),kz(i,e);let a=e.length;t.forEach(Vz);for(let l=0;l<t.length;l++)r.push(a),a+=t[l].length,kz(i,t[l]);const o=Ehe.triangulate(i,r);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function Vz(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function kz(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class am extends bn{constructor(e=new Tf([new Ye(.5,.5),new Ye(-.5,.5),new Ye(-.5,-.5),new Ye(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let o=0,l=e.length;o<l;o++){const u=e[o];a(u)}this.setAttribute("position",new Qt(r,3)),this.setAttribute("uv",new Qt(s,2)),this.computeVertexNormals();function a(o){const l=[],u=t.curveSegments!==void 0?t.curveSegments:12,c=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let m=t.bevelEnabled!==void 0?t.bevelEnabled:!0,v=t.bevelThickness!==void 0?t.bevelThickness:.2,_=t.bevelSize!==void 0?t.bevelSize:v-.1,T=t.bevelOffset!==void 0?t.bevelOffset:0,M=t.bevelSegments!==void 0?t.bevelSegments:3;const S=t.extrudePath,R=t.UVGenerator!==void 0?t.UVGenerator:whe;let C,P=!1,B,O,V,F;S&&(C=S.getSpacedPoints(c),P=!0,m=!1,B=S.computeFrenetFrames(c,!1),O=new re,V=new re,F=new re),m||(M=0,v=0,_=0,T=0);const z=o.extractPoints(u);let k=z.shape;const H=z.holes;if(!pu.isClockWise(k)){k=k.reverse();for(let ce=0,bt=H.length;ce<bt;ce++){const At=H[ce];pu.isClockWise(At)&&(H[ce]=At.reverse())}}function $(ce){const At=10000000000000001e-36;let mt=ce[0];for(let et=1;et<=ce.length;et++){const Ft=et%ce.length,gt=ce[Ft],Ut=gt.x-mt.x,Tn=gt.y-mt.y,me=Ut*Ut+Tn*Tn,ie=Math.max(Math.abs(gt.x),Math.abs(gt.y),Math.abs(mt.x),Math.abs(mt.y)),Ie=At*ie*ie;if(me<=Ie){ce.splice(Ft,1),et--;continue}mt=gt}}$(k),H.forEach($);const ae=H.length,ne=k;for(let ce=0;ce<ae;ce++){const bt=H[ce];k=k.concat(bt)}function Y(ce,bt,At){return bt||console.error("THREE.ExtrudeGeometry: vec does not exist"),ce.clone().addScaledVector(bt,At)}const ee=k.length;function Q(ce,bt,At){let mt,et,Ft;const gt=ce.x-bt.x,Ut=ce.y-bt.y,Tn=At.x-ce.x,me=At.y-ce.y,ie=gt*gt+Ut*Ut,Ie=gt*me-Ut*Tn;if(Math.abs(Ie)>Number.EPSILON){const Ke=Math.sqrt(ie),ut=Math.sqrt(Tn*Tn+me*me),Ze=bt.x-Ut/Ke,nn=bt.y+gt/Ke,Ot=At.x-me/ut,Kt=At.y+Tn/ut,tn=((Ot-Ze)*me-(Kt-nn)*Tn)/(gt*me-Ut*Tn);mt=Ze+gt*tn-ce.x,et=nn+Ut*tn-ce.y;const ct=mt*mt+et*et;if(ct<=2)return new Ye(mt,et);Ft=Math.sqrt(ct/2)}else{let Ke=!1;gt>Number.EPSILON?Tn>Number.EPSILON&&(Ke=!0):gt<-Number.EPSILON?Tn<-Number.EPSILON&&(Ke=!0):Math.sign(Ut)===Math.sign(me)&&(Ke=!0),Ke?(mt=-Ut,et=gt,Ft=Math.sqrt(ie)):(mt=gt,et=Ut,Ft=Math.sqrt(ie/2))}return new Ye(mt/Ft,et/Ft)}const fe=[];for(let ce=0,bt=ne.length,At=bt-1,mt=ce+1;ce<bt;ce++,At++,mt++)At===bt&&(At=0),mt===bt&&(mt=0),fe[ce]=Q(ne[ce],ne[At],ne[mt]);const ge=[];let Re,Ge=fe.concat();for(let ce=0,bt=ae;ce<bt;ce++){const At=H[ce];Re=[];for(let mt=0,et=At.length,Ft=et-1,gt=mt+1;mt<et;mt++,Ft++,gt++)Ft===et&&(Ft=0),gt===et&&(gt=0),Re[mt]=Q(At[mt],At[Ft],At[gt]);ge.push(Re),Ge=Ge.concat(Re)}let We;if(M===0)We=pu.triangulateShape(ne,H);else{const ce=[],bt=[];for(let At=0;At<M;At++){const mt=At/M,et=v*Math.cos(mt*Math.PI/2),Ft=_*Math.sin(mt*Math.PI/2)+T;for(let gt=0,Ut=ne.length;gt<Ut;gt++){const Tn=Y(ne[gt],fe[gt],Ft);Jt(Tn.x,Tn.y,-et),mt===0&&ce.push(Tn)}for(let gt=0,Ut=ae;gt<Ut;gt++){const Tn=H[gt];Re=ge[gt];const me=[];for(let ie=0,Ie=Tn.length;ie<Ie;ie++){const Ke=Y(Tn[ie],Re[ie],Ft);Jt(Ke.x,Ke.y,-et),mt===0&&me.push(Ke)}mt===0&&bt.push(me)}}We=pu.triangulateShape(ce,bt)}const Se=We.length,qe=_+T;for(let ce=0;ce<ee;ce++){const bt=m?Y(k[ce],Ge[ce],qe):k[ce];P?(V.copy(B.normals[0]).multiplyScalar(bt.x),O.copy(B.binormals[0]).multiplyScalar(bt.y),F.copy(C[0]).add(V).add(O),Jt(F.x,F.y,F.z)):Jt(bt.x,bt.y,0)}for(let ce=1;ce<=c;ce++)for(let bt=0;bt<ee;bt++){const At=m?Y(k[bt],Ge[bt],qe):k[bt];P?(V.copy(B.normals[ce]).multiplyScalar(At.x),O.copy(B.binormals[ce]).multiplyScalar(At.y),F.copy(C[ce]).add(V).add(O),Jt(F.x,F.y,F.z)):Jt(At.x,At.y,f/c*ce)}for(let ce=M-1;ce>=0;ce--){const bt=ce/M,At=v*Math.cos(bt*Math.PI/2),mt=_*Math.sin(bt*Math.PI/2)+T;for(let et=0,Ft=ne.length;et<Ft;et++){const gt=Y(ne[et],fe[et],mt);Jt(gt.x,gt.y,f+At)}for(let et=0,Ft=H.length;et<Ft;et++){const gt=H[et];Re=ge[et];for(let Ut=0,Tn=gt.length;Ut<Tn;Ut++){const me=Y(gt[Ut],Re[Ut],mt);P?Jt(me.x,me.y+C[c-1].y,C[c-1].x+At):Jt(me.x,me.y,f+At)}}}St(),at();function St(){const ce=r.length/3;if(m){let bt=0,At=ee*bt;for(let mt=0;mt<Se;mt++){const et=We[mt];It(et[2]+At,et[1]+At,et[0]+At)}bt=c+M*2,At=ee*bt;for(let mt=0;mt<Se;mt++){const et=We[mt];It(et[0]+At,et[1]+At,et[2]+At)}}else{for(let bt=0;bt<Se;bt++){const At=We[bt];It(At[2],At[1],At[0])}for(let bt=0;bt<Se;bt++){const At=We[bt];It(At[0]+ee*c,At[1]+ee*c,At[2]+ee*c)}}i.addGroup(ce,r.length/3-ce,0)}function at(){const ce=r.length/3;let bt=0;Ct(ne,bt),bt+=ne.length;for(let At=0,mt=H.length;At<mt;At++){const et=H[At];Ct(et,bt),bt+=et.length}i.addGroup(ce,r.length/3-ce,1)}function Ct(ce,bt){let At=ce.length;for(;--At>=0;){const mt=At;let et=At-1;et<0&&(et=ce.length-1);for(let Ft=0,gt=c+M*2;Ft<gt;Ft++){const Ut=ee*Ft,Tn=ee*(Ft+1),me=bt+mt+Ut,ie=bt+et+Ut,Ie=bt+et+Tn,Ke=bt+mt+Tn;Sn(me,ie,Ie,Ke)}}}function Jt(ce,bt,At){l.push(ce),l.push(bt),l.push(At)}function It(ce,bt,At){hn(ce),hn(bt),hn(At);const mt=r.length/3,et=R.generateTopUV(i,r,mt-3,mt-2,mt-1);$t(et[0]),$t(et[1]),$t(et[2])}function Sn(ce,bt,At,mt){hn(ce),hn(bt),hn(mt),hn(bt),hn(At),hn(mt);const et=r.length/3,Ft=R.generateSideWallUV(i,r,et-6,et-3,et-2,et-1);$t(Ft[0]),$t(Ft[1]),$t(Ft[3]),$t(Ft[1]),$t(Ft[2]),$t(Ft[3])}function hn(ce){r.push(l[ce*3+0]),r.push(l[ce*3+1]),r.push(l[ce*3+2])}function $t(ce){s.push(ce.x),s.push(ce.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,i=this.parameters.options;return Rhe(t,i,e)}static fromJSON(e,t){const i=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=t[e.shapes[s]];i.push(o)}const r=e.options.extrudePath;return r!==void 0&&(e.options.extrudePath=new h_[r.type]().fromJSON(r)),new am(i,e.options)}}const whe={generateTopUV:function(n,e,t,i,r){const s=e[t*3],a=e[t*3+1],o=e[i*3],l=e[i*3+1],u=e[r*3],c=e[r*3+1];return[new Ye(s,a),new Ye(o,l),new Ye(u,c)]},generateSideWallUV:function(n,e,t,i,r,s){const a=e[t*3],o=e[t*3+1],l=e[t*3+2],u=e[i*3],c=e[i*3+1],f=e[i*3+2],m=e[r*3],v=e[r*3+1],_=e[r*3+2],T=e[s*3],M=e[s*3+1],S=e[s*3+2];return Math.abs(o-c)<Math.abs(a-u)?[new Ye(a,1-l),new Ye(u,1-f),new Ye(m,1-_),new Ye(T,1-S)]:[new Ye(o,1-l),new Ye(c,1-f),new Ye(v,1-_),new Ye(M,1-S)]}};function Rhe(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++){const s=n[i];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class mS extends F3{constructor(e=1,t=0){const i=(1+Math.sqrt(5))/2,r=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(r,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new mS(e.radius,e.detail)}}class gS extends bn{constructor(e=[new Ye(0,-.5),new Ye(.5,0),new Ye(0,.5)],t=12,i=0,r=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:r},t=Math.floor(t),r=Kn(r,0,Math.PI*2);const s=[],a=[],o=[],l=[],u=[],c=1/t,f=new re,m=new Ye,v=new re,_=new re,T=new re;let M=0,S=0;for(let R=0;R<=e.length-1;R++)switch(R){case 0:M=e[R+1].x-e[R].x,S=e[R+1].y-e[R].y,v.x=S*1,v.y=-M,v.z=S*0,T.copy(v),v.normalize(),l.push(v.x,v.y,v.z);break;case e.length-1:l.push(T.x,T.y,T.z);break;default:M=e[R+1].x-e[R].x,S=e[R+1].y-e[R].y,v.x=S*1,v.y=-M,v.z=S*0,_.copy(v),v.x+=T.x,v.y+=T.y,v.z+=T.z,v.normalize(),l.push(v.x,v.y,v.z),T.copy(_)}for(let R=0;R<=t;R++){const C=i+R*c*r,P=Math.sin(C),B=Math.cos(C);for(let O=0;O<=e.length-1;O++){f.x=e[O].x*P,f.y=e[O].y,f.z=e[O].x*B,a.push(f.x,f.y,f.z),m.x=R/t,m.y=O/(e.length-1),o.push(m.x,m.y);const V=l[3*O+0]*P,F=l[3*O+1],z=l[3*O+0]*B;u.push(V,F,z)}}for(let R=0;R<t;R++)for(let C=0;C<e.length-1;C++){const P=C+R*e.length,B=P,O=P+e.length,V=P+e.length+1,F=P+1;s.push(B,O,F),s.push(V,F,O)}this.setIndex(s),this.setAttribute("position",new Qt(a,3)),this.setAttribute("uv",new Qt(o,2)),this.setAttribute("normal",new Qt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gS(e.points,e.segments,e.phiStart,e.phiLength)}}class om extends F3{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new om(e.radius,e.detail)}}class bh extends bn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,a=t/2,o=Math.floor(i),l=Math.floor(r),u=o+1,c=l+1,f=e/o,m=t/l,v=[],_=[],T=[],M=[];for(let S=0;S<c;S++){const R=S*m-a;for(let C=0;C<u;C++){const P=C*f-s;_.push(P,-R,0),T.push(0,0,1),M.push(C/o),M.push(1-S/l)}}for(let S=0;S<l;S++)for(let R=0;R<o;R++){const C=R+u*S,P=R+u*(S+1),B=R+1+u*(S+1),O=R+1+u*S;v.push(C,P,O),v.push(P,B,O)}this.setIndex(v),this.setAttribute("position",new Qt(_,3)),this.setAttribute("normal",new Qt(T,3)),this.setAttribute("uv",new Qt(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bh(e.width,e.height,e.widthSegments,e.heightSegments)}}class yS extends bn{constructor(e=.5,t=1,i=32,r=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:r,thetaStart:s,thetaLength:a},i=Math.max(3,i),r=Math.max(1,r);const o=[],l=[],u=[],c=[];let f=e;const m=(t-e)/r,v=new re,_=new Ye;for(let T=0;T<=r;T++){for(let M=0;M<=i;M++){const S=s+M/i*a;v.x=f*Math.cos(S),v.y=f*Math.sin(S),l.push(v.x,v.y,v.z),u.push(0,0,1),_.x=(v.x/t+1)/2,_.y=(v.y/t+1)/2,c.push(_.x,_.y)}f+=m}for(let T=0;T<r;T++){const M=T*(i+1);for(let S=0;S<i;S++){const R=S+M,C=R,P=R+i+1,B=R+i+2,O=R+1;o.push(C,P,O),o.push(P,B,O)}}this.setIndex(o),this.setAttribute("position",new Qt(l,3)),this.setAttribute("normal",new Qt(u,3)),this.setAttribute("uv",new Qt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yS(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class vS extends bn{constructor(e=new Tf([new Ye(0,.5),new Ye(-.5,-.5),new Ye(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const i=[],r=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(o,l,c),o+=l,l=0;this.setIndex(i),this.setAttribute("position",new Qt(r,3)),this.setAttribute("normal",new Qt(s,3)),this.setAttribute("uv",new Qt(a,2));function u(c){const f=r.length/3,m=c.extractPoints(t);let v=m.shape;const _=m.holes;pu.isClockWise(v)===!1&&(v=v.reverse());for(let M=0,S=_.length;M<S;M++){const R=_[M];pu.isClockWise(R)===!0&&(_[M]=R.reverse())}const T=pu.triangulateShape(v,_);for(let M=0,S=_.length;M<S;M++){const R=_[M];v=v.concat(R)}for(let M=0,S=v.length;M<S;M++){const R=v[M];r.push(R.x,R.y,0),s.push(0,0,1),a.push(R.x,R.y)}for(let M=0,S=T.length;M<S;M++){const R=T[M],C=R[0]+f,P=R[1]+f,B=R[2]+f;i.push(C,P,B),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return Che(t,e)}static fromJSON(e,t){const i=[];for(let r=0,s=e.shapes.length;r<s;r++){const a=t[e.shapes[r]];i.push(a)}return new vS(i,e.curveSegments)}}function Che(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,i=n.length;t<i;t++){const r=n[t];e.shapes.push(r.uuid)}else e.shapes.push(n.uuid);return e}class q0 extends bn{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:a,thetaLength:o},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(a+o,Math.PI);let u=0;const c=[],f=new re,m=new re,v=[],_=[],T=[],M=[];for(let S=0;S<=i;S++){const R=[],C=S/i;let P=0;S===0&&a===0?P=.5/t:S===i&&l===Math.PI&&(P=-.5/t);for(let B=0;B<=t;B++){const O=B/t;f.x=-e*Math.cos(r+O*s)*Math.sin(a+C*o),f.y=e*Math.cos(a+C*o),f.z=e*Math.sin(r+O*s)*Math.sin(a+C*o),_.push(f.x,f.y,f.z),m.copy(f).normalize(),T.push(m.x,m.y,m.z),M.push(O+P,1-C),R.push(u++)}c.push(R)}for(let S=0;S<i;S++)for(let R=0;R<t;R++){const C=c[S][R+1],P=c[S][R],B=c[S+1][R],O=c[S+1][R+1];(S!==0||a>0)&&v.push(C,P,O),(S!==i-1||l<Math.PI)&&v.push(P,B,O)}this.setIndex(v),this.setAttribute("position",new Qt(_,3)),this.setAttribute("normal",new Qt(T,3)),this.setAttribute("uv",new Qt(M,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new q0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class xS extends F3{constructor(e=1,t=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],r=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,r,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new xS(e.radius,e.detail)}}class _S extends bn{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const a=[],o=[],l=[],u=[],c=new re,f=new re,m=new re;for(let v=0;v<=i;v++)for(let _=0;_<=r;_++){const T=_/r*s,M=v/i*Math.PI*2;f.x=(e+t*Math.cos(M))*Math.cos(T),f.y=(e+t*Math.cos(M))*Math.sin(T),f.z=t*Math.sin(M),o.push(f.x,f.y,f.z),c.x=e*Math.cos(T),c.y=e*Math.sin(T),m.subVectors(f,c).normalize(),l.push(m.x,m.y,m.z),u.push(_/r),u.push(v/i)}for(let v=1;v<=i;v++)for(let _=1;_<=r;_++){const T=(r+1)*v+_-1,M=(r+1)*(v-1)+_-1,S=(r+1)*(v-1)+_,R=(r+1)*v+_;a.push(T,M,R),a.push(M,S,R)}this.setIndex(a),this.setAttribute("position",new Qt(o,3)),this.setAttribute("normal",new Qt(l,3)),this.setAttribute("uv",new Qt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _S(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class bS extends bn{constructor(e=1,t=.4,i=64,r=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:r,p:s,q:a},i=Math.floor(i),r=Math.floor(r);const o=[],l=[],u=[],c=[],f=new re,m=new re,v=new re,_=new re,T=new re,M=new re,S=new re;for(let C=0;C<=i;++C){const P=C/i*s*Math.PI*2;R(P,s,a,e,v),R(P+.01,s,a,e,_),M.subVectors(_,v),S.addVectors(_,v),T.crossVectors(M,S),S.crossVectors(T,M),T.normalize(),S.normalize();for(let B=0;B<=r;++B){const O=B/r*Math.PI*2,V=-t*Math.cos(O),F=t*Math.sin(O);f.x=v.x+(V*S.x+F*T.x),f.y=v.y+(V*S.y+F*T.y),f.z=v.z+(V*S.z+F*T.z),l.push(f.x,f.y,f.z),m.subVectors(f,v).normalize(),u.push(m.x,m.y,m.z),c.push(C/i),c.push(B/r)}}for(let C=1;C<=i;C++)for(let P=1;P<=r;P++){const B=(r+1)*(C-1)+(P-1),O=(r+1)*C+(P-1),V=(r+1)*C+P,F=(r+1)*(C-1)+P;o.push(B,O,F),o.push(O,V,F)}this.setIndex(o),this.setAttribute("position",new Qt(l,3)),this.setAttribute("normal",new Qt(u,3)),this.setAttribute("uv",new Qt(c,2));function R(C,P,B,O,V){const F=Math.cos(C),z=Math.sin(C),k=B/P*C,H=Math.cos(k);V.x=O*(2+H)*.5*F,V.y=O*(2+H)*z*.5,V.z=O*Math.sin(k)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bS(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class lm extends bn{constructor(e=new nL(new re(-1,-1,0),new re(-1,1,0),new re(1,1,0)),t=64,i=1,r=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:i,radialSegments:r,closed:s};const a=e.computeFrenetFrames(t,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new re,l=new re,u=new Ye;let c=new re;const f=[],m=[],v=[],_=[];T(),this.setIndex(_),this.setAttribute("position",new Qt(f,3)),this.setAttribute("normal",new Qt(m,3)),this.setAttribute("uv",new Qt(v,2));function T(){for(let C=0;C<t;C++)M(C);M(s===!1?t:0),R(),S()}function M(C){c=e.getPointAt(C/t,c);const P=a.normals[C],B=a.binormals[C];for(let O=0;O<=r;O++){const V=O/r*Math.PI*2,F=Math.sin(V),z=-Math.cos(V);l.x=z*P.x+F*B.x,l.y=z*P.y+F*B.y,l.z=z*P.z+F*B.z,l.normalize(),m.push(l.x,l.y,l.z),o.x=c.x+i*l.x,o.y=c.y+i*l.y,o.z=c.z+i*l.z,f.push(o.x,o.y,o.z)}}function S(){for(let C=1;C<=t;C++)for(let P=1;P<=r;P++){const B=(r+1)*(C-1)+(P-1),O=(r+1)*C+(P-1),V=(r+1)*C+P,F=(r+1)*(C-1)+P;_.push(B,O,F),_.push(O,V,F)}}function R(){for(let C=0;C<=t;C++)for(let P=0;P<=r;P++)u.x=C/t,u.y=P/r,v.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new lm(new h_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class rL extends bn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new re,s=new re;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],m=f.start,v=f.count;for(let _=m,T=m+v;_<T;_+=3)for(let M=0;M<3;M++){const S=o.getX(_+M),R=o.getX(_+(M+1)%3);r.fromBufferAttribute(a,S),s.fromBufferAttribute(a,R),Gz(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let u=0;u<3;u++){const c=3*o+u,f=3*o+(u+1)%3;r.fromBufferAttribute(a,c),s.fromBufferAttribute(a,f),Gz(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new Qt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Gz(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}var qz=Object.freeze({__proto__:null,BoxGeometry:D1,CapsuleGeometry:dS,CircleGeometry:S8,ConeGeometry:sm,CylinderGeometry:_h,DodecahedronGeometry:AS,EdgesGeometry:YQ,ExtrudeGeometry:am,IcosahedronGeometry:mS,LatheGeometry:gS,OctahedronGeometry:om,PlaneGeometry:bh,PolyhedronGeometry:F3,RingGeometry:yS,ShapeGeometry:vS,SphereGeometry:q0,TetrahedronGeometry:xS,TorusGeometry:_S,TorusKnotGeometry:bS,TubeGeometry:lm,WireframeGeometry:rL});class sL extends Ta{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Nt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class i$ extends Uo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class SS extends Ta{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Nt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=v1,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Sa,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aL extends SS{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ye(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Kn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Nt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Nt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Nt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class TS extends Ta{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Nt(16777215),this.specular=new Nt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=v1,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Sa,this.combine=x8,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class oL extends Ta{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Nt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=v1,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class lL extends Ta{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=v1,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class wu extends Ta{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Nt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Nt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=v1,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Sa,this.combine=x8,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class uL extends Ta{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=_Q,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class cL extends Ta{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class fL extends Ta{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Nt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=v1,this.normalScale=new Ye(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class hL extends aa{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function of(n,e){return!n||n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function r$(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function s$(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function bC(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,a=0;a!==i;++s){const o=t[s]*e;for(let l=0;l!==e;++l)r[a++]=n[o+l]}return r}function dL(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let a=s[i];if(a!==void 0)if(Array.isArray(a))do a=s[i],a!==void 0&&(e.push(s.time),t.push(...a)),s=n[r++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[i],a!==void 0&&(e.push(s.time),a.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do a=s[i],a!==void 0&&(e.push(s.time),t.push(a)),s=n[r++];while(s!==void 0)}function Nhe(n,e,t,i,r=30){const s=n.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const u=s.tracks[l],c=u.getValueSize(),f=[],m=[];for(let v=0;v<u.times.length;++v){const _=u.times[v]*r;if(!(_<t||_>=i)){f.push(u.times[v]);for(let T=0;T<c;++T)m.push(u.values[v*c+T])}}f.length!==0&&(u.times=of(f,u.times.constructor),u.values=of(m,u.values.constructor),a.push(u))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function Dhe(n,e=0,t=n,i=30){i<=0&&(i=30);const r=t.tracks.length,s=e/i;for(let a=0;a<r;++a){const o=t.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const u=n.tracks.find(function(S){return S.name===o.name&&S.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let m=0;const v=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(m=v/3);const _=o.times.length-1;let T;if(s<=o.times[0]){const S=c,R=f-c;T=o.values.slice(S,R)}else if(s>=o.times[_]){const S=_*f+c,R=S+f-c;T=o.values.slice(S,R)}else{const S=o.createInterpolant(),R=c,C=f-c;S.evaluate(s),T=S.resultBuffer.slice(R,C)}l==="quaternion"&&new ka().fromArray(T).normalize().conjugate().toArray(T);const M=u.times.length;for(let S=0;S<M;++S){const R=S*v+m;if(l==="quaternion")ka.multiplyQuaternionsFlat(u.values,R,T,0,u.values,R);else{const C=v-m*2;for(let P=0;P<C;++P)u.values[R+P]-=T[P]}}}return n.blendMode=VP,n}class Phe{static convertArray(e,t){return of(e,t)}static isTypedArray(e){return r$(e)}static getKeyframeOrder(e){return s$(e)}static sortedArray(e,t,i){return bC(e,t,i)}static flattenJSON(e,t,i,r){dL(e,t,i,r)}static subclip(e,t,i,r,s=30){return Nhe(e,t,i,r,s)}static makeClipAdditive(e,t=0,i=e,r=30){return Dhe(e,t,i,r)}}class um{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let a;n:{i:if(!(e<r)){for(let o=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===o)break;if(s=r,r=t[++i],e<r)break t}a=t.length;break n}if(!(e>=s)){const o=t[1];e<o&&(i=2,s=o);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break t}a=i,i=0;break n}break e}for(;i<a;){const o=i+a>>>1;e<t[o]?a=o:i=o+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let a=0;a!==r;++a)t[a]=i[s+a];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class a$ extends um{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:rf,endingEnd:rf}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,a=e+1,o=r[s],l=r[a];if(o===void 0)switch(this.getSettings_().endingStart){case sf:s=e,o=2*t-i;break;case XA:s=r.length-2,o=t+r[s]-r[s+1];break;default:s=e,o=i}if(l===void 0)switch(this.getSettings_().endingEnd){case sf:a=e,l=2*i-t;break;case XA:a=1,l=i+r[1]-r[0];break;default:a=e-1,l=t}const u=(i-t)*.5,c=this.valueSize;this._weightPrev=u/(t-o),this._weightNext=u/(l-i),this._offsetPrev=s*c,this._offsetNext=a*c}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,c=this._offsetPrev,f=this._offsetNext,m=this._weightPrev,v=this._weightNext,_=(i-t)/(r-t),T=_*_,M=T*_,S=-m*M+2*m*T-m*_,R=(1+m)*M+(-1.5-2*m)*T+(-.5+m)*_+1,C=(-1-v)*M+(1.5+v)*T+.5*_,P=v*M-v*T;for(let B=0;B!==o;++B)s[B]=S*a[c+B]+R*a[u+B]+C*a[l+B]+P*a[f+B];return s}}class AL extends um{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,u=l-o,c=(i-t)/(r-t),f=1-c;for(let m=0;m!==o;++m)s[m]=a[u+m]*f+a[l+m]*c;return s}}class o$ extends um{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class H0{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=of(t,this.TimeBufferType),this.values=of(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:of(e.times,Array),values:of(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new o$(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new AL(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new a$(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case WA:t=this.InterpolantFactoryMethodDiscrete;break;case l_:t=this.InterpolantFactoryMethodLinear;break;case tx:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return WA;case this.InterpolantFactoryMethodLinear:return l_;case this.InterpolantFactoryMethodSmooth:return tx}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,a=r-1;for(;s!==r&&i[s]<e;)++s;for(;a!==-1&&i[a]>t;)--a;if(++a,s!==0||a!==r){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=i.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=i[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(r!==void 0&&r$(r))for(let o=0,l=r.length;o!==l;++o){const u=r[o];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===tx,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const u=e[o],c=e[o+1];if(u!==c&&(o!==1||u!==e[0]))if(r)l=!0;else{const f=o*i,m=f-i,v=f+i;for(let _=0;_!==i;++_){const T=t[f+_];if(T!==t[m+_]||T!==t[v+_]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const f=o*i,m=a*i;for(let v=0;v!==i;++v)t[m+v]=t[f+v]}++a}}if(s>0){e[a]=e[s];for(let o=s*i,l=a*i,u=0;u!==i;++u)t[l+u]=t[o+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=t.slice(0,a*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}H0.prototype.ValueTypeName="";H0.prototype.TimeBufferType=Float32Array;H0.prototype.ValueBufferType=Float32Array;H0.prototype.DefaultInterpolation=l_;class Sh extends H0{constructor(e,t,i){super(e,t,i)}}Sh.prototype.ValueTypeName="bool";Sh.prototype.ValueBufferType=Array;Sh.prototype.DefaultInterpolation=WA;Sh.prototype.InterpolantFactoryMethodLinear=void 0;Sh.prototype.InterpolantFactoryMethodSmooth=void 0;class pL extends H0{constructor(e,t,i,r){super(e,t,i,r)}}pL.prototype.ValueTypeName="color";class ZA extends H0{constructor(e,t,i,r){super(e,t,i,r)}}ZA.prototype.ValueTypeName="number";class l$ extends um{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(i-t)/(r-t);let u=e*o;for(let c=u+o;u!==c;u+=4)ka.slerpFlat(s,0,a,u-o,a,u,l);return s}}class cm extends H0{constructor(e,t,i,r){super(e,t,i,r)}InterpolantFactoryMethodLinear(e){return new l$(this.times,this.values,this.getValueSize(),e)}}cm.prototype.ValueTypeName="quaternion";cm.prototype.InterpolantFactoryMethodSmooth=void 0;class Th extends H0{constructor(e,t,i){super(e,t,i)}}Th.prototype.ValueTypeName="string";Th.prototype.ValueBufferType=Array;Th.prototype.DefaultInterpolation=WA;Th.prototype.InterpolantFactoryMethodLinear=void 0;Th.prototype.InterpolantFactoryMethodSmooth=void 0;class JA extends H0{constructor(e,t,i,r){super(e,t,i,r)}}JA.prototype.ValueTypeName="vector";class ep{constructor(e="",t=-1,i=[],r=Kb){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=Hl(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let a=0,o=i.length;a!==o;++a)t.push(Bhe(i[a]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=i.length;s!==a;++s)t.push(H0.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,a=[];for(let o=0;o<s;o++){let l=[],u=[];l.push((o+s-1)%s,o,(o+1)%s),u.push(0,1,0);const c=s$(l);l=bC(l,1,c),u=bC(u,1,c),!r&&l[0]===0&&(l.push(s),u.push(u[0])),a.push(new ZA(".morphTargetInfluences["+t[o].name+"]",l,u).scale(1/i))}return new this(e,-1,a)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const u=e[o],c=u.name.match(s);if(c&&c.length>1){const f=c[1];let m=r[f];m||(r[f]=m=[]),m.push(u)}}const a=[];for(const o in r)a.push(this.CreateFromMorphTargetSequence(o,r[o],t,i));return a}static parseAnimation(e,t){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(f,m,v,_,T){if(v.length!==0){const M=[],S=[];dL(v,M,S,_),M.length!==0&&T.push(new f(m,M,S))}},r=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const m=u[f].keys;if(!(!m||m.length===0))if(m[0].morphTargets){const v={};let _;for(_=0;_<m.length;_++)if(m[_].morphTargets)for(let T=0;T<m[_].morphTargets.length;T++)v[m[_].morphTargets[T]]=-1;for(const T in v){const M=[],S=[];for(let R=0;R!==m[_].morphTargets.length;++R){const C=m[_];M.push(C.time),S.push(C.morphTarget===T?1:0)}r.push(new ZA(".morphTargetInfluence["+T+"]",M,S))}l=v.length*a}else{const v=".bones["+t[f].name+"]";i(JA,v+".position",m,"pos",r),i(cm,v+".quaternion",m,"rot",r),i(JA,v+".scale",m,"scl",r)}}return r.length===0?null:new this(s,l,r,o)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function Lhe(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ZA;case"vector":case"vector2":case"vector3":case"vector4":return JA;case"color":return pL;case"quaternion":return cm;case"bool":case"boolean":return Sh;case"string":return Th}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function Bhe(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Lhe(n.type);if(n.times===void 0){const t=[],i=[];dL(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const s1={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class mL{constructor(e,t,i){const r=this;let s=!1,a=0,o=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(c){o++,s===!1&&r.onStart!==void 0&&r.onStart(c,a,o),s=!0},this.itemEnd=function(c){a++,r.onProgress!==void 0&&r.onProgress(c,a,o),a===o&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(c){r.onError!==void 0&&r.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,m=u.length;f<m;f+=2){const v=u[f],_=u[f+1];if(v.global&&(v.lastIndex=0),v.test(c))return _}return null}}}const u$=new mL;class dl{constructor(e){this.manager=e!==void 0?e:u$,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}dl.DEFAULT_MATERIAL_NAME="__DEFAULT";const lc={};class Uhe extends Error{constructor(e,t){super(e),this.response=t}}class Hc extends dl{constructor(e){super(e),this.mimeType="",this.responseType=""}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=s1.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(lc[e]!==void 0){lc[e].push({onLoad:t,onProgress:i,onError:r});return}lc[e]=[],lc[e].push({onLoad:t,onProgress:i,onError:r});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=lc[e],f=u.body.getReader(),m=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),v=m?parseInt(m):0,_=v!==0;let T=0;const M=new ReadableStream({start(S){R();function R(){f.read().then(({done:C,value:P})=>{if(C)S.close();else{T+=P.byteLength;const B=new ProgressEvent("progress",{lengthComputable:_,loaded:T,total:v});for(let O=0,V=c.length;O<V;O++){const F=c[O];F.onProgress&&F.onProgress(B)}S.enqueue(P),R()}},C=>{S.error(C)})}}});return new Response(M)}else throw new Uhe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,o));case"json":return u.json();default:if(o==="")return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(o),m=f&&f[1]?f[1].toLowerCase():void 0,v=new TextDecoder(m);return u.arrayBuffer().then(_=>v.decode(_))}}}).then(u=>{s1.add(`file:${e}`,u);const c=lc[e];delete lc[e];for(let f=0,m=c.length;f<m;f++){const v=c[f];v.onLoad&&v.onLoad(u)}}).catch(u=>{const c=lc[e];if(c===void 0)throw this.manager.itemError(e),u;delete lc[e];for(let f=0,m=c.length;f<m;f++){const v=c[f];v.onError&&v.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Ohe extends dl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Hc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=[];for(let i=0;i<e.length;i++){const r=ep.parse(e[i]);t.push(r)}return t}}class Ihe extends dl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=[],o=new hS,l=new Hc(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let u=0;function c(f){l.load(e[f],function(m){const v=s.parse(m,!0);a[f]={width:v.width,height:v.height,format:v.format,mipmaps:v.mipmaps},u+=1,u===6&&(v.mipmapCount===1&&(o.minFilter=dr),o.image=a,o.format=v.format,o.needsUpdate=!0,t&&t(o))},i,r)}if(Array.isArray(e))for(let f=0,m=e.length;f<m;++f)c(f);else l.load(e,function(f){const m=s.parse(f,!0);if(m.isCubemap){const v=m.mipmaps.length/m.mipmapCount;for(let _=0;_<v;_++){a[_]={mipmaps:[]};for(let T=0;T<m.mipmapCount;T++)a[_].mipmaps.push(m.mipmaps[_*m.mipmapCount+T]),a[_].format=m.format,a[_].width=m.width,a[_].height=m.height}o.image=a}else o.image.width=m.width,o.image.height=m.height,o.mipmaps=m.mipmaps;m.mipmapCount===1&&(o.minFilter=dr),o.format=m.format,o.needsUpdate=!0,t&&t(o)},i,r);return o}}const j5=new WeakMap;class tp extends dl{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=s1.get(`image:${e}`);if(a!==void 0){if(a.complete===!0)s.manager.itemStart(e),setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0);else{let f=j5.get(a);f===void 0&&(f=[],j5.set(a,f)),f.push({onLoad:t,onError:r})}return a}const o=YA("img");function l(){c(),t&&t(this);const f=j5.get(this)||[];for(let m=0;m<f.length;m++){const v=f[m];v.onLoad&&v.onLoad(this)}j5.delete(this),s.manager.itemEnd(e)}function u(f){c(),r&&r(f),s1.remove(`image:${e}`);const m=j5.get(this)||[];for(let v=0;v<m.length;v++){const _=m[v];_.onError&&_.onError(f)}j5.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function c(){o.removeEventListener("load",l,!1),o.removeEventListener("error",u,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s1.add(`image:${e}`,o),s.manager.itemStart(e),o.src=e,o}}class Fhe extends dl{constructor(e){super(e)}load(e,t,i,r){const s=new O3;s.colorSpace=Os;const a=new tp(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(u){a.load(e[u],function(c){s.images[u]=c,o++,o===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let u=0;u<e.length;++u)l(u);return s}}class zhe extends dl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new xu,o=new Hc(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let u;try{u=s.parse(l)}catch(c){if(r!==void 0)r(c);else{console.error(c);return}}u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:Po,a.wrapT=u.wrapT!==void 0?u.wrapT:Po,a.magFilter=u.magFilter!==void 0?u.magFilter:dr,a.minFilter=u.minFilter!==void 0?u.minFilter:dr,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(a.colorSpace=u.colorSpace),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=Fa),u.mipmapCount===1&&(a.minFilter=dr),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,t&&t(a,u)},i,r),a}}class gL extends dl{constructor(e){super(e)}load(e,t,i,r){const s=new Ur,a=new tp(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class z3 extends Mi{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new Nt(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}class yL extends z3{constructor(e,t,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Mi.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Nt(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const vE=new Yt,Hz=new re,jz=new re;class vL{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ye(512,512),this.mapType=Lr,this.map=null,this.mapPass=null,this.matrix=new Yt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new I3,this._frameExtents=new Ye(1,1),this._viewportCount=1,this._viewports=[new ln(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;Hz.setFromMatrixPosition(e.matrixWorld),t.position.copy(Hz),jz.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(jz),t.updateMatrixWorld(),vE.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(vE),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(vE)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Vhe extends vL{constructor(){super(new Tr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const t=this.camera,i=th*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class fm extends z3{constructor(e,t,i=0,r=Math.PI/3,s=0,a=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Mi.DEFAULT_UP),this.updateMatrix(),this.target=new Mi,this.distance=i,this.angle=r,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new Vhe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Wz=new Yt,Z7=new re,xE=new re;class khe extends vL{constructor(){super(new Tr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ye(4,2),this._viewportCount=6,this._viewports=[new ln(2,1,1,1),new ln(0,1,1,1),new ln(3,1,1,1),new ln(1,1,1,1),new ln(3,0,1,1),new ln(1,0,1,1)],this._cubeDirections=[new re(1,0,0),new re(-1,0,0),new re(0,0,1),new re(0,0,-1),new re(0,1,0),new re(0,-1,0)],this._cubeUps=[new re(0,1,0),new re(0,1,0),new re(0,1,0),new re(0,1,0),new re(0,0,1),new re(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Z7.setFromMatrixPosition(e.matrixWorld),i.position.copy(Z7),xE.copy(i.position),xE.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(xE),i.updateMatrixWorld(),r.makeTranslation(-Z7.x,-Z7.y,-Z7.z),Wz.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Wz)}}class xL extends z3{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new khe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class h1 extends vh{constructor(e=-1,t=1,i=1,r=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,a=i+e,o=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=u*this.view.offsetX,a=s+u*this.view.width,o-=c*this.view.offsetY,l=o-c*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class Ghe extends vL{constructor(){super(new h1(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class _L extends z3{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Mi.DEFAULT_UP),this.updateMatrix(),this.target=new Mi,this.shadow=new Ghe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class bL extends z3{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class SL extends z3{constructor(e,t,i=10,r=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=r}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class c${constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new re)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.282095),t.addScaledVector(a[1],.488603*r),t.addScaledVector(a[2],.488603*s),t.addScaledVector(a[3],.488603*i),t.addScaledVector(a[4],1.092548*(i*r)),t.addScaledVector(a[5],1.092548*(r*s)),t.addScaledVector(a[6],.315392*(3*s*s-1)),t.addScaledVector(a[7],1.092548*(i*s)),t.addScaledVector(a[8],.546274*(i*i-r*r)),t}getIrradianceAt(e,t){const i=e.x,r=e.y,s=e.z,a=this.coefficients;return t.copy(a[0]).multiplyScalar(.886227),t.addScaledVector(a[1],2*.511664*r),t.addScaledVector(a[2],2*.511664*s),t.addScaledVector(a[3],2*.511664*i),t.addScaledVector(a[4],2*.429043*i*r),t.addScaledVector(a[5],2*.429043*r*s),t.addScaledVector(a[6],.743125*s*s-.247708),t.addScaledVector(a[7],2*.429043*i*s),t.addScaledVector(a[8],.429043*(i*i-r*r)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(e.coefficients[i],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let i=0;i<9;i++)this.coefficients[i].lerp(e.coefficients[i],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].fromArray(e,t+r*3);return this}toArray(e=[],t=0){const i=this.coefficients;for(let r=0;r<9;r++)i[r].toArray(e,t+r*3);return e}static getBasisAt(e,t){const i=e.x,r=e.y,s=e.z;t[0]=.282095,t[1]=.488603*r,t[2]=.488603*s,t[3]=.488603*i,t[4]=1.092548*i*r,t[5]=1.092548*r*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*i*s,t[8]=.546274*(i*i-r*r)}}class TL extends z3{constructor(e=new c$,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class MS extends dl{constructor(e){super(e),this.textures={}}load(e,t,i,r){const s=this,a=new Hc(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t=this.textures;function i(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const r=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(r.uuid=e.uuid),e.name!==void 0&&(r.name=e.name),e.color!==void 0&&r.color!==void 0&&r.color.setHex(e.color),e.roughness!==void 0&&(r.roughness=e.roughness),e.metalness!==void 0&&(r.metalness=e.metalness),e.sheen!==void 0&&(r.sheen=e.sheen),e.sheenColor!==void 0&&(r.sheenColor=new Nt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(r.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&r.emissive!==void 0&&r.emissive.setHex(e.emissive),e.specular!==void 0&&r.specular!==void 0&&r.specular.setHex(e.specular),e.specularIntensity!==void 0&&(r.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&r.specularColor!==void 0&&r.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(r.shininess=e.shininess),e.clearcoat!==void 0&&(r.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(r.dispersion=e.dispersion),e.iridescence!==void 0&&(r.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(r.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(r.transmission=e.transmission),e.thickness!==void 0&&(r.thickness=e.thickness),e.attenuationDistance!==void 0&&(r.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&r.attenuationColor!==void 0&&r.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(r.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(r.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(r.fog=e.fog),e.flatShading!==void 0&&(r.flatShading=e.flatShading),e.blending!==void 0&&(r.blending=e.blending),e.combine!==void 0&&(r.combine=e.combine),e.side!==void 0&&(r.side=e.side),e.shadowSide!==void 0&&(r.shadowSide=e.shadowSide),e.opacity!==void 0&&(r.opacity=e.opacity),e.transparent!==void 0&&(r.transparent=e.transparent),e.alphaTest!==void 0&&(r.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(r.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(r.depthFunc=e.depthFunc),e.depthTest!==void 0&&(r.depthTest=e.depthTest),e.depthWrite!==void 0&&(r.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(r.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(r.blendSrc=e.blendSrc),e.blendDst!==void 0&&(r.blendDst=e.blendDst),e.blendEquation!==void 0&&(r.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(r.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(r.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(r.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&r.blendColor!==void 0&&r.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(r.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(r.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(r.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(r.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(r.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(r.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(r.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(r.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(r.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(r.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(r.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(r.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(r.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(r.rotation=e.rotation),e.linewidth!==void 0&&(r.linewidth=e.linewidth),e.dashSize!==void 0&&(r.dashSize=e.dashSize),e.gapSize!==void 0&&(r.gapSize=e.gapSize),e.scale!==void 0&&(r.scale=e.scale),e.polygonOffset!==void 0&&(r.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(r.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(r.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(r.dithering=e.dithering),e.alphaToCoverage!==void 0&&(r.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(r.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(r.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(r.visible=e.visible),e.toneMapped!==void 0&&(r.toneMapped=e.toneMapped),e.userData!==void 0&&(r.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?r.vertexColors=e.vertexColors>0:r.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(r.uniforms[s]={},a.type){case"t":r.uniforms[s].value=i(a.value);break;case"c":r.uniforms[s].value=new Nt().setHex(a.value);break;case"v2":r.uniforms[s].value=new Ye().fromArray(a.value);break;case"v3":r.uniforms[s].value=new re().fromArray(a.value);break;case"v4":r.uniforms[s].value=new ln().fromArray(a.value);break;case"m3":r.uniforms[s].value=new On().fromArray(a.value);break;case"m4":r.uniforms[s].value=new Yt().fromArray(a.value);break;default:r.uniforms[s].value=a.value}}if(e.defines!==void 0&&(r.defines=e.defines),e.vertexShader!==void 0&&(r.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(r.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(r.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)r.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(r.lights=e.lights),e.clipping!==void 0&&(r.clipping=e.clipping),e.size!==void 0&&(r.size=e.size),e.sizeAttenuation!==void 0&&(r.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(r.map=i(e.map)),e.matcap!==void 0&&(r.matcap=i(e.matcap)),e.alphaMap!==void 0&&(r.alphaMap=i(e.alphaMap)),e.bumpMap!==void 0&&(r.bumpMap=i(e.bumpMap)),e.bumpScale!==void 0&&(r.bumpScale=e.bumpScale),e.normalMap!==void 0&&(r.normalMap=i(e.normalMap)),e.normalMapType!==void 0&&(r.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),r.normalScale=new Ye().fromArray(s)}return e.displacementMap!==void 0&&(r.displacementMap=i(e.displacementMap)),e.displacementScale!==void 0&&(r.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(r.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(r.roughnessMap=i(e.roughnessMap)),e.metalnessMap!==void 0&&(r.metalnessMap=i(e.metalnessMap)),e.emissiveMap!==void 0&&(r.emissiveMap=i(e.emissiveMap)),e.emissiveIntensity!==void 0&&(r.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(r.specularMap=i(e.specularMap)),e.specularIntensityMap!==void 0&&(r.specularIntensityMap=i(e.specularIntensityMap)),e.specularColorMap!==void 0&&(r.specularColorMap=i(e.specularColorMap)),e.envMap!==void 0&&(r.envMap=i(e.envMap)),e.envMapRotation!==void 0&&r.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(r.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(r.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(r.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(r.lightMap=i(e.lightMap)),e.lightMapIntensity!==void 0&&(r.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(r.aoMap=i(e.aoMap)),e.aoMapIntensity!==void 0&&(r.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(r.gradientMap=i(e.gradientMap)),e.clearcoatMap!==void 0&&(r.clearcoatMap=i(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(r.clearcoatRoughnessMap=i(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(r.clearcoatNormalMap=i(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(r.clearcoatNormalScale=new Ye().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(r.iridescenceMap=i(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(r.iridescenceThicknessMap=i(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(r.transmissionMap=i(e.transmissionMap)),e.thicknessMap!==void 0&&(r.thicknessMap=i(e.thicknessMap)),e.anisotropyMap!==void 0&&(r.anisotropyMap=i(e.anisotropyMap)),e.sheenColorMap!==void 0&&(r.sheenColorMap=i(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(r.sheenRoughnessMap=i(e.sheenRoughnessMap)),r}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return MS.createMaterialFromType(e)}static createMaterialFromType(e){const t={ShadowMaterial:sL,SpriteMaterial:cS,RawShaderMaterial:i$,ShaderMaterial:Uo,PointsMaterial:rm,MeshPhysicalMaterial:aL,MeshStandardMaterial:SS,MeshPhongMaterial:TS,MeshToonMaterial:oL,MeshNormalMaterial:lL,MeshLambertMaterial:wu,MeshDepthMaterial:uL,MeshDistanceMaterial:cL,MeshBasicMaterial:Ia,MeshMatcapMaterial:fL,LineDashedMaterial:hL,LineBasicMaterial:aa,Material:Ta};return new t[e]}}class SC{static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class ML extends bn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class f$ extends dl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Hc(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{t(s.parse(JSON.parse(o)))}catch(l){r?r(l):console.error(l),s.manager.itemError(e)}},i,r)}parse(e){const t={},i={};function r(v,_){if(t[_]!==void 0)return t[_];const M=v.interleavedBuffers[_],S=s(v,M.buffer),R=O6(M.type,S),C=new b8(R,M.stride);return C.uuid=M.uuid,t[_]=C,C}function s(v,_){if(i[_]!==void 0)return i[_];const M=v.arrayBuffers[_],S=new Uint32Array(M).buffer;return i[_]=S,S}const a=e.isInstancedBufferGeometry?new ML:new bn,o=e.data.index;if(o!==void 0){const v=O6(o.type,o.array);a.setIndex(new di(v,1))}const l=e.data.attributes;for(const v in l){const _=l[v];let T;if(_.isInterleavedBufferAttribute){const M=r(e.data,_.data);T=new Lo(M,_.itemSize,_.offset,_.normalized)}else{const M=O6(_.type,_.array),S=_.isInstancedBufferAttribute?al:di;T=new S(M,_.itemSize,_.normalized)}_.name!==void 0&&(T.name=_.name),_.usage!==void 0&&T.setUsage(_.usage),a.setAttribute(v,T)}const u=e.data.morphAttributes;if(u)for(const v in u){const _=u[v],T=[];for(let M=0,S=_.length;M<S;M++){const R=_[M];let C;if(R.isInterleavedBufferAttribute){const P=r(e.data,R.data);C=new Lo(P,R.itemSize,R.offset,R.normalized)}else{const P=O6(R.type,R.array);C=new di(P,R.itemSize,R.normalized)}R.name!==void 0&&(C.name=R.name),T.push(C)}a.morphAttributes[v]=T}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let v=0,_=f.length;v!==_;++v){const T=f[v];a.addGroup(T.start,T.count,T.materialIndex)}const m=e.data.boundingSphere;return m!==void 0&&(a.boundingSphere=new Vs().fromJSON(m)),e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class qhe extends dl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=this.path===""?SC.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new Hc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){r!==void 0&&r(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){r!==void 0&&r(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(u,t)},i,r)}async loadAsync(e,t){const i=this,r=this.path===""?SC.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||r;const s=new Hc(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,t),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await i.parseAsync(o)}parse(e,t){const i=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,r),a=this.parseImages(e.images,function(){t!==void 0&&t(u)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),u=this.parseObject(e.object,s,l,o,i),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),this.bindLightTargets(u),t!==void 0){let f=!1;for(const m in a)if(a[m].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(u)}return u}async parseAsync(e){const t=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),r=this.parseGeometries(e.geometries,i),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,r,o,a,t),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const t={};if(e!==void 0)for(let i=0,r=e.length;i<r;i++){const s=new Tf().fromJSON(e[i]);t[s.uuid]=s}return t}parseSkeletons(e,t){const i={},r={};if(t.traverse(function(s){s.isBone&&(r[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new fS().fromJSON(e[s],r);i[o.uuid]=o}return i}parseGeometries(e,t){const i={};if(e!==void 0){const r=new f$;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=r.parse(l);break;default:l.type in qz?o=qz[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),i[l.uuid]=o}}return i}parseMaterials(e,t){const i={},r={};if(e!==void 0){const s=new MS;s.setTextures(t);for(let a=0,o=e.length;a<o;a++){const l=e[a];i[l.uuid]===void 0&&(i[l.uuid]=s.parse(l)),r[l.uuid]=i[l.uuid]}}return r}parseAnimations(e){const t={};if(e!==void 0)for(let i=0;i<e.length;i++){const r=e[i],s=ep.parse(r);t[s.uuid]=s}return t}parseImages(e,t){const i=this,r={};let s;function a(l){return i.manager.itemStart(l),s.load(l,function(){i.manager.itemEnd(l)},void 0,function(){i.manager.itemError(l),i.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:i.resourcePath+u;return a(c)}else return l.data?{data:O6(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new mL(t);s=new tp(l),s.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],m=f.url;if(Array.isArray(m)){const v=[];for(let _=0,T=m.length;_<T;_++){const M=m[_],S=o(M);S!==null&&(S instanceof HTMLImageElement?v.push(S):v.push(new xu(S.data,S.width,S.height)))}r[f.uuid]=new i3(v)}else{const v=o(f.url);r[f.uuid]=new i3(v)}}}return r}async parseImagesAsync(e){const t=this,i={};let r;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:t.resourcePath+o;return await r.loadAsync(l)}else return a.data?{data:O6(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){r=new tp(this.manager),r.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,m=u.length;f<m;f++){const v=u[f],_=await s(v);_!==null&&(_ instanceof HTMLImageElement?c.push(_):c.push(new xu(_.data,_.width,_.height)))}i[l.uuid]=new i3(c)}else{const c=await s(l.url);i[l.uuid]=new i3(c)}}}return i}parseTextures(e,t){function i(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const r={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),t[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=t[o.image],u=l.data;let c;Array.isArray(u)?(c=new O3,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new xu:c=new Ur,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=o.uuid,o.name!==void 0&&(c.name=o.name),o.mapping!==void 0&&(c.mapping=i(o.mapping,Hhe)),o.channel!==void 0&&(c.channel=o.channel),o.offset!==void 0&&c.offset.fromArray(o.offset),o.repeat!==void 0&&c.repeat.fromArray(o.repeat),o.center!==void 0&&c.center.fromArray(o.center),o.rotation!==void 0&&(c.rotation=o.rotation),o.wrap!==void 0&&(c.wrapS=i(o.wrap[0],Xz),c.wrapT=i(o.wrap[1],Xz)),o.format!==void 0&&(c.format=o.format),o.internalFormat!==void 0&&(c.internalFormat=o.internalFormat),o.type!==void 0&&(c.type=o.type),o.colorSpace!==void 0&&(c.colorSpace=o.colorSpace),o.minFilter!==void 0&&(c.minFilter=i(o.minFilter,Yz)),o.magFilter!==void 0&&(c.magFilter=i(o.magFilter,Yz)),o.anisotropy!==void 0&&(c.anisotropy=o.anisotropy),o.flipY!==void 0&&(c.flipY=o.flipY),o.generateMipmaps!==void 0&&(c.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(c.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(c.compareFunction=o.compareFunction),o.userData!==void 0&&(c.userData=o.userData),r[o.uuid]=c}return r}parseObject(e,t,i,r,s){let a;function o(m){return t[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",m),t[m]}function l(m){if(m!==void 0){if(Array.isArray(m)){const v=[];for(let _=0,T=m.length;_<T;_++){const M=m[_];i[M]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",M),v.push(i[M])}return v}return i[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),i[m]}}function u(m){return r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",m),r[m]}let c,f;switch(e.type){case"Scene":a=new xh,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Nt(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new nm(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new uS(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new Tr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new h1(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new bL(e.color,e.intensity);break;case"DirectionalLight":a=new _L(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new xL(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new SL(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new fm(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new yL(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new TL().fromJSON(e);break;case"SkinnedMesh":c=o(e.geometry),f=l(e.material),a=new qQ(c,f),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":c=o(e.geometry),f=l(e.material),a=new ii(c,f);break;case"InstancedMesh":c=o(e.geometry),f=l(e.material);const m=e.count,v=e.instanceMatrix,_=e.instanceColor;a=new HQ(c,f,m),a.instanceMatrix=new al(new Float32Array(v.array),16),_!==void 0&&(a.instanceColor=new al(new Float32Array(_.array),_.itemSize));break;case"BatchedMesh":c=o(e.geometry),f=l(e.material),a=new jQ(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),a.geometry=c,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(T=>{let M=null,S=null;return T.boundingBox!==void 0&&(M=new na().fromJSON(T.boundingBox)),T.boundingSphere!==void 0&&(S=new Vs().fromJSON(T.boundingSphere)),{...T,boundingBox:M,boundingSphere:S}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=u(e.matricesTexture.uuid),a._indirectTexture=u(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=u(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new Vs().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(a.boundingBox=new na().fromJSON(e.boundingBox));break;case"LOD":a=new GQ;break;case"Line":a=new Su(o(e.geometry),l(e.material));break;case"LineLoop":a=new WQ(o(e.geometry),l(e.material));break;case"LineSegments":a=new k0(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new QP(o(e.geometry),l(e.material));break;case"Sprite":a=new kQ(l(e.material));break;case"Group":a=new oo;break;case"Bone":a=new YP;break;default:a=new Mi}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const m=e.children;for(let v=0;v<m.length;v++)a.add(this.parseObject(m[v],t,i,r,s))}if(e.animations!==void 0){const m=e.animations;for(let v=0;v<m.length;v++){const _=m[v];a.animations.push(s[_])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const m=e.levels;for(let v=0;v<m.length;v++){const _=m[v],T=a.getObjectByProperty("uuid",_.object);T!==void 0&&a.addLevel(T,_.distance,_.hysteresis)}}return a}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const r=t[i.skeleton];r===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(r,i.bindMatrix)}})}bindLightTargets(e){e.traverse(function(t){if(t.isDirectionalLight||t.isSpotLight){const i=t.target,r=e.getObjectByProperty("uuid",i);r!==void 0?t.target=r:t.target=new Mi}})}}const Hhe={UVMapping:Yp,CubeReflectionMapping:Xl,CubeRefractionMapping:U0,EquirectangularReflectionMapping:w3,EquirectangularRefractionMapping:R3,CubeUVReflectionMapping:kc},Xz={RepeatWrapping:Gc,ClampToEdgeWrapping:Po,MirroredRepeatWrapping:qc},Yz={NearestFilter:fr,NearestMipmapNearestFilter:Qp,NearestMipmapLinearFilter:Au,LinearFilter:dr,LinearMipmapNearestFilter:p3,LinearMipmapLinearFilter:Fa},_E=new WeakMap;class jhe extends dl{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=s1.get(`image-bitmap:${e}`);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(u=>{if(_E.has(a)===!0)r&&r(_E.get(a)),s.manager.itemError(e),s.manager.itemEnd(e);else return t&&t(u),s.manager.itemEnd(e),u});return}return setTimeout(function(){t&&t(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(u){return s1.add(`image-bitmap:${e}`,u),t&&t(u),s.manager.itemEnd(e),u}).catch(function(u){r&&r(u),_E.set(l,u),s1.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});s1.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}}let Dy;class EL{static getContext(){return Dy===void 0&&(Dy=new(window.AudioContext||window.webkitAudioContext)),Dy}static setContext(e){Dy=e}}class Whe extends dl{constructor(e){super(e)}load(e,t,i,r){const s=this,a=new Hc(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const u=l.slice(0);EL.getContext().decodeAudioData(u,function(f){t(f)}).catch(o)}catch(u){o(u)}},i,r);function o(l){r?r(l):console.error(l),s.manager.itemError(e)}}}const Qz=new Yt,$z=new Yt,S4=new Yt;class Xhe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Tr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Tr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,S4.copy(e.projectionMatrix);const r=t.eyeSep/2,s=r*t.near/t.focus,a=t.near*Math.tan(Sf*t.fov*.5)/t.zoom;let o,l;$z.elements[12]=-r,Qz.elements[12]=r,o=-a*t.aspect+s,l=a*t.aspect+s,S4.elements[0]=2*t.near/(l-o),S4.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(S4),o=-a*t.aspect-s,l=a*t.aspect-s,S4.elements[0]=2*t.near/(l-o),S4.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(S4)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply($z),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Qz)}}class wL extends Tr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class RL{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=performance.now();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}const T4=new re,bE=new ka,Yhe=new re,M4=new re,E4=new re;class Qhe extends Mi{constructor(){super(),this.type="AudioListener",this.context=EL.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new RL}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(T4,bE,Yhe),M4.set(0,0,-1).applyQuaternion(bE),E4.set(0,1,0).applyQuaternion(bE),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(T4.x,i),t.positionY.linearRampToValueAtTime(T4.y,i),t.positionZ.linearRampToValueAtTime(T4.z,i),t.forwardX.linearRampToValueAtTime(M4.x,i),t.forwardY.linearRampToValueAtTime(M4.y,i),t.forwardZ.linearRampToValueAtTime(M4.z,i),t.upX.linearRampToValueAtTime(E4.x,i),t.upY.linearRampToValueAtTime(E4.y,i),t.upZ.linearRampToValueAtTime(E4.z,i)}else t.setPosition(T4.x,T4.y,T4.z),t.setOrientation(M4.x,M4.y,M4.z,E4.x,E4.y,E4.z)}}class h$ extends Mi{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,t){return super.copy(e,t),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const w4=new re,Kz=new ka,$he=new re,R4=new re;class Khe extends h${constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,i){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=i,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(w4,Kz,$he),R4.set(0,0,1).applyQuaternion(Kz);const t=this.panner;if(t.positionX){const i=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(w4.x,i),t.positionY.linearRampToValueAtTime(w4.y,i),t.positionZ.linearRampToValueAtTime(w4.z,i),t.orientationX.linearRampToValueAtTime(R4.x,i),t.orientationY.linearRampToValueAtTime(R4.y,i),t.orientationZ.linearRampToValueAtTime(R4.z,i)}else t.setPosition(w4.x,w4.y,w4.z),t.setOrientation(R4.x,R4.y,R4.z)}}class Zhe{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let i=0;i<t.length;i++)e+=t[i];return e/t.length}}class d${constructor(e,t,i){this.binding=e,this.valueSize=i;let r,s,a;switch(t){case"quaternion":r=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":r=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:r=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=r,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const i=this.buffer,r=this.valueSize,s=e*r+r;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==r;++o)i[s+o]=i[o];a=t}else{a+=t;const o=t/a;this._mixBufferRegion(i,s,0,o,r)}this.cumulativeWeight=a}accumulateAdditive(e){const t=this.buffer,i=this.valueSize,r=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,r,0,e,i),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,i=this.buffer,r=e*t+t,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(i,r,l,1-s,t)}a>0&&this._mixBufferRegionAdditive(i,r,this._addIndex*t,1,t);for(let l=t,u=t+t;l!==u;++l)if(i[l]!==i[l+t]){o.setValue(i,r);break}}saveOriginalState(){const e=this.binding,t=this.buffer,i=this.valueSize,r=i*this._origIndex;e.getValue(t,r);for(let s=i,a=r;s!==a;++s)t[s]=t[r+s%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let i=e;i<t;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[t+i]=this.buffer[e+i]}_select(e,t,i,r,s){if(r>=.5)for(let a=0;a!==s;++a)e[t+a]=e[i+a]}_slerp(e,t,i,r){ka.slerpFlat(e,t,e,t,e,i,r)}_slerpAdditive(e,t,i,r,s){const a=this._workIndex*s;ka.multiplyQuaternionsFlat(e,a,e,t,e,i),ka.slerpFlat(e,t,e,t,e,a,r)}_lerp(e,t,i,r,s){const a=1-r;for(let o=0;o!==s;++o){const l=t+o;e[l]=e[l]*a+e[i+o]*r}}_lerpAdditive(e,t,i,r,s){for(let a=0;a!==s;++a){const o=t+a;e[o]=e[o]+e[i+a]*r}}}const CL="\\[\\]\\.:\\/",Jhe=new RegExp("["+CL+"]","g"),NL="[^"+CL+"]",e5e="[^"+CL.replace("\\.","")+"]",t5e=/((?:WC+[\/:])*)/.source.replace("WC",NL),n5e=/(WCOD+)?/.source.replace("WCOD",e5e),i5e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",NL),r5e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",NL),s5e=new RegExp("^"+t5e+n5e+i5e+r5e+"$"),a5e=["material","materials","bones","map"];class o5e{constructor(e,t,i){const r=i||Di.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class Di{constructor(e,t,i){this.path=t,this.parsedPath=i||Di.parseTrackName(t),this.node=Di.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new Di.Composite(e,t,i):new Di(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Jhe,"")}static parseTrackName(e){const t=s5e.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);a5e.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===t||o.uuid===t)return o;const l=i(o.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=Di.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let u=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[r];if(a===void 0){const u=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+r+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Di.Composite=o5e;Di.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Di.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Di.prototype.GetterByBindingType=[Di.prototype._getValue_direct,Di.prototype._getValue_array,Di.prototype._getValue_arrayElement,Di.prototype._getValue_toArray];Di.prototype.SetterByBindingTypeAndVersioning=[[Di.prototype._setValue_direct,Di.prototype._setValue_direct_setNeedsUpdate,Di.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Di.prototype._setValue_array,Di.prototype._setValue_array_setNeedsUpdate,Di.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Di.prototype._setValue_arrayElement,Di.prototype._setValue_arrayElement_setNeedsUpdate,Di.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Di.prototype._setValue_fromArray,Di.prototype._setValue_fromArray_setNeedsUpdate,Di.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class l5e{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Hl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let i=0,r=arguments.length;i!==r;++i)e[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,i=this._paths,r=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const m=arguments[c],v=m.uuid;let _=t[v];if(_===void 0){_=l++,t[v]=_,e.push(m);for(let T=0,M=a;T!==M;++T)s[T].push(new Di(m,i[T],r[T]))}else if(_<u){o=e[_];const T=--u,M=e[T];t[M.uuid]=_,e[_]=M,t[v]=T,e[T]=m;for(let S=0,R=a;S!==R;++S){const C=s[S],P=C[T];let B=C[_];C[_]=P,B===void 0&&(B=new Di(m,i[S],r[S])),C[T]=B}}else e[_]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],u=l.uuid,c=t[u];if(c!==void 0&&c>=s){const f=s++,m=e[f];t[m.uuid]=c,e[c]=m,t[u]=f,e[f]=l;for(let v=0,_=r;v!==_;++v){const T=i[v],M=T[f],S=T[c];T[c]=M,T[f]=S}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,i=this._bindings,r=i.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const u=arguments[o],c=u.uuid,f=t[c];if(f!==void 0)if(delete t[c],f<s){const m=--s,v=e[m],_=--a,T=e[_];t[v.uuid]=f,e[f]=v,t[T.uuid]=m,e[m]=T,e.pop();for(let M=0,S=r;M!==S;++M){const R=i[M],C=R[m],P=R[_];R[f]=C,R[m]=P,R.pop()}}else{const m=--a,v=e[m];m>0&&(t[v.uuid]=f),e[f]=v,e.pop();for(let _=0,T=r;_!==T;++_){const M=i[_];M[f]=M[m],M.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const i=this._bindingsIndicesByPath;let r=i[e];const s=this._bindings;if(r!==void 0)return s[r];const a=this._paths,o=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);r=s.length,i[e]=r,a.push(e),o.push(t),s.push(f);for(let m=c,v=l.length;m!==v;++m){const _=l[m];f[m]=new Di(_,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,i=t[e];if(i!==void 0){const r=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],u=e[o];t[u]=i,a[i]=l,a.pop(),s[i]=s[o],s.pop(),r[i]=r[o],r.pop()}}}class A${constructor(e,t,i=null,r=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=i,this.blendMode=r;const s=t.tracks,a=s.length,o=new Array(a),l={endingStart:rf,endingEnd:rf};for(let u=0;u!==a;++u){const c=s[u].createInterpolant(null);o[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=gQ,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,i=!1){if(e.fadeOut(t),this.fadeIn(t),i===!0){const r=this._clip.duration,s=e._clip.duration,a=s/r,o=r/s;e.warp(1,a,t),this.warp(o,1,t)}return this}crossFadeTo(e,t,i=!1){return e.crossFadeFrom(this,t,i)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,i){const r=this._mixer,s=r.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=r._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,u=o.sampleValues;return l[0]=s,l[1]=s+i,u[0]=e/a,u[1]=t/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,i,r){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*i;l<0||i===0?t=0:(this._startTime=null,t=i*l)}t*=this._updateTimeScale(e);const a=this._updateTime(t),o=this._updateWeight(e);if(o>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case VP:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(a),u[c].accumulateAdditive(o);break;case Kb:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(a),u[c].accumulate(r,o)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const i=this._weightInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopFading(),r===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const r=i.evaluate(e)[0];t*=r,e>i.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,i=this.loop;let r=this.time+e,s=this._loopCount;const a=i===yQ;if(e===0)return s===-1?r:a&&(s&1)===1?t-r:r;if(i===mQ){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(r>=t)r=t;else if(r<0)r=0;else{this.time=r;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),r>=t||r<0){const o=Math.floor(r/t);r-=t*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=e>0?t:0,this.time=r,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=r;if(a&&(s&1)===1)return t-r}return r}_setEndings(e,t,i){const r=this._interpolantSettings;i?(r.endingStart=sf,r.endingEnd=sf):(e?r.endingStart=this.zeroSlopeAtStart?sf:rf:r.endingStart=XA,t?r.endingEnd=this.zeroSlopeAtEnd?sf:rf:r.endingEnd=XA)}_scheduleFading(e,t,i){const r=this._mixer,s=r.time;let a=this._weightInterpolant;a===null&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=t,o[1]=s+e,l[1]=i,this}}const u5e=new Float32Array(1);class c5e extends $l{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const i=e._localRoot||this._root,r=e._clip.tracks,s=r.length,a=e._propertyBindings,o=e._interpolants,l=i.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==s;++f){const m=r[f],v=m.name;let _=c[v];if(_!==void 0)++_.referenceCount,a[f]=_;else{if(_=a[f],_!==void 0){_._cacheIndex===null&&(++_.referenceCount,this._addInactiveBinding(_,l,v));continue}const T=t&&t._propertyBindings[f].binding.parsedPath;_=new d$(Di.create(i,v,T),m.ValueTypeName,m.getValueSize()),++_.referenceCount,this._addInactiveBinding(_,l,v),a[f]=_}o[f].resultBuffer=_.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const i=(e._localRoot||this._root).uuid,r=e._clip.uuid,s=this._actionsByClip[r];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,r,i)}const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,i){const r=this._actions,s=this._actionsByClip;let a=s[t];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=r.length,r.push(e),a.actionByRoot[i]=e}_removeInactiveAction(e){const t=this._actions,i=t[t.length-1],r=e._cacheIndex;i._cacheIndex=r,t[r]=i,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=o.actionByRoot,m=(e._localRoot||this._root).uuid;delete f[m],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let i=0,r=t.length;i!==r;++i){const s=t[i];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,i=e._cacheIndex,r=this._nActiveActions++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackAction(e){const t=this._actions,i=e._cacheIndex,r=--this._nActiveActions,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_addInactiveBinding(e,t,i){const r=this._bindingsByRootAndName,s=this._bindings;let a=r[t];a===void 0&&(a={},r[t]=a),a[i]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,i=e.binding,r=i.rootNode.uuid,s=i.path,a=this._bindingsByRootAndName,o=a[r],l=t[t.length-1],u=e._cacheIndex;l._cacheIndex=u,t[u]=l,t.pop(),delete o[s],Object.keys(o).length===0&&delete a[r]}_lendBinding(e){const t=this._bindings,i=e._cacheIndex,r=this._nActiveBindings++,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_takeBackBinding(e){const t=this._bindings,i=e._cacheIndex,r=--this._nActiveBindings,s=t[r];e._cacheIndex=r,t[r]=e,s._cacheIndex=i,t[i]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let i=e[t];return i===void 0&&(i=new AL(new Float32Array(2),new Float32Array(2),1,u5e),i.__cacheIndex=t,e[t]=i),i}_takeBackControlInterpolant(e){const t=this._controlInterpolants,i=e.__cacheIndex,r=--this._nActiveControlInterpolants,s=t[r];e.__cacheIndex=r,t[r]=e,s.__cacheIndex=i,t[i]=s}clipAction(e,t,i){const r=t||this._root,s=r.uuid;let a=typeof e=="string"?ep.findByName(r,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let u=null;if(i===void 0&&(a!==null?i=a.blendMode:i=Kb),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===i)return f;u=l.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const c=new A$(this,a,t,i);return this._bindAction(c,u),this._addInactiveAction(c,o,s),c}existingAction(e,t){const i=t||this._root,r=i.uuid,s=typeof e=="string"?ep.findByName(i,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[r]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let i=t-1;i>=0;--i)e[i].stop();return this}update(e){e*=this.timeScale;const t=this._actions,i=this._nActiveActions,r=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==i;++u)t[u]._update(r,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)o[u].apply(a);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,i=e.uuid,r=this._actionsByClip,s=r[i];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const u=a[o];this._deactivateAction(u);const c=u._cacheIndex,f=t[t.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,t[c]=f,t.pop(),this._removeInactiveBindingsForAction(u)}delete r[i]}}uncacheRoot(e){const t=e.uuid,i=this._actionsByClip;for(const a in i){const o=i[a].actionByRoot,l=o[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const r=this._bindingsByRootAndName,s=r[t];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,t){const i=this.existingAction(e,t);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class f5e extends Eu{constructor(e=1,t=1,i=1,r={}){super(e,t,r),this.isRenderTarget3D=!0,this.depth=i,this.texture=new sS(null,e,t,i),this._setTextureOptions(r),this.texture.isRenderTargetTexture=!0}}let h5e=class p${constructor(e){this.value=e}clone(){return new p$(this.value.clone===void 0?this.value:this.value.clone())}},d5e=0,A5e=class extends $l{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:d5e++}),this.name="",this.usage=Vd,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let i=0,r=t.length;i<r;i++){const s=Array.isArray(t[i])?t[i]:[t[i]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}};class np extends b8{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class p5e{constructor(e,t,i,r,s,a=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=i,this.elementSize=r,this.count=s,this.normalized=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const Zz=new Yt;class m${constructor(e,t,i=0,r=1/0){this.ray=new yh(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new kd,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return Zz.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Zz),this}intersectObject(e,t=!0,i=[]){return TC(e,this,i,t),i.sort(Jz),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)TC(e[r],this,i,t);return i.sort(Jz),i}}function Jz(n,e){return n.distance-e.distance}function TC(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let a=0,o=s.length;a<o;a++)TC(s[a],e,t,!0)}}class MC{constructor(e=1,t=0,i=0){this.radius=e,this.phi=t,this.theta=i}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Kn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Kn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class m5e{constructor(e=1,t=0,i=0){this.radius=e,this.theta=t,this.y=i}set(e,t,i){return this.radius=e,this.theta=t,this.y=i,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+i*i),this.theta=Math.atan2(e,i),this.y=t,this}clone(){return new this.constructor().copy(this)}}class hm{constructor(e,t,i,r){hm.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,t,i,r)}identity(){return this.set(1,0,0,1),this}fromArray(e,t=0){for(let i=0;i<4;i++)this.elements[i]=e[i+t];return this}set(e,t,i,r){const s=this.elements;return s[0]=e,s[2]=t,s[1]=i,s[3]=r,this}}const eV=new Ye;class g5e{constructor(e=new Ye(1/0,1/0),t=new Ye(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=eV.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,eV).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const tV=new re,Py=new re;class g${constructor(e=new re,t=new re){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){tV.subVectors(e,this.start),Py.subVectors(this.end,this.start);const i=Py.dot(Py);let s=Py.dot(tV)/i;return t&&(s=Kn(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const nV=new re;class y5e extends Mi{constructor(e,t){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const i=new bn,r=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const u=a/l*Math.PI*2,c=o/l*Math.PI*2;r.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}i.setAttribute("position",new Qt(r,3));const s=new aa({fog:!1,toneMapped:!1});this.cone=new k0(i,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),nV.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(nV),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const C2=new re,Ly=new Yt,SE=new Yt;class v5e extends k0{constructor(e){const t=y$(e),i=new bn,r=[],s=[],a=new Nt(0,0,1),o=new Nt(0,1,0);for(let u=0;u<t.length;u++){const c=t[u];c.parent&&c.parent.isBone&&(r.push(0,0,0),r.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}i.setAttribute("position",new Qt(r,3)),i.setAttribute("color",new Qt(s,3));const l=new aa({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,i=this.geometry,r=i.getAttribute("position");SE.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<t.length;s++){const o=t[s];o.parent&&o.parent.isBone&&(Ly.multiplyMatrices(SE,o.matrixWorld),C2.setFromMatrixPosition(Ly),r.setXYZ(a,C2.x,C2.y,C2.z),Ly.multiplyMatrices(SE,o.parent.matrixWorld),C2.setFromMatrixPosition(Ly),r.setXYZ(a+1,C2.x,C2.y,C2.z),a+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function y$(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push(...y$(n.children[t]));return e}class x5e extends ii{constructor(e,t,i){const r=new q0(t,4,2),s=new Ia({wireframe:!0,fog:!1,toneMapped:!1});super(r,s),this.light=e,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _5e=new re,iV=new Nt,rV=new Nt;class b5e extends Mi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const r=new om(t);r.rotateY(Math.PI*.5),this.material=new Ia({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=r.getAttribute("position"),a=new Float32Array(s.count*3);r.setAttribute("color",new di(a,3)),this.add(new ii(r,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");iV.copy(this.light.color),rV.copy(this.light.groundColor);for(let i=0,r=t.count;i<r;i++){const s=i<r/2?iV:rV;t.setXYZ(i,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(_5e.setFromMatrixPosition(this.light.matrixWorld).negate())}}class S5e extends k0{constructor(e=10,t=10,i=4473924,r=8947848){i=new Nt(i),r=new Nt(r);const s=t/2,a=e/t,o=e/2,l=[],u=[];for(let m=0,v=0,_=-o;m<=t;m++,_+=a){l.push(-o,0,_,o,0,_),l.push(_,0,-o,_,0,o);const T=m===s?i:r;T.toArray(u,v),v+=3,T.toArray(u,v),v+=3,T.toArray(u,v),v+=3,T.toArray(u,v),v+=3}const c=new bn;c.setAttribute("position",new Qt(l,3)),c.setAttribute("color",new Qt(u,3));const f=new aa({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class T5e extends k0{constructor(e=10,t=16,i=8,r=64,s=4473924,a=8947848){s=new Nt(s),a=new Nt(a);const o=[],l=[];if(t>1)for(let f=0;f<t;f++){const m=f/t*(Math.PI*2),v=Math.sin(m)*e,_=Math.cos(m)*e;o.push(0,0,0),o.push(v,0,_);const T=f&1?s:a;l.push(T.r,T.g,T.b),l.push(T.r,T.g,T.b)}for(let f=0;f<i;f++){const m=f&1?s:a,v=e-e/i*f;for(let _=0;_<r;_++){let T=_/r*(Math.PI*2),M=Math.sin(T)*v,S=Math.cos(T)*v;o.push(M,0,S),l.push(m.r,m.g,m.b),T=(_+1)/r*(Math.PI*2),M=Math.sin(T)*v,S=Math.cos(T)*v,o.push(M,0,S),l.push(m.r,m.g,m.b)}}const u=new bn;u.setAttribute("position",new Qt(o,3)),u.setAttribute("color",new Qt(l,3));const c=new aa({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const sV=new re,By=new re,aV=new re;class M5e extends Mi{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new bn;r.setAttribute("position",new Qt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new aa({fog:!1,toneMapped:!1});this.lightPlane=new Su(r,s),this.add(this.lightPlane),r=new bn,r.setAttribute("position",new Qt([0,0,0,0,0,1],3)),this.targetLine=new Su(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),sV.setFromMatrixPosition(this.light.matrixWorld),By.setFromMatrixPosition(this.light.target.matrixWorld),aV.subVectors(By,sV),this.lightPlane.lookAt(By),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(By),this.targetLine.scale.z=aV.length()}}const Uy=new re,ss=new vh;class E5e extends k0{constructor(e){const t=new bn,i=new aa({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(_,T){l(_),l(T)}function l(_){r.push(0,0,0),s.push(0,0,0),a[_]===void 0&&(a[_]=[]),a[_].push(r.length/3-1)}t.setAttribute("position",new Qt(r,3)),t.setAttribute("color",new Qt(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const u=new Nt(16755200),c=new Nt(16711680),f=new Nt(43775),m=new Nt(16777215),v=new Nt(3355443);this.setColors(u,c,f,m,v)}setColors(e,t,i,r,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,i.r,i.g,i.b),o.setXYZ(33,i.r,i.g,i.b),o.setXYZ(34,i.r,i.g,i.b),o.setXYZ(35,i.r,i.g,i.b),o.setXYZ(36,i.r,i.g,i.b),o.setXYZ(37,i.r,i.g,i.b),o.setXYZ(38,r.r,r.g,r.b),o.setXYZ(39,r.r,r.g,r.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;ss.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===za?-1:0;_s("c",t,e,ss,0,0,s),_s("t",t,e,ss,0,0,1),_s("n1",t,e,ss,-i,-r,s),_s("n2",t,e,ss,i,-r,s),_s("n3",t,e,ss,-i,r,s),_s("n4",t,e,ss,i,r,s),_s("f1",t,e,ss,-i,-r,1),_s("f2",t,e,ss,i,-r,1),_s("f3",t,e,ss,-i,r,1),_s("f4",t,e,ss,i,r,1),_s("u1",t,e,ss,i*.7,r*1.1,s),_s("u2",t,e,ss,-i*.7,r*1.1,s),_s("u3",t,e,ss,0,r*2,s),_s("cf1",t,e,ss,-i,0,1),_s("cf2",t,e,ss,i,0,1),_s("cf3",t,e,ss,0,-r,1),_s("cf4",t,e,ss,0,r,1),_s("cn1",t,e,ss,-i,0,s),_s("cn2",t,e,ss,i,0,s),_s("cn3",t,e,ss,0,-r,s),_s("cn4",t,e,ss,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function _s(n,e,t,i,r,s,a){Uy.set(r,s,a).unproject(i);const o=e[n];if(o!==void 0){const l=t.getAttribute("position");for(let u=0,c=o.length;u<c;u++)l.setXYZ(o[u],Uy.x,Uy.y,Uy.z)}}const Oy=new na;class w5e extends k0{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=new Float32Array(8*3),s=new bn;s.setIndex(new di(i,1)),s.setAttribute("position",new di(r,3)),super(s,new aa({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&Oy.setFromObject(this.object),Oy.isEmpty())return;const e=Oy.min,t=Oy.max,i=this.geometry.attributes.position,r=i.array;r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=e.x,r[4]=t.y,r[5]=t.z,r[6]=e.x,r[7]=e.y,r[8]=t.z,r[9]=t.x,r[10]=e.y,r[11]=t.z,r[12]=t.x,r[13]=t.y,r[14]=e.z,r[15]=e.x,r[16]=t.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=t.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class R5e extends k0{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new bn;s.setIndex(new di(i,1)),s.setAttribute("position",new Qt(r,3)),super(s,new aa({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class C5e extends Su{constructor(e,t=1,i=16776960){const r=i,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new bn;a.setAttribute("position",new Qt(s,3)),a.computeBoundingSphere(),super(a,new aa({color:r,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new bn;l.setAttribute("position",new Qt(o,3)),l.computeBoundingSphere(),this.add(new ii(l,new Ia({color:r,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const oV=new re;let Iy,TE;class N5e extends Mi{constructor(e=new re(0,0,1),t=new re(0,0,0),i=1,r=16776960,s=i*.2,a=s*.2){super(),this.type="ArrowHelper",Iy===void 0&&(Iy=new bn,Iy.setAttribute("position",new Qt([0,0,0,0,1,0],3)),TE=new sm(.5,1,5,1),TE.translate(0,-.5,0)),this.position.copy(t),this.line=new Su(Iy,new aa({color:r,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ii(TE,new Ia({color:r,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{oV.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(oV,t)}}setLength(e,t=e*.2,i=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class D5e extends k0{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],r=new bn;r.setAttribute("position",new Qt(t,3)),r.setAttribute("color",new Qt(i,3));const s=new aa({vertexColors:!0,toneMapped:!1});super(r,s),this.type="AxesHelper"}setColors(e,t,i){const r=new Nt,s=this.geometry.attributes.color.array;return r.set(e),r.toArray(s,0),r.toArray(s,3),r.set(t),r.toArray(s,6),r.toArray(s,9),r.set(i),r.toArray(s,12),r.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class v${constructor(){this.type="ShapePath",this.color=new Nt,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new d_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,a){return this.currentPath.bezierCurveTo(e,t,i,r,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(S){const R=[];for(let C=0,P=S.length;C<P;C++){const B=S[C],O=new Tf;O.curves=B.curves,R.push(O)}return R}function i(S,R){const C=R.length;let P=!1;for(let B=C-1,O=0;O<C;B=O++){let V=R[B],F=R[O],z=F.x-V.x,k=F.y-V.y;if(Math.abs(k)>Number.EPSILON){if(k<0&&(V=R[O],z=-z,F=R[B],k=-k),S.y<V.y||S.y>F.y)continue;if(S.y===V.y){if(S.x===V.x)return!0}else{const H=k*(S.x-V.x)-z*(S.y-V.y);if(H===0)return!0;if(H<0)continue;P=!P}}else{if(S.y!==V.y)continue;if(F.x<=S.x&&S.x<=V.x||V.x<=S.x&&S.x<=F.x)return!0}}return P}const r=pu.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const u=[];if(s.length===1)return o=s[0],l=new Tf,l.curves=o.curves,u.push(l),u;let c=!r(s[0].getPoints());c=e?!c:c;const f=[],m=[];let v=[],_=0,T;m[_]=void 0,v[_]=[];for(let S=0,R=s.length;S<R;S++)o=s[S],T=o.getPoints(),a=r(T),a=e?!a:a,a?(!c&&m[_]&&_++,m[_]={s:new Tf,p:T},m[_].s.curves=o.curves,c&&_++,v[_]=[]):v[_].push({h:o,p:T[0]});if(!m[0])return t(s);if(m.length>1){let S=!1,R=0;for(let C=0,P=m.length;C<P;C++)f[C]=[];for(let C=0,P=m.length;C<P;C++){const B=v[C];for(let O=0;O<B.length;O++){const V=B[O];let F=!0;for(let z=0;z<m.length;z++)i(V.p,m[z].p)&&(C!==z&&R++,F?(F=!1,f[z].push(V)):S=!0);F&&f[C].push(V)}}R>0&&S===!1&&(v=f)}let M;for(let S=0,R=m.length;S<R;S++){l=m[S].s,u.push(l),M=v[S];for(let C=0,P=M.length;C<P;C++)l.holes.push(M[C].h)}return u}}class P5e extends $l{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function L5e(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function B5e(n,e){const t=n.image&&n.image.width?n.image.width/n.image.height:1;return t>e?(n.repeat.x=e/t,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=t/e,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function U5e(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function EC(n,e,t,i){const r=O5e(i);switch(t){case Qb:return n*e;case ph:return n*e/r.components*r.byteLength;case U3:return n*e/r.components*r.byteLength;case r1:return n*e*2/r.components*r.byteLength;case mh:return n*e*2/r.components*r.byteLength;case _8:return n*e*3/r.components*r.byteLength;case _r:return n*e*4/r.components*r.byteLength;case gh:return n*e*4/r.components*r.byteLength;case y3:case Mc:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Ec:case wc:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Ld:case Ud:return Math.max(n,16)*Math.max(e,8)/4;case Pd:case Bd:return Math.max(n,8)*Math.max(e,8)/2;case Od:case Ff:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case zf:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Vf:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case kf:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case Gf:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case qf:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case Hf:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case jf:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case Wf:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case Xf:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case Yf:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case Qf:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case $f:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case Kf:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case Zf:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case Jf:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case v3:case a_:case o_:return Math.ceil(n/4)*Math.ceil(e/4)*16;case $b:case Id:return Math.ceil(n/4)*Math.ceil(e/4)*8;case Fd:case zd:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function O5e(n){switch(n){case Lr:case m3:return{byteLength:1,components:1};case w0:case g3:case Fs:return{byteLength:2,components:1};case $p:case Kp:return{byteLength:2,components:4};case tr:case ea:case Mr:return{byteLength:4,components:1};case Zp:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class I5e{static contain(e,t){return L5e(e,t)}static cover(e,t){return B5e(e,t)}static fill(e){return U5e(e)}static getByteLength(e,t,i,r){return EC(e,t,i,r)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:v8}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=v8);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function x$(){let n=null,e=!1,t=null,i=null;function r(s,a){t(s,a),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function F5e(n){const e=new WeakMap;function t(o,l){const u=o.array,c=o.usage,f=u.byteLength,m=n.createBuffer();n.bindBuffer(l,m),n.bufferData(l,u,c),o.onUploadCallback();let v;if(u instanceof Float32Array)v=n.FLOAT;else if(typeof Float16Array<"u"&&u instanceof Float16Array)v=n.HALF_FLOAT;else if(u instanceof Uint16Array)o.isFloat16BufferAttribute?v=n.HALF_FLOAT:v=n.UNSIGNED_SHORT;else if(u instanceof Int16Array)v=n.SHORT;else if(u instanceof Uint32Array)v=n.UNSIGNED_INT;else if(u instanceof Int32Array)v=n.INT;else if(u instanceof Int8Array)v=n.BYTE;else if(u instanceof Uint8Array)v=n.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)v=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:m,type:v,bytesPerElement:u.BYTES_PER_ELEMENT,version:o.version,size:f}}function i(o,l,u){const c=l.array,f=l.updateRanges;if(n.bindBuffer(u,o),f.length===0)n.bufferSubData(u,0,c);else{f.sort((v,_)=>v.start-_.start);let m=0;for(let v=1;v<f.length;v++){const _=f[m],T=f[v];T.start<=_.start+_.count+1?_.count=Math.max(_.count,T.start+T.count-_.start):(++m,f[m]=T)}f.length=m+1;for(let v=0,_=f.length;v<_;v++){const T=f[v];n.bufferSubData(u,T.start*c.BYTES_PER_ELEMENT,c,T.start,T.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(n.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const c=e.get(o);(!c||c.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const u=e.get(o);if(u===void 0)e.set(o,t(o,l));else if(u.version<o.version){if(u.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(u.buffer,o,l),u.version=o.version}}return{get:r,remove:s,update:a}}var z5e=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,V5e=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,k5e=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,G5e=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,q5e=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,H5e=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,j5e=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,W5e=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,X5e=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Y5e=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Q5e=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,$5e=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,K5e=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Z5e=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,J5e=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,e6e=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,t6e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,n6e=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,i6e=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,r6e=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,s6e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,a6e=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,o6e=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,l6e=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,u6e=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,c6e=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,f6e=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,h6e=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,d6e=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,A6e=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,p6e="gl_FragColor = linearToOutputTexel( gl_FragColor );",m6e=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,g6e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,y6e=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,v6e=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,x6e=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,_6e=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,b6e=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,S6e=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,T6e=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,M6e=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,E6e=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,w6e=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,R6e=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,C6e=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,N6e=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,D6e=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,P6e=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,L6e=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,B6e=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,U6e=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,O6e=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,I6e=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,F6e=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,z6e=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,V6e=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,k6e=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,G6e=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,q6e=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,H6e=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,j6e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,W6e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,X6e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Y6e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Q6e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,$6e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,K6e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Z6e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,J6e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,ede=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,tde=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,nde=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,ide=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,rde=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,sde=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ade=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,ode=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,lde=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,ude=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,cde=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,fde=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,hde=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,dde=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Ade=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,pde=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,mde=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,gde=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,yde=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,vde=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,xde=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,_de=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,bde=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Sde=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Tde=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Mde=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Ede=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,wde=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Rde=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Cde=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Nde=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Dde=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Pde=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Lde=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Bde=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ude=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Ode=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Ide=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Fde=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,zde=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Vde=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,kde=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Gde=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,qde=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Hde=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,jde=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,Wde=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Xde=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Yde=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Qde=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,$de=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Kde=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Zde=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Jde=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,e8e=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,t8e=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,n8e=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,i8e=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,r8e=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,s8e=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,a8e=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,o8e=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,l8e=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,u8e=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,c8e=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,f8e=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,h8e=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,d8e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,A8e=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,p8e=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,m8e=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,g8e=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Hn={alphahash_fragment:z5e,alphahash_pars_fragment:V5e,alphamap_fragment:k5e,alphamap_pars_fragment:G5e,alphatest_fragment:q5e,alphatest_pars_fragment:H5e,aomap_fragment:j5e,aomap_pars_fragment:W5e,batching_pars_vertex:X5e,batching_vertex:Y5e,begin_vertex:Q5e,beginnormal_vertex:$5e,bsdfs:K5e,iridescence_fragment:Z5e,bumpmap_pars_fragment:J5e,clipping_planes_fragment:e6e,clipping_planes_pars_fragment:t6e,clipping_planes_pars_vertex:n6e,clipping_planes_vertex:i6e,color_fragment:r6e,color_pars_fragment:s6e,color_pars_vertex:a6e,color_vertex:o6e,common:l6e,cube_uv_reflection_fragment:u6e,defaultnormal_vertex:c6e,displacementmap_pars_vertex:f6e,displacementmap_vertex:h6e,emissivemap_fragment:d6e,emissivemap_pars_fragment:A6e,colorspace_fragment:p6e,colorspace_pars_fragment:m6e,envmap_fragment:g6e,envmap_common_pars_fragment:y6e,envmap_pars_fragment:v6e,envmap_pars_vertex:x6e,envmap_physical_pars_fragment:D6e,envmap_vertex:_6e,fog_vertex:b6e,fog_pars_vertex:S6e,fog_fragment:T6e,fog_pars_fragment:M6e,gradientmap_pars_fragment:E6e,lightmap_pars_fragment:w6e,lights_lambert_fragment:R6e,lights_lambert_pars_fragment:C6e,lights_pars_begin:N6e,lights_toon_fragment:P6e,lights_toon_pars_fragment:L6e,lights_phong_fragment:B6e,lights_phong_pars_fragment:U6e,lights_physical_fragment:O6e,lights_physical_pars_fragment:I6e,lights_fragment_begin:F6e,lights_fragment_maps:z6e,lights_fragment_end:V6e,logdepthbuf_fragment:k6e,logdepthbuf_pars_fragment:G6e,logdepthbuf_pars_vertex:q6e,logdepthbuf_vertex:H6e,map_fragment:j6e,map_pars_fragment:W6e,map_particle_fragment:X6e,map_particle_pars_fragment:Y6e,metalnessmap_fragment:Q6e,metalnessmap_pars_fragment:$6e,morphinstance_vertex:K6e,morphcolor_vertex:Z6e,morphnormal_vertex:J6e,morphtarget_pars_vertex:ede,morphtarget_vertex:tde,normal_fragment_begin:nde,normal_fragment_maps:ide,normal_pars_fragment:rde,normal_pars_vertex:sde,normal_vertex:ade,normalmap_pars_fragment:ode,clearcoat_normal_fragment_begin:lde,clearcoat_normal_fragment_maps:ude,clearcoat_pars_fragment:cde,iridescence_pars_fragment:fde,opaque_fragment:hde,packing:dde,premultiplied_alpha_fragment:Ade,project_vertex:pde,dithering_fragment:mde,dithering_pars_fragment:gde,roughnessmap_fragment:yde,roughnessmap_pars_fragment:vde,shadowmap_pars_fragment:xde,shadowmap_pars_vertex:_de,shadowmap_vertex:bde,shadowmask_pars_fragment:Sde,skinbase_vertex:Tde,skinning_pars_vertex:Mde,skinning_vertex:Ede,skinnormal_vertex:wde,specularmap_fragment:Rde,specularmap_pars_fragment:Cde,tonemapping_fragment:Nde,tonemapping_pars_fragment:Dde,transmission_fragment:Pde,transmission_pars_fragment:Lde,uv_pars_fragment:Bde,uv_pars_vertex:Ude,uv_vertex:Ode,worldpos_vertex:Ide,background_vert:Fde,background_frag:zde,backgroundCube_vert:Vde,backgroundCube_frag:kde,cube_vert:Gde,cube_frag:qde,depth_vert:Hde,depth_frag:jde,distanceRGBA_vert:Wde,distanceRGBA_frag:Xde,equirect_vert:Yde,equirect_frag:Qde,linedashed_vert:$de,linedashed_frag:Kde,meshbasic_vert:Zde,meshbasic_frag:Jde,meshlambert_vert:e8e,meshlambert_frag:t8e,meshmatcap_vert:n8e,meshmatcap_frag:i8e,meshnormal_vert:r8e,meshnormal_frag:s8e,meshphong_vert:a8e,meshphong_frag:o8e,meshphysical_vert:l8e,meshphysical_frag:u8e,meshtoon_vert:c8e,meshtoon_frag:f8e,points_vert:h8e,points_frag:d8e,shadow_vert:A8e,shadow_frag:p8e,sprite_vert:m8e,sprite_frag:g8e},zt={common:{diffuse:{value:new Nt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new On},alphaMap:{value:null},alphaMapTransform:{value:new On},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new On}},envmap:{envMap:{value:null},envMapRotation:{value:new On},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new On}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new On}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new On},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new On},normalScale:{value:new Ye(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new On},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new On}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new On}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new On}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Nt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Nt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new On},alphaTest:{value:0},uvTransform:{value:new On}},sprite:{diffuse:{value:new Nt(16777215)},opacity:{value:1},center:{value:new Ye(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new On},alphaMap:{value:null},alphaMapTransform:{value:new On},alphaTest:{value:0}}},To={basic:{uniforms:_o([zt.common,zt.specularmap,zt.envmap,zt.aomap,zt.lightmap,zt.fog]),vertexShader:Hn.meshbasic_vert,fragmentShader:Hn.meshbasic_frag},lambert:{uniforms:_o([zt.common,zt.specularmap,zt.envmap,zt.aomap,zt.lightmap,zt.emissivemap,zt.bumpmap,zt.normalmap,zt.displacementmap,zt.fog,zt.lights,{emissive:{value:new Nt(0)}}]),vertexShader:Hn.meshlambert_vert,fragmentShader:Hn.meshlambert_frag},phong:{uniforms:_o([zt.common,zt.specularmap,zt.envmap,zt.aomap,zt.lightmap,zt.emissivemap,zt.bumpmap,zt.normalmap,zt.displacementmap,zt.fog,zt.lights,{emissive:{value:new Nt(0)},specular:{value:new Nt(1118481)},shininess:{value:30}}]),vertexShader:Hn.meshphong_vert,fragmentShader:Hn.meshphong_frag},standard:{uniforms:_o([zt.common,zt.envmap,zt.aomap,zt.lightmap,zt.emissivemap,zt.bumpmap,zt.normalmap,zt.displacementmap,zt.roughnessmap,zt.metalnessmap,zt.fog,zt.lights,{emissive:{value:new Nt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Hn.meshphysical_vert,fragmentShader:Hn.meshphysical_frag},toon:{uniforms:_o([zt.common,zt.aomap,zt.lightmap,zt.emissivemap,zt.bumpmap,zt.normalmap,zt.displacementmap,zt.gradientmap,zt.fog,zt.lights,{emissive:{value:new Nt(0)}}]),vertexShader:Hn.meshtoon_vert,fragmentShader:Hn.meshtoon_frag},matcap:{uniforms:_o([zt.common,zt.bumpmap,zt.normalmap,zt.displacementmap,zt.fog,{matcap:{value:null}}]),vertexShader:Hn.meshmatcap_vert,fragmentShader:Hn.meshmatcap_frag},points:{uniforms:_o([zt.points,zt.fog]),vertexShader:Hn.points_vert,fragmentShader:Hn.points_frag},dashed:{uniforms:_o([zt.common,zt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Hn.linedashed_vert,fragmentShader:Hn.linedashed_frag},depth:{uniforms:_o([zt.common,zt.displacementmap]),vertexShader:Hn.depth_vert,fragmentShader:Hn.depth_frag},normal:{uniforms:_o([zt.common,zt.bumpmap,zt.normalmap,zt.displacementmap,{opacity:{value:1}}]),vertexShader:Hn.meshnormal_vert,fragmentShader:Hn.meshnormal_frag},sprite:{uniforms:_o([zt.sprite,zt.fog]),vertexShader:Hn.sprite_vert,fragmentShader:Hn.sprite_frag},background:{uniforms:{uvTransform:{value:new On},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Hn.background_vert,fragmentShader:Hn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new On}},vertexShader:Hn.backgroundCube_vert,fragmentShader:Hn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Hn.cube_vert,fragmentShader:Hn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Hn.equirect_vert,fragmentShader:Hn.equirect_frag},distanceRGBA:{uniforms:_o([zt.common,zt.displacementmap,{referencePosition:{value:new re},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Hn.distanceRGBA_vert,fragmentShader:Hn.distanceRGBA_frag},shadow:{uniforms:_o([zt.lights,zt.fog,{color:{value:new Nt(0)},opacity:{value:1}}]),vertexShader:Hn.shadow_vert,fragmentShader:Hn.shadow_frag}};To.physical={uniforms:_o([To.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new On},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new On},clearcoatNormalScale:{value:new Ye(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new On},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new On},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new On},sheen:{value:0},sheenColor:{value:new Nt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new On},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new On},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new On},transmissionSamplerSize:{value:new Ye},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new On},attenuationDistance:{value:0},attenuationColor:{value:new Nt(0)},specularColor:{value:new Nt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new On},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new On},anisotropyVector:{value:new Ye},anisotropyMap:{value:null},anisotropyMapTransform:{value:new On}}]),vertexShader:Hn.meshphysical_vert,fragmentShader:Hn.meshphysical_frag};const Fy={r:0,b:0,g:0},C4=new Sa,y8e=new Yt;function v8e(n,e,t,i,r,s,a){const o=new Nt(0);let l=s===!0?0:1,u,c,f=null,m=0,v=null;function _(C){let P=C.isScene===!0?C.background:null;return P&&P.isTexture&&(P=(C.backgroundBlurriness>0?t:e).get(P)),P}function T(C){let P=!1;const B=_(C);B===null?S(o,l):B&&B.isColor&&(S(B,1),P=!0);const O=n.xr.getEnvironmentBlendMode();O==="additive"?i.buffers.color.setClear(0,0,0,1,a):O==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,a),(n.autoClear||P)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function M(C,P){const B=_(P);B&&(B.isCubeTexture||B.mapping===kc)?(c===void 0&&(c=new ii(new D1(1,1,1),new Uo({name:"BackgroundCubeMaterial",uniforms:Gd(To.backgroundCube.uniforms),vertexShader:To.backgroundCube.vertexShader,fragmentShader:To.backgroundCube.fragmentShader,side:Zi,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(O,V,F){this.matrixWorld.copyPosition(F.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),C4.copy(P.backgroundRotation),C4.x*=-1,C4.y*=-1,C4.z*=-1,B.isCubeTexture&&B.isRenderTargetTexture===!1&&(C4.y*=-1,C4.z*=-1),c.material.uniforms.envMap.value=B,c.material.uniforms.flipEnvMap.value=B.isCubeTexture&&B.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=P.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=P.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(y8e.makeRotationFromEuler(C4)),c.material.toneMapped=wn.getTransfer(B.colorSpace)!==Xt,(f!==B||m!==B.version||v!==n.toneMapping)&&(c.material.needsUpdate=!0,f=B,m=B.version,v=n.toneMapping),c.layers.enableAll(),C.unshift(c,c.geometry,c.material,0,0,null)):B&&B.isTexture&&(u===void 0&&(u=new ii(new bh(2,2),new Uo({name:"BackgroundMaterial",uniforms:Gd(To.background.uniforms),vertexShader:To.background.vertexShader,fragmentShader:To.background.fragmentShader,side:Bo,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(u)),u.material.uniforms.t2D.value=B,u.material.uniforms.backgroundIntensity.value=P.backgroundIntensity,u.material.toneMapped=wn.getTransfer(B.colorSpace)!==Xt,B.matrixAutoUpdate===!0&&B.updateMatrix(),u.material.uniforms.uvTransform.value.copy(B.matrix),(f!==B||m!==B.version||v!==n.toneMapping)&&(u.material.needsUpdate=!0,f=B,m=B.version,v=n.toneMapping),u.layers.enableAll(),C.unshift(u,u.geometry,u.material,0,0,null))}function S(C,P){C.getRGB(Fy,zQ(n)),i.buffers.color.setClear(Fy.r,Fy.g,Fy.b,P,a)}function R(){c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0),u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0)}return{getClearColor:function(){return o},setClearColor:function(C,P=1){o.set(C),l=P,S(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(C){l=C,S(o,l)},render:T,addToRenderList:M,dispose:R}}function x8e(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=m(null);let s=r,a=!1;function o(k,H,Z,$,ae){let ne=!1;const Y=f($,Z,H);s!==Y&&(s=Y,u(s.object)),ne=v(k,$,Z,ae),ne&&_(k,$,Z,ae),ae!==null&&e.update(ae,n.ELEMENT_ARRAY_BUFFER),(ne||a)&&(a=!1,P(k,H,Z,$),ae!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(ae).buffer))}function l(){return n.createVertexArray()}function u(k){return n.bindVertexArray(k)}function c(k){return n.deleteVertexArray(k)}function f(k,H,Z){const $=Z.wireframe===!0;let ae=i[k.id];ae===void 0&&(ae={},i[k.id]=ae);let ne=ae[H.id];ne===void 0&&(ne={},ae[H.id]=ne);let Y=ne[$];return Y===void 0&&(Y=m(l()),ne[$]=Y),Y}function m(k){const H=[],Z=[],$=[];for(let ae=0;ae<t;ae++)H[ae]=0,Z[ae]=0,$[ae]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:H,enabledAttributes:Z,attributeDivisors:$,object:k,attributes:{},index:null}}function v(k,H,Z,$){const ae=s.attributes,ne=H.attributes;let Y=0;const ee=Z.getAttributes();for(const Q in ee)if(ee[Q].location>=0){const ge=ae[Q];let Re=ne[Q];if(Re===void 0&&(Q==="instanceMatrix"&&k.instanceMatrix&&(Re=k.instanceMatrix),Q==="instanceColor"&&k.instanceColor&&(Re=k.instanceColor)),ge===void 0||ge.attribute!==Re||Re&&ge.data!==Re.data)return!0;Y++}return s.attributesNum!==Y||s.index!==$}function _(k,H,Z,$){const ae={},ne=H.attributes;let Y=0;const ee=Z.getAttributes();for(const Q in ee)if(ee[Q].location>=0){let ge=ne[Q];ge===void 0&&(Q==="instanceMatrix"&&k.instanceMatrix&&(ge=k.instanceMatrix),Q==="instanceColor"&&k.instanceColor&&(ge=k.instanceColor));const Re={};Re.attribute=ge,ge&&ge.data&&(Re.data=ge.data),ae[Q]=Re,Y++}s.attributes=ae,s.attributesNum=Y,s.index=$}function T(){const k=s.newAttributes;for(let H=0,Z=k.length;H<Z;H++)k[H]=0}function M(k){S(k,0)}function S(k,H){const Z=s.newAttributes,$=s.enabledAttributes,ae=s.attributeDivisors;Z[k]=1,$[k]===0&&(n.enableVertexAttribArray(k),$[k]=1),ae[k]!==H&&(n.vertexAttribDivisor(k,H),ae[k]=H)}function R(){const k=s.newAttributes,H=s.enabledAttributes;for(let Z=0,$=H.length;Z<$;Z++)H[Z]!==k[Z]&&(n.disableVertexAttribArray(Z),H[Z]=0)}function C(k,H,Z,$,ae,ne,Y){Y===!0?n.vertexAttribIPointer(k,H,Z,ae,ne):n.vertexAttribPointer(k,H,Z,$,ae,ne)}function P(k,H,Z,$){T();const ae=$.attributes,ne=Z.getAttributes(),Y=H.defaultAttributeValues;for(const ee in ne){const Q=ne[ee];if(Q.location>=0){let fe=ae[ee];if(fe===void 0&&(ee==="instanceMatrix"&&k.instanceMatrix&&(fe=k.instanceMatrix),ee==="instanceColor"&&k.instanceColor&&(fe=k.instanceColor)),fe!==void 0){const ge=fe.normalized,Re=fe.itemSize,Ge=e.get(fe);if(Ge===void 0)continue;const We=Ge.buffer,Se=Ge.type,qe=Ge.bytesPerElement,St=Se===n.INT||Se===n.UNSIGNED_INT||fe.gpuType===ea;if(fe.isInterleavedBufferAttribute){const at=fe.data,Ct=at.stride,Jt=fe.offset;if(at.isInstancedInterleavedBuffer){for(let It=0;It<Q.locationSize;It++)S(Q.location+It,at.meshPerAttribute);k.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=at.meshPerAttribute*at.count)}else for(let It=0;It<Q.locationSize;It++)M(Q.location+It);n.bindBuffer(n.ARRAY_BUFFER,We);for(let It=0;It<Q.locationSize;It++)C(Q.location+It,Re/Q.locationSize,Se,ge,Ct*qe,(Jt+Re/Q.locationSize*It)*qe,St)}else{if(fe.isInstancedBufferAttribute){for(let at=0;at<Q.locationSize;at++)S(Q.location+at,fe.meshPerAttribute);k.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=fe.meshPerAttribute*fe.count)}else for(let at=0;at<Q.locationSize;at++)M(Q.location+at);n.bindBuffer(n.ARRAY_BUFFER,We);for(let at=0;at<Q.locationSize;at++)C(Q.location+at,Re/Q.locationSize,Se,ge,Re*qe,Re/Q.locationSize*at*qe,St)}}else if(Y!==void 0){const ge=Y[ee];if(ge!==void 0)switch(ge.length){case 2:n.vertexAttrib2fv(Q.location,ge);break;case 3:n.vertexAttrib3fv(Q.location,ge);break;case 4:n.vertexAttrib4fv(Q.location,ge);break;default:n.vertexAttrib1fv(Q.location,ge)}}}}R()}function B(){F();for(const k in i){const H=i[k];for(const Z in H){const $=H[Z];for(const ae in $)c($[ae].object),delete $[ae];delete H[Z]}delete i[k]}}function O(k){if(i[k.id]===void 0)return;const H=i[k.id];for(const Z in H){const $=H[Z];for(const ae in $)c($[ae].object),delete $[ae];delete H[Z]}delete i[k.id]}function V(k){for(const H in i){const Z=i[H];if(Z[k.id]===void 0)continue;const $=Z[k.id];for(const ae in $)c($[ae].object),delete $[ae];delete Z[k.id]}}function F(){z(),a=!0,s!==r&&(s=r,u(s.object))}function z(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:o,reset:F,resetDefaultState:z,dispose:B,releaseStatesOfGeometry:O,releaseStatesOfProgram:V,initAttributes:T,enableAttribute:M,disableUnusedAttributes:R}}function _8e(n,e,t){let i;function r(u){i=u}function s(u,c){n.drawArrays(i,u,c),t.update(c,i,1)}function a(u,c,f){f!==0&&(n.drawArraysInstanced(i,u,c,f),t.update(c,i,f))}function o(u,c,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,u,0,c,0,f);let v=0;for(let _=0;_<f;_++)v+=c[_];t.update(v,i,1)}function l(u,c,f,m){if(f===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let _=0;_<u.length;_++)a(u[_],c[_],m[_]);else{v.multiDrawArraysInstancedWEBGL(i,u,0,c,0,m,0,f);let _=0;for(let T=0;T<f;T++)_+=c[T]*m[T];t.update(_,i,1)}}this.setMode=r,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function b8e(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const V=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(V.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function a(V){return!(V!==_r&&i.convert(V)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(V){const F=V===Fs&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(V!==Lr&&i.convert(V)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&V!==Mr&&!F)}function l(V){if(V==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";V="mediump"}return V==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=t.precision!==void 0?t.precision:"highp";const c=l(u);c!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);const f=t.logarithmicDepthBuffer===!0,m=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),v=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),_=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),T=n.getParameter(n.MAX_TEXTURE_SIZE),M=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),S=n.getParameter(n.MAX_VERTEX_ATTRIBS),R=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),C=n.getParameter(n.MAX_VARYING_VECTORS),P=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),B=_>0,O=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:u,logarithmicDepthBuffer:f,reverseDepthBuffer:m,maxTextures:v,maxVertexTextures:_,maxTextureSize:T,maxCubemapSize:M,maxAttributes:S,maxVertexUniforms:R,maxVaryings:C,maxFragmentUniforms:P,vertexTextures:B,maxSamples:O}}function S8e(n){const e=this;let t=null,i=0,r=!1,s=!1;const a=new hu,o=new On,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,m){const v=f.length!==0||m||i!==0||r;return r=m,i=f.length,v},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,m){t=c(f,m,0)},this.setState=function(f,m,v){const _=f.clippingPlanes,T=f.clipIntersection,M=f.clipShadows,S=n.get(f);if(!r||_===null||_.length===0||s&&!M)s?c(null):u();else{const R=s?0:i,C=R*4;let P=S.clippingState||null;l.value=P,P=c(_,m,C,v);for(let B=0;B!==C;++B)P[B]=t[B];S.clippingState=P,this.numIntersection=T?this.numPlanes:0,this.numPlanes+=R}};function u(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function c(f,m,v,_){const T=f!==null?f.length:0;let M=null;if(T!==0){if(M=l.value,_!==!0||M===null){const S=v+T*4,R=m.matrixWorldInverse;o.getNormalMatrix(R),(M===null||M.length<S)&&(M=new Float32Array(S));for(let C=0,P=v;C!==T;++C,P+=4)a.copy(f[C]).applyMatrix4(R,o),a.normal.toArray(M,P),M[P+3]=a.constant}l.value=M,l.needsUpdate=!0}return e.numPlanes=T,e.numIntersection=0,M}}function T8e(n){let e=new WeakMap;function t(a,o){return o===w3?a.mapping=Xl:o===R3&&(a.mapping=U0),a}function i(a){if(a&&a.isTexture){const o=a.mapping;if(o===w3||o===R3)if(e.has(a)){const l=e.get(a).texture;return t(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const u=new XP(l.height);return u.fromEquirectangularTexture(n,a),e.set(a,u),a.addEventListener("dispose",r),t(u.texture,a.mapping)}else return null}}return a}function r(a){const o=a.target;o.removeEventListener("dispose",r);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const I6=4,lV=[.125,.215,.35,.446,.526,.582],K4=20,ME=new h1,uV=new Nt;let EE=null,wE=0,RE=0,CE=!1;const X4=(1+Math.sqrt(5))/2,W5=1/X4,cV=[new re(-X4,W5,0),new re(X4,W5,0),new re(-W5,0,X4),new re(W5,0,X4),new re(0,X4,-W5),new re(0,X4,W5),new re(-1,1,-1),new re(1,1,-1),new re(-1,1,1),new re(1,1,1)],M8e=new re;let wC=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100,s={}){const{size:a=256,position:o=M8e}=s;EE=this._renderer.getRenderTarget(),wE=this._renderer.getActiveCubeFace(),RE=this._renderer.getActiveMipmapLevel(),CE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,i,r,l,o),t>0&&this._blur(l,0,0,t),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=dV(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=hV(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(EE,wE,RE),this._renderer.xr.enabled=CE,e.scissorTest=!1,zy(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Xl||e.mapping===U0?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),EE=this._renderer.getRenderTarget(),wE=this._renderer.getActiveCubeFace(),RE=this._renderer.getActiveMipmapLevel(),CE=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:dr,minFilter:dr,generateMipmaps:!1,type:Fs,format:_r,colorSpace:ql,depthBuffer:!1},r=fV(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=fV(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=E8e(s)),this._blurMaterial=w8e(s,e,t)}return r}_compileMaterial(e){const t=new ii(this._lodPlanes[0],e);this._renderer.compile(t,ME)}_sceneToCubeUV(e,t,i,r,s){const l=new Tr(90,1,t,i),u=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,m=f.autoClear,v=f.toneMapping;f.getClearColor(uV),f.toneMapping=co,f.autoClear=!1;const _=new Ia({name:"PMREM.Background",side:Zi,depthWrite:!1,depthTest:!1}),T=new ii(new D1,_);let M=!1;const S=e.background;S?S.isColor&&(_.color.copy(S),e.background=null,M=!0):(_.color.copy(uV),M=!0);for(let R=0;R<6;R++){const C=R%3;C===0?(l.up.set(0,u[R],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+c[R],s.y,s.z)):C===1?(l.up.set(0,0,u[R]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+c[R],s.z)):(l.up.set(0,u[R],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+c[R]));const P=this._cubeSize;zy(r,C*P,R>2?P:0,P,P),f.setRenderTarget(r),M&&f.render(T,l),f.render(e,l)}T.geometry.dispose(),T.material.dispose(),f.toneMapping=v,f.autoClear=m,e.background=S}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Xl||e.mapping===U0;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=dV()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=hV());const s=r?this._cubemapMaterial:this._equirectMaterial,a=new ii(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;zy(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(a,ME)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=cV[(r-s-1)%cV.length];this._blur(e,s-1,s,a,o)}t.autoClear=i}_blur(e,t,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,a,o){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new ii(this._lodPlanes[r],u),m=u.uniforms,v=this._sizeLods[i]-1,_=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*K4-1),T=s/_,M=isFinite(s)?1+Math.floor(c*T):K4;M>K4&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${M} samples when the maximum is set to ${K4}`);const S=[];let R=0;for(let V=0;V<K4;++V){const F=V/T,z=Math.exp(-F*F/2);S.push(z),V===0?R+=z:V<M&&(R+=2*z)}for(let V=0;V<S.length;V++)S[V]=S[V]/R;m.envMap.value=e.texture,m.samples.value=M,m.weights.value=S,m.latitudinal.value=a==="latitudinal",o&&(m.poleAxis.value=o);const{_lodMax:C}=this;m.dTheta.value=_,m.mipInt.value=C-i;const P=this._sizeLods[r],B=3*P*(r>C-I6?r-C+I6:0),O=4*(this._cubeSize-P);zy(t,B,O,3*P,2*P),l.setRenderTarget(t),l.render(f,ME)}};function E8e(n){const e=[],t=[],i=[];let r=n;const s=n-I6+1+lV.length;for(let a=0;a<s;a++){const o=Math.pow(2,r);t.push(o);let l=1/o;a>n-I6?l=lV[a-n+I6-1]:a===0&&(l=0),i.push(l);const u=1/(o-2),c=-u,f=1+u,m=[c,c,f,c,f,f,c,c,f,f,c,f],v=6,_=6,T=3,M=2,S=1,R=new Float32Array(T*_*v),C=new Float32Array(M*_*v),P=new Float32Array(S*_*v);for(let O=0;O<v;O++){const V=O%3*2/3-1,F=O>2?0:-1,z=[V,F,0,V+2/3,F,0,V+2/3,F+1,0,V,F,0,V+2/3,F+1,0,V,F+1,0];R.set(z,T*_*O),C.set(m,M*_*O);const k=[O,O,O,O,O,O];P.set(k,S*_*O)}const B=new bn;B.setAttribute("position",new di(R,T)),B.setAttribute("uv",new di(C,M)),B.setAttribute("faceIndex",new di(P,S)),e.push(B),r>I6&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function fV(n,e,t){const i=new x1(n,e,t);return i.texture.mapping=kc,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function zy(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function w8e(n,e,t){const i=new Float32Array(K4),r=new re(0,1,0);return new Uo({name:"SphericalGaussianBlur",defines:{n:K4,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:DL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:nl,depthTest:!1,depthWrite:!1})}function hV(){return new Uo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:DL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:nl,depthTest:!1,depthWrite:!1})}function dV(){return new Uo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:DL(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:nl,depthTest:!1,depthWrite:!1})}function DL(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function R8e(n){let e=new WeakMap,t=null;function i(o){if(o&&o.isTexture){const l=o.mapping,u=l===w3||l===R3,c=l===Xl||l===U0;if(u||c){let f=e.get(o);const m=f!==void 0?f.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==m)return t===null&&(t=new wC(n)),f=u?t.fromEquirectangular(o,f):t.fromCubemap(o,f),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),f.texture;if(f!==void 0)return f.texture;{const v=o.image;return u&&v&&v.height>0||c&&v&&r(v)?(t===null&&(t=new wC(n)),f=u?t.fromEquirectangular(o):t.fromCubemap(o),f.texture.pmremVersion=o.pmremVersion,e.set(o,f),o.addEventListener("dispose",s),f.texture):null}}}return o}function r(o){let l=0;const u=6;for(let c=0;c<u;c++)o[c]!==void 0&&l++;return l===u}function s(o){const l=o.target;l.removeEventListener("dispose",s);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:a}}function C8e(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&jl("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function N8e(n,e,t,i){const r={},s=new WeakMap;function a(f){const m=f.target;m.index!==null&&e.remove(m.index);for(const _ in m.attributes)e.remove(m.attributes[_]);m.removeEventListener("dispose",a),delete r[m.id];const v=s.get(m);v&&(e.remove(v),s.delete(m)),i.releaseStatesOfGeometry(m),m.isInstancedBufferGeometry===!0&&delete m._maxInstanceCount,t.memory.geometries--}function o(f,m){return r[m.id]===!0||(m.addEventListener("dispose",a),r[m.id]=!0,t.memory.geometries++),m}function l(f){const m=f.attributes;for(const v in m)e.update(m[v],n.ARRAY_BUFFER)}function u(f){const m=[],v=f.index,_=f.attributes.position;let T=0;if(v!==null){const R=v.array;T=v.version;for(let C=0,P=R.length;C<P;C+=3){const B=R[C+0],O=R[C+1],V=R[C+2];m.push(B,O,O,V,V,B)}}else if(_!==void 0){const R=_.array;T=_.version;for(let C=0,P=R.length/3-1;C<P;C+=3){const B=C+0,O=C+1,V=C+2;m.push(B,O,O,V,V,B)}}else return;const M=new(qP(m)?oS:aS)(m,1);M.version=T;const S=s.get(f);S&&e.remove(S),s.set(f,M)}function c(f){const m=s.get(f);if(m){const v=f.index;v!==null&&m.version<v.version&&u(f)}else u(f);return s.get(f)}return{get:o,update:l,getWireframeAttribute:c}}function D8e(n,e,t){let i;function r(m){i=m}let s,a;function o(m){s=m.type,a=m.bytesPerElement}function l(m,v){n.drawElements(i,v,s,m*a),t.update(v,i,1)}function u(m,v,_){_!==0&&(n.drawElementsInstanced(i,v,s,m*a,_),t.update(v,i,_))}function c(m,v,_){if(_===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,v,0,s,m,0,_);let M=0;for(let S=0;S<_;S++)M+=v[S];t.update(M,i,1)}function f(m,v,_,T){if(_===0)return;const M=e.get("WEBGL_multi_draw");if(M===null)for(let S=0;S<m.length;S++)u(m[S]/a,v[S],T[S]);else{M.multiDrawElementsInstancedWEBGL(i,v,0,s,m,0,T,0,_);let S=0;for(let R=0;R<_;R++)S+=v[R]*T[R];t.update(S,i,1)}}this.setMode=r,this.setIndex=o,this.render=l,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function P8e(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,a,o){switch(t.calls++,a){case n.TRIANGLES:t.triangles+=o*(s/3);break;case n.LINES:t.lines+=o*(s/2);break;case n.LINE_STRIP:t.lines+=o*(s-1);break;case n.LINE_LOOP:t.lines+=o*s;break;case n.POINTS:t.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function L8e(n,e,t){const i=new WeakMap,r=new ln;function s(a,o,l){const u=a.morphTargetInfluences,c=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,f=c!==void 0?c.length:0;let m=i.get(o);if(m===void 0||m.count!==f){let z=function(){V.dispose(),i.delete(o),o.removeEventListener("dispose",z)};m!==void 0&&m.texture.dispose();const v=o.morphAttributes.position!==void 0,_=o.morphAttributes.normal!==void 0,T=o.morphAttributes.color!==void 0,M=o.morphAttributes.position||[],S=o.morphAttributes.normal||[],R=o.morphAttributes.color||[];let C=0;v===!0&&(C=1),_===!0&&(C=2),T===!0&&(C=3);let P=o.attributes.position.count*C,B=1;P>e.maxTextureSize&&(B=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const O=new Float32Array(P*B*4*f),V=new tm(O,P,B,f);V.type=Mr,V.needsUpdate=!0;const F=C*4;for(let k=0;k<f;k++){const H=M[k],Z=S[k],$=R[k],ae=P*B*4*k;for(let ne=0;ne<H.count;ne++){const Y=ne*F;v===!0&&(r.fromBufferAttribute(H,ne),O[ae+Y+0]=r.x,O[ae+Y+1]=r.y,O[ae+Y+2]=r.z,O[ae+Y+3]=0),_===!0&&(r.fromBufferAttribute(Z,ne),O[ae+Y+4]=r.x,O[ae+Y+5]=r.y,O[ae+Y+6]=r.z,O[ae+Y+7]=0),T===!0&&(r.fromBufferAttribute($,ne),O[ae+Y+8]=r.x,O[ae+Y+9]=r.y,O[ae+Y+10]=r.z,O[ae+Y+11]=$.itemSize===4?r.w:1)}}m={count:f,texture:V,size:new Ye(P,B)},i.set(o,m),o.addEventListener("dispose",z)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",a.morphTexture,t);else{let v=0;for(let T=0;T<u.length;T++)v+=u[T];const _=o.morphTargetsRelative?1:1-v;l.getUniforms().setValue(n,"morphTargetBaseInfluence",_),l.getUniforms().setValue(n,"morphTargetInfluences",u)}l.getUniforms().setValue(n,"morphTargetsTexture",m.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",m.size)}return{update:s}}function B8e(n,e,t,i){let r=new WeakMap;function s(l){const u=i.render.frame,c=l.geometry,f=e.get(l,c);if(r.get(f)!==u&&(e.update(f),r.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),r.get(l)!==u&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,u))),l.isSkinnedMesh){const m=l.skeleton;r.get(m)!==u&&(m.update(),r.set(m,u))}return f}function a(){r=new WeakMap}function o(l){const u=l.target;u.removeEventListener("dispose",o),t.remove(u.instanceMatrix),u.instanceColor!==null&&t.remove(u.instanceColor)}return{update:s,dispose:a}}const _$=new Ur,AV=new ol(1,1),b$=new tm,S$=new sS,T$=new O3,pV=[],mV=[],gV=new Float32Array(16),yV=new Float32Array(9),vV=new Float32Array(4);function T8(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=pV[r];if(s===void 0&&(s=new Float32Array(r),pV[r]=s),e!==0){i.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=t,n[a].toArray(s,o)}return s}function ra(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function sa(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function ES(n,e){let t=mV[e];t===void 0&&(t=new Int32Array(e),mV[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function U8e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function O8e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ra(t,e))return;n.uniform2fv(this.addr,e),sa(t,e)}}function I8e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(ra(t,e))return;n.uniform3fv(this.addr,e),sa(t,e)}}function F8e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ra(t,e))return;n.uniform4fv(this.addr,e),sa(t,e)}}function z8e(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(ra(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),sa(t,e)}else{if(ra(t,i))return;vV.set(i),n.uniformMatrix2fv(this.addr,!1,vV),sa(t,i)}}function V8e(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(ra(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),sa(t,e)}else{if(ra(t,i))return;yV.set(i),n.uniformMatrix3fv(this.addr,!1,yV),sa(t,i)}}function k8e(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(ra(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),sa(t,e)}else{if(ra(t,i))return;gV.set(i),n.uniformMatrix4fv(this.addr,!1,gV),sa(t,i)}}function G8e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function q8e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ra(t,e))return;n.uniform2iv(this.addr,e),sa(t,e)}}function H8e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ra(t,e))return;n.uniform3iv(this.addr,e),sa(t,e)}}function j8e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ra(t,e))return;n.uniform4iv(this.addr,e),sa(t,e)}}function W8e(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function X8e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(ra(t,e))return;n.uniform2uiv(this.addr,e),sa(t,e)}}function Y8e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(ra(t,e))return;n.uniform3uiv(this.addr,e),sa(t,e)}}function Q8e(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(ra(t,e))return;n.uniform4uiv(this.addr,e),sa(t,e)}}function $8e(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s;this.type===n.SAMPLER_2D_SHADOW?(AV.compareFunction=em,s=AV):s=_$,t.setTexture2D(e||s,r)}function K8e(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||S$,r)}function Z8e(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||T$,r)}function J8e(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||b$,r)}function e7e(n){switch(n){case 5126:return U8e;case 35664:return O8e;case 35665:return I8e;case 35666:return F8e;case 35674:return z8e;case 35675:return V8e;case 35676:return k8e;case 5124:case 35670:return G8e;case 35667:case 35671:return q8e;case 35668:case 35672:return H8e;case 35669:case 35673:return j8e;case 5125:return W8e;case 36294:return X8e;case 36295:return Y8e;case 36296:return Q8e;case 35678:case 36198:case 36298:case 36306:case 35682:return $8e;case 35679:case 36299:case 36307:return K8e;case 35680:case 36300:case 36308:case 36293:return Z8e;case 36289:case 36303:case 36311:case 36292:return J8e}}function t7e(n,e){n.uniform1fv(this.addr,e)}function n7e(n,e){const t=T8(e,this.size,2);n.uniform2fv(this.addr,t)}function i7e(n,e){const t=T8(e,this.size,3);n.uniform3fv(this.addr,t)}function r7e(n,e){const t=T8(e,this.size,4);n.uniform4fv(this.addr,t)}function s7e(n,e){const t=T8(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function a7e(n,e){const t=T8(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function o7e(n,e){const t=T8(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function l7e(n,e){n.uniform1iv(this.addr,e)}function u7e(n,e){n.uniform2iv(this.addr,e)}function c7e(n,e){n.uniform3iv(this.addr,e)}function f7e(n,e){n.uniform4iv(this.addr,e)}function h7e(n,e){n.uniform1uiv(this.addr,e)}function d7e(n,e){n.uniform2uiv(this.addr,e)}function A7e(n,e){n.uniform3uiv(this.addr,e)}function p7e(n,e){n.uniform4uiv(this.addr,e)}function m7e(n,e,t){const i=this.cache,r=e.length,s=ES(t,r);ra(i,s)||(n.uniform1iv(this.addr,s),sa(i,s));for(let a=0;a!==r;++a)t.setTexture2D(e[a]||_$,s[a])}function g7e(n,e,t){const i=this.cache,r=e.length,s=ES(t,r);ra(i,s)||(n.uniform1iv(this.addr,s),sa(i,s));for(let a=0;a!==r;++a)t.setTexture3D(e[a]||S$,s[a])}function y7e(n,e,t){const i=this.cache,r=e.length,s=ES(t,r);ra(i,s)||(n.uniform1iv(this.addr,s),sa(i,s));for(let a=0;a!==r;++a)t.setTextureCube(e[a]||T$,s[a])}function v7e(n,e,t){const i=this.cache,r=e.length,s=ES(t,r);ra(i,s)||(n.uniform1iv(this.addr,s),sa(i,s));for(let a=0;a!==r;++a)t.setTexture2DArray(e[a]||b$,s[a])}function x7e(n){switch(n){case 5126:return t7e;case 35664:return n7e;case 35665:return i7e;case 35666:return r7e;case 35674:return s7e;case 35675:return a7e;case 35676:return o7e;case 5124:case 35670:return l7e;case 35667:case 35671:return u7e;case 35668:case 35672:return c7e;case 35669:case 35673:return f7e;case 5125:return h7e;case 36294:return d7e;case 36295:return A7e;case 36296:return p7e;case 35678:case 36198:case 36298:case 36306:case 35682:return m7e;case 35679:case 36299:case 36307:return g7e;case 35680:case 36300:case 36308:case 36293:return y7e;case 36289:case 36303:case 36311:case 36292:return v7e}}class _7e{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=e7e(t.type)}}class b7e{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=x7e(t.type)}}class S7e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,a=r.length;s!==a;++s){const o=r[s];o.setValue(e,t[o.id],i)}}}const NE=/(\w+)(\])?(\[|\.)?/g;function xV(n,e){n.seq.push(e),n.map[e.id]=e}function T7e(n,e,t){const i=n.name,r=i.length;for(NE.lastIndex=0;;){const s=NE.exec(i),a=NE.lastIndex;let o=s[1];const l=s[2]==="]",u=s[3];if(l&&(o=o|0),u===void 0||u==="["&&a+2===r){xV(t,u===void 0?new _7e(o,n,e):new b7e(o,n,e));break}else{let f=t.map[o];f===void 0&&(f=new S7e(o),xV(t,f)),t=f}}}class nx{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),a=e.getUniformLocation(t,s.name);T7e(s,a,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,a=t.length;s!==a;++s){const o=t[s],l=i[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const a=e[r];a.id in t&&i.push(a)}return i}}function _V(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const M7e=37297;let E7e=0;function w7e(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let a=r;a<s;a++){const o=a+1;i.push(`${o===e?">":" "} ${o}: ${t[a]}`)}return i.join(`
`)}const bV=new On;function R7e(n){wn._getMatrix(bV,wn.workingColorSpace,n);const e=`mat3( ${bV.elements.map(t=>t.toFixed(4))} )`;switch(wn.getTransfer(n)){case eh:return[e,"LinearTransferOETF"];case Xt:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function SV(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const a=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+w7e(n.getShaderSource(e),a)}else return r}function C7e(n,e){const t=R7e(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function N7e(n,e){let t;switch(e){case UP:t="Linear";break;case OP:t="Reinhard";break;case IP:t="Cineon";break;case Yb:t="ACESFilmic";break;case FP:t="AgX";break;case zP:t="Neutral";break;case hQ:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const Vy=new re;function D7e(){wn.getLuminanceCoefficients(Vy);const n=Vy.x.toFixed(4),e=Vy.y.toFixed(4),t=Vy.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function P7e(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(N9).join(`
`)}function L7e(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function B7e(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),a=s.name;let o=1;s.type===n.FLOAT_MAT2&&(o=2),s.type===n.FLOAT_MAT3&&(o=3),s.type===n.FLOAT_MAT4&&(o=4),t[a]={type:s.type,location:n.getAttribLocation(e,a),locationSize:o}}return t}function N9(n){return n!==""}function TV(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function MV(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const U7e=/^[ \t]*#include +<([\w\d./]+)>/gm;function RC(n){return n.replace(U7e,I7e)}const O7e=new Map;function I7e(n,e){let t=Hn[e];if(t===void 0){const i=O7e.get(e);if(i!==void 0)t=Hn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return RC(t)}const F7e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function EV(n){return n.replace(F7e,z7e)}function z7e(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function wV(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function V7e(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===Xp?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===lA?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===So&&(e="SHADOWMAP_TYPE_VSM"),e}function k7e(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Xl:case U0:e="ENVMAP_TYPE_CUBE";break;case kc:e="ENVMAP_TYPE_CUBE_UV";break}return e}function G7e(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case U0:e="ENVMAP_MODE_REFRACTION";break}return e}function q7e(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case x8:e="ENVMAP_BLENDING_MULTIPLY";break;case LP:e="ENVMAP_BLENDING_MIX";break;case BP:e="ENVMAP_BLENDING_ADD";break}return e}function H7e(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function j7e(n,e,t,i){const r=n.getContext(),s=t.defines;let a=t.vertexShader,o=t.fragmentShader;const l=V7e(t),u=k7e(t),c=G7e(t),f=q7e(t),m=H7e(t),v=P7e(t),_=L7e(s),T=r.createProgram();let M,S,R=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(M=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(N9).join(`
`),M.length>0&&(M+=`
`),S=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_].filter(N9).join(`
`),S.length>0&&(S+=`
`)):(M=[wV(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(N9).join(`
`),S=[wV(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,_,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",m?"#define CUBEUV_TEXEL_WIDTH "+m.texelWidth:"",m?"#define CUBEUV_TEXEL_HEIGHT "+m.texelHeight:"",m?"#define CUBEUV_MAX_MIP "+m.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==co?"#define TONE_MAPPING":"",t.toneMapping!==co?Hn.tonemapping_pars_fragment:"",t.toneMapping!==co?N7e("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Hn.colorspace_pars_fragment,C7e("linearToOutputTexel",t.outputColorSpace),D7e(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(N9).join(`
`)),a=RC(a),a=TV(a,t),a=MV(a,t),o=RC(o),o=TV(o,t),o=MV(o,t),a=EV(a),o=EV(o),t.isRawShaderMaterial!==!0&&(R=`#version 300 es
`,M=[v,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+M,S=["#define varying in",t.glslVersion===yC?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===yC?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+S);const C=R+M+a,P=R+S+o,B=_V(r,r.VERTEX_SHADER,C),O=_V(r,r.FRAGMENT_SHADER,P);r.attachShader(T,B),r.attachShader(T,O),t.index0AttributeName!==void 0?r.bindAttribLocation(T,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(T,0,"position"),r.linkProgram(T);function V(H){if(n.debug.checkShaderErrors){const Z=r.getProgramInfoLog(T).trim(),$=r.getShaderInfoLog(B).trim(),ae=r.getShaderInfoLog(O).trim();let ne=!0,Y=!0;if(r.getProgramParameter(T,r.LINK_STATUS)===!1)if(ne=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,T,B,O);else{const ee=SV(r,B,"vertex"),Q=SV(r,O,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(T,r.VALIDATE_STATUS)+`

Material Name: `+H.name+`
Material Type: `+H.type+`

Program Info Log: `+Z+`
`+ee+`
`+Q)}else Z!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Z):($===""||ae==="")&&(Y=!1);Y&&(H.diagnostics={runnable:ne,programLog:Z,vertexShader:{log:$,prefix:M},fragmentShader:{log:ae,prefix:S}})}r.deleteShader(B),r.deleteShader(O),F=new nx(r,T),z=B7e(r,T)}let F;this.getUniforms=function(){return F===void 0&&V(this),F};let z;this.getAttributes=function(){return z===void 0&&V(this),z};let k=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return k===!1&&(k=r.getProgramParameter(T,M7e)),k},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(T),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=E7e++,this.cacheKey=e,this.usedTimes=1,this.program=T,this.vertexShader=B,this.fragmentShader=O,this}let W7e=0;class X7e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),a=this._getShaderCacheForMaterial(e);return a.has(r)===!1&&(a.add(r),r.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new Y7e(e),t.set(e,i)),i}}class Y7e{constructor(e){this.id=W7e++,this.code=e,this.usedTimes=0}}function Q7e(n,e,t,i,r,s,a){const o=new kd,l=new X7e,u=new Set,c=[],f=r.logarithmicDepthBuffer,m=r.vertexTextures;let v=r.precision;const _={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function T(z){return u.add(z),z===0?"uv":`uv${z}`}function M(z,k,H,Z,$){const ae=Z.fog,ne=$.geometry,Y=z.isMeshStandardMaterial?Z.environment:null,ee=(z.isMeshStandardMaterial?t:e).get(z.envMap||Y),Q=ee&&ee.mapping===kc?ee.image.height:null,fe=_[z.type];z.precision!==null&&(v=r.getMaxPrecision(z.precision),v!==z.precision&&console.warn("THREE.WebGLProgram.getParameters:",z.precision,"not supported, using",v,"instead."));const ge=ne.morphAttributes.position||ne.morphAttributes.normal||ne.morphAttributes.color,Re=ge!==void 0?ge.length:0;let Ge=0;ne.morphAttributes.position!==void 0&&(Ge=1),ne.morphAttributes.normal!==void 0&&(Ge=2),ne.morphAttributes.color!==void 0&&(Ge=3);let We,Se,qe,St;if(fe){const Yn=To[fe];We=Yn.vertexShader,Se=Yn.fragmentShader}else We=z.vertexShader,Se=z.fragmentShader,l.update(z),qe=l.getVertexShaderID(z),St=l.getFragmentShaderID(z);const at=n.getRenderTarget(),Ct=n.state.buffers.depth.getReversed(),Jt=$.isInstancedMesh===!0,It=$.isBatchedMesh===!0,Sn=!!z.map,hn=!!z.matcap,$t=!!ee,ce=!!z.aoMap,bt=!!z.lightMap,At=!!z.bumpMap,mt=!!z.normalMap,et=!!z.displacementMap,Ft=!!z.emissiveMap,gt=!!z.metalnessMap,Ut=!!z.roughnessMap,Tn=z.anisotropy>0,me=z.clearcoat>0,ie=z.dispersion>0,Ie=z.iridescence>0,Ke=z.sheen>0,ut=z.transmission>0,Ze=Tn&&!!z.anisotropyMap,nn=me&&!!z.clearcoatMap,Ot=me&&!!z.clearcoatNormalMap,Kt=me&&!!z.clearcoatRoughnessMap,tn=Ie&&!!z.iridescenceMap,ct=Ie&&!!z.iridescenceThicknessMap,Vt=Ke&&!!z.sheenColorMap,fn=Ke&&!!z.sheenRoughnessMap,ve=!!z.specularMap,Fe=!!z.specularColorMap,Tt=!!z.specularIntensityMap,le=ut&&!!z.transmissionMap,wt=ut&&!!z.thicknessMap,ft=!!z.gradientMap,Gt=!!z.alphaMap,Mt=z.alphaTest>0,rt=!!z.alphaHash,qt=!!z.extensions;let cn=co;z.toneMapped&&(at===null||at.isXRRenderTarget===!0)&&(cn=n.toneMapping);const ai={shaderID:fe,shaderType:z.type,shaderName:z.name,vertexShader:We,fragmentShader:Se,defines:z.defines,customVertexShaderID:qe,customFragmentShaderID:St,isRawShaderMaterial:z.isRawShaderMaterial===!0,glslVersion:z.glslVersion,precision:v,batching:It,batchingColor:It&&$._colorsTexture!==null,instancing:Jt,instancingColor:Jt&&$.instanceColor!==null,instancingMorph:Jt&&$.morphTexture!==null,supportsVertexTextures:m,outputColorSpace:at===null?n.outputColorSpace:at.isXRRenderTarget===!0?at.texture.colorSpace:ql,alphaToCoverage:!!z.alphaToCoverage,map:Sn,matcap:hn,envMap:$t,envMapMode:$t&&ee.mapping,envMapCubeUVHeight:Q,aoMap:ce,lightMap:bt,bumpMap:At,normalMap:mt,displacementMap:m&&et,emissiveMap:Ft,normalMapObjectSpace:mt&&z.normalMapType===kP,normalMapTangentSpace:mt&&z.normalMapType===v1,metalnessMap:gt,roughnessMap:Ut,anisotropy:Tn,anisotropyMap:Ze,clearcoat:me,clearcoatMap:nn,clearcoatNormalMap:Ot,clearcoatRoughnessMap:Kt,dispersion:ie,iridescence:Ie,iridescenceMap:tn,iridescenceThicknessMap:ct,sheen:Ke,sheenColorMap:Vt,sheenRoughnessMap:fn,specularMap:ve,specularColorMap:Fe,specularIntensityMap:Tt,transmission:ut,transmissionMap:le,thicknessMap:wt,gradientMap:ft,opaque:z.transparent===!1&&z.blending===uo&&z.alphaToCoverage===!1,alphaMap:Gt,alphaTest:Mt,alphaHash:rt,combine:z.combine,mapUv:Sn&&T(z.map.channel),aoMapUv:ce&&T(z.aoMap.channel),lightMapUv:bt&&T(z.lightMap.channel),bumpMapUv:At&&T(z.bumpMap.channel),normalMapUv:mt&&T(z.normalMap.channel),displacementMapUv:et&&T(z.displacementMap.channel),emissiveMapUv:Ft&&T(z.emissiveMap.channel),metalnessMapUv:gt&&T(z.metalnessMap.channel),roughnessMapUv:Ut&&T(z.roughnessMap.channel),anisotropyMapUv:Ze&&T(z.anisotropyMap.channel),clearcoatMapUv:nn&&T(z.clearcoatMap.channel),clearcoatNormalMapUv:Ot&&T(z.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Kt&&T(z.clearcoatRoughnessMap.channel),iridescenceMapUv:tn&&T(z.iridescenceMap.channel),iridescenceThicknessMapUv:ct&&T(z.iridescenceThicknessMap.channel),sheenColorMapUv:Vt&&T(z.sheenColorMap.channel),sheenRoughnessMapUv:fn&&T(z.sheenRoughnessMap.channel),specularMapUv:ve&&T(z.specularMap.channel),specularColorMapUv:Fe&&T(z.specularColorMap.channel),specularIntensityMapUv:Tt&&T(z.specularIntensityMap.channel),transmissionMapUv:le&&T(z.transmissionMap.channel),thicknessMapUv:wt&&T(z.thicknessMap.channel),alphaMapUv:Gt&&T(z.alphaMap.channel),vertexTangents:!!ne.attributes.tangent&&(mt||Tn),vertexColors:z.vertexColors,vertexAlphas:z.vertexColors===!0&&!!ne.attributes.color&&ne.attributes.color.itemSize===4,pointsUvs:$.isPoints===!0&&!!ne.attributes.uv&&(Sn||Gt),fog:!!ae,useFog:z.fog===!0,fogExp2:!!ae&&ae.isFogExp2,flatShading:z.flatShading===!0&&z.wireframe===!1,sizeAttenuation:z.sizeAttenuation===!0,logarithmicDepthBuffer:f,reverseDepthBuffer:Ct,skinning:$.isSkinnedMesh===!0,morphTargets:ne.morphAttributes.position!==void 0,morphNormals:ne.morphAttributes.normal!==void 0,morphColors:ne.morphAttributes.color!==void 0,morphTargetsCount:Re,morphTextureStride:Ge,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numLightProbes:k.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:z.dithering,shadowMapEnabled:n.shadowMap.enabled&&H.length>0,shadowMapType:n.shadowMap.type,toneMapping:cn,decodeVideoTexture:Sn&&z.map.isVideoTexture===!0&&wn.getTransfer(z.map.colorSpace)===Xt,decodeVideoTextureEmissive:Ft&&z.emissiveMap.isVideoTexture===!0&&wn.getTransfer(z.emissiveMap.colorSpace)===Xt,premultipliedAlpha:z.premultipliedAlpha,doubleSided:z.side===hs,flipSided:z.side===Zi,useDepthPacking:z.depthPacking>=0,depthPacking:z.depthPacking||0,index0AttributeName:z.index0AttributeName,extensionClipCullDistance:qt&&z.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(qt&&z.extensions.multiDraw===!0||It)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:z.customProgramCacheKey()};return ai.vertexUv1s=u.has(1),ai.vertexUv2s=u.has(2),ai.vertexUv3s=u.has(3),u.clear(),ai}function S(z){const k=[];if(z.shaderID?k.push(z.shaderID):(k.push(z.customVertexShaderID),k.push(z.customFragmentShaderID)),z.defines!==void 0)for(const H in z.defines)k.push(H),k.push(z.defines[H]);return z.isRawShaderMaterial===!1&&(R(k,z),C(k,z),k.push(n.outputColorSpace)),k.push(z.customProgramCacheKey),k.join()}function R(z,k){z.push(k.precision),z.push(k.outputColorSpace),z.push(k.envMapMode),z.push(k.envMapCubeUVHeight),z.push(k.mapUv),z.push(k.alphaMapUv),z.push(k.lightMapUv),z.push(k.aoMapUv),z.push(k.bumpMapUv),z.push(k.normalMapUv),z.push(k.displacementMapUv),z.push(k.emissiveMapUv),z.push(k.metalnessMapUv),z.push(k.roughnessMapUv),z.push(k.anisotropyMapUv),z.push(k.clearcoatMapUv),z.push(k.clearcoatNormalMapUv),z.push(k.clearcoatRoughnessMapUv),z.push(k.iridescenceMapUv),z.push(k.iridescenceThicknessMapUv),z.push(k.sheenColorMapUv),z.push(k.sheenRoughnessMapUv),z.push(k.specularMapUv),z.push(k.specularColorMapUv),z.push(k.specularIntensityMapUv),z.push(k.transmissionMapUv),z.push(k.thicknessMapUv),z.push(k.combine),z.push(k.fogExp2),z.push(k.sizeAttenuation),z.push(k.morphTargetsCount),z.push(k.morphAttributeCount),z.push(k.numDirLights),z.push(k.numPointLights),z.push(k.numSpotLights),z.push(k.numSpotLightMaps),z.push(k.numHemiLights),z.push(k.numRectAreaLights),z.push(k.numDirLightShadows),z.push(k.numPointLightShadows),z.push(k.numSpotLightShadows),z.push(k.numSpotLightShadowsWithMaps),z.push(k.numLightProbes),z.push(k.shadowMapType),z.push(k.toneMapping),z.push(k.numClippingPlanes),z.push(k.numClipIntersection),z.push(k.depthPacking)}function C(z,k){o.disableAll(),k.supportsVertexTextures&&o.enable(0),k.instancing&&o.enable(1),k.instancingColor&&o.enable(2),k.instancingMorph&&o.enable(3),k.matcap&&o.enable(4),k.envMap&&o.enable(5),k.normalMapObjectSpace&&o.enable(6),k.normalMapTangentSpace&&o.enable(7),k.clearcoat&&o.enable(8),k.iridescence&&o.enable(9),k.alphaTest&&o.enable(10),k.vertexColors&&o.enable(11),k.vertexAlphas&&o.enable(12),k.vertexUv1s&&o.enable(13),k.vertexUv2s&&o.enable(14),k.vertexUv3s&&o.enable(15),k.vertexTangents&&o.enable(16),k.anisotropy&&o.enable(17),k.alphaHash&&o.enable(18),k.batching&&o.enable(19),k.dispersion&&o.enable(20),k.batchingColor&&o.enable(21),k.gradientMap&&o.enable(22),z.push(o.mask),o.disableAll(),k.fog&&o.enable(0),k.useFog&&o.enable(1),k.flatShading&&o.enable(2),k.logarithmicDepthBuffer&&o.enable(3),k.reverseDepthBuffer&&o.enable(4),k.skinning&&o.enable(5),k.morphTargets&&o.enable(6),k.morphNormals&&o.enable(7),k.morphColors&&o.enable(8),k.premultipliedAlpha&&o.enable(9),k.shadowMapEnabled&&o.enable(10),k.doubleSided&&o.enable(11),k.flipSided&&o.enable(12),k.useDepthPacking&&o.enable(13),k.dithering&&o.enable(14),k.transmission&&o.enable(15),k.sheen&&o.enable(16),k.opaque&&o.enable(17),k.pointsUvs&&o.enable(18),k.decodeVideoTexture&&o.enable(19),k.decodeVideoTextureEmissive&&o.enable(20),k.alphaToCoverage&&o.enable(21),z.push(o.mask)}function P(z){const k=_[z.type];let H;if(k){const Z=To[k];H=lS.clone(Z.uniforms)}else H=z.uniforms;return H}function B(z,k){let H;for(let Z=0,$=c.length;Z<$;Z++){const ae=c[Z];if(ae.cacheKey===k){H=ae,++H.usedTimes;break}}return H===void 0&&(H=new j7e(n,k,z,s),c.push(H)),H}function O(z){if(--z.usedTimes===0){const k=c.indexOf(z);c[k]=c[c.length-1],c.pop(),z.destroy()}}function V(z){l.remove(z)}function F(){l.dispose()}return{getParameters:M,getProgramCacheKey:S,getUniforms:P,acquireProgram:B,releaseProgram:O,releaseShaderCache:V,programs:c,dispose:F}}function $7e(){let n=new WeakMap;function e(a){return n.has(a)}function t(a){let o=n.get(a);return o===void 0&&(o={},n.set(a,o)),o}function i(a){n.delete(a)}function r(a,o,l){n.get(a)[o]=l}function s(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:s}}function K7e(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function RV(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function CV(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function a(f,m,v,_,T,M){let S=n[e];return S===void 0?(S={id:f.id,object:f,geometry:m,material:v,groupOrder:_,renderOrder:f.renderOrder,z:T,group:M},n[e]=S):(S.id=f.id,S.object=f,S.geometry=m,S.material=v,S.groupOrder=_,S.renderOrder=f.renderOrder,S.z=T,S.group=M),e++,S}function o(f,m,v,_,T,M){const S=a(f,m,v,_,T,M);v.transmission>0?i.push(S):v.transparent===!0?r.push(S):t.push(S)}function l(f,m,v,_,T,M){const S=a(f,m,v,_,T,M);v.transmission>0?i.unshift(S):v.transparent===!0?r.unshift(S):t.unshift(S)}function u(f,m){t.length>1&&t.sort(f||K7e),i.length>1&&i.sort(m||RV),r.length>1&&r.sort(m||RV)}function c(){for(let f=e,m=n.length;f<m;f++){const v=n[f];if(v.id===null)break;v.id=null,v.object=null,v.geometry=null,v.material=null,v.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:o,unshift:l,finish:c,sort:u}}function Z7e(){let n=new WeakMap;function e(i,r){const s=n.get(i);let a;return s===void 0?(a=new CV,n.set(i,[a])):r>=s.length?(a=new CV,s.push(a)):a=s[r],a}function t(){n=new WeakMap}return{get:e,dispose:t}}function J7e(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new re,color:new Nt};break;case"SpotLight":t={position:new re,direction:new re,color:new Nt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new re,color:new Nt,distance:0,decay:0};break;case"HemisphereLight":t={direction:new re,skyColor:new Nt,groundColor:new Nt};break;case"RectAreaLight":t={color:new Nt,position:new re,halfWidth:new re,halfHeight:new re};break}return n[e.id]=t,t}}}function e9e(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ye};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ye};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ye,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let t9e=0;function n9e(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function i9e(n){const e=new J7e,t=e9e(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new re);const r=new re,s=new Yt,a=new Yt;function o(u){let c=0,f=0,m=0;for(let z=0;z<9;z++)i.probe[z].set(0,0,0);let v=0,_=0,T=0,M=0,S=0,R=0,C=0,P=0,B=0,O=0,V=0;u.sort(n9e);for(let z=0,k=u.length;z<k;z++){const H=u[z],Z=H.color,$=H.intensity,ae=H.distance,ne=H.shadow&&H.shadow.map?H.shadow.map.texture:null;if(H.isAmbientLight)c+=Z.r*$,f+=Z.g*$,m+=Z.b*$;else if(H.isLightProbe){for(let Y=0;Y<9;Y++)i.probe[Y].addScaledVector(H.sh.coefficients[Y],$);V++}else if(H.isDirectionalLight){const Y=e.get(H);if(Y.color.copy(H.color).multiplyScalar(H.intensity),H.castShadow){const ee=H.shadow,Q=t.get(H);Q.shadowIntensity=ee.intensity,Q.shadowBias=ee.bias,Q.shadowNormalBias=ee.normalBias,Q.shadowRadius=ee.radius,Q.shadowMapSize=ee.mapSize,i.directionalShadow[v]=Q,i.directionalShadowMap[v]=ne,i.directionalShadowMatrix[v]=H.shadow.matrix,R++}i.directional[v]=Y,v++}else if(H.isSpotLight){const Y=e.get(H);Y.position.setFromMatrixPosition(H.matrixWorld),Y.color.copy(Z).multiplyScalar($),Y.distance=ae,Y.coneCos=Math.cos(H.angle),Y.penumbraCos=Math.cos(H.angle*(1-H.penumbra)),Y.decay=H.decay,i.spot[T]=Y;const ee=H.shadow;if(H.map&&(i.spotLightMap[B]=H.map,B++,ee.updateMatrices(H),H.castShadow&&O++),i.spotLightMatrix[T]=ee.matrix,H.castShadow){const Q=t.get(H);Q.shadowIntensity=ee.intensity,Q.shadowBias=ee.bias,Q.shadowNormalBias=ee.normalBias,Q.shadowRadius=ee.radius,Q.shadowMapSize=ee.mapSize,i.spotShadow[T]=Q,i.spotShadowMap[T]=ne,P++}T++}else if(H.isRectAreaLight){const Y=e.get(H);Y.color.copy(Z).multiplyScalar($),Y.halfWidth.set(H.width*.5,0,0),Y.halfHeight.set(0,H.height*.5,0),i.rectArea[M]=Y,M++}else if(H.isPointLight){const Y=e.get(H);if(Y.color.copy(H.color).multiplyScalar(H.intensity),Y.distance=H.distance,Y.decay=H.decay,H.castShadow){const ee=H.shadow,Q=t.get(H);Q.shadowIntensity=ee.intensity,Q.shadowBias=ee.bias,Q.shadowNormalBias=ee.normalBias,Q.shadowRadius=ee.radius,Q.shadowMapSize=ee.mapSize,Q.shadowCameraNear=ee.camera.near,Q.shadowCameraFar=ee.camera.far,i.pointShadow[_]=Q,i.pointShadowMap[_]=ne,i.pointShadowMatrix[_]=H.shadow.matrix,C++}i.point[_]=Y,_++}else if(H.isHemisphereLight){const Y=e.get(H);Y.skyColor.copy(H.color).multiplyScalar($),Y.groundColor.copy(H.groundColor).multiplyScalar($),i.hemi[S]=Y,S++}}M>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=zt.LTC_FLOAT_1,i.rectAreaLTC2=zt.LTC_FLOAT_2):(i.rectAreaLTC1=zt.LTC_HALF_1,i.rectAreaLTC2=zt.LTC_HALF_2)),i.ambient[0]=c,i.ambient[1]=f,i.ambient[2]=m;const F=i.hash;(F.directionalLength!==v||F.pointLength!==_||F.spotLength!==T||F.rectAreaLength!==M||F.hemiLength!==S||F.numDirectionalShadows!==R||F.numPointShadows!==C||F.numSpotShadows!==P||F.numSpotMaps!==B||F.numLightProbes!==V)&&(i.directional.length=v,i.spot.length=T,i.rectArea.length=M,i.point.length=_,i.hemi.length=S,i.directionalShadow.length=R,i.directionalShadowMap.length=R,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=R,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=P+B-O,i.spotLightMap.length=B,i.numSpotLightShadowsWithMaps=O,i.numLightProbes=V,F.directionalLength=v,F.pointLength=_,F.spotLength=T,F.rectAreaLength=M,F.hemiLength=S,F.numDirectionalShadows=R,F.numPointShadows=C,F.numSpotShadows=P,F.numSpotMaps=B,F.numLightProbes=V,i.version=t9e++)}function l(u,c){let f=0,m=0,v=0,_=0,T=0;const M=c.matrixWorldInverse;for(let S=0,R=u.length;S<R;S++){const C=u[S];if(C.isDirectionalLight){const P=i.directional[f];P.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),P.direction.sub(r),P.direction.transformDirection(M),f++}else if(C.isSpotLight){const P=i.spot[v];P.position.setFromMatrixPosition(C.matrixWorld),P.position.applyMatrix4(M),P.direction.setFromMatrixPosition(C.matrixWorld),r.setFromMatrixPosition(C.target.matrixWorld),P.direction.sub(r),P.direction.transformDirection(M),v++}else if(C.isRectAreaLight){const P=i.rectArea[_];P.position.setFromMatrixPosition(C.matrixWorld),P.position.applyMatrix4(M),a.identity(),s.copy(C.matrixWorld),s.premultiply(M),a.extractRotation(s),P.halfWidth.set(C.width*.5,0,0),P.halfHeight.set(0,C.height*.5,0),P.halfWidth.applyMatrix4(a),P.halfHeight.applyMatrix4(a),_++}else if(C.isPointLight){const P=i.point[m];P.position.setFromMatrixPosition(C.matrixWorld),P.position.applyMatrix4(M),m++}else if(C.isHemisphereLight){const P=i.hemi[T];P.direction.setFromMatrixPosition(C.matrixWorld),P.direction.transformDirection(M),T++}}}return{setup:o,setupView:l,state:i}}function NV(n){const e=new i9e(n),t=[],i=[];function r(c){u.camera=c,t.length=0,i.length=0}function s(c){t.push(c)}function a(c){i.push(c)}function o(){e.setup(t)}function l(c){e.setupView(t,c)}const u={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:u,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function r9e(n){let e=new WeakMap;function t(r,s=0){const a=e.get(r);let o;return a===void 0?(o=new NV(n),e.set(r,[o])):s>=a.length?(o=new NV(n),a.push(o)):o=a[s],o}function i(){e=new WeakMap}return{get:t,dispose:i}}const s9e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,a9e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function o9e(n,e,t){let i=new I3;const r=new Ye,s=new Ye,a=new ln,o=new uL({depthPacking:bQ}),l=new cL,u={},c=t.maxTextureSize,f={[Bo]:Zi,[Zi]:Bo,[hs]:hs},m=new Uo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ye},radius:{value:4}},vertexShader:s9e,fragmentShader:a9e}),v=m.clone();v.defines.HORIZONTAL_PASS=1;const _=new bn;_.setAttribute("position",new di(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const T=new ii(_,m),M=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Xp;let S=this.type;this.render=function(O,V,F){if(M.enabled===!1||M.autoUpdate===!1&&M.needsUpdate===!1||O.length===0)return;const z=n.getRenderTarget(),k=n.getActiveCubeFace(),H=n.getActiveMipmapLevel(),Z=n.state;Z.setBlending(nl),Z.buffers.color.setClear(1,1,1,1),Z.buffers.depth.setTest(!0),Z.setScissorTest(!1);const $=S!==So&&this.type===So,ae=S===So&&this.type!==So;for(let ne=0,Y=O.length;ne<Y;ne++){const ee=O[ne],Q=ee.shadow;if(Q===void 0){console.warn("THREE.WebGLShadowMap:",ee,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;r.copy(Q.mapSize);const fe=Q.getFrameExtents();if(r.multiply(fe),s.copy(Q.mapSize),(r.x>c||r.y>c)&&(r.x>c&&(s.x=Math.floor(c/fe.x),r.x=s.x*fe.x,Q.mapSize.x=s.x),r.y>c&&(s.y=Math.floor(c/fe.y),r.y=s.y*fe.y,Q.mapSize.y=s.y)),Q.map===null||$===!0||ae===!0){const Re=this.type!==So?{minFilter:fr,magFilter:fr}:{};Q.map!==null&&Q.map.dispose(),Q.map=new x1(r.x,r.y,Re),Q.map.texture.name=ee.name+".shadowMap",Q.camera.updateProjectionMatrix()}n.setRenderTarget(Q.map),n.clear();const ge=Q.getViewportCount();for(let Re=0;Re<ge;Re++){const Ge=Q.getViewport(Re);a.set(s.x*Ge.x,s.y*Ge.y,s.x*Ge.z,s.y*Ge.w),Z.viewport(a),Q.updateMatrices(ee,Re),i=Q.getFrustum(),P(V,F,Q.camera,ee,this.type)}Q.isPointLightShadow!==!0&&this.type===So&&R(Q,F),Q.needsUpdate=!1}S=this.type,M.needsUpdate=!1,n.setRenderTarget(z,k,H)};function R(O,V){const F=e.update(T);m.defines.VSM_SAMPLES!==O.blurSamples&&(m.defines.VSM_SAMPLES=O.blurSamples,v.defines.VSM_SAMPLES=O.blurSamples,m.needsUpdate=!0,v.needsUpdate=!0),O.mapPass===null&&(O.mapPass=new x1(r.x,r.y)),m.uniforms.shadow_pass.value=O.map.texture,m.uniforms.resolution.value=O.mapSize,m.uniforms.radius.value=O.radius,n.setRenderTarget(O.mapPass),n.clear(),n.renderBufferDirect(V,null,F,m,T,null),v.uniforms.shadow_pass.value=O.mapPass.texture,v.uniforms.resolution.value=O.mapSize,v.uniforms.radius.value=O.radius,n.setRenderTarget(O.map),n.clear(),n.renderBufferDirect(V,null,F,v,T,null)}function C(O,V,F,z){let k=null;const H=F.isPointLight===!0?O.customDistanceMaterial:O.customDepthMaterial;if(H!==void 0)k=H;else if(k=F.isPointLight===!0?l:o,n.localClippingEnabled&&V.clipShadows===!0&&Array.isArray(V.clippingPlanes)&&V.clippingPlanes.length!==0||V.displacementMap&&V.displacementScale!==0||V.alphaMap&&V.alphaTest>0||V.map&&V.alphaTest>0||V.alphaToCoverage===!0){const Z=k.uuid,$=V.uuid;let ae=u[Z];ae===void 0&&(ae={},u[Z]=ae);let ne=ae[$];ne===void 0&&(ne=k.clone(),ae[$]=ne,V.addEventListener("dispose",B)),k=ne}if(k.visible=V.visible,k.wireframe=V.wireframe,z===So?k.side=V.shadowSide!==null?V.shadowSide:V.side:k.side=V.shadowSide!==null?V.shadowSide:f[V.side],k.alphaMap=V.alphaMap,k.alphaTest=V.alphaToCoverage===!0?.5:V.alphaTest,k.map=V.map,k.clipShadows=V.clipShadows,k.clippingPlanes=V.clippingPlanes,k.clipIntersection=V.clipIntersection,k.displacementMap=V.displacementMap,k.displacementScale=V.displacementScale,k.displacementBias=V.displacementBias,k.wireframeLinewidth=V.wireframeLinewidth,k.linewidth=V.linewidth,F.isPointLight===!0&&k.isMeshDistanceMaterial===!0){const Z=n.properties.get(k);Z.light=F}return k}function P(O,V,F,z,k){if(O.visible===!1)return;if(O.layers.test(V.layers)&&(O.isMesh||O.isLine||O.isPoints)&&(O.castShadow||O.receiveShadow&&k===So)&&(!O.frustumCulled||i.intersectsObject(O))){O.modelViewMatrix.multiplyMatrices(F.matrixWorldInverse,O.matrixWorld);const $=e.update(O),ae=O.material;if(Array.isArray(ae)){const ne=$.groups;for(let Y=0,ee=ne.length;Y<ee;Y++){const Q=ne[Y],fe=ae[Q.materialIndex];if(fe&&fe.visible){const ge=C(O,fe,z,k);O.onBeforeShadow(n,O,V,F,$,ge,Q),n.renderBufferDirect(F,null,$,ge,O,Q),O.onAfterShadow(n,O,V,F,$,ge,Q)}}}else if(ae.visible){const ne=C(O,ae,z,k);O.onBeforeShadow(n,O,V,F,$,ne,null),n.renderBufferDirect(F,null,$,ne,O,null),O.onAfterShadow(n,O,V,F,$,ne,null)}}const Z=O.children;for(let $=0,ae=Z.length;$<ae;$++)P(Z[$],V,F,z,k)}function B(O){O.target.removeEventListener("dispose",B);for(const F in u){const z=u[F],k=O.target.uuid;k in z&&(z[k].dispose(),delete z[k])}}}const l9e={[Md]:Ed,[wd]:Nd,[Rd]:Dd,[Vc]:Cd,[Ed]:Md,[Nd]:wd,[Dd]:Rd,[Cd]:Vc};function u9e(n,e){function t(){let le=!1;const wt=new ln;let ft=null;const Gt=new ln(0,0,0,0);return{setMask:function(Mt){ft!==Mt&&!le&&(n.colorMask(Mt,Mt,Mt,Mt),ft=Mt)},setLocked:function(Mt){le=Mt},setClear:function(Mt,rt,qt,cn,ai){ai===!0&&(Mt*=cn,rt*=cn,qt*=cn),wt.set(Mt,rt,qt,cn),Gt.equals(wt)===!1&&(n.clearColor(Mt,rt,qt,cn),Gt.copy(wt))},reset:function(){le=!1,ft=null,Gt.set(-1,0,0,0)}}}function i(){let le=!1,wt=!1,ft=null,Gt=null,Mt=null;return{setReversed:function(rt){if(wt!==rt){const qt=e.get("EXT_clip_control");rt?qt.clipControlEXT(qt.LOWER_LEFT_EXT,qt.ZERO_TO_ONE_EXT):qt.clipControlEXT(qt.LOWER_LEFT_EXT,qt.NEGATIVE_ONE_TO_ONE_EXT),wt=rt;const cn=Mt;Mt=null,this.setClear(cn)}},getReversed:function(){return wt},setTest:function(rt){rt?at(n.DEPTH_TEST):Ct(n.DEPTH_TEST)},setMask:function(rt){ft!==rt&&!le&&(n.depthMask(rt),ft=rt)},setFunc:function(rt){if(wt&&(rt=l9e[rt]),Gt!==rt){switch(rt){case Md:n.depthFunc(n.NEVER);break;case Ed:n.depthFunc(n.ALWAYS);break;case wd:n.depthFunc(n.LESS);break;case Vc:n.depthFunc(n.LEQUAL);break;case Rd:n.depthFunc(n.EQUAL);break;case Cd:n.depthFunc(n.GEQUAL);break;case Nd:n.depthFunc(n.GREATER);break;case Dd:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Gt=rt}},setLocked:function(rt){le=rt},setClear:function(rt){Mt!==rt&&(wt&&(rt=1-rt),n.clearDepth(rt),Mt=rt)},reset:function(){le=!1,ft=null,Gt=null,Mt=null,wt=!1}}}function r(){let le=!1,wt=null,ft=null,Gt=null,Mt=null,rt=null,qt=null,cn=null,ai=null;return{setTest:function(Yn){le||(Yn?at(n.STENCIL_TEST):Ct(n.STENCIL_TEST))},setMask:function(Yn){wt!==Yn&&!le&&(n.stencilMask(Yn),wt=Yn)},setFunc:function(Yn,Fr,zr){(ft!==Yn||Gt!==Fr||Mt!==zr)&&(n.stencilFunc(Yn,Fr,zr),ft=Yn,Gt=Fr,Mt=zr)},setOp:function(Yn,Fr,zr){(rt!==Yn||qt!==Fr||cn!==zr)&&(n.stencilOp(Yn,Fr,zr),rt=Yn,qt=Fr,cn=zr)},setLocked:function(Yn){le=Yn},setClear:function(Yn){ai!==Yn&&(n.clearStencil(Yn),ai=Yn)},reset:function(){le=!1,wt=null,ft=null,Gt=null,Mt=null,rt=null,qt=null,cn=null,ai=null}}}const s=new t,a=new i,o=new r,l=new WeakMap,u=new WeakMap;let c={},f={},m=new WeakMap,v=[],_=null,T=!1,M=null,S=null,R=null,C=null,P=null,B=null,O=null,V=new Nt(0,0,0),F=0,z=!1,k=null,H=null,Z=null,$=null,ae=null;const ne=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Y=!1,ee=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?(ee=parseFloat(/^WebGL (\d)/.exec(Q)[1]),Y=ee>=1):Q.indexOf("OpenGL ES")!==-1&&(ee=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),Y=ee>=2);let fe=null,ge={};const Re=n.getParameter(n.SCISSOR_BOX),Ge=n.getParameter(n.VIEWPORT),We=new ln().fromArray(Re),Se=new ln().fromArray(Ge);function qe(le,wt,ft,Gt){const Mt=new Uint8Array(4),rt=n.createTexture();n.bindTexture(le,rt),n.texParameteri(le,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(le,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let qt=0;qt<ft;qt++)le===n.TEXTURE_3D||le===n.TEXTURE_2D_ARRAY?n.texImage3D(wt,0,n.RGBA,1,1,Gt,0,n.RGBA,n.UNSIGNED_BYTE,Mt):n.texImage2D(wt+qt,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Mt);return rt}const St={};St[n.TEXTURE_2D]=qe(n.TEXTURE_2D,n.TEXTURE_2D,1),St[n.TEXTURE_CUBE_MAP]=qe(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),St[n.TEXTURE_2D_ARRAY]=qe(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),St[n.TEXTURE_3D]=qe(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),at(n.DEPTH_TEST),a.setFunc(Vc),At(!1),mt(s_),at(n.CULL_FACE),ce(nl);function at(le){c[le]!==!0&&(n.enable(le),c[le]=!0)}function Ct(le){c[le]!==!1&&(n.disable(le),c[le]=!1)}function Jt(le,wt){return f[le]!==wt?(n.bindFramebuffer(le,wt),f[le]=wt,le===n.DRAW_FRAMEBUFFER&&(f[n.FRAMEBUFFER]=wt),le===n.FRAMEBUFFER&&(f[n.DRAW_FRAMEBUFFER]=wt),!0):!1}function It(le,wt){let ft=v,Gt=!1;if(le){ft=m.get(wt),ft===void 0&&(ft=[],m.set(wt,ft));const Mt=le.textures;if(ft.length!==Mt.length||ft[0]!==n.COLOR_ATTACHMENT0){for(let rt=0,qt=Mt.length;rt<qt;rt++)ft[rt]=n.COLOR_ATTACHMENT0+rt;ft.length=Mt.length,Gt=!0}}else ft[0]!==n.BACK&&(ft[0]=n.BACK,Gt=!0);Gt&&n.drawBuffers(ft)}function Sn(le){return _!==le?(n.useProgram(le),_=le,!0):!1}const hn={[Oa]:n.FUNC_ADD,[Fb]:n.FUNC_SUBTRACT,[zb]:n.FUNC_REVERSE_SUBTRACT};hn[DP]=n.MIN,hn[PP]=n.MAX;const $t={[Ku]:n.ZERO,[Vb]:n.ONE,[kb]:n.SRC_COLOR,[Sd]:n.SRC_ALPHA,[Xb]:n.SRC_ALPHA_SATURATE,[jb]:n.DST_COLOR,[qb]:n.DST_ALPHA,[Gb]:n.ONE_MINUS_SRC_COLOR,[Td]:n.ONE_MINUS_SRC_ALPHA,[Wb]:n.ONE_MINUS_DST_COLOR,[Hb]:n.ONE_MINUS_DST_ALPHA,[lQ]:n.CONSTANT_COLOR,[uQ]:n.ONE_MINUS_CONSTANT_COLOR,[cQ]:n.CONSTANT_ALPHA,[fQ]:n.ONE_MINUS_CONSTANT_ALPHA};function ce(le,wt,ft,Gt,Mt,rt,qt,cn,ai,Yn){if(le===nl){T===!0&&(Ct(n.BLEND),T=!1);return}if(T===!1&&(at(n.BLEND),T=!0),le!==bf){if(le!==M||Yn!==z){if((S!==Oa||P!==Oa)&&(n.blendEquation(n.FUNC_ADD),S=Oa,P=Oa),Yn)switch(le){case uo:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Uf:n.blendFunc(n.ONE,n.ONE);break;case Of:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case If:n.blendFuncSeparate(n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ZERO,n.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}else switch(le){case uo:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case Uf:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE,n.ONE,n.ONE);break;case Of:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case If:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",le);break}R=null,C=null,B=null,O=null,V.set(0,0,0),F=0,M=le,z=Yn}return}Mt=Mt||wt,rt=rt||ft,qt=qt||Gt,(wt!==S||Mt!==P)&&(n.blendEquationSeparate(hn[wt],hn[Mt]),S=wt,P=Mt),(ft!==R||Gt!==C||rt!==B||qt!==O)&&(n.blendFuncSeparate($t[ft],$t[Gt],$t[rt],$t[qt]),R=ft,C=Gt,B=rt,O=qt),(cn.equals(V)===!1||ai!==F)&&(n.blendColor(cn.r,cn.g,cn.b,ai),V.copy(cn),F=ai),M=le,z=!1}function bt(le,wt){le.side===hs?Ct(n.CULL_FACE):at(n.CULL_FACE);let ft=le.side===Zi;wt&&(ft=!ft),At(ft),le.blending===uo&&le.transparent===!1?ce(nl):ce(le.blending,le.blendEquation,le.blendSrc,le.blendDst,le.blendEquationAlpha,le.blendSrcAlpha,le.blendDstAlpha,le.blendColor,le.blendAlpha,le.premultipliedAlpha),a.setFunc(le.depthFunc),a.setTest(le.depthTest),a.setMask(le.depthWrite),s.setMask(le.colorWrite);const Gt=le.stencilWrite;o.setTest(Gt),Gt&&(o.setMask(le.stencilWriteMask),o.setFunc(le.stencilFunc,le.stencilRef,le.stencilFuncMask),o.setOp(le.stencilFail,le.stencilZFail,le.stencilZPass)),Ft(le.polygonOffset,le.polygonOffsetFactor,le.polygonOffsetUnits),le.alphaToCoverage===!0?at(n.SAMPLE_ALPHA_TO_COVERAGE):Ct(n.SAMPLE_ALPHA_TO_COVERAGE)}function At(le){k!==le&&(le?n.frontFace(n.CW):n.frontFace(n.CCW),k=le)}function mt(le){le!==RP?(at(n.CULL_FACE),le!==H&&(le===s_?n.cullFace(n.BACK):le===CP?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Ct(n.CULL_FACE),H=le}function et(le){le!==Z&&(Y&&n.lineWidth(le),Z=le)}function Ft(le,wt,ft){le?(at(n.POLYGON_OFFSET_FILL),($!==wt||ae!==ft)&&(n.polygonOffset(wt,ft),$=wt,ae=ft)):Ct(n.POLYGON_OFFSET_FILL)}function gt(le){le?at(n.SCISSOR_TEST):Ct(n.SCISSOR_TEST)}function Ut(le){le===void 0&&(le=n.TEXTURE0+ne-1),fe!==le&&(n.activeTexture(le),fe=le)}function Tn(le,wt,ft){ft===void 0&&(fe===null?ft=n.TEXTURE0+ne-1:ft=fe);let Gt=ge[ft];Gt===void 0&&(Gt={type:void 0,texture:void 0},ge[ft]=Gt),(Gt.type!==le||Gt.texture!==wt)&&(fe!==ft&&(n.activeTexture(ft),fe=ft),n.bindTexture(le,wt||St[le]),Gt.type=le,Gt.texture=wt)}function me(){const le=ge[fe];le!==void 0&&le.type!==void 0&&(n.bindTexture(le.type,null),le.type=void 0,le.texture=void 0)}function ie(){try{n.compressedTexImage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ie(){try{n.compressedTexImage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ke(){try{n.texSubImage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ut(){try{n.texSubImage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ze(){try{n.compressedTexSubImage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function nn(){try{n.compressedTexSubImage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Ot(){try{n.texStorage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Kt(){try{n.texStorage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function tn(){try{n.texImage2D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function ct(){try{n.texImage3D(...arguments)}catch(le){console.error("THREE.WebGLState:",le)}}function Vt(le){We.equals(le)===!1&&(n.scissor(le.x,le.y,le.z,le.w),We.copy(le))}function fn(le){Se.equals(le)===!1&&(n.viewport(le.x,le.y,le.z,le.w),Se.copy(le))}function ve(le,wt){let ft=u.get(wt);ft===void 0&&(ft=new WeakMap,u.set(wt,ft));let Gt=ft.get(le);Gt===void 0&&(Gt=n.getUniformBlockIndex(wt,le.name),ft.set(le,Gt))}function Fe(le,wt){const Gt=u.get(wt).get(le);l.get(wt)!==Gt&&(n.uniformBlockBinding(wt,Gt,le.__bindingPointIndex),l.set(wt,Gt))}function Tt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),a.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),c={},fe=null,ge={},f={},m=new WeakMap,v=[],_=null,T=!1,M=null,S=null,R=null,C=null,P=null,B=null,O=null,V=new Nt(0,0,0),F=0,z=!1,k=null,H=null,Z=null,$=null,ae=null,We.set(0,0,n.canvas.width,n.canvas.height),Se.set(0,0,n.canvas.width,n.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:at,disable:Ct,bindFramebuffer:Jt,drawBuffers:It,useProgram:Sn,setBlending:ce,setMaterial:bt,setFlipSided:At,setCullFace:mt,setLineWidth:et,setPolygonOffset:Ft,setScissorTest:gt,activeTexture:Ut,bindTexture:Tn,unbindTexture:me,compressedTexImage2D:ie,compressedTexImage3D:Ie,texImage2D:tn,texImage3D:ct,updateUBOMapping:ve,uniformBlockBinding:Fe,texStorage2D:Ot,texStorage3D:Kt,texSubImage2D:Ke,texSubImage3D:ut,compressedTexSubImage2D:Ze,compressedTexSubImage3D:nn,scissor:Vt,viewport:fn,reset:Tt}}function c9e(n,e,t,i,r,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new Ye,c=new WeakMap;let f;const m=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function _(me,ie){return v?new OffscreenCanvas(me,ie):YA("canvas")}function T(me,ie,Ie){let Ke=1;const ut=Tn(me);if((ut.width>Ie||ut.height>Ie)&&(Ke=Ie/Math.max(ut.width,ut.height)),Ke<1)if(typeof HTMLImageElement<"u"&&me instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&me instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&me instanceof ImageBitmap||typeof VideoFrame<"u"&&me instanceof VideoFrame){const Ze=Math.floor(Ke*ut.width),nn=Math.floor(Ke*ut.height);f===void 0&&(f=_(Ze,nn));const Ot=ie?_(Ze,nn):f;return Ot.width=Ze,Ot.height=nn,Ot.getContext("2d").drawImage(me,0,0,Ze,nn),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ut.width+"x"+ut.height+") to ("+Ze+"x"+nn+")."),Ot}else return"data"in me&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ut.width+"x"+ut.height+")."),me;return me}function M(me){return me.generateMipmaps}function S(me){n.generateMipmap(me)}function R(me){return me.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:me.isWebGL3DRenderTarget?n.TEXTURE_3D:me.isWebGLArrayRenderTarget||me.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function C(me,ie,Ie,Ke,ut=!1){if(me!==null){if(n[me]!==void 0)return n[me];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+me+"'")}let Ze=ie;if(ie===n.RED&&(Ie===n.FLOAT&&(Ze=n.R32F),Ie===n.HALF_FLOAT&&(Ze=n.R16F),Ie===n.UNSIGNED_BYTE&&(Ze=n.R8)),ie===n.RED_INTEGER&&(Ie===n.UNSIGNED_BYTE&&(Ze=n.R8UI),Ie===n.UNSIGNED_SHORT&&(Ze=n.R16UI),Ie===n.UNSIGNED_INT&&(Ze=n.R32UI),Ie===n.BYTE&&(Ze=n.R8I),Ie===n.SHORT&&(Ze=n.R16I),Ie===n.INT&&(Ze=n.R32I)),ie===n.RG&&(Ie===n.FLOAT&&(Ze=n.RG32F),Ie===n.HALF_FLOAT&&(Ze=n.RG16F),Ie===n.UNSIGNED_BYTE&&(Ze=n.RG8)),ie===n.RG_INTEGER&&(Ie===n.UNSIGNED_BYTE&&(Ze=n.RG8UI),Ie===n.UNSIGNED_SHORT&&(Ze=n.RG16UI),Ie===n.UNSIGNED_INT&&(Ze=n.RG32UI),Ie===n.BYTE&&(Ze=n.RG8I),Ie===n.SHORT&&(Ze=n.RG16I),Ie===n.INT&&(Ze=n.RG32I)),ie===n.RGB_INTEGER&&(Ie===n.UNSIGNED_BYTE&&(Ze=n.RGB8UI),Ie===n.UNSIGNED_SHORT&&(Ze=n.RGB16UI),Ie===n.UNSIGNED_INT&&(Ze=n.RGB32UI),Ie===n.BYTE&&(Ze=n.RGB8I),Ie===n.SHORT&&(Ze=n.RGB16I),Ie===n.INT&&(Ze=n.RGB32I)),ie===n.RGBA_INTEGER&&(Ie===n.UNSIGNED_BYTE&&(Ze=n.RGBA8UI),Ie===n.UNSIGNED_SHORT&&(Ze=n.RGBA16UI),Ie===n.UNSIGNED_INT&&(Ze=n.RGBA32UI),Ie===n.BYTE&&(Ze=n.RGBA8I),Ie===n.SHORT&&(Ze=n.RGBA16I),Ie===n.INT&&(Ze=n.RGBA32I)),ie===n.RGB&&Ie===n.UNSIGNED_INT_5_9_9_9_REV&&(Ze=n.RGB9_E5),ie===n.RGBA){const nn=ut?eh:wn.getTransfer(Ke);Ie===n.FLOAT&&(Ze=n.RGBA32F),Ie===n.HALF_FLOAT&&(Ze=n.RGBA16F),Ie===n.UNSIGNED_BYTE&&(Ze=nn===Xt?n.SRGB8_ALPHA8:n.RGBA8),Ie===n.UNSIGNED_SHORT_4_4_4_4&&(Ze=n.RGBA4),Ie===n.UNSIGNED_SHORT_5_5_5_1&&(Ze=n.RGB5_A1)}return(Ze===n.R16F||Ze===n.R32F||Ze===n.RG16F||Ze===n.RG32F||Ze===n.RGBA16F||Ze===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Ze}function P(me,ie){let Ie;return me?ie===null||ie===tr||ie===il?Ie=n.DEPTH24_STENCIL8:ie===Mr?Ie=n.DEPTH32F_STENCIL8:ie===w0&&(Ie=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):ie===null||ie===tr||ie===il?Ie=n.DEPTH_COMPONENT24:ie===Mr?Ie=n.DEPTH_COMPONENT32F:ie===w0&&(Ie=n.DEPTH_COMPONENT16),Ie}function B(me,ie){return M(me)===!0||me.isFramebufferTexture&&me.minFilter!==fr&&me.minFilter!==dr?Math.log2(Math.max(ie.width,ie.height))+1:me.mipmaps!==void 0&&me.mipmaps.length>0?me.mipmaps.length:me.isCompressedTexture&&Array.isArray(me.image)?ie.mipmaps.length:1}function O(me){const ie=me.target;ie.removeEventListener("dispose",O),F(ie),ie.isVideoTexture&&c.delete(ie)}function V(me){const ie=me.target;ie.removeEventListener("dispose",V),k(ie)}function F(me){const ie=i.get(me);if(ie.__webglInit===void 0)return;const Ie=me.source,Ke=m.get(Ie);if(Ke){const ut=Ke[ie.__cacheKey];ut.usedTimes--,ut.usedTimes===0&&z(me),Object.keys(Ke).length===0&&m.delete(Ie)}i.remove(me)}function z(me){const ie=i.get(me);n.deleteTexture(ie.__webglTexture);const Ie=me.source,Ke=m.get(Ie);delete Ke[ie.__cacheKey],a.memory.textures--}function k(me){const ie=i.get(me);if(me.depthTexture&&(me.depthTexture.dispose(),i.remove(me.depthTexture)),me.isWebGLCubeRenderTarget)for(let Ke=0;Ke<6;Ke++){if(Array.isArray(ie.__webglFramebuffer[Ke]))for(let ut=0;ut<ie.__webglFramebuffer[Ke].length;ut++)n.deleteFramebuffer(ie.__webglFramebuffer[Ke][ut]);else n.deleteFramebuffer(ie.__webglFramebuffer[Ke]);ie.__webglDepthbuffer&&n.deleteRenderbuffer(ie.__webglDepthbuffer[Ke])}else{if(Array.isArray(ie.__webglFramebuffer))for(let Ke=0;Ke<ie.__webglFramebuffer.length;Ke++)n.deleteFramebuffer(ie.__webglFramebuffer[Ke]);else n.deleteFramebuffer(ie.__webglFramebuffer);if(ie.__webglDepthbuffer&&n.deleteRenderbuffer(ie.__webglDepthbuffer),ie.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ie.__webglMultisampledFramebuffer),ie.__webglColorRenderbuffer)for(let Ke=0;Ke<ie.__webglColorRenderbuffer.length;Ke++)ie.__webglColorRenderbuffer[Ke]&&n.deleteRenderbuffer(ie.__webglColorRenderbuffer[Ke]);ie.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ie.__webglDepthRenderbuffer)}const Ie=me.textures;for(let Ke=0,ut=Ie.length;Ke<ut;Ke++){const Ze=i.get(Ie[Ke]);Ze.__webglTexture&&(n.deleteTexture(Ze.__webglTexture),a.memory.textures--),i.remove(Ie[Ke])}i.remove(me)}let H=0;function Z(){H=0}function $(){const me=H;return me>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+me+" texture units while this GPU supports only "+r.maxTextures),H+=1,me}function ae(me){const ie=[];return ie.push(me.wrapS),ie.push(me.wrapT),ie.push(me.wrapR||0),ie.push(me.magFilter),ie.push(me.minFilter),ie.push(me.anisotropy),ie.push(me.internalFormat),ie.push(me.format),ie.push(me.type),ie.push(me.generateMipmaps),ie.push(me.premultiplyAlpha),ie.push(me.flipY),ie.push(me.unpackAlignment),ie.push(me.colorSpace),ie.join()}function ne(me,ie){const Ie=i.get(me);if(me.isVideoTexture&&gt(me),me.isRenderTargetTexture===!1&&me.version>0&&Ie.__version!==me.version){const Ke=me.image;if(Ke===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ke.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{St(Ie,me,ie);return}}t.bindTexture(n.TEXTURE_2D,Ie.__webglTexture,n.TEXTURE0+ie)}function Y(me,ie){const Ie=i.get(me);if(me.version>0&&Ie.__version!==me.version){St(Ie,me,ie);return}t.bindTexture(n.TEXTURE_2D_ARRAY,Ie.__webglTexture,n.TEXTURE0+ie)}function ee(me,ie){const Ie=i.get(me);if(me.version>0&&Ie.__version!==me.version){St(Ie,me,ie);return}t.bindTexture(n.TEXTURE_3D,Ie.__webglTexture,n.TEXTURE0+ie)}function Q(me,ie){const Ie=i.get(me);if(me.version>0&&Ie.__version!==me.version){at(Ie,me,ie);return}t.bindTexture(n.TEXTURE_CUBE_MAP,Ie.__webglTexture,n.TEXTURE0+ie)}const fe={[Gc]:n.REPEAT,[Po]:n.CLAMP_TO_EDGE,[qc]:n.MIRRORED_REPEAT},ge={[fr]:n.NEAREST,[Qp]:n.NEAREST_MIPMAP_NEAREST,[Au]:n.NEAREST_MIPMAP_LINEAR,[dr]:n.LINEAR,[p3]:n.LINEAR_MIPMAP_NEAREST,[Fa]:n.LINEAR_MIPMAP_LINEAR},Re={[Zb]:n.NEVER,[iS]:n.ALWAYS,[Jp]:n.LESS,[em]:n.LEQUAL,[Jb]:n.EQUAL,[nS]:n.GEQUAL,[eS]:n.GREATER,[tS]:n.NOTEQUAL};function Ge(me,ie){if(ie.type===Mr&&e.has("OES_texture_float_linear")===!1&&(ie.magFilter===dr||ie.magFilter===p3||ie.magFilter===Au||ie.magFilter===Fa||ie.minFilter===dr||ie.minFilter===p3||ie.minFilter===Au||ie.minFilter===Fa)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(me,n.TEXTURE_WRAP_S,fe[ie.wrapS]),n.texParameteri(me,n.TEXTURE_WRAP_T,fe[ie.wrapT]),(me===n.TEXTURE_3D||me===n.TEXTURE_2D_ARRAY)&&n.texParameteri(me,n.TEXTURE_WRAP_R,fe[ie.wrapR]),n.texParameteri(me,n.TEXTURE_MAG_FILTER,ge[ie.magFilter]),n.texParameteri(me,n.TEXTURE_MIN_FILTER,ge[ie.minFilter]),ie.compareFunction&&(n.texParameteri(me,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(me,n.TEXTURE_COMPARE_FUNC,Re[ie.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(ie.magFilter===fr||ie.minFilter!==Au&&ie.minFilter!==Fa||ie.type===Mr&&e.has("OES_texture_float_linear")===!1)return;if(ie.anisotropy>1||i.get(ie).__currentAnisotropy){const Ie=e.get("EXT_texture_filter_anisotropic");n.texParameterf(me,Ie.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(ie.anisotropy,r.getMaxAnisotropy())),i.get(ie).__currentAnisotropy=ie.anisotropy}}}function We(me,ie){let Ie=!1;me.__webglInit===void 0&&(me.__webglInit=!0,ie.addEventListener("dispose",O));const Ke=ie.source;let ut=m.get(Ke);ut===void 0&&(ut={},m.set(Ke,ut));const Ze=ae(ie);if(Ze!==me.__cacheKey){ut[Ze]===void 0&&(ut[Ze]={texture:n.createTexture(),usedTimes:0},a.memory.textures++,Ie=!0),ut[Ze].usedTimes++;const nn=ut[me.__cacheKey];nn!==void 0&&(ut[me.__cacheKey].usedTimes--,nn.usedTimes===0&&z(ie)),me.__cacheKey=Ze,me.__webglTexture=ut[Ze].texture}return Ie}function Se(me,ie,Ie){return Math.floor(Math.floor(me/Ie)/ie)}function qe(me,ie,Ie,Ke){const Ze=me.updateRanges;if(Ze.length===0)t.texSubImage2D(n.TEXTURE_2D,0,0,0,ie.width,ie.height,Ie,Ke,ie.data);else{Ze.sort((ct,Vt)=>ct.start-Vt.start);let nn=0;for(let ct=1;ct<Ze.length;ct++){const Vt=Ze[nn],fn=Ze[ct],ve=Vt.start+Vt.count,Fe=Se(fn.start,ie.width,4),Tt=Se(Vt.start,ie.width,4);fn.start<=ve+1&&Fe===Tt&&Se(fn.start+fn.count-1,ie.width,4)===Fe?Vt.count=Math.max(Vt.count,fn.start+fn.count-Vt.start):(++nn,Ze[nn]=fn)}Ze.length=nn+1;const Ot=n.getParameter(n.UNPACK_ROW_LENGTH),Kt=n.getParameter(n.UNPACK_SKIP_PIXELS),tn=n.getParameter(n.UNPACK_SKIP_ROWS);n.pixelStorei(n.UNPACK_ROW_LENGTH,ie.width);for(let ct=0,Vt=Ze.length;ct<Vt;ct++){const fn=Ze[ct],ve=Math.floor(fn.start/4),Fe=Math.ceil(fn.count/4),Tt=ve%ie.width,le=Math.floor(ve/ie.width),wt=Fe,ft=1;n.pixelStorei(n.UNPACK_SKIP_PIXELS,Tt),n.pixelStorei(n.UNPACK_SKIP_ROWS,le),t.texSubImage2D(n.TEXTURE_2D,0,Tt,le,wt,ft,Ie,Ke,ie.data)}me.clearUpdateRanges(),n.pixelStorei(n.UNPACK_ROW_LENGTH,Ot),n.pixelStorei(n.UNPACK_SKIP_PIXELS,Kt),n.pixelStorei(n.UNPACK_SKIP_ROWS,tn)}}function St(me,ie,Ie){let Ke=n.TEXTURE_2D;(ie.isDataArrayTexture||ie.isCompressedArrayTexture)&&(Ke=n.TEXTURE_2D_ARRAY),ie.isData3DTexture&&(Ke=n.TEXTURE_3D);const ut=We(me,ie),Ze=ie.source;t.bindTexture(Ke,me.__webglTexture,n.TEXTURE0+Ie);const nn=i.get(Ze);if(Ze.version!==nn.__version||ut===!0){t.activeTexture(n.TEXTURE0+Ie);const Ot=wn.getPrimaries(wn.workingColorSpace),Kt=ie.colorSpace===no?null:wn.getPrimaries(ie.colorSpace),tn=ie.colorSpace===no||Ot===Kt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ie.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ie.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,tn);let ct=T(ie.image,!1,r.maxTextureSize);ct=Ut(ie,ct);const Vt=s.convert(ie.format,ie.colorSpace),fn=s.convert(ie.type);let ve=C(ie.internalFormat,Vt,fn,ie.colorSpace,ie.isVideoTexture);Ge(Ke,ie);let Fe;const Tt=ie.mipmaps,le=ie.isVideoTexture!==!0,wt=nn.__version===void 0||ut===!0,ft=Ze.dataReady,Gt=B(ie,ct);if(ie.isDepthTexture)ve=P(ie.format===sl,ie.type),wt&&(le?t.texStorage2D(n.TEXTURE_2D,1,ve,ct.width,ct.height):t.texImage2D(n.TEXTURE_2D,0,ve,ct.width,ct.height,0,Vt,fn,null));else if(ie.isDataTexture)if(Tt.length>0){le&&wt&&t.texStorage2D(n.TEXTURE_2D,Gt,ve,Tt[0].width,Tt[0].height);for(let Mt=0,rt=Tt.length;Mt<rt;Mt++)Fe=Tt[Mt],le?ft&&t.texSubImage2D(n.TEXTURE_2D,Mt,0,0,Fe.width,Fe.height,Vt,fn,Fe.data):t.texImage2D(n.TEXTURE_2D,Mt,ve,Fe.width,Fe.height,0,Vt,fn,Fe.data);ie.generateMipmaps=!1}else le?(wt&&t.texStorage2D(n.TEXTURE_2D,Gt,ve,ct.width,ct.height),ft&&qe(ie,ct,Vt,fn)):t.texImage2D(n.TEXTURE_2D,0,ve,ct.width,ct.height,0,Vt,fn,ct.data);else if(ie.isCompressedTexture)if(ie.isCompressedArrayTexture){le&&wt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Gt,ve,Tt[0].width,Tt[0].height,ct.depth);for(let Mt=0,rt=Tt.length;Mt<rt;Mt++)if(Fe=Tt[Mt],ie.format!==_r)if(Vt!==null)if(le){if(ft)if(ie.layerUpdates.size>0){const qt=EC(Fe.width,Fe.height,ie.format,ie.type);for(const cn of ie.layerUpdates){const ai=Fe.data.subarray(cn*qt/Fe.data.BYTES_PER_ELEMENT,(cn+1)*qt/Fe.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Mt,0,0,cn,Fe.width,Fe.height,1,Vt,ai)}ie.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Mt,0,0,0,Fe.width,Fe.height,ct.depth,Vt,Fe.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Mt,ve,Fe.width,Fe.height,ct.depth,0,Fe.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else le?ft&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Mt,0,0,0,Fe.width,Fe.height,ct.depth,Vt,fn,Fe.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Mt,ve,Fe.width,Fe.height,ct.depth,0,Vt,fn,Fe.data)}else{le&&wt&&t.texStorage2D(n.TEXTURE_2D,Gt,ve,Tt[0].width,Tt[0].height);for(let Mt=0,rt=Tt.length;Mt<rt;Mt++)Fe=Tt[Mt],ie.format!==_r?Vt!==null?le?ft&&t.compressedTexSubImage2D(n.TEXTURE_2D,Mt,0,0,Fe.width,Fe.height,Vt,Fe.data):t.compressedTexImage2D(n.TEXTURE_2D,Mt,ve,Fe.width,Fe.height,0,Fe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):le?ft&&t.texSubImage2D(n.TEXTURE_2D,Mt,0,0,Fe.width,Fe.height,Vt,fn,Fe.data):t.texImage2D(n.TEXTURE_2D,Mt,ve,Fe.width,Fe.height,0,Vt,fn,Fe.data)}else if(ie.isDataArrayTexture)if(le){if(wt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Gt,ve,ct.width,ct.height,ct.depth),ft)if(ie.layerUpdates.size>0){const Mt=EC(ct.width,ct.height,ie.format,ie.type);for(const rt of ie.layerUpdates){const qt=ct.data.subarray(rt*Mt/ct.data.BYTES_PER_ELEMENT,(rt+1)*Mt/ct.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,rt,ct.width,ct.height,1,Vt,fn,qt)}ie.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,ct.width,ct.height,ct.depth,Vt,fn,ct.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,ve,ct.width,ct.height,ct.depth,0,Vt,fn,ct.data);else if(ie.isData3DTexture)le?(wt&&t.texStorage3D(n.TEXTURE_3D,Gt,ve,ct.width,ct.height,ct.depth),ft&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,ct.width,ct.height,ct.depth,Vt,fn,ct.data)):t.texImage3D(n.TEXTURE_3D,0,ve,ct.width,ct.height,ct.depth,0,Vt,fn,ct.data);else if(ie.isFramebufferTexture){if(wt)if(le)t.texStorage2D(n.TEXTURE_2D,Gt,ve,ct.width,ct.height);else{let Mt=ct.width,rt=ct.height;for(let qt=0;qt<Gt;qt++)t.texImage2D(n.TEXTURE_2D,qt,ve,Mt,rt,0,Vt,fn,null),Mt>>=1,rt>>=1}}else if(Tt.length>0){if(le&&wt){const Mt=Tn(Tt[0]);t.texStorage2D(n.TEXTURE_2D,Gt,ve,Mt.width,Mt.height)}for(let Mt=0,rt=Tt.length;Mt<rt;Mt++)Fe=Tt[Mt],le?ft&&t.texSubImage2D(n.TEXTURE_2D,Mt,0,0,Vt,fn,Fe):t.texImage2D(n.TEXTURE_2D,Mt,ve,Vt,fn,Fe);ie.generateMipmaps=!1}else if(le){if(wt){const Mt=Tn(ct);t.texStorage2D(n.TEXTURE_2D,Gt,ve,Mt.width,Mt.height)}ft&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Vt,fn,ct)}else t.texImage2D(n.TEXTURE_2D,0,ve,Vt,fn,ct);M(ie)&&S(Ke),nn.__version=Ze.version,ie.onUpdate&&ie.onUpdate(ie)}me.__version=ie.version}function at(me,ie,Ie){if(ie.image.length!==6)return;const Ke=We(me,ie),ut=ie.source;t.bindTexture(n.TEXTURE_CUBE_MAP,me.__webglTexture,n.TEXTURE0+Ie);const Ze=i.get(ut);if(ut.version!==Ze.__version||Ke===!0){t.activeTexture(n.TEXTURE0+Ie);const nn=wn.getPrimaries(wn.workingColorSpace),Ot=ie.colorSpace===no?null:wn.getPrimaries(ie.colorSpace),Kt=ie.colorSpace===no||nn===Ot?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,ie.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,ie.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Kt);const tn=ie.isCompressedTexture||ie.image[0].isCompressedTexture,ct=ie.image[0]&&ie.image[0].isDataTexture,Vt=[];for(let rt=0;rt<6;rt++)!tn&&!ct?Vt[rt]=T(ie.image[rt],!0,r.maxCubemapSize):Vt[rt]=ct?ie.image[rt].image:ie.image[rt],Vt[rt]=Ut(ie,Vt[rt]);const fn=Vt[0],ve=s.convert(ie.format,ie.colorSpace),Fe=s.convert(ie.type),Tt=C(ie.internalFormat,ve,Fe,ie.colorSpace),le=ie.isVideoTexture!==!0,wt=Ze.__version===void 0||Ke===!0,ft=ut.dataReady;let Gt=B(ie,fn);Ge(n.TEXTURE_CUBE_MAP,ie);let Mt;if(tn){le&&wt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Gt,Tt,fn.width,fn.height);for(let rt=0;rt<6;rt++){Mt=Vt[rt].mipmaps;for(let qt=0;qt<Mt.length;qt++){const cn=Mt[qt];ie.format!==_r?ve!==null?le?ft&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+rt,qt,0,0,cn.width,cn.height,ve,cn.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+rt,qt,Tt,cn.width,cn.height,0,cn.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):le?ft&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+rt,qt,0,0,cn.width,cn.height,ve,Fe,cn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+rt,qt,Tt,cn.width,cn.height,0,ve,Fe,cn.data)}}}else{if(Mt=ie.mipmaps,le&&wt){Mt.length>0&&Gt++;const rt=Tn(Vt[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,Gt,Tt,rt.width,rt.height)}for(let rt=0;rt<6;rt++)if(ct){le?ft&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+rt,0,0,0,Vt[rt].width,Vt[rt].height,ve,Fe,Vt[rt].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+rt,0,Tt,Vt[rt].width,Vt[rt].height,0,ve,Fe,Vt[rt].data);for(let qt=0;qt<Mt.length;qt++){const ai=Mt[qt].image[rt].image;le?ft&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+rt,qt+1,0,0,ai.width,ai.height,ve,Fe,ai.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+rt,qt+1,Tt,ai.width,ai.height,0,ve,Fe,ai.data)}}else{le?ft&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+rt,0,0,0,ve,Fe,Vt[rt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+rt,0,Tt,ve,Fe,Vt[rt]);for(let qt=0;qt<Mt.length;qt++){const cn=Mt[qt];le?ft&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+rt,qt+1,0,0,ve,Fe,cn.image[rt]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+rt,qt+1,Tt,ve,Fe,cn.image[rt])}}}M(ie)&&S(n.TEXTURE_CUBE_MAP),Ze.__version=ut.version,ie.onUpdate&&ie.onUpdate(ie)}me.__version=ie.version}function Ct(me,ie,Ie,Ke,ut,Ze){const nn=s.convert(Ie.format,Ie.colorSpace),Ot=s.convert(Ie.type),Kt=C(Ie.internalFormat,nn,Ot,Ie.colorSpace),tn=i.get(ie),ct=i.get(Ie);if(ct.__renderTarget=ie,!tn.__hasExternalTextures){const Vt=Math.max(1,ie.width>>Ze),fn=Math.max(1,ie.height>>Ze);ut===n.TEXTURE_3D||ut===n.TEXTURE_2D_ARRAY?t.texImage3D(ut,Ze,Kt,Vt,fn,ie.depth,0,nn,Ot,null):t.texImage2D(ut,Ze,Kt,Vt,fn,0,nn,Ot,null)}t.bindFramebuffer(n.FRAMEBUFFER,me),Ft(ie)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ke,ut,ct.__webglTexture,0,et(ie)):(ut===n.TEXTURE_2D||ut>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&ut<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ke,ut,ct.__webglTexture,Ze),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Jt(me,ie,Ie){if(n.bindRenderbuffer(n.RENDERBUFFER,me),ie.depthBuffer){const Ke=ie.depthTexture,ut=Ke&&Ke.isDepthTexture?Ke.type:null,Ze=P(ie.stencilBuffer,ut),nn=ie.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ot=et(ie);Ft(ie)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ot,Ze,ie.width,ie.height):Ie?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ot,Ze,ie.width,ie.height):n.renderbufferStorage(n.RENDERBUFFER,Ze,ie.width,ie.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,nn,n.RENDERBUFFER,me)}else{const Ke=ie.textures;for(let ut=0;ut<Ke.length;ut++){const Ze=Ke[ut],nn=s.convert(Ze.format,Ze.colorSpace),Ot=s.convert(Ze.type),Kt=C(Ze.internalFormat,nn,Ot,Ze.colorSpace),tn=et(ie);Ie&&Ft(ie)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,tn,Kt,ie.width,ie.height):Ft(ie)?o.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,tn,Kt,ie.width,ie.height):n.renderbufferStorage(n.RENDERBUFFER,Kt,ie.width,ie.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function It(me,ie){if(ie&&ie.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,me),!(ie.depthTexture&&ie.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ke=i.get(ie.depthTexture);Ke.__renderTarget=ie,(!Ke.__webglTexture||ie.depthTexture.image.width!==ie.width||ie.depthTexture.image.height!==ie.height)&&(ie.depthTexture.image.width=ie.width,ie.depthTexture.image.height=ie.height,ie.depthTexture.needsUpdate=!0),ne(ie.depthTexture,0);const ut=Ke.__webglTexture,Ze=et(ie);if(ie.depthTexture.format===rl)Ft(ie)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ut,0,Ze):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ut,0);else if(ie.depthTexture.format===sl)Ft(ie)?o.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ut,0,Ze):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ut,0);else throw new Error("Unknown depthTexture format")}function Sn(me){const ie=i.get(me),Ie=me.isWebGLCubeRenderTarget===!0;if(ie.__boundDepthTexture!==me.depthTexture){const Ke=me.depthTexture;if(ie.__depthDisposeCallback&&ie.__depthDisposeCallback(),Ke){const ut=()=>{delete ie.__boundDepthTexture,delete ie.__depthDisposeCallback,Ke.removeEventListener("dispose",ut)};Ke.addEventListener("dispose",ut),ie.__depthDisposeCallback=ut}ie.__boundDepthTexture=Ke}if(me.depthTexture&&!ie.__autoAllocateDepthBuffer){if(Ie)throw new Error("target.depthTexture not supported in Cube render targets");const Ke=me.texture.mipmaps;Ke&&Ke.length>0?It(ie.__webglFramebuffer[0],me):It(ie.__webglFramebuffer,me)}else if(Ie){ie.__webglDepthbuffer=[];for(let Ke=0;Ke<6;Ke++)if(t.bindFramebuffer(n.FRAMEBUFFER,ie.__webglFramebuffer[Ke]),ie.__webglDepthbuffer[Ke]===void 0)ie.__webglDepthbuffer[Ke]=n.createRenderbuffer(),Jt(ie.__webglDepthbuffer[Ke],me,!1);else{const ut=me.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ze=ie.__webglDepthbuffer[Ke];n.bindRenderbuffer(n.RENDERBUFFER,Ze),n.framebufferRenderbuffer(n.FRAMEBUFFER,ut,n.RENDERBUFFER,Ze)}}else{const Ke=me.texture.mipmaps;if(Ke&&Ke.length>0?t.bindFramebuffer(n.FRAMEBUFFER,ie.__webglFramebuffer[0]):t.bindFramebuffer(n.FRAMEBUFFER,ie.__webglFramebuffer),ie.__webglDepthbuffer===void 0)ie.__webglDepthbuffer=n.createRenderbuffer(),Jt(ie.__webglDepthbuffer,me,!1);else{const ut=me.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ze=ie.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,Ze),n.framebufferRenderbuffer(n.FRAMEBUFFER,ut,n.RENDERBUFFER,Ze)}}t.bindFramebuffer(n.FRAMEBUFFER,null)}function hn(me,ie,Ie){const Ke=i.get(me);ie!==void 0&&Ct(Ke.__webglFramebuffer,me,me.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),Ie!==void 0&&Sn(me)}function $t(me){const ie=me.texture,Ie=i.get(me),Ke=i.get(ie);me.addEventListener("dispose",V);const ut=me.textures,Ze=me.isWebGLCubeRenderTarget===!0,nn=ut.length>1;if(nn||(Ke.__webglTexture===void 0&&(Ke.__webglTexture=n.createTexture()),Ke.__version=ie.version,a.memory.textures++),Ze){Ie.__webglFramebuffer=[];for(let Ot=0;Ot<6;Ot++)if(ie.mipmaps&&ie.mipmaps.length>0){Ie.__webglFramebuffer[Ot]=[];for(let Kt=0;Kt<ie.mipmaps.length;Kt++)Ie.__webglFramebuffer[Ot][Kt]=n.createFramebuffer()}else Ie.__webglFramebuffer[Ot]=n.createFramebuffer()}else{if(ie.mipmaps&&ie.mipmaps.length>0){Ie.__webglFramebuffer=[];for(let Ot=0;Ot<ie.mipmaps.length;Ot++)Ie.__webglFramebuffer[Ot]=n.createFramebuffer()}else Ie.__webglFramebuffer=n.createFramebuffer();if(nn)for(let Ot=0,Kt=ut.length;Ot<Kt;Ot++){const tn=i.get(ut[Ot]);tn.__webglTexture===void 0&&(tn.__webglTexture=n.createTexture(),a.memory.textures++)}if(me.samples>0&&Ft(me)===!1){Ie.__webglMultisampledFramebuffer=n.createFramebuffer(),Ie.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer);for(let Ot=0;Ot<ut.length;Ot++){const Kt=ut[Ot];Ie.__webglColorRenderbuffer[Ot]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,Ie.__webglColorRenderbuffer[Ot]);const tn=s.convert(Kt.format,Kt.colorSpace),ct=s.convert(Kt.type),Vt=C(Kt.internalFormat,tn,ct,Kt.colorSpace,me.isXRRenderTarget===!0),fn=et(me);n.renderbufferStorageMultisample(n.RENDERBUFFER,fn,Vt,me.width,me.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ot,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[Ot])}n.bindRenderbuffer(n.RENDERBUFFER,null),me.depthBuffer&&(Ie.__webglDepthRenderbuffer=n.createRenderbuffer(),Jt(Ie.__webglDepthRenderbuffer,me,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ze){t.bindTexture(n.TEXTURE_CUBE_MAP,Ke.__webglTexture),Ge(n.TEXTURE_CUBE_MAP,ie);for(let Ot=0;Ot<6;Ot++)if(ie.mipmaps&&ie.mipmaps.length>0)for(let Kt=0;Kt<ie.mipmaps.length;Kt++)Ct(Ie.__webglFramebuffer[Ot][Kt],me,ie,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ot,Kt);else Ct(Ie.__webglFramebuffer[Ot],me,ie,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ot,0);M(ie)&&S(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(nn){for(let Ot=0,Kt=ut.length;Ot<Kt;Ot++){const tn=ut[Ot],ct=i.get(tn);t.bindTexture(n.TEXTURE_2D,ct.__webglTexture),Ge(n.TEXTURE_2D,tn),Ct(Ie.__webglFramebuffer,me,tn,n.COLOR_ATTACHMENT0+Ot,n.TEXTURE_2D,0),M(tn)&&S(n.TEXTURE_2D)}t.unbindTexture()}else{let Ot=n.TEXTURE_2D;if((me.isWebGL3DRenderTarget||me.isWebGLArrayRenderTarget)&&(Ot=me.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Ot,Ke.__webglTexture),Ge(Ot,ie),ie.mipmaps&&ie.mipmaps.length>0)for(let Kt=0;Kt<ie.mipmaps.length;Kt++)Ct(Ie.__webglFramebuffer[Kt],me,ie,n.COLOR_ATTACHMENT0,Ot,Kt);else Ct(Ie.__webglFramebuffer,me,ie,n.COLOR_ATTACHMENT0,Ot,0);M(ie)&&S(Ot),t.unbindTexture()}me.depthBuffer&&Sn(me)}function ce(me){const ie=me.textures;for(let Ie=0,Ke=ie.length;Ie<Ke;Ie++){const ut=ie[Ie];if(M(ut)){const Ze=R(me),nn=i.get(ut).__webglTexture;t.bindTexture(Ze,nn),S(Ze),t.unbindTexture()}}}const bt=[],At=[];function mt(me){if(me.samples>0){if(Ft(me)===!1){const ie=me.textures,Ie=me.width,Ke=me.height;let ut=n.COLOR_BUFFER_BIT;const Ze=me.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,nn=i.get(me),Ot=ie.length>1;if(Ot)for(let tn=0;tn<ie.length;tn++)t.bindFramebuffer(n.FRAMEBUFFER,nn.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+tn,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,nn.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+tn,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,nn.__webglMultisampledFramebuffer);const Kt=me.texture.mipmaps;Kt&&Kt.length>0?t.bindFramebuffer(n.DRAW_FRAMEBUFFER,nn.__webglFramebuffer[0]):t.bindFramebuffer(n.DRAW_FRAMEBUFFER,nn.__webglFramebuffer);for(let tn=0;tn<ie.length;tn++){if(me.resolveDepthBuffer&&(me.depthBuffer&&(ut|=n.DEPTH_BUFFER_BIT),me.stencilBuffer&&me.resolveStencilBuffer&&(ut|=n.STENCIL_BUFFER_BIT)),Ot){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,nn.__webglColorRenderbuffer[tn]);const ct=i.get(ie[tn]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,ct,0)}n.blitFramebuffer(0,0,Ie,Ke,0,0,Ie,Ke,ut,n.NEAREST),l===!0&&(bt.length=0,At.length=0,bt.push(n.COLOR_ATTACHMENT0+tn),me.depthBuffer&&me.resolveDepthBuffer===!1&&(bt.push(Ze),At.push(Ze),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,At)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,bt))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ot)for(let tn=0;tn<ie.length;tn++){t.bindFramebuffer(n.FRAMEBUFFER,nn.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+tn,n.RENDERBUFFER,nn.__webglColorRenderbuffer[tn]);const ct=i.get(ie[tn]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,nn.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+tn,n.TEXTURE_2D,ct,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,nn.__webglMultisampledFramebuffer)}else if(me.depthBuffer&&me.resolveDepthBuffer===!1&&l){const ie=me.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[ie])}}}function et(me){return Math.min(r.maxSamples,me.samples)}function Ft(me){const ie=i.get(me);return me.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&ie.__useRenderToTexture!==!1}function gt(me){const ie=a.render.frame;c.get(me)!==ie&&(c.set(me,ie),me.update())}function Ut(me,ie){const Ie=me.colorSpace,Ke=me.format,ut=me.type;return me.isCompressedTexture===!0||me.isVideoTexture===!0||Ie!==ql&&Ie!==no&&(wn.getTransfer(Ie)===Xt?(Ke!==_r||ut!==Lr)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Ie)),ie}function Tn(me){return typeof HTMLImageElement<"u"&&me instanceof HTMLImageElement?(u.width=me.naturalWidth||me.width,u.height=me.naturalHeight||me.height):typeof VideoFrame<"u"&&me instanceof VideoFrame?(u.width=me.displayWidth,u.height=me.displayHeight):(u.width=me.width,u.height=me.height),u}this.allocateTextureUnit=$,this.resetTextureUnits=Z,this.setTexture2D=ne,this.setTexture2DArray=Y,this.setTexture3D=ee,this.setTextureCube=Q,this.rebindTextures=hn,this.setupRenderTarget=$t,this.updateRenderTargetMipmap=ce,this.updateMultisampleRenderTarget=mt,this.setupDepthRenderbuffer=Sn,this.setupFrameBufferTexture=Ct,this.useMultisampledRTT=Ft}function M$(n,e){function t(i,r=no){let s;const a=wn.getTransfer(r);if(i===Lr)return n.UNSIGNED_BYTE;if(i===$p)return n.UNSIGNED_SHORT_4_4_4_4;if(i===Kp)return n.UNSIGNED_SHORT_5_5_5_1;if(i===Zp)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===m3)return n.BYTE;if(i===g3)return n.SHORT;if(i===w0)return n.UNSIGNED_SHORT;if(i===ea)return n.INT;if(i===tr)return n.UNSIGNED_INT;if(i===Mr)return n.FLOAT;if(i===Fs)return n.HALF_FLOAT;if(i===Qb)return n.ALPHA;if(i===_8)return n.RGB;if(i===_r)return n.RGBA;if(i===rl)return n.DEPTH_COMPONENT;if(i===sl)return n.DEPTH_STENCIL;if(i===ph)return n.RED;if(i===U3)return n.RED_INTEGER;if(i===r1)return n.RG;if(i===mh)return n.RG_INTEGER;if(i===gh)return n.RGBA_INTEGER;if(i===y3||i===Mc||i===Ec||i===wc)if(a===Xt)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===y3)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Mc)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Ec)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===wc)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===y3)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Mc)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Ec)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===wc)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Pd||i===Ld||i===Bd||i===Ud)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===Pd)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===Ld)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Bd)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===Ud)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Od||i===Ff||i===zf)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===Od||i===Ff)return a===Xt?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===zf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Vf||i===kf||i===Gf||i===qf||i===Hf||i===jf||i===Wf||i===Xf||i===Yf||i===Qf||i===$f||i===Kf||i===Zf||i===Jf)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===Vf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===kf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Gf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===qf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Hf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===jf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Wf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Xf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===Yf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===Qf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===$f)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Kf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===Zf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Jf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===v3||i===a_||i===o_)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===v3)return a===Xt?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===a_)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===o_)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===$b||i===Id||i===Fd||i===zd)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===v3)return s.COMPRESSED_RED_RGTC1_EXT;if(i===Id)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===Fd)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===zd)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===il?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const f9e=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,h9e=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class d9e{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new Ur,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Uo({vertexShader:f9e,fragmentShader:h9e,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new ii(new bh(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class A9e extends $l{constructor(e,t){super();const i=this;let r=null,s=1,a=null,o="local-floor",l=1,u=null,c=null,f=null,m=null,v=null,_=null;const T=new d9e,M=t.getContextAttributes();let S=null,R=null;const C=[],P=[],B=new Ye;let O=null;const V=new Tr;V.viewport=new ln;const F=new Tr;F.viewport=new ln;const z=[V,F],k=new wL;let H=null,Z=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Se){let qe=C[Se];return qe===void 0&&(qe=new cA,C[Se]=qe),qe.getTargetRaySpace()},this.getControllerGrip=function(Se){let qe=C[Se];return qe===void 0&&(qe=new cA,C[Se]=qe),qe.getGripSpace()},this.getHand=function(Se){let qe=C[Se];return qe===void 0&&(qe=new cA,C[Se]=qe),qe.getHandSpace()};function $(Se){const qe=P.indexOf(Se.inputSource);if(qe===-1)return;const St=C[qe];St!==void 0&&(St.update(Se.inputSource,Se.frame,u||a),St.dispatchEvent({type:Se.type,data:Se.inputSource}))}function ae(){r.removeEventListener("select",$),r.removeEventListener("selectstart",$),r.removeEventListener("selectend",$),r.removeEventListener("squeeze",$),r.removeEventListener("squeezestart",$),r.removeEventListener("squeezeend",$),r.removeEventListener("end",ae),r.removeEventListener("inputsourceschange",ne);for(let Se=0;Se<C.length;Se++){const qe=P[Se];qe!==null&&(P[Se]=null,C[Se].disconnect(qe))}H=null,Z=null,T.reset(),e.setRenderTarget(S),v=null,m=null,f=null,r=null,R=null,We.stop(),i.isPresenting=!1,e.setPixelRatio(O),e.setSize(B.width,B.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Se){s=Se,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Se){o=Se,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(Se){u=Se},this.getBaseLayer=function(){return m!==null?m:v},this.getBinding=function(){return f},this.getFrame=function(){return _},this.getSession=function(){return r},this.setSession=async function(Se){if(r=Se,r!==null){if(S=e.getRenderTarget(),r.addEventListener("select",$),r.addEventListener("selectstart",$),r.addEventListener("selectend",$),r.addEventListener("squeeze",$),r.addEventListener("squeezestart",$),r.addEventListener("squeezeend",$),r.addEventListener("end",ae),r.addEventListener("inputsourceschange",ne),M.xrCompatible!==!0&&await t.makeXRCompatible(),O=e.getPixelRatio(),e.getSize(B),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let St=null,at=null,Ct=null;M.depth&&(Ct=M.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,St=M.stencil?sl:rl,at=M.stencil?il:tr);const Jt={colorFormat:t.RGBA8,depthFormat:Ct,scaleFactor:s};f=new XRWebGLBinding(r,t),m=f.createProjectionLayer(Jt),r.updateRenderState({layers:[m]}),e.setPixelRatio(1),e.setSize(m.textureWidth,m.textureHeight,!1),R=new x1(m.textureWidth,m.textureHeight,{format:_r,type:Lr,depthTexture:new ol(m.textureWidth,m.textureHeight,at,void 0,void 0,void 0,void 0,void 0,void 0,St),stencilBuffer:M.stencil,colorSpace:e.outputColorSpace,samples:M.antialias?4:0,resolveDepthBuffer:m.ignoreDepthValues===!1,resolveStencilBuffer:m.ignoreDepthValues===!1})}else{const St={antialias:M.antialias,alpha:!0,depth:M.depth,stencil:M.stencil,framebufferScaleFactor:s};v=new XRWebGLLayer(r,t,St),r.updateRenderState({baseLayer:v}),e.setPixelRatio(1),e.setSize(v.framebufferWidth,v.framebufferHeight,!1),R=new x1(v.framebufferWidth,v.framebufferHeight,{format:_r,type:Lr,colorSpace:e.outputColorSpace,stencilBuffer:M.stencil,resolveDepthBuffer:v.ignoreDepthValues===!1,resolveStencilBuffer:v.ignoreDepthValues===!1})}R.isXRRenderTarget=!0,this.setFoveation(l),u=null,a=await r.requestReferenceSpace(o),We.setContext(r),We.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return T.getDepthTexture()};function ne(Se){for(let qe=0;qe<Se.removed.length;qe++){const St=Se.removed[qe],at=P.indexOf(St);at>=0&&(P[at]=null,C[at].disconnect(St))}for(let qe=0;qe<Se.added.length;qe++){const St=Se.added[qe];let at=P.indexOf(St);if(at===-1){for(let Jt=0;Jt<C.length;Jt++)if(Jt>=P.length){P.push(St),at=Jt;break}else if(P[Jt]===null){P[Jt]=St,at=Jt;break}if(at===-1)break}const Ct=C[at];Ct&&Ct.connect(St)}}const Y=new re,ee=new re;function Q(Se,qe,St){Y.setFromMatrixPosition(qe.matrixWorld),ee.setFromMatrixPosition(St.matrixWorld);const at=Y.distanceTo(ee),Ct=qe.projectionMatrix.elements,Jt=St.projectionMatrix.elements,It=Ct[14]/(Ct[10]-1),Sn=Ct[14]/(Ct[10]+1),hn=(Ct[9]+1)/Ct[5],$t=(Ct[9]-1)/Ct[5],ce=(Ct[8]-1)/Ct[0],bt=(Jt[8]+1)/Jt[0],At=It*ce,mt=It*bt,et=at/(-ce+bt),Ft=et*-ce;if(qe.matrixWorld.decompose(Se.position,Se.quaternion,Se.scale),Se.translateX(Ft),Se.translateZ(et),Se.matrixWorld.compose(Se.position,Se.quaternion,Se.scale),Se.matrixWorldInverse.copy(Se.matrixWorld).invert(),Ct[10]===-1)Se.projectionMatrix.copy(qe.projectionMatrix),Se.projectionMatrixInverse.copy(qe.projectionMatrixInverse);else{const gt=It+et,Ut=Sn+et,Tn=At-Ft,me=mt+(at-Ft),ie=hn*Sn/Ut*gt,Ie=$t*Sn/Ut*gt;Se.projectionMatrix.makePerspective(Tn,me,ie,Ie,gt,Ut),Se.projectionMatrixInverse.copy(Se.projectionMatrix).invert()}}function fe(Se,qe){qe===null?Se.matrixWorld.copy(Se.matrix):Se.matrixWorld.multiplyMatrices(qe.matrixWorld,Se.matrix),Se.matrixWorldInverse.copy(Se.matrixWorld).invert()}this.updateCamera=function(Se){if(r===null)return;let qe=Se.near,St=Se.far;T.texture!==null&&(T.depthNear>0&&(qe=T.depthNear),T.depthFar>0&&(St=T.depthFar)),k.near=F.near=V.near=qe,k.far=F.far=V.far=St,(H!==k.near||Z!==k.far)&&(r.updateRenderState({depthNear:k.near,depthFar:k.far}),H=k.near,Z=k.far),V.layers.mask=Se.layers.mask|2,F.layers.mask=Se.layers.mask|4,k.layers.mask=V.layers.mask|F.layers.mask;const at=Se.parent,Ct=k.cameras;fe(k,at);for(let Jt=0;Jt<Ct.length;Jt++)fe(Ct[Jt],at);Ct.length===2?Q(k,V,F):k.projectionMatrix.copy(V.projectionMatrix),ge(Se,k,at)};function ge(Se,qe,St){St===null?Se.matrix.copy(qe.matrixWorld):(Se.matrix.copy(St.matrixWorld),Se.matrix.invert(),Se.matrix.multiply(qe.matrixWorld)),Se.matrix.decompose(Se.position,Se.quaternion,Se.scale),Se.updateMatrixWorld(!0),Se.projectionMatrix.copy(qe.projectionMatrix),Se.projectionMatrixInverse.copy(qe.projectionMatrixInverse),Se.isPerspectiveCamera&&(Se.fov=th*2*Math.atan(1/Se.projectionMatrix.elements[5]),Se.zoom=1)}this.getCamera=function(){return k},this.getFoveation=function(){if(!(m===null&&v===null))return l},this.setFoveation=function(Se){l=Se,m!==null&&(m.fixedFoveation=Se),v!==null&&v.fixedFoveation!==void 0&&(v.fixedFoveation=Se)},this.hasDepthSensing=function(){return T.texture!==null},this.getDepthSensingMesh=function(){return T.getMesh(k)};let Re=null;function Ge(Se,qe){if(c=qe.getViewerPose(u||a),_=qe,c!==null){const St=c.views;v!==null&&(e.setRenderTargetFramebuffer(R,v.framebuffer),e.setRenderTarget(R));let at=!1;St.length!==k.cameras.length&&(k.cameras.length=0,at=!0);for(let It=0;It<St.length;It++){const Sn=St[It];let hn=null;if(v!==null)hn=v.getViewport(Sn);else{const ce=f.getViewSubImage(m,Sn);hn=ce.viewport,It===0&&(e.setRenderTargetTextures(R,ce.colorTexture,ce.depthStencilTexture),e.setRenderTarget(R))}let $t=z[It];$t===void 0&&($t=new Tr,$t.layers.enable(It),$t.viewport=new ln,z[It]=$t),$t.matrix.fromArray(Sn.transform.matrix),$t.matrix.decompose($t.position,$t.quaternion,$t.scale),$t.projectionMatrix.fromArray(Sn.projectionMatrix),$t.projectionMatrixInverse.copy($t.projectionMatrix).invert(),$t.viewport.set(hn.x,hn.y,hn.width,hn.height),It===0&&(k.matrix.copy($t.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale)),at===!0&&k.cameras.push($t)}const Ct=r.enabledFeatures;if(Ct&&Ct.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&f){const It=f.getDepthInformation(St[0]);It&&It.isValid&&It.texture&&T.init(e,It,r.renderState)}}for(let St=0;St<C.length;St++){const at=P[St],Ct=C[St];at!==null&&Ct!==void 0&&Ct.update(at,qe,u||a)}Re&&Re(Se,qe),qe.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:qe}),_=null}const We=new x$;We.setAnimationLoop(Ge),this.setAnimationLoop=function(Se){Re=Se},this.dispose=function(){}}}const N4=new Sa,p9e=new Yt;function m9e(n,e){function t(M,S){M.matrixAutoUpdate===!0&&M.updateMatrix(),S.value.copy(M.matrix)}function i(M,S){S.color.getRGB(M.fogColor.value,zQ(n)),S.isFog?(M.fogNear.value=S.near,M.fogFar.value=S.far):S.isFogExp2&&(M.fogDensity.value=S.density)}function r(M,S,R,C,P){S.isMeshBasicMaterial||S.isMeshLambertMaterial?s(M,S):S.isMeshToonMaterial?(s(M,S),f(M,S)):S.isMeshPhongMaterial?(s(M,S),c(M,S)):S.isMeshStandardMaterial?(s(M,S),m(M,S),S.isMeshPhysicalMaterial&&v(M,S,P)):S.isMeshMatcapMaterial?(s(M,S),_(M,S)):S.isMeshDepthMaterial?s(M,S):S.isMeshDistanceMaterial?(s(M,S),T(M,S)):S.isMeshNormalMaterial?s(M,S):S.isLineBasicMaterial?(a(M,S),S.isLineDashedMaterial&&o(M,S)):S.isPointsMaterial?l(M,S,R,C):S.isSpriteMaterial?u(M,S):S.isShadowMaterial?(M.color.value.copy(S.color),M.opacity.value=S.opacity):S.isShaderMaterial&&(S.uniformsNeedUpdate=!1)}function s(M,S){M.opacity.value=S.opacity,S.color&&M.diffuse.value.copy(S.color),S.emissive&&M.emissive.value.copy(S.emissive).multiplyScalar(S.emissiveIntensity),S.map&&(M.map.value=S.map,t(S.map,M.mapTransform)),S.alphaMap&&(M.alphaMap.value=S.alphaMap,t(S.alphaMap,M.alphaMapTransform)),S.bumpMap&&(M.bumpMap.value=S.bumpMap,t(S.bumpMap,M.bumpMapTransform),M.bumpScale.value=S.bumpScale,S.side===Zi&&(M.bumpScale.value*=-1)),S.normalMap&&(M.normalMap.value=S.normalMap,t(S.normalMap,M.normalMapTransform),M.normalScale.value.copy(S.normalScale),S.side===Zi&&M.normalScale.value.negate()),S.displacementMap&&(M.displacementMap.value=S.displacementMap,t(S.displacementMap,M.displacementMapTransform),M.displacementScale.value=S.displacementScale,M.displacementBias.value=S.displacementBias),S.emissiveMap&&(M.emissiveMap.value=S.emissiveMap,t(S.emissiveMap,M.emissiveMapTransform)),S.specularMap&&(M.specularMap.value=S.specularMap,t(S.specularMap,M.specularMapTransform)),S.alphaTest>0&&(M.alphaTest.value=S.alphaTest);const R=e.get(S),C=R.envMap,P=R.envMapRotation;C&&(M.envMap.value=C,N4.copy(P),N4.x*=-1,N4.y*=-1,N4.z*=-1,C.isCubeTexture&&C.isRenderTargetTexture===!1&&(N4.y*=-1,N4.z*=-1),M.envMapRotation.value.setFromMatrix4(p9e.makeRotationFromEuler(N4)),M.flipEnvMap.value=C.isCubeTexture&&C.isRenderTargetTexture===!1?-1:1,M.reflectivity.value=S.reflectivity,M.ior.value=S.ior,M.refractionRatio.value=S.refractionRatio),S.lightMap&&(M.lightMap.value=S.lightMap,M.lightMapIntensity.value=S.lightMapIntensity,t(S.lightMap,M.lightMapTransform)),S.aoMap&&(M.aoMap.value=S.aoMap,M.aoMapIntensity.value=S.aoMapIntensity,t(S.aoMap,M.aoMapTransform))}function a(M,S){M.diffuse.value.copy(S.color),M.opacity.value=S.opacity,S.map&&(M.map.value=S.map,t(S.map,M.mapTransform))}function o(M,S){M.dashSize.value=S.dashSize,M.totalSize.value=S.dashSize+S.gapSize,M.scale.value=S.scale}function l(M,S,R,C){M.diffuse.value.copy(S.color),M.opacity.value=S.opacity,M.size.value=S.size*R,M.scale.value=C*.5,S.map&&(M.map.value=S.map,t(S.map,M.uvTransform)),S.alphaMap&&(M.alphaMap.value=S.alphaMap,t(S.alphaMap,M.alphaMapTransform)),S.alphaTest>0&&(M.alphaTest.value=S.alphaTest)}function u(M,S){M.diffuse.value.copy(S.color),M.opacity.value=S.opacity,M.rotation.value=S.rotation,S.map&&(M.map.value=S.map,t(S.map,M.mapTransform)),S.alphaMap&&(M.alphaMap.value=S.alphaMap,t(S.alphaMap,M.alphaMapTransform)),S.alphaTest>0&&(M.alphaTest.value=S.alphaTest)}function c(M,S){M.specular.value.copy(S.specular),M.shininess.value=Math.max(S.shininess,1e-4)}function f(M,S){S.gradientMap&&(M.gradientMap.value=S.gradientMap)}function m(M,S){M.metalness.value=S.metalness,S.metalnessMap&&(M.metalnessMap.value=S.metalnessMap,t(S.metalnessMap,M.metalnessMapTransform)),M.roughness.value=S.roughness,S.roughnessMap&&(M.roughnessMap.value=S.roughnessMap,t(S.roughnessMap,M.roughnessMapTransform)),S.envMap&&(M.envMapIntensity.value=S.envMapIntensity)}function v(M,S,R){M.ior.value=S.ior,S.sheen>0&&(M.sheenColor.value.copy(S.sheenColor).multiplyScalar(S.sheen),M.sheenRoughness.value=S.sheenRoughness,S.sheenColorMap&&(M.sheenColorMap.value=S.sheenColorMap,t(S.sheenColorMap,M.sheenColorMapTransform)),S.sheenRoughnessMap&&(M.sheenRoughnessMap.value=S.sheenRoughnessMap,t(S.sheenRoughnessMap,M.sheenRoughnessMapTransform))),S.clearcoat>0&&(M.clearcoat.value=S.clearcoat,M.clearcoatRoughness.value=S.clearcoatRoughness,S.clearcoatMap&&(M.clearcoatMap.value=S.clearcoatMap,t(S.clearcoatMap,M.clearcoatMapTransform)),S.clearcoatRoughnessMap&&(M.clearcoatRoughnessMap.value=S.clearcoatRoughnessMap,t(S.clearcoatRoughnessMap,M.clearcoatRoughnessMapTransform)),S.clearcoatNormalMap&&(M.clearcoatNormalMap.value=S.clearcoatNormalMap,t(S.clearcoatNormalMap,M.clearcoatNormalMapTransform),M.clearcoatNormalScale.value.copy(S.clearcoatNormalScale),S.side===Zi&&M.clearcoatNormalScale.value.negate())),S.dispersion>0&&(M.dispersion.value=S.dispersion),S.iridescence>0&&(M.iridescence.value=S.iridescence,M.iridescenceIOR.value=S.iridescenceIOR,M.iridescenceThicknessMinimum.value=S.iridescenceThicknessRange[0],M.iridescenceThicknessMaximum.value=S.iridescenceThicknessRange[1],S.iridescenceMap&&(M.iridescenceMap.value=S.iridescenceMap,t(S.iridescenceMap,M.iridescenceMapTransform)),S.iridescenceThicknessMap&&(M.iridescenceThicknessMap.value=S.iridescenceThicknessMap,t(S.iridescenceThicknessMap,M.iridescenceThicknessMapTransform))),S.transmission>0&&(M.transmission.value=S.transmission,M.transmissionSamplerMap.value=R.texture,M.transmissionSamplerSize.value.set(R.width,R.height),S.transmissionMap&&(M.transmissionMap.value=S.transmissionMap,t(S.transmissionMap,M.transmissionMapTransform)),M.thickness.value=S.thickness,S.thicknessMap&&(M.thicknessMap.value=S.thicknessMap,t(S.thicknessMap,M.thicknessMapTransform)),M.attenuationDistance.value=S.attenuationDistance,M.attenuationColor.value.copy(S.attenuationColor)),S.anisotropy>0&&(M.anisotropyVector.value.set(S.anisotropy*Math.cos(S.anisotropyRotation),S.anisotropy*Math.sin(S.anisotropyRotation)),S.anisotropyMap&&(M.anisotropyMap.value=S.anisotropyMap,t(S.anisotropyMap,M.anisotropyMapTransform))),M.specularIntensity.value=S.specularIntensity,M.specularColor.value.copy(S.specularColor),S.specularColorMap&&(M.specularColorMap.value=S.specularColorMap,t(S.specularColorMap,M.specularColorMapTransform)),S.specularIntensityMap&&(M.specularIntensityMap.value=S.specularIntensityMap,t(S.specularIntensityMap,M.specularIntensityMapTransform))}function _(M,S){S.matcap&&(M.matcap.value=S.matcap)}function T(M,S){const R=e.get(S).light;M.referencePosition.value.setFromMatrixPosition(R.matrixWorld),M.nearDistance.value=R.shadow.camera.near,M.farDistance.value=R.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function g9e(n,e,t,i){let r={},s={},a=[];const o=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(R,C){const P=C.program;i.uniformBlockBinding(R,P)}function u(R,C){let P=r[R.id];P===void 0&&(_(R),P=c(R),r[R.id]=P,R.addEventListener("dispose",M));const B=C.program;i.updateUBOMapping(R,B);const O=e.render.frame;s[R.id]!==O&&(m(R),s[R.id]=O)}function c(R){const C=f();R.__bindingPointIndex=C;const P=n.createBuffer(),B=R.__size,O=R.usage;return n.bindBuffer(n.UNIFORM_BUFFER,P),n.bufferData(n.UNIFORM_BUFFER,B,O),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,C,P),P}function f(){for(let R=0;R<o;R++)if(a.indexOf(R)===-1)return a.push(R),R;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function m(R){const C=r[R.id],P=R.uniforms,B=R.__cache;n.bindBuffer(n.UNIFORM_BUFFER,C);for(let O=0,V=P.length;O<V;O++){const F=Array.isArray(P[O])?P[O]:[P[O]];for(let z=0,k=F.length;z<k;z++){const H=F[z];if(v(H,O,z,B)===!0){const Z=H.__offset,$=Array.isArray(H.value)?H.value:[H.value];let ae=0;for(let ne=0;ne<$.length;ne++){const Y=$[ne],ee=T(Y);typeof Y=="number"||typeof Y=="boolean"?(H.__data[0]=Y,n.bufferSubData(n.UNIFORM_BUFFER,Z+ae,H.__data)):Y.isMatrix3?(H.__data[0]=Y.elements[0],H.__data[1]=Y.elements[1],H.__data[2]=Y.elements[2],H.__data[3]=0,H.__data[4]=Y.elements[3],H.__data[5]=Y.elements[4],H.__data[6]=Y.elements[5],H.__data[7]=0,H.__data[8]=Y.elements[6],H.__data[9]=Y.elements[7],H.__data[10]=Y.elements[8],H.__data[11]=0):(Y.toArray(H.__data,ae),ae+=ee.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,Z,H.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function v(R,C,P,B){const O=R.value,V=C+"_"+P;if(B[V]===void 0)return typeof O=="number"||typeof O=="boolean"?B[V]=O:B[V]=O.clone(),!0;{const F=B[V];if(typeof O=="number"||typeof O=="boolean"){if(F!==O)return B[V]=O,!0}else if(F.equals(O)===!1)return F.copy(O),!0}return!1}function _(R){const C=R.uniforms;let P=0;const B=16;for(let V=0,F=C.length;V<F;V++){const z=Array.isArray(C[V])?C[V]:[C[V]];for(let k=0,H=z.length;k<H;k++){const Z=z[k],$=Array.isArray(Z.value)?Z.value:[Z.value];for(let ae=0,ne=$.length;ae<ne;ae++){const Y=$[ae],ee=T(Y),Q=P%B,fe=Q%ee.boundary,ge=Q+fe;P+=fe,ge!==0&&B-ge<ee.storage&&(P+=B-ge),Z.__data=new Float32Array(ee.storage/Float32Array.BYTES_PER_ELEMENT),Z.__offset=P,P+=ee.storage}}}const O=P%B;return O>0&&(P+=B-O),R.__size=P,R.__cache={},this}function T(R){const C={boundary:0,storage:0};return typeof R=="number"||typeof R=="boolean"?(C.boundary=4,C.storage=4):R.isVector2?(C.boundary=8,C.storage=8):R.isVector3||R.isColor?(C.boundary=16,C.storage=12):R.isVector4?(C.boundary=16,C.storage=16):R.isMatrix3?(C.boundary=48,C.storage=48):R.isMatrix4?(C.boundary=64,C.storage=64):R.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",R),C}function M(R){const C=R.target;C.removeEventListener("dispose",M);const P=a.indexOf(C.__bindingPointIndex);a.splice(P,1),n.deleteBuffer(r[C.id]),delete r[C.id],delete s[C.id]}function S(){for(const R in r)n.deleteBuffer(r[R]);a=[],r={},s={}}return{bind:l,update:u,dispose:S}}class E${constructor(e={}){const{canvas:t=HP(),context:i=null,depth:r=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1,reverseDepthBuffer:m=!1}=e;this.isWebGLRenderer=!0;let v;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");v=i.getContextAttributes().alpha}else v=a;const _=new Uint32Array(4),T=new Int32Array(4);let M=null,S=null;const R=[],C=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=co,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const P=this;let B=!1;this._outputColorSpace=Os;let O=0,V=0,F=null,z=-1,k=null;const H=new ln,Z=new ln;let $=null;const ae=new Nt(0);let ne=0,Y=t.width,ee=t.height,Q=1,fe=null,ge=null;const Re=new ln(0,0,Y,ee),Ge=new ln(0,0,Y,ee);let We=!1;const Se=new I3;let qe=!1,St=!1;const at=new Yt,Ct=new Yt,Jt=new re,It=new ln,Sn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let hn=!1;function $t(){return F===null?Q:1}let ce=i;function bt(oe,Ee){return t.getContext(oe,Ee)}try{const oe={alpha:!0,depth:r,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${v8}`),t.addEventListener("webglcontextlost",Gt,!1),t.addEventListener("webglcontextrestored",Mt,!1),t.addEventListener("webglcontextcreationerror",rt,!1),ce===null){const Ee="webgl2";if(ce=bt(Ee,oe),ce===null)throw bt(Ee)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(oe){throw console.error("THREE.WebGLRenderer: "+oe.message),oe}let At,mt,et,Ft,gt,Ut,Tn,me,ie,Ie,Ke,ut,Ze,nn,Ot,Kt,tn,ct,Vt,fn,ve,Fe,Tt,le;function wt(){At=new C8e(ce),At.init(),Fe=new M$(ce,At),mt=new b8e(ce,At,e,Fe),et=new u9e(ce,At),mt.reverseDepthBuffer&&m&&et.buffers.depth.setReversed(!0),Ft=new P8e(ce),gt=new $7e,Ut=new c9e(ce,At,et,gt,mt,Fe,Ft),Tn=new T8e(P),me=new R8e(P),ie=new F5e(ce),Tt=new x8e(ce,ie),Ie=new N8e(ce,ie,Ft,Tt),Ke=new B8e(ce,Ie,ie,Ft),Vt=new L8e(ce,mt,Ut),Kt=new S8e(gt),ut=new Q7e(P,Tn,me,At,mt,Tt,Kt),Ze=new m9e(P,gt),nn=new Z7e,Ot=new r9e(At),ct=new v8e(P,Tn,me,et,Ke,v,l),tn=new o9e(P,Ke,mt),le=new g9e(ce,Ft,mt,et),fn=new _8e(ce,At,Ft),ve=new D8e(ce,At,Ft),Ft.programs=ut.programs,P.capabilities=mt,P.extensions=At,P.properties=gt,P.renderLists=nn,P.shadowMap=tn,P.state=et,P.info=Ft}wt();const ft=new A9e(P,ce);this.xr=ft,this.getContext=function(){return ce},this.getContextAttributes=function(){return ce.getContextAttributes()},this.forceContextLoss=function(){const oe=At.get("WEBGL_lose_context");oe&&oe.loseContext()},this.forceContextRestore=function(){const oe=At.get("WEBGL_lose_context");oe&&oe.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(oe){oe!==void 0&&(Q=oe,this.setSize(Y,ee,!1))},this.getSize=function(oe){return oe.set(Y,ee)},this.setSize=function(oe,Ee,Ve=!0){if(ft.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Y=oe,ee=Ee,t.width=Math.floor(oe*Q),t.height=Math.floor(Ee*Q),Ve===!0&&(t.style.width=oe+"px",t.style.height=Ee+"px"),this.setViewport(0,0,oe,Ee)},this.getDrawingBufferSize=function(oe){return oe.set(Y*Q,ee*Q).floor()},this.setDrawingBufferSize=function(oe,Ee,Ve){Y=oe,ee=Ee,Q=Ve,t.width=Math.floor(oe*Ve),t.height=Math.floor(Ee*Ve),this.setViewport(0,0,oe,Ee)},this.getCurrentViewport=function(oe){return oe.copy(H)},this.getViewport=function(oe){return oe.copy(Re)},this.setViewport=function(oe,Ee,Ve,ze){oe.isVector4?Re.set(oe.x,oe.y,oe.z,oe.w):Re.set(oe,Ee,Ve,ze),et.viewport(H.copy(Re).multiplyScalar(Q).round())},this.getScissor=function(oe){return oe.copy(Ge)},this.setScissor=function(oe,Ee,Ve,ze){oe.isVector4?Ge.set(oe.x,oe.y,oe.z,oe.w):Ge.set(oe,Ee,Ve,ze),et.scissor(Z.copy(Ge).multiplyScalar(Q).round())},this.getScissorTest=function(){return We},this.setScissorTest=function(oe){et.setScissorTest(We=oe)},this.setOpaqueSort=function(oe){fe=oe},this.setTransparentSort=function(oe){ge=oe},this.getClearColor=function(oe){return oe.copy(ct.getClearColor())},this.setClearColor=function(){ct.setClearColor(...arguments)},this.getClearAlpha=function(){return ct.getClearAlpha()},this.setClearAlpha=function(){ct.setClearAlpha(...arguments)},this.clear=function(oe=!0,Ee=!0,Ve=!0){let ze=0;if(oe){let Pe=!1;if(F!==null){const vt=F.texture.format;Pe=vt===gh||vt===mh||vt===U3}if(Pe){const vt=F.texture.type,Bt=vt===Lr||vt===tr||vt===w0||vt===il||vt===$p||vt===Kp,dt=ct.getClearColor(),te=ct.getClearAlpha(),Et=dt.r,Rn=dt.g,dn=dt.b;Bt?(_[0]=Et,_[1]=Rn,_[2]=dn,_[3]=te,ce.clearBufferuiv(ce.COLOR,0,_)):(T[0]=Et,T[1]=Rn,T[2]=dn,T[3]=te,ce.clearBufferiv(ce.COLOR,0,T))}else ze|=ce.COLOR_BUFFER_BIT}Ee&&(ze|=ce.DEPTH_BUFFER_BIT),Ve&&(ze|=ce.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ce.clear(ze)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Gt,!1),t.removeEventListener("webglcontextrestored",Mt,!1),t.removeEventListener("webglcontextcreationerror",rt,!1),ct.dispose(),nn.dispose(),Ot.dispose(),gt.dispose(),Tn.dispose(),me.dispose(),Ke.dispose(),Tt.dispose(),le.dispose(),ut.dispose(),ft.dispose(),ft.removeEventListener("sessionstart",He),ft.removeEventListener("sessionend",st),Pt.stop()};function Gt(oe){oe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),B=!0}function Mt(){console.log("THREE.WebGLRenderer: Context Restored."),B=!1;const oe=Ft.autoReset,Ee=tn.enabled,Ve=tn.autoUpdate,ze=tn.needsUpdate,Pe=tn.type;wt(),Ft.autoReset=oe,tn.enabled=Ee,tn.autoUpdate=Ve,tn.needsUpdate=ze,tn.type=Pe}function rt(oe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",oe.statusMessage)}function qt(oe){const Ee=oe.target;Ee.removeEventListener("dispose",qt),cn(Ee)}function cn(oe){ai(oe),gt.remove(oe)}function ai(oe){const Ee=gt.get(oe).programs;Ee!==void 0&&(Ee.forEach(function(Ve){ut.releaseProgram(Ve)}),oe.isShaderMaterial&&ut.releaseShaderCache(oe))}this.renderBufferDirect=function(oe,Ee,Ve,ze,Pe,vt){Ee===null&&(Ee=Sn);const Bt=Pe.isMesh&&Pe.matrixWorld.determinant()<0,dt=pl(oe,Ee,Ve,ze,Pe);et.setMaterial(ze,Bt);let te=Ve.index,Et=1;if(ze.wireframe===!0){if(te=Ie.getWireframeAttribute(Ve),te===void 0)return;Et=2}const Rn=Ve.drawRange,dn=Ve.attributes.position;let si=Rn.start*Et,Ni=(Rn.start+Rn.count)*Et;vt!==null&&(si=Math.max(si,vt.start*Et),Ni=Math.min(Ni,(vt.start+vt.count)*Et)),te!==null?(si=Math.max(si,0),Ni=Math.min(Ni,te.count)):dn!=null&&(si=Math.max(si,0),Ni=Math.min(Ni,dn.count));const pr=Ni-si;if(pr<0||pr===1/0)return;Tt.setup(Pe,ze,dt,Ve,te);let K,Bi=fn;if(te!==null&&(K=ie.get(te),Bi=ve,Bi.setIndex(K)),Pe.isMesh)ze.wireframe===!0?(et.setLineWidth(ze.wireframeLinewidth*$t()),Bi.setMode(ce.LINES)):Bi.setMode(ce.TRIANGLES);else if(Pe.isLine){let yn=ze.linewidth;yn===void 0&&(yn=1),et.setLineWidth(yn*$t()),Pe.isLineSegments?Bi.setMode(ce.LINES):Pe.isLineLoop?Bi.setMode(ce.LINE_LOOP):Bi.setMode(ce.LINE_STRIP)}else Pe.isPoints?Bi.setMode(ce.POINTS):Pe.isSprite&&Bi.setMode(ce.TRIANGLES);if(Pe.isBatchedMesh)if(Pe._multiDrawInstances!==null)jl("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Bi.renderMultiDrawInstances(Pe._multiDrawStarts,Pe._multiDrawCounts,Pe._multiDrawCount,Pe._multiDrawInstances);else if(At.get("WEBGL_multi_draw"))Bi.renderMultiDraw(Pe._multiDrawStarts,Pe._multiDrawCounts,Pe._multiDrawCount);else{const yn=Pe._multiDrawStarts,rr=Pe._multiDrawCounts,vi=Pe._multiDrawCount,ua=te?ie.get(te).bytesPerElement:1,Kl=gt.get(ze).currentProgram.getUniforms();for(let Ws=0;Ws<vi;Ws++)Kl.setValue(ce,"_gl_DrawID",Ws),Bi.render(yn[Ws]/ua,rr[Ws])}else if(Pe.isInstancedMesh)Bi.renderInstances(si,pr,Pe.count);else if(Ve.isInstancedBufferGeometry){const yn=Ve._maxInstanceCount!==void 0?Ve._maxInstanceCount:1/0,rr=Math.min(Ve.instanceCount,yn);Bi.renderInstances(si,pr,rr)}else Bi.render(si,pr)};function Yn(oe,Ee,Ve){oe.transparent===!0&&oe.side===hs&&oe.forceSinglePass===!1?(oe.side=Zi,oe.needsUpdate=!0,Qn(oe,Ee,Ve),oe.side=Bo,oe.needsUpdate=!0,Qn(oe,Ee,Ve),oe.side=hs):Qn(oe,Ee,Ve)}this.compile=function(oe,Ee,Ve=null){Ve===null&&(Ve=oe),S=Ot.get(Ve),S.init(Ee),C.push(S),Ve.traverseVisible(function(Pe){Pe.isLight&&Pe.layers.test(Ee.layers)&&(S.pushLight(Pe),Pe.castShadow&&S.pushShadow(Pe))}),oe!==Ve&&oe.traverseVisible(function(Pe){Pe.isLight&&Pe.layers.test(Ee.layers)&&(S.pushLight(Pe),Pe.castShadow&&S.pushShadow(Pe))}),S.setupLights();const ze=new Set;return oe.traverse(function(Pe){if(!(Pe.isMesh||Pe.isPoints||Pe.isLine||Pe.isSprite))return;const vt=Pe.material;if(vt)if(Array.isArray(vt))for(let Bt=0;Bt<vt.length;Bt++){const dt=vt[Bt];Yn(dt,Ve,Pe),ze.add(dt)}else Yn(vt,Ve,Pe),ze.add(vt)}),S=C.pop(),ze},this.compileAsync=function(oe,Ee,Ve=null){const ze=this.compile(oe,Ee,Ve);return new Promise(Pe=>{function vt(){if(ze.forEach(function(Bt){gt.get(Bt).currentProgram.isReady()&&ze.delete(Bt)}),ze.size===0){Pe(oe);return}setTimeout(vt,10)}At.get("KHR_parallel_shader_compile")!==null?vt():setTimeout(vt,10)})};let Fr=null;function zr(oe){Fr&&Fr(oe)}function He(){Pt.stop()}function st(){Pt.start()}const Pt=new x$;Pt.setAnimationLoop(zr),typeof self<"u"&&Pt.setContext(self),this.setAnimationLoop=function(oe){Fr=oe,ft.setAnimationLoop(oe),oe===null?Pt.stop():Pt.start()},ft.addEventListener("sessionstart",He),ft.addEventListener("sessionend",st),this.render=function(oe,Ee){if(Ee!==void 0&&Ee.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(B===!0)return;if(oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),Ee.parent===null&&Ee.matrixWorldAutoUpdate===!0&&Ee.updateMatrixWorld(),ft.enabled===!0&&ft.isPresenting===!0&&(ft.cameraAutoUpdate===!0&&ft.updateCamera(Ee),Ee=ft.getCamera()),oe.isScene===!0&&oe.onBeforeRender(P,oe,Ee,F),S=Ot.get(oe,C.length),S.init(Ee),C.push(S),Ct.multiplyMatrices(Ee.projectionMatrix,Ee.matrixWorldInverse),Se.setFromProjectionMatrix(Ct),St=this.localClippingEnabled,qe=Kt.init(this.clippingPlanes,St),M=nn.get(oe,R.length),M.init(),R.push(M),ft.enabled===!0&&ft.isPresenting===!0){const vt=P.xr.getDepthSensingMesh();vt!==null&&nt(vt,Ee,-1/0,P.sortObjects)}nt(oe,Ee,0,P.sortObjects),M.finish(),P.sortObjects===!0&&M.sort(fe,ge),hn=ft.enabled===!1||ft.isPresenting===!1||ft.hasDepthSensing()===!1,hn&&ct.addToRenderList(M,oe),this.info.render.frame++,qe===!0&&Kt.beginShadows();const Ve=S.state.shadowsArray;tn.render(Ve,oe,Ee),qe===!0&&Kt.endShadows(),this.info.autoReset===!0&&this.info.reset();const ze=M.opaque,Pe=M.transmissive;if(S.setupLights(),Ee.isArrayCamera){const vt=Ee.cameras;if(Pe.length>0)for(let Bt=0,dt=vt.length;Bt<dt;Bt++){const te=vt[Bt];J(ze,Pe,oe,te)}hn&&ct.render(oe);for(let Bt=0,dt=vt.length;Bt<dt;Bt++){const te=vt[Bt];d(M,oe,te,te.viewport)}}else Pe.length>0&&J(ze,Pe,oe,Ee),hn&&ct.render(oe),d(M,oe,Ee);F!==null&&V===0&&(Ut.updateMultisampleRenderTarget(F),Ut.updateRenderTargetMipmap(F)),oe.isScene===!0&&oe.onAfterRender(P,oe,Ee),Tt.resetDefaultState(),z=-1,k=null,C.pop(),C.length>0?(S=C[C.length-1],qe===!0&&Kt.setGlobalState(P.clippingPlanes,S.state.camera)):S=null,R.pop(),R.length>0?M=R[R.length-1]:M=null};function nt(oe,Ee,Ve,ze){if(oe.visible===!1)return;if(oe.layers.test(Ee.layers)){if(oe.isGroup)Ve=oe.renderOrder;else if(oe.isLOD)oe.autoUpdate===!0&&oe.update(Ee);else if(oe.isLight)S.pushLight(oe),oe.castShadow&&S.pushShadow(oe);else if(oe.isSprite){if(!oe.frustumCulled||Se.intersectsSprite(oe)){ze&&It.setFromMatrixPosition(oe.matrixWorld).applyMatrix4(Ct);const Bt=Ke.update(oe),dt=oe.material;dt.visible&&M.push(oe,Bt,dt,Ve,It.z,null)}}else if((oe.isMesh||oe.isLine||oe.isPoints)&&(!oe.frustumCulled||Se.intersectsObject(oe))){const Bt=Ke.update(oe),dt=oe.material;if(ze&&(oe.boundingSphere!==void 0?(oe.boundingSphere===null&&oe.computeBoundingSphere(),It.copy(oe.boundingSphere.center)):(Bt.boundingSphere===null&&Bt.computeBoundingSphere(),It.copy(Bt.boundingSphere.center)),It.applyMatrix4(oe.matrixWorld).applyMatrix4(Ct)),Array.isArray(dt)){const te=Bt.groups;for(let Et=0,Rn=te.length;Et<Rn;Et++){const dn=te[Et],si=dt[dn.materialIndex];si&&si.visible&&M.push(oe,Bt,si,Ve,It.z,dn)}}else dt.visible&&M.push(oe,Bt,dt,Ve,It.z,null)}}const vt=oe.children;for(let Bt=0,dt=vt.length;Bt<dt;Bt++)nt(vt[Bt],Ee,Ve,ze)}function d(oe,Ee,Ve,ze){const Pe=oe.opaque,vt=oe.transmissive,Bt=oe.transparent;S.setupLightsView(Ve),qe===!0&&Kt.setGlobalState(P.clippingPlanes,Ve),ze&&et.viewport(H.copy(ze)),Pe.length>0&&Dn(Pe,Ee,Ve),vt.length>0&&Dn(vt,Ee,Ve),Bt.length>0&&Dn(Bt,Ee,Ve),et.buffers.depth.setTest(!0),et.buffers.depth.setMask(!0),et.buffers.color.setMask(!0),et.setPolygonOffset(!1)}function J(oe,Ee,Ve,ze){if((Ve.isScene===!0?Ve.overrideMaterial:null)!==null)return;S.state.transmissionRenderTarget[ze.id]===void 0&&(S.state.transmissionRenderTarget[ze.id]=new x1(1,1,{generateMipmaps:!0,type:At.has("EXT_color_buffer_half_float")||At.has("EXT_color_buffer_float")?Fs:Lr,minFilter:Fa,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:wn.workingColorSpace}));const vt=S.state.transmissionRenderTarget[ze.id],Bt=ze.viewport||H;vt.setSize(Bt.z*P.transmissionResolutionScale,Bt.w*P.transmissionResolutionScale);const dt=P.getRenderTarget(),te=P.getActiveCubeFace(),Et=P.getActiveMipmapLevel();P.setRenderTarget(vt),P.getClearColor(ae),ne=P.getClearAlpha(),ne<1&&P.setClearColor(16777215,.5),P.clear(),hn&&ct.render(Ve);const Rn=P.toneMapping;P.toneMapping=co;const dn=ze.viewport;if(ze.viewport!==void 0&&(ze.viewport=void 0),S.setupLightsView(ze),qe===!0&&Kt.setGlobalState(P.clippingPlanes,ze),Dn(oe,Ve,ze),Ut.updateMultisampleRenderTarget(vt),Ut.updateRenderTargetMipmap(vt),At.has("WEBGL_multisampled_render_to_texture")===!1){let si=!1;for(let Ni=0,pr=Ee.length;Ni<pr;Ni++){const K=Ee[Ni],Bi=K.object,yn=K.geometry,rr=K.material,vi=K.group;if(rr.side===hs&&Bi.layers.test(ze.layers)){const ua=rr.side;rr.side=Zi,rr.needsUpdate=!0,Ai(Bi,Ve,ze,yn,rr,vi),rr.side=ua,rr.needsUpdate=!0,si=!0}}si===!0&&(Ut.updateMultisampleRenderTarget(vt),Ut.updateRenderTargetMipmap(vt))}P.setRenderTarget(dt,te,Et),P.setClearColor(ae,ne),dn!==void 0&&(ze.viewport=dn),P.toneMapping=Rn}function Dn(oe,Ee,Ve){const ze=Ee.isScene===!0?Ee.overrideMaterial:null;for(let Pe=0,vt=oe.length;Pe<vt;Pe++){const Bt=oe[Pe],dt=Bt.object,te=Bt.geometry,Et=Bt.group;let Rn=Bt.material;Rn.allowOverride===!0&&ze!==null&&(Rn=ze),dt.layers.test(Ve.layers)&&Ai(dt,Ee,Ve,te,Rn,Et)}}function Ai(oe,Ee,Ve,ze,Pe,vt){oe.onBeforeRender(P,Ee,Ve,ze,Pe,vt),oe.modelViewMatrix.multiplyMatrices(Ve.matrixWorldInverse,oe.matrixWorld),oe.normalMatrix.getNormalMatrix(oe.modelViewMatrix),Pe.onBeforeRender(P,Ee,Ve,ze,oe,vt),Pe.transparent===!0&&Pe.side===hs&&Pe.forceSinglePass===!1?(Pe.side=Zi,Pe.needsUpdate=!0,P.renderBufferDirect(Ve,Ee,ze,Pe,oe,vt),Pe.side=Bo,Pe.needsUpdate=!0,P.renderBufferDirect(Ve,Ee,ze,Pe,oe,vt),Pe.side=hs):P.renderBufferDirect(Ve,Ee,ze,Pe,oe,vt),oe.onAfterRender(P,Ee,Ve,ze,Pe,vt)}function Qn(oe,Ee,Ve){Ee.isScene!==!0&&(Ee=Sn);const ze=gt.get(oe),Pe=S.state.lights,vt=S.state.shadowsArray,Bt=Pe.state.version,dt=ut.getParameters(oe,Pe.state,vt,Ee,Ve),te=ut.getProgramCacheKey(dt);let Et=ze.programs;ze.environment=oe.isMeshStandardMaterial?Ee.environment:null,ze.fog=Ee.fog,ze.envMap=(oe.isMeshStandardMaterial?me:Tn).get(oe.envMap||ze.environment),ze.envMapRotation=ze.environment!==null&&oe.envMap===null?Ee.environmentRotation:oe.envMapRotation,Et===void 0&&(oe.addEventListener("dispose",qt),Et=new Map,ze.programs=Et);let Rn=Et.get(te);if(Rn!==void 0){if(ze.currentProgram===Rn&&ze.lightsStateVersion===Bt)return ri(oe,dt),Rn}else dt.uniforms=ut.getUniforms(oe),oe.onBeforeCompile(dt,P),Rn=ut.acquireProgram(dt,te),Et.set(te,Rn),ze.uniforms=dt.uniforms;const dn=ze.uniforms;return(!oe.isShaderMaterial&&!oe.isRawShaderMaterial||oe.clipping===!0)&&(dn.clippingPlanes=Kt.uniform),ri(oe,dt),ze.needsLights=qn(oe),ze.lightsStateVersion=Bt,ze.needsLights&&(dn.ambientLightColor.value=Pe.state.ambient,dn.lightProbe.value=Pe.state.probe,dn.directionalLights.value=Pe.state.directional,dn.directionalLightShadows.value=Pe.state.directionalShadow,dn.spotLights.value=Pe.state.spot,dn.spotLightShadows.value=Pe.state.spotShadow,dn.rectAreaLights.value=Pe.state.rectArea,dn.ltc_1.value=Pe.state.rectAreaLTC1,dn.ltc_2.value=Pe.state.rectAreaLTC2,dn.pointLights.value=Pe.state.point,dn.pointLightShadows.value=Pe.state.pointShadow,dn.hemisphereLights.value=Pe.state.hemi,dn.directionalShadowMap.value=Pe.state.directionalShadowMap,dn.directionalShadowMatrix.value=Pe.state.directionalShadowMatrix,dn.spotShadowMap.value=Pe.state.spotShadowMap,dn.spotLightMatrix.value=Pe.state.spotLightMatrix,dn.spotLightMap.value=Pe.state.spotLightMap,dn.pointShadowMap.value=Pe.state.pointShadowMap,dn.pointShadowMatrix.value=Pe.state.pointShadowMatrix),ze.currentProgram=Rn,ze.uniformsList=null,Rn}function Pn(oe){if(oe.uniformsList===null){const Ee=oe.currentProgram.getUniforms();oe.uniformsList=nx.seqWithValue(Ee.seq,oe.uniforms)}return oe.uniformsList}function ri(oe,Ee){const Ve=gt.get(oe);Ve.outputColorSpace=Ee.outputColorSpace,Ve.batching=Ee.batching,Ve.batchingColor=Ee.batchingColor,Ve.instancing=Ee.instancing,Ve.instancingColor=Ee.instancingColor,Ve.instancingMorph=Ee.instancingMorph,Ve.skinning=Ee.skinning,Ve.morphTargets=Ee.morphTargets,Ve.morphNormals=Ee.morphNormals,Ve.morphColors=Ee.morphColors,Ve.morphTargetsCount=Ee.morphTargetsCount,Ve.numClippingPlanes=Ee.numClippingPlanes,Ve.numIntersection=Ee.numClipIntersection,Ve.vertexAlphas=Ee.vertexAlphas,Ve.vertexTangents=Ee.vertexTangents,Ve.toneMapping=Ee.toneMapping}function pl(oe,Ee,Ve,ze,Pe){Ee.isScene!==!0&&(Ee=Sn),Ut.resetTextureUnits();const vt=Ee.fog,Bt=ze.isMeshStandardMaterial?Ee.environment:null,dt=F===null?P.outputColorSpace:F.isXRRenderTarget===!0?F.texture.colorSpace:ql,te=(ze.isMeshStandardMaterial?me:Tn).get(ze.envMap||Bt),Et=ze.vertexColors===!0&&!!Ve.attributes.color&&Ve.attributes.color.itemSize===4,Rn=!!Ve.attributes.tangent&&(!!ze.normalMap||ze.anisotropy>0),dn=!!Ve.morphAttributes.position,si=!!Ve.morphAttributes.normal,Ni=!!Ve.morphAttributes.color;let pr=co;ze.toneMapped&&(F===null||F.isXRRenderTarget===!0)&&(pr=P.toneMapping);const K=Ve.morphAttributes.position||Ve.morphAttributes.normal||Ve.morphAttributes.color,Bi=K!==void 0?K.length:0,yn=gt.get(ze),rr=S.state.lights;if(qe===!0&&(St===!0||oe!==k)){const gs=oe===k&&ze.id===z;Kt.setState(ze,oe,gs)}let vi=!1;ze.version===yn.__version?(yn.needsLights&&yn.lightsStateVersion!==rr.state.version||yn.outputColorSpace!==dt||Pe.isBatchedMesh&&yn.batching===!1||!Pe.isBatchedMesh&&yn.batching===!0||Pe.isBatchedMesh&&yn.batchingColor===!0&&Pe.colorTexture===null||Pe.isBatchedMesh&&yn.batchingColor===!1&&Pe.colorTexture!==null||Pe.isInstancedMesh&&yn.instancing===!1||!Pe.isInstancedMesh&&yn.instancing===!0||Pe.isSkinnedMesh&&yn.skinning===!1||!Pe.isSkinnedMesh&&yn.skinning===!0||Pe.isInstancedMesh&&yn.instancingColor===!0&&Pe.instanceColor===null||Pe.isInstancedMesh&&yn.instancingColor===!1&&Pe.instanceColor!==null||Pe.isInstancedMesh&&yn.instancingMorph===!0&&Pe.morphTexture===null||Pe.isInstancedMesh&&yn.instancingMorph===!1&&Pe.morphTexture!==null||yn.envMap!==te||ze.fog===!0&&yn.fog!==vt||yn.numClippingPlanes!==void 0&&(yn.numClippingPlanes!==Kt.numPlanes||yn.numIntersection!==Kt.numIntersection)||yn.vertexAlphas!==Et||yn.vertexTangents!==Rn||yn.morphTargets!==dn||yn.morphNormals!==si||yn.morphColors!==Ni||yn.toneMapping!==pr||yn.morphTargetsCount!==Bi)&&(vi=!0):(vi=!0,yn.__version=ze.version);let ua=yn.currentProgram;vi===!0&&(ua=Qn(ze,Ee,Pe));let Kl=!1,Ws=!1,W0=!1;const Wi=ua.getUniforms(),Cr=yn.uniforms;if(et.useProgram(ua.program)&&(Kl=!0,Ws=!0,W0=!0),ze.id!==z&&(z=ze.id,Ws=!0),Kl||k!==oe){et.buffers.depth.getReversed()?(at.copy(oe.projectionMatrix),cfe(at),ffe(at),Wi.setValue(ce,"projectionMatrix",at)):Wi.setValue(ce,"projectionMatrix",oe.projectionMatrix),Wi.setValue(ce,"viewMatrix",oe.matrixWorldInverse);const Xs=Wi.map.cameraPosition;Xs!==void 0&&Xs.setValue(ce,Jt.setFromMatrixPosition(oe.matrixWorld)),mt.logarithmicDepthBuffer&&Wi.setValue(ce,"logDepthBufFC",2/(Math.log(oe.far+1)/Math.LN2)),(ze.isMeshPhongMaterial||ze.isMeshToonMaterial||ze.isMeshLambertMaterial||ze.isMeshBasicMaterial||ze.isMeshStandardMaterial||ze.isShaderMaterial)&&Wi.setValue(ce,"isOrthographic",oe.isOrthographicCamera===!0),k!==oe&&(k=oe,Ws=!0,W0=!0)}if(Pe.isSkinnedMesh){Wi.setOptional(ce,Pe,"bindMatrix"),Wi.setOptional(ce,Pe,"bindMatrixInverse");const gs=Pe.skeleton;gs&&(gs.boneTexture===null&&gs.computeBoneTexture(),Wi.setValue(ce,"boneTexture",gs.boneTexture,Ut))}Pe.isBatchedMesh&&(Wi.setOptional(ce,Pe,"batchingTexture"),Wi.setValue(ce,"batchingTexture",Pe._matricesTexture,Ut),Wi.setOptional(ce,Pe,"batchingIdTexture"),Wi.setValue(ce,"batchingIdTexture",Pe._indirectTexture,Ut),Wi.setOptional(ce,Pe,"batchingColorTexture"),Pe._colorsTexture!==null&&Wi.setValue(ce,"batchingColorTexture",Pe._colorsTexture,Ut));const wi=Ve.morphAttributes;if((wi.position!==void 0||wi.normal!==void 0||wi.color!==void 0)&&Vt.update(Pe,Ve,ua),(Ws||yn.receiveShadow!==Pe.receiveShadow)&&(yn.receiveShadow=Pe.receiveShadow,Wi.setValue(ce,"receiveShadow",Pe.receiveShadow)),ze.isMeshGouraudMaterial&&ze.envMap!==null&&(Cr.envMap.value=te,Cr.flipEnvMap.value=te.isCubeTexture&&te.isRenderTargetTexture===!1?-1:1),ze.isMeshStandardMaterial&&ze.envMap===null&&Ee.environment!==null&&(Cr.envMapIntensity.value=Ee.environmentIntensity),Ws&&(Wi.setValue(ce,"toneMappingExposure",P.toneMappingExposure),yn.needsLights&&yi(Cr,W0),vt&&ze.fog===!0&&Ze.refreshFogUniforms(Cr,vt),Ze.refreshMaterialUniforms(Cr,ze,Q,ee,S.state.transmissionRenderTarget[oe.id]),nx.upload(ce,Pn(yn),Cr,Ut)),ze.isShaderMaterial&&ze.uniformsNeedUpdate===!0&&(nx.upload(ce,Pn(yn),Cr,Ut),ze.uniformsNeedUpdate=!1),ze.isSpriteMaterial&&Wi.setValue(ce,"center",Pe.center),Wi.setValue(ce,"modelViewMatrix",Pe.modelViewMatrix),Wi.setValue(ce,"normalMatrix",Pe.normalMatrix),Wi.setValue(ce,"modelMatrix",Pe.matrixWorld),ze.isShaderMaterial||ze.isRawShaderMaterial){const gs=ze.uniformsGroups;for(let Xs=0,Zl=gs.length;Xs<Zl;Xs++){const ml=gs[Xs];le.update(ml,ua),le.bind(ml,ua)}}return ua}function yi(oe,Ee){oe.ambientLightColor.needsUpdate=Ee,oe.lightProbe.needsUpdate=Ee,oe.directionalLights.needsUpdate=Ee,oe.directionalLightShadows.needsUpdate=Ee,oe.pointLights.needsUpdate=Ee,oe.pointLightShadows.needsUpdate=Ee,oe.spotLights.needsUpdate=Ee,oe.spotLightShadows.needsUpdate=Ee,oe.rectAreaLights.needsUpdate=Ee,oe.hemisphereLights.needsUpdate=Ee}function qn(oe){return oe.isMeshLambertMaterial||oe.isMeshToonMaterial||oe.isMeshPhongMaterial||oe.isMeshStandardMaterial||oe.isShadowMaterial||oe.isShaderMaterial&&oe.lights===!0}this.getActiveCubeFace=function(){return O},this.getActiveMipmapLevel=function(){return V},this.getRenderTarget=function(){return F},this.setRenderTargetTextures=function(oe,Ee,Ve){const ze=gt.get(oe);ze.__autoAllocateDepthBuffer=oe.resolveDepthBuffer===!1,ze.__autoAllocateDepthBuffer===!1&&(ze.__useRenderToTexture=!1),gt.get(oe.texture).__webglTexture=Ee,gt.get(oe.depthTexture).__webglTexture=ze.__autoAllocateDepthBuffer?void 0:Ve,ze.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(oe,Ee){const Ve=gt.get(oe);Ve.__webglFramebuffer=Ee,Ve.__useDefaultFramebuffer=Ee===void 0};const la=ce.createFramebuffer();this.setRenderTarget=function(oe,Ee=0,Ve=0){F=oe,O=Ee,V=Ve;let ze=!0,Pe=null,vt=!1,Bt=!1;if(oe){const te=gt.get(oe);if(te.__useDefaultFramebuffer!==void 0)et.bindFramebuffer(ce.FRAMEBUFFER,null),ze=!1;else if(te.__webglFramebuffer===void 0)Ut.setupRenderTarget(oe);else if(te.__hasExternalTextures)Ut.rebindTextures(oe,gt.get(oe.texture).__webglTexture,gt.get(oe.depthTexture).__webglTexture);else if(oe.depthBuffer){const dn=oe.depthTexture;if(te.__boundDepthTexture!==dn){if(dn!==null&&gt.has(dn)&&(oe.width!==dn.image.width||oe.height!==dn.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Ut.setupDepthRenderbuffer(oe)}}const Et=oe.texture;(Et.isData3DTexture||Et.isDataArrayTexture||Et.isCompressedArrayTexture)&&(Bt=!0);const Rn=gt.get(oe).__webglFramebuffer;oe.isWebGLCubeRenderTarget?(Array.isArray(Rn[Ee])?Pe=Rn[Ee][Ve]:Pe=Rn[Ee],vt=!0):oe.samples>0&&Ut.useMultisampledRTT(oe)===!1?Pe=gt.get(oe).__webglMultisampledFramebuffer:Array.isArray(Rn)?Pe=Rn[Ve]:Pe=Rn,H.copy(oe.viewport),Z.copy(oe.scissor),$=oe.scissorTest}else H.copy(Re).multiplyScalar(Q).floor(),Z.copy(Ge).multiplyScalar(Q).floor(),$=We;if(Ve!==0&&(Pe=la),et.bindFramebuffer(ce.FRAMEBUFFER,Pe)&&ze&&et.drawBuffers(oe,Pe),et.viewport(H),et.scissor(Z),et.setScissorTest($),vt){const te=gt.get(oe.texture);ce.framebufferTexture2D(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_CUBE_MAP_POSITIVE_X+Ee,te.__webglTexture,Ve)}else if(Bt){const te=gt.get(oe.texture),Et=Ee;ce.framebufferTextureLayer(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,te.__webglTexture,Ve,Et)}else if(oe!==null&&Ve!==0){const te=gt.get(oe.texture);ce.framebufferTexture2D(ce.FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_2D,te.__webglTexture,Ve)}z=-1},this.readRenderTargetPixels=function(oe,Ee,Ve,ze,Pe,vt,Bt,dt=0){if(!(oe&&oe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let te=gt.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&Bt!==void 0&&(te=te[Bt]),te){et.bindFramebuffer(ce.FRAMEBUFFER,te);try{const Et=oe.textures[dt],Rn=Et.format,dn=Et.type;if(!mt.textureFormatReadable(Rn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!mt.textureTypeReadable(dn)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ee>=0&&Ee<=oe.width-ze&&Ve>=0&&Ve<=oe.height-Pe&&(oe.textures.length>1&&ce.readBuffer(ce.COLOR_ATTACHMENT0+dt),ce.readPixels(Ee,Ve,ze,Pe,Fe.convert(Rn),Fe.convert(dn),vt))}finally{const Et=F!==null?gt.get(F).__webglFramebuffer:null;et.bindFramebuffer(ce.FRAMEBUFFER,Et)}}},this.readRenderTargetPixelsAsync=async function(oe,Ee,Ve,ze,Pe,vt,Bt,dt=0){if(!(oe&&oe.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let te=gt.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&Bt!==void 0&&(te=te[Bt]),te)if(Ee>=0&&Ee<=oe.width-ze&&Ve>=0&&Ve<=oe.height-Pe){et.bindFramebuffer(ce.FRAMEBUFFER,te);const Et=oe.textures[dt],Rn=Et.format,dn=Et.type;if(!mt.textureFormatReadable(Rn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!mt.textureTypeReadable(dn))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const si=ce.createBuffer();ce.bindBuffer(ce.PIXEL_PACK_BUFFER,si),ce.bufferData(ce.PIXEL_PACK_BUFFER,vt.byteLength,ce.STREAM_READ),oe.textures.length>1&&ce.readBuffer(ce.COLOR_ATTACHMENT0+dt),ce.readPixels(Ee,Ve,ze,Pe,Fe.convert(Rn),Fe.convert(dn),0);const Ni=F!==null?gt.get(F).__webglFramebuffer:null;et.bindFramebuffer(ce.FRAMEBUFFER,Ni);const pr=ce.fenceSync(ce.SYNC_GPU_COMMANDS_COMPLETE,0);return ce.flush(),await ufe(ce,pr,4),ce.bindBuffer(ce.PIXEL_PACK_BUFFER,si),ce.getBufferSubData(ce.PIXEL_PACK_BUFFER,0,vt),ce.deleteBuffer(si),ce.deleteSync(pr),vt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(oe,Ee=null,Ve=0){const ze=Math.pow(2,-Ve),Pe=Math.floor(oe.image.width*ze),vt=Math.floor(oe.image.height*ze),Bt=Ee!==null?Ee.x:0,dt=Ee!==null?Ee.y:0;Ut.setTexture2D(oe,0),ce.copyTexSubImage2D(ce.TEXTURE_2D,Ve,0,0,Bt,dt,Pe,vt),et.unbindTexture()};const Cu=ce.createFramebuffer(),j3=ce.createFramebuffer();this.copyTextureToTexture=function(oe,Ee,Ve=null,ze=null,Pe=0,vt=null){vt===null&&(Pe!==0?(jl("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),vt=Pe,Pe=0):vt=0);let Bt,dt,te,Et,Rn,dn,si,Ni,pr;const K=oe.isCompressedTexture?oe.mipmaps[vt]:oe.image;if(Ve!==null)Bt=Ve.max.x-Ve.min.x,dt=Ve.max.y-Ve.min.y,te=Ve.isBox3?Ve.max.z-Ve.min.z:1,Et=Ve.min.x,Rn=Ve.min.y,dn=Ve.isBox3?Ve.min.z:0;else{const wi=Math.pow(2,-Pe);Bt=Math.floor(K.width*wi),dt=Math.floor(K.height*wi),oe.isDataArrayTexture?te=K.depth:oe.isData3DTexture?te=Math.floor(K.depth*wi):te=1,Et=0,Rn=0,dn=0}ze!==null?(si=ze.x,Ni=ze.y,pr=ze.z):(si=0,Ni=0,pr=0);const Bi=Fe.convert(Ee.format),yn=Fe.convert(Ee.type);let rr;Ee.isData3DTexture?(Ut.setTexture3D(Ee,0),rr=ce.TEXTURE_3D):Ee.isDataArrayTexture||Ee.isCompressedArrayTexture?(Ut.setTexture2DArray(Ee,0),rr=ce.TEXTURE_2D_ARRAY):(Ut.setTexture2D(Ee,0),rr=ce.TEXTURE_2D),ce.pixelStorei(ce.UNPACK_FLIP_Y_WEBGL,Ee.flipY),ce.pixelStorei(ce.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ee.premultiplyAlpha),ce.pixelStorei(ce.UNPACK_ALIGNMENT,Ee.unpackAlignment);const vi=ce.getParameter(ce.UNPACK_ROW_LENGTH),ua=ce.getParameter(ce.UNPACK_IMAGE_HEIGHT),Kl=ce.getParameter(ce.UNPACK_SKIP_PIXELS),Ws=ce.getParameter(ce.UNPACK_SKIP_ROWS),W0=ce.getParameter(ce.UNPACK_SKIP_IMAGES);ce.pixelStorei(ce.UNPACK_ROW_LENGTH,K.width),ce.pixelStorei(ce.UNPACK_IMAGE_HEIGHT,K.height),ce.pixelStorei(ce.UNPACK_SKIP_PIXELS,Et),ce.pixelStorei(ce.UNPACK_SKIP_ROWS,Rn),ce.pixelStorei(ce.UNPACK_SKIP_IMAGES,dn);const Wi=oe.isDataArrayTexture||oe.isData3DTexture,Cr=Ee.isDataArrayTexture||Ee.isData3DTexture;if(oe.isDepthTexture){const wi=gt.get(oe),gs=gt.get(Ee),Xs=gt.get(wi.__renderTarget),Zl=gt.get(gs.__renderTarget);et.bindFramebuffer(ce.READ_FRAMEBUFFER,Xs.__webglFramebuffer),et.bindFramebuffer(ce.DRAW_FRAMEBUFFER,Zl.__webglFramebuffer);for(let ml=0;ml<te;ml++)Wi&&(ce.framebufferTextureLayer(ce.READ_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,gt.get(oe).__webglTexture,Pe,dn+ml),ce.framebufferTextureLayer(ce.DRAW_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,gt.get(Ee).__webglTexture,vt,pr+ml)),ce.blitFramebuffer(Et,Rn,Bt,dt,si,Ni,Bt,dt,ce.DEPTH_BUFFER_BIT,ce.NEAREST);et.bindFramebuffer(ce.READ_FRAMEBUFFER,null),et.bindFramebuffer(ce.DRAW_FRAMEBUFFER,null)}else if(Pe!==0||oe.isRenderTargetTexture||gt.has(oe)){const wi=gt.get(oe),gs=gt.get(Ee);et.bindFramebuffer(ce.READ_FRAMEBUFFER,Cu),et.bindFramebuffer(ce.DRAW_FRAMEBUFFER,j3);for(let Xs=0;Xs<te;Xs++)Wi?ce.framebufferTextureLayer(ce.READ_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,wi.__webglTexture,Pe,dn+Xs):ce.framebufferTexture2D(ce.READ_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_2D,wi.__webglTexture,Pe),Cr?ce.framebufferTextureLayer(ce.DRAW_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,gs.__webglTexture,vt,pr+Xs):ce.framebufferTexture2D(ce.DRAW_FRAMEBUFFER,ce.COLOR_ATTACHMENT0,ce.TEXTURE_2D,gs.__webglTexture,vt),Pe!==0?ce.blitFramebuffer(Et,Rn,Bt,dt,si,Ni,Bt,dt,ce.COLOR_BUFFER_BIT,ce.NEAREST):Cr?ce.copyTexSubImage3D(rr,vt,si,Ni,pr+Xs,Et,Rn,Bt,dt):ce.copyTexSubImage2D(rr,vt,si,Ni,Et,Rn,Bt,dt);et.bindFramebuffer(ce.READ_FRAMEBUFFER,null),et.bindFramebuffer(ce.DRAW_FRAMEBUFFER,null)}else Cr?oe.isDataTexture||oe.isData3DTexture?ce.texSubImage3D(rr,vt,si,Ni,pr,Bt,dt,te,Bi,yn,K.data):Ee.isCompressedArrayTexture?ce.compressedTexSubImage3D(rr,vt,si,Ni,pr,Bt,dt,te,Bi,K.data):ce.texSubImage3D(rr,vt,si,Ni,pr,Bt,dt,te,Bi,yn,K):oe.isDataTexture?ce.texSubImage2D(ce.TEXTURE_2D,vt,si,Ni,Bt,dt,Bi,yn,K.data):oe.isCompressedTexture?ce.compressedTexSubImage2D(ce.TEXTURE_2D,vt,si,Ni,K.width,K.height,Bi,K.data):ce.texSubImage2D(ce.TEXTURE_2D,vt,si,Ni,Bt,dt,Bi,yn,K);ce.pixelStorei(ce.UNPACK_ROW_LENGTH,vi),ce.pixelStorei(ce.UNPACK_IMAGE_HEIGHT,ua),ce.pixelStorei(ce.UNPACK_SKIP_PIXELS,Kl),ce.pixelStorei(ce.UNPACK_SKIP_ROWS,Ws),ce.pixelStorei(ce.UNPACK_SKIP_IMAGES,W0),vt===0&&Ee.generateMipmaps&&ce.generateMipmap(rr),et.unbindTexture()},this.copyTextureToTexture3D=function(oe,Ee,Ve=null,ze=null,Pe=0){return jl('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(oe,Ee,Ve,ze,Pe)},this.initRenderTarget=function(oe){gt.get(oe).__webglFramebuffer===void 0&&Ut.setupRenderTarget(oe)},this.initTexture=function(oe){oe.isCubeTexture?Ut.setTextureCube(oe,0):oe.isData3DTexture?Ut.setTexture3D(oe,0):oe.isDataArrayTexture||oe.isCompressedArrayTexture?Ut.setTexture2DArray(oe,0):Ut.setTexture2D(oe,0),et.unbindTexture()},this.resetState=function(){O=0,V=0,F=null,et.reset(),Tt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return za}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=wn._getDrawingBufferColorSpace(e),t.unpackColorSpace=wn._getUnpackColorSpace()}}const y9e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:Yb,AddEquation:Oa,AddOperation:BP,AdditiveAnimationBlendMode:VP,AdditiveBlending:Uf,AgXToneMapping:FP,AlphaFormat:Qb,AlwaysCompare:iS,AlwaysDepth:Ed,AlwaysStencilFunc:u_,AmbientLight:bL,AnimationAction:A$,AnimationClip:ep,AnimationLoader:Ohe,AnimationMixer:c5e,AnimationObjectGroup:l5e,AnimationUtils:Phe,ArcCurve:QQ,ArrayCamera:wL,ArrowHelper:N5e,AttachedBindMode:mC,Audio:h$,AudioAnalyser:Zhe,AudioContext:EL,AudioListener:Qhe,AudioLoader:Whe,AxesHelper:D5e,BackSide:Zi,BasicDepthPacking:_Q,BasicShadowMap:NP,BatchedMesh:jQ,Bone:YP,BooleanKeyframeTrack:Sh,Box2:g5e,Box3:na,Box3Helper:R5e,BoxGeometry:D1,BoxHelper:w5e,BufferAttribute:di,BufferGeometry:bn,BufferGeometryLoader:f$,ByteType:m3,Cache:s1,Camera:vh,CameraHelper:E5e,CanvasTexture:the,CapsuleGeometry:dS,CatmullRomCurve3:$Q,CineonToneMapping:IP,CircleGeometry:S8,ClampToEdgeWrapping:Po,Clock:RL,Color:Nt,ColorKeyframeTrack:pL,ColorManagement:wn,CompressedArrayTexture:Jfe,CompressedCubeTexture:ehe,CompressedTexture:hS,CompressedTextureLoader:Ihe,ConeGeometry:sm,ConstantAlphaFactor:cQ,ConstantColorFactor:lQ,Controls:P5e,CubeCamera:WP,CubeReflectionMapping:Xl,CubeRefractionMapping:U0,CubeTexture:O3,CubeTextureLoader:Fhe,CubeUVReflectionMapping:kc,CubicBezierCurve:ZP,CubicBezierCurve3:JP,CubicInterpolant:a$,CullFaceBack:s_,CullFaceFront:CP,CullFaceFrontBack:C4e,CullFaceNone:RP,Curve:G0,CurvePath:ZQ,CustomBlending:bf,CustomToneMapping:hQ,CylinderGeometry:_h,Cylindrical:m5e,Data3DTexture:sS,DataArrayTexture:tm,DataTexture:xu,DataTextureLoader:zhe,DataUtils:Efe,DecrementStencilOp:EQ,DecrementWrapStencilOp:RQ,DefaultLoadingManager:u$,DepthFormat:rl,DepthStencilFormat:sl,DepthTexture:ol,DetachedBindMode:dQ,DirectionalLight:_L,DirectionalLightHelper:M5e,DiscreteInterpolant:o$,DodecahedronGeometry:AS,DoubleSide:hs,DstAlphaFactor:qb,DstColorFactor:jb,DynamicCopyUsage:V4e,DynamicDrawUsage:af,DynamicReadUsage:I4e,EdgesGeometry:YQ,EllipseCurve:pS,EqualCompare:Jb,EqualDepth:Rd,EqualStencilFunc:PQ,EquirectangularReflectionMapping:w3,EquirectangularRefractionMapping:R3,Euler:Sa,EventDispatcher:$l,ExtrudeGeometry:am,FileLoader:Hc,Float16BufferAttribute:jP,Float32BufferAttribute:Qt,FloatType:Mr,Fog:nm,FogExp2:uS,FramebufferTexture:$P,FrontSide:Bo,Frustum:I3,FrustumArray:im,GLBufferAttribute:p5e,GLSL1:G4e,GLSL3:yC,GreaterCompare:eS,GreaterDepth:Nd,GreaterEqualCompare:nS,GreaterEqualDepth:Cd,GreaterEqualStencilFunc:OQ,GreaterStencilFunc:BQ,GridHelper:S5e,Group:oo,HalfFloatType:Fs,HemisphereLight:yL,HemisphereLightHelper:b5e,IcosahedronGeometry:mS,ImageBitmapLoader:jhe,ImageLoader:tp,ImageUtils:IQ,IncrementStencilOp:MQ,IncrementWrapStencilOp:wQ,InstancedBufferAttribute:al,InstancedBufferGeometry:ML,InstancedInterleavedBuffer:np,InstancedMesh:HQ,Int16BufferAttribute:Dfe,Int32BufferAttribute:Pfe,Int8BufferAttribute:Rfe,IntType:ea,InterleavedBuffer:b8,InterleavedBufferAttribute:Lo,Interpolant:um,InterpolateDiscrete:WA,InterpolateLinear:l_,InterpolateSmooth:tx,InterpolationSamplingMode:j4e,InterpolationSamplingType:H4e,InvertStencilOp:CQ,KeepStencilOp:V2,KeyframeTrack:H0,LOD:GQ,LatheGeometry:gS,Layers:kd,LessCompare:Jp,LessDepth:wd,LessEqualCompare:em,LessEqualDepth:Vc,LessEqualStencilFunc:LQ,LessStencilFunc:DQ,Light:z3,LightProbe:TL,Line:Su,Line3:g$,LineBasicMaterial:aa,LineCurve:eL,LineCurve3:KQ,LineDashedMaterial:hL,LineLoop:WQ,LineSegments:k0,LinearFilter:dr,LinearInterpolant:AL,LinearMipMapLinearFilter:AQ,LinearMipMapNearestFilter:P4e,LinearMipmapLinearFilter:Fa,LinearMipmapNearestFilter:p3,LinearSRGBColorSpace:ql,LinearToneMapping:UP,LinearTransfer:eh,Loader:dl,LoaderUtils:SC,LoadingManager:mL,LoopOnce:mQ,LoopPingPong:yQ,LoopRepeat:gQ,MOUSE:j4,Material:Ta,MaterialLoader:MS,MathUtils:rS,Matrix2:hm,Matrix3:On,Matrix4:Yt,MaxEquation:PP,Mesh:ii,MeshBasicMaterial:Ia,MeshDepthMaterial:uL,MeshDistanceMaterial:cL,MeshLambertMaterial:wu,MeshMatcapMaterial:fL,MeshNormalMaterial:lL,MeshPhongMaterial:TS,MeshPhysicalMaterial:aL,MeshStandardMaterial:SS,MeshToonMaterial:oL,MinEquation:DP,MirroredRepeatWrapping:qc,MixOperation:LP,MultiplyBlending:If,MultiplyOperation:x8,NearestFilter:fr,NearestMipMapLinearFilter:D4e,NearestMipMapNearestFilter:N4e,NearestMipmapLinearFilter:Au,NearestMipmapNearestFilter:Qp,NeutralToneMapping:zP,NeverCompare:Zb,NeverDepth:Md,NeverStencilFunc:NQ,NoBlending:nl,NoColorSpace:no,NoToneMapping:co,NormalAnimationBlendMode:Kb,NormalBlending:uo,NotEqualCompare:tS,NotEqualDepth:Dd,NotEqualStencilFunc:UQ,NumberKeyframeTrack:ZA,Object3D:Mi,ObjectLoader:qhe,ObjectSpaceNormalMap:kP,OctahedronGeometry:om,OneFactor:Vb,OneMinusConstantAlphaFactor:fQ,OneMinusConstantColorFactor:uQ,OneMinusDstAlphaFactor:Hb,OneMinusDstColorFactor:Wb,OneMinusSrcAlphaFactor:Td,OneMinusSrcColorFactor:Gb,OrthographicCamera:h1,PCFShadowMap:Xp,PCFSoftShadowMap:lA,PMREMGenerator:wC,Path:d_,PerspectiveCamera:Tr,Plane:hu,PlaneGeometry:bh,PlaneHelper:C5e,PointLight:xL,PointLightHelper:x5e,Points:QP,PointsMaterial:rm,PolarGridHelper:T5e,PolyhedronGeometry:F3,PositionalAudio:Khe,PropertyBinding:Di,PropertyMixer:d$,QuadraticBezierCurve:tL,QuadraticBezierCurve3:nL,Quaternion:ka,QuaternionKeyframeTrack:cm,QuaternionLinearInterpolant:l$,RED_GREEN_RGTC2_Format:Fd,RED_RGTC1_Format:$b,REVISION:v8,RGBADepthPacking:bQ,RGBAFormat:_r,RGBAIntegerFormat:gh,RGBA_ASTC_10x10_Format:Kf,RGBA_ASTC_10x5_Format:Yf,RGBA_ASTC_10x6_Format:Qf,RGBA_ASTC_10x8_Format:$f,RGBA_ASTC_12x10_Format:Zf,RGBA_ASTC_12x12_Format:Jf,RGBA_ASTC_4x4_Format:Vf,RGBA_ASTC_5x4_Format:kf,RGBA_ASTC_5x5_Format:Gf,RGBA_ASTC_6x5_Format:qf,RGBA_ASTC_6x6_Format:Hf,RGBA_ASTC_8x5_Format:jf,RGBA_ASTC_8x6_Format:Wf,RGBA_ASTC_8x8_Format:Xf,RGBA_BPTC_Format:v3,RGBA_ETC2_EAC_Format:zf,RGBA_PVRTC_2BPPV1_Format:Ud,RGBA_PVRTC_4BPPV1_Format:Bd,RGBA_S3TC_DXT1_Format:Mc,RGBA_S3TC_DXT3_Format:Ec,RGBA_S3TC_DXT5_Format:wc,RGBDepthPacking:L4e,RGBFormat:_8,RGBIntegerFormat:pQ,RGB_BPTC_SIGNED_Format:a_,RGB_BPTC_UNSIGNED_Format:o_,RGB_ETC1_Format:Od,RGB_ETC2_Format:Ff,RGB_PVRTC_2BPPV1_Format:Ld,RGB_PVRTC_4BPPV1_Format:Pd,RGB_S3TC_DXT1_Format:y3,RGDepthPacking:B4e,RGFormat:r1,RGIntegerFormat:mh,RawShaderMaterial:i$,Ray:yh,Raycaster:m$,RectAreaLight:SL,RedFormat:ph,RedIntegerFormat:U3,ReinhardToneMapping:OP,RenderTarget:Eu,RenderTarget3D:f5e,RepeatWrapping:Gc,ReplaceStencilOp:TQ,ReverseSubtractEquation:zb,RingGeometry:yS,SIGNED_RED_GREEN_RGTC2_Format:zd,SIGNED_RED_RGTC1_Format:Id,SRGBColorSpace:Os,SRGBTransfer:Xt,Scene:xh,ShaderChunk:Hn,ShaderLib:To,ShaderMaterial:Uo,ShadowMaterial:sL,Shape:Tf,ShapeGeometry:vS,ShapePath:v$,ShapeUtils:pu,ShortType:g3,Skeleton:fS,SkeletonHelper:v5e,SkinnedMesh:qQ,Source:i3,Sphere:Vs,SphereGeometry:q0,Spherical:MC,SphericalHarmonics3:c$,SplineCurve:iL,SpotLight:fm,SpotLightHelper:y5e,Sprite:kQ,SpriteMaterial:cS,SrcAlphaFactor:Sd,SrcAlphaSaturateFactor:Xb,SrcColorFactor:kb,StaticCopyUsage:z4e,StaticDrawUsage:Vd,StaticReadUsage:O4e,StereoCamera:Xhe,StreamCopyUsage:k4e,StreamDrawUsage:U4e,StreamReadUsage:F4e,StringKeyframeTrack:Th,SubtractEquation:Fb,SubtractiveBlending:Of,TOUCH:W4,TangentSpaceNormalMap:v1,TetrahedronGeometry:xS,Texture:Ur,TextureLoader:gL,TextureUtils:I5e,TimestampQuery:q4e,TorusGeometry:_S,TorusKnotGeometry:bS,Triangle:$o,TriangleFanDrawMode:gC,TriangleStripDrawMode:xQ,TrianglesDrawMode:vQ,TubeGeometry:lm,UVMapping:Yp,Uint16BufferAttribute:aS,Uint32BufferAttribute:oS,Uint8BufferAttribute:Cfe,Uint8ClampedBufferAttribute:Nfe,Uniform:h5e,UniformsGroup:A5e,UniformsLib:zt,UniformsUtils:lS,UnsignedByteType:Lr,UnsignedInt248Type:il,UnsignedInt5999Type:Zp,UnsignedIntType:tr,UnsignedShort4444Type:$p,UnsignedShort5551Type:Kp,UnsignedShortType:w0,VSMShadowMap:So,Vector2:Ye,Vector3:re,Vector4:ln,VectorKeyframeTrack:JA,VideoFrameTexture:Zfe,VideoTexture:XQ,WebGL3DRenderTarget:mfe,WebGLArrayRenderTarget:pfe,WebGLCoordinateSystem:za,WebGLCubeRenderTarget:XP,WebGLRenderTarget:x1,WebGLRenderer:E$,WebGLUtils:M$,WebGPUCoordinateSystem:bu,WebXRController:cA,WireframeGeometry:rL,WrapAroundEnding:XA,ZeroCurvatureEnding:rf,ZeroFactor:Ku,ZeroSlopeEnding:sf,ZeroStencilOp:SQ,createCanvasElement:HP},Symbol.toStringTag,{value:"Module"}));function CC(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var v9e=typeof global=="object"&&global&&global.Object===Object&&global,x9e=typeof self=="object"&&self&&self.Object===Object&&self,w$=v9e||x9e||Function("return this")(),DE=function(){return w$.Date.now()},_9e=/\s/;function b9e(n){for(var e=n.length;e--&&_9e.test(n.charAt(e)););return e}var S9e=/^\s+/;function T9e(n){return n&&n.slice(0,b9e(n)+1).replace(S9e,"")}var A_=w$.Symbol,R$=Object.prototype,M9e=R$.hasOwnProperty,E9e=R$.toString,J7=A_?A_.toStringTag:void 0;function w9e(n){var e=M9e.call(n,J7),t=n[J7];try{n[J7]=void 0;var i=!0}catch{}var r=E9e.call(n);return i&&(e?n[J7]=t:delete n[J7]),r}var R9e=Object.prototype,C9e=R9e.toString;function N9e(n){return C9e.call(n)}var D9e="[object Null]",P9e="[object Undefined]",DV=A_?A_.toStringTag:void 0;function L9e(n){return n==null?n===void 0?P9e:D9e:DV&&DV in Object(n)?w9e(n):N9e(n)}function B9e(n){return n!=null&&typeof n=="object"}var U9e="[object Symbol]";function O9e(n){return typeof n=="symbol"||B9e(n)&&L9e(n)==U9e}var PV=NaN,I9e=/^[-+]0x[0-9a-f]+$/i,F9e=/^0b[01]+$/i,z9e=/^0o[0-7]+$/i,V9e=parseInt;function LV(n){if(typeof n=="number")return n;if(O9e(n))return PV;if(CC(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=CC(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=T9e(n);var t=F9e.test(n);return t||z9e.test(n)?V9e(n.slice(2),t?2:8):I9e.test(n)?PV:+n}var k9e="Expected a function",G9e=Math.max,q9e=Math.min;function H9e(n,e,t){var i,r,s,a,o,l,u=0,c=!1,f=!1,m=!0;if(typeof n!="function")throw new TypeError(k9e);e=LV(e)||0,CC(t)&&(c=!!t.leading,f="maxWait"in t,s=f?G9e(LV(t.maxWait)||0,e):s,m="trailing"in t?!!t.trailing:m);function v(O){var V=i,F=r;return i=r=void 0,u=O,a=n.apply(F,V),a}function _(O){return u=O,o=setTimeout(S,e),c?v(O):a}function T(O){var V=O-l,F=O-u,z=e-V;return f?q9e(z,s-F):z}function M(O){var V=O-l,F=O-u;return l===void 0||V>=e||V<0||f&&F>=s}function S(){var O=DE();if(M(O))return R(O);o=setTimeout(S,T(O))}function R(O){return o=void 0,m&&i?v(O):(i=r=void 0,a)}function C(){o!==void 0&&clearTimeout(o),u=0,i=l=r=o=void 0}function P(){return o===void 0?a:R(DE())}function B(){var O=DE(),V=M(O);if(i=arguments,r=this,l=O,V){if(o===void 0)return _(l);if(f)return clearTimeout(o),o=setTimeout(S,e),v(l)}return o===void 0&&(o=setTimeout(S,e)),a}return B.cancel=C,B.flush=P,B}function BV(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function j9e(n){if(Array.isArray(n))return n}function W9e(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function X9e(n,e,t){return Object.defineProperty(n,"prototype",{writable:!1}),n}function Y9e(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function Q9e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $9e(n,e){return j9e(n)||Y9e(n,e)||K9e(n,e)||Q9e()}function K9e(n,e){if(n){if(typeof n=="string")return BV(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?BV(n,e):void 0}}var Z9e=X9e(function n(e,t){var i=t.default,r=i===void 0?null:i,s=t.triggerUpdate,a=s===void 0?!0:s,o=t.onChange,l=o===void 0?function(u,c){}:o;W9e(this,n),this.name=e,this.defaultVal=r,this.triggerUpdate=a,this.onChange=l});function Ao(n){var e=n.stateInit,t=e===void 0?function(){return{}}:e,i=n.props,r=i===void 0?{}:i,s=n.methods,a=s===void 0?{}:s,o=n.aliases,l=o===void 0?{}:o,u=n.init,c=u===void 0?function(){}:u,f=n.update,m=f===void 0?function(){}:f,v=Object.keys(r).map(function(_){return new Z9e(_,r[_])});return function _(){for(var T=arguments.length,M=new Array(T),S=0;S<T;S++)M[S]=arguments[S];var R=!!(this instanceof _&&this.constructor),C=R?M.shift():void 0,P=M[0],B=P===void 0?{}:P,O=Object.assign({},t instanceof Function?t(B):t,{initialised:!1}),V={};function F(H){return z(H,B),k(),F}var z=function(Z,$){c.call(F,Z,O,$),O.initialised=!0},k=H9e(function(){O.initialised&&(m.call(F,O,V),V={})},1);return v.forEach(function(H){F[H.name]=Z(H);function Z($){var ae=$.name,ne=$.triggerUpdate,Y=ne===void 0?!1:ne,ee=$.onChange,Q=ee===void 0?function(Re,Ge){}:ee,fe=$.defaultVal,ge=fe===void 0?null:fe;return function(Re){var Ge=O[ae];if(!arguments.length)return Ge;var We=Re===void 0?ge:Re;return O[ae]=We,Q.call(F,We,O,Ge),!V.hasOwnProperty(ae)&&(V[ae]=Ge),Y&&k(),F}}}),Object.keys(a).forEach(function(H){F[H]=function(){for(var Z,$=arguments.length,ae=new Array($),ne=0;ne<$;ne++)ae[ne]=arguments[ne];return(Z=a[H]).call.apply(Z,[F,O].concat(ae))}}),Object.entries(l).forEach(function(H){var Z=$9e(H,2),$=Z[0],ae=Z[1];return F[$]=F[ae]}),F.resetProps=function(){return v.forEach(function(H){F[H.name](H.defaultVal)}),F},F.resetProps(),O._rerender=k,R&&C&&F(C),F}}var Ga=Object.freeze({Linear:Object.freeze({None:function(n){return n},In:function(n){return n},Out:function(n){return n},InOut:function(n){return n}}),Quadratic:Object.freeze({In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}}),Cubic:Object.freeze({In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}}),Quartic:Object.freeze({In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}}),Quintic:Object.freeze({In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}}),Sinusoidal:Object.freeze({In:function(n){return 1-Math.sin((1-n)*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.sin(Math.PI*(.5-n)))}}),Exponential:Object.freeze({In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}}),Circular:Object.freeze({In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}}),Elastic:Object.freeze({In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(n){var e=1.70158;return n===1?1:n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return n===0?0:--n*n*((e+1)*n+e)+1},InOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}}),Bounce:Object.freeze({In:function(n){return 1-Ga.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?Ga.Bounce.In(n*2)*.5:Ga.Bounce.Out(n*2-1)*.5+.5}}),generatePow:function(n){return n===void 0&&(n=4),n=n<Number.EPSILON?Number.EPSILON:n,n=n>1e4?1e4:n,{In:function(e){return Math.pow(e,n)},Out:function(e){return 1-Math.pow(1-e,n)},InOut:function(e){return e<.5?Math.pow(e*2,n)/2:(1-Math.pow(2-e*2,n))/2+.5}}}}),D9=function(){return performance.now()},C$=function(){function n(){this._tweens={},this._tweensAddedDuringUpdate={}}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},n.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},n.prototype.update=function(e,t){e===void 0&&(e=D9()),t===void 0&&(t=!1);var i=Object.keys(this._tweens);if(i.length===0)return!1;for(;i.length>0;){this._tweensAddedDuringUpdate={};for(var r=0;r<i.length;r++){var s=this._tweens[i[r]],a=!t;s&&s.update(e,a)===!1&&!t&&delete this._tweens[i[r]]}i=Object.keys(this._tweensAddedDuringUpdate)}return!0},n}(),NC={Linear:function(n,e){var t=n.length-1,i=t*e,r=Math.floor(i),s=NC.Utils.Linear;return e<0?s(n[0],n[1],i):e>1?s(n[t],n[t-1],t-i):s(n[r],n[r+1>t?t:r+1],i-r)},Utils:{Linear:function(n,e,t){return(e-n)*t+n}}},N$=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),DC=new C$,Yl=function(){function n(e,t){t===void 0&&(t=DC),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Ga.Linear.None,this._interpolationFunction=NC.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=N$.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.getDuration=function(){return this._duration},n.prototype.to=function(e,t){if(t===void 0&&(t=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=t<0?0:t,this},n.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},n.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},n.prototype.start=function(e,t){if(e===void 0&&(e=D9()),t===void 0&&(t=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var i in this._valuesStartRepeat)this._swapEndStartRepeatValues(i),this._valuesStart[i]=this._valuesStartRepeat[i]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||t){if(this._propertiesAreSetUp=!0,!this._isDynamic){var r={};for(var s in this._valuesEnd)r[s]=this._valuesEnd[s];this._valuesEnd=r}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,t)}return this},n.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},n.prototype._setupProperties=function(e,t,i,r,s){for(var a in i){var o=e[a],l=Array.isArray(o),u=l?"array":typeof o,c=!l&&Array.isArray(i[a]);if(!(u==="undefined"||u==="function")){if(c){var f=i[a];if(f.length===0)continue;for(var m=[o],v=0,_=f.length;v<_;v+=1){var T=this._handleRelativeValue(o,f[v]);if(isNaN(T)){c=!1,console.warn("Found invalid interpolation list. Skipping.");break}m.push(T)}c&&(i[a]=m)}if((u==="object"||l)&&o&&!c){t[a]=l?[]:{};var M=o;for(var S in M)t[a][S]=M[S];r[a]=l?[]:{};var f=i[a];if(!this._isDynamic){var R={};for(var S in f)R[S]=f[S];i[a]=f=R}this._setupProperties(M,t[a],f,r[a],s)}else(typeof t[a]>"u"||s)&&(t[a]=o),l||(t[a]*=1),c?r[a]=i[a].slice().reverse():r[a]=t[a]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},n.prototype.pause=function(e){return e===void 0&&(e=D9()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},n.prototype.resume=function(e){return e===void 0&&(e=D9()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},n.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return e===void 0&&(e=DC),this._group=e,this},n.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},n.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},n.prototype.easing=function(e){return e===void 0&&(e=Ga.Linear.None),this._easingFunction=e,this},n.prototype.interpolation=function(e){return e===void 0&&(e=NC.Linear),this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,t){var i=this,r;if(e===void 0&&(e=D9()),t===void 0&&(t=!0),this._isPaused)return!0;var s,a=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>a)return!1;t&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var o=e-this._startTime,l=this._duration+((r=this._repeatDelayTime)!==null&&r!==void 0?r:this._delayTime),u=this._duration+this._repeat*l,c=function(){if(i._duration===0||o>u)return 1;var M=Math.trunc(o/l),S=o-M*l,R=Math.min(S/i._duration,1);return R===0&&o===i._duration?1:R},f=c(),m=this._easingFunction(f);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,m),this._onUpdateCallback&&this._onUpdateCallback(this._object,f),this._duration===0||o>=this._duration)if(this._repeat>0){var v=Math.min(Math.trunc((o-this._duration)/l)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=v);for(s in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[s]=="string"&&(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(this._valuesEnd[s])),this._yoyo&&this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=l*v,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var _=0,T=this._chainedTweens.length;_<T;_++)this._chainedTweens[_].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,t,i,r){for(var s in i)if(t[s]!==void 0){var a=t[s]||0,o=i[s],l=Array.isArray(e[s]),u=Array.isArray(o),c=!l&&u;c?e[s]=this._interpolationFunction(o,r):typeof o=="object"&&o?this._updateProperties(e[s],a,o,r):(o=this._handleRelativeValue(a,o),typeof o=="number"&&(e[s]=a+(o-a)*r))}},n.prototype._handleRelativeValue=function(e,t){return typeof t!="string"?t:t.charAt(0)==="+"||t.charAt(0)==="-"?e+parseFloat(t):parseFloat(t)},n.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],i=this._valuesEnd[e];typeof i=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(i):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=t},n}();N$.nextId;var _1=DC;_1.getAll.bind(_1);_1.removeAll.bind(_1);_1.add.bind(_1);_1.remove.bind(_1);_1.update.bind(_1);function J9e(n){const e=+this._x.call(null,n),t=+this._y.call(null,n),i=+this._z.call(null,n);return D$(this.cover(e,t,i),e,t,i,n)}function D$(n,e,t,i,r){if(isNaN(e)||isNaN(t)||isNaN(i))return n;var s,a=n._root,o={data:r},l=n._x0,u=n._y0,c=n._z0,f=n._x1,m=n._y1,v=n._z1,_,T,M,S,R,C,P,B,O,V,F;if(!a)return n._root=o,n;for(;a.length;)if((P=e>=(_=(l+f)/2))?l=_:f=_,(B=t>=(T=(u+m)/2))?u=T:m=T,(O=i>=(M=(c+v)/2))?c=M:v=M,s=a,!(a=a[V=O<<2|B<<1|P]))return s[V]=o,n;if(S=+n._x.call(null,a.data),R=+n._y.call(null,a.data),C=+n._z.call(null,a.data),e===S&&t===R&&i===C)return o.next=a,s?s[V]=o:n._root=o,n;do s=s?s[V]=new Array(8):n._root=new Array(8),(P=e>=(_=(l+f)/2))?l=_:f=_,(B=t>=(T=(u+m)/2))?u=T:m=T,(O=i>=(M=(c+v)/2))?c=M:v=M;while((V=O<<2|B<<1|P)===(F=(C>=M)<<2|(R>=T)<<1|S>=_));return s[F]=a,s[V]=o,n}function eAe(n){Array.isArray(n)||(n=Array.from(n));const e=n.length,t=new Float64Array(e),i=new Float64Array(e),r=new Float64Array(e);let s=1/0,a=1/0,o=1/0,l=-1/0,u=-1/0,c=-1/0;for(let f=0,m,v,_,T;f<e;++f)isNaN(v=+this._x.call(null,m=n[f]))||isNaN(_=+this._y.call(null,m))||isNaN(T=+this._z.call(null,m))||(t[f]=v,i[f]=_,r[f]=T,v<s&&(s=v),v>l&&(l=v),_<a&&(a=_),_>u&&(u=_),T<o&&(o=T),T>c&&(c=T));if(s>l||a>u||o>c)return this;this.cover(s,a,o).cover(l,u,c);for(let f=0;f<e;++f)D$(this,t[f],i[f],r[f],n[f]);return this}function tAe(n,e,t){if(isNaN(n=+n)||isNaN(e=+e)||isNaN(t=+t))return this;var i=this._x0,r=this._y0,s=this._z0,a=this._x1,o=this._y1,l=this._z1;if(isNaN(i))a=(i=Math.floor(n))+1,o=(r=Math.floor(e))+1,l=(s=Math.floor(t))+1;else{for(var u=a-i||1,c=this._root,f,m;i>n||n>=a||r>e||e>=o||s>t||t>=l;)switch(m=(t<s)<<2|(e<r)<<1|n<i,f=new Array(8),f[m]=c,c=f,u*=2,m){case 0:a=i+u,o=r+u,l=s+u;break;case 1:i=a-u,o=r+u,l=s+u;break;case 2:a=i+u,r=o-u,l=s+u;break;case 3:i=a-u,r=o-u,l=s+u;break;case 4:a=i+u,o=r+u,s=l-u;break;case 5:i=a-u,o=r+u,s=l-u;break;case 6:a=i+u,r=o-u,s=l-u;break;case 7:i=a-u,r=o-u,s=l-u;break}this._root&&this._root.length&&(this._root=c)}return this._x0=i,this._y0=r,this._z0=s,this._x1=a,this._y1=o,this._z1=l,this}function nAe(){var n=[];return this.visit(function(e){if(!e.length)do n.push(e.data);while(e=e.next)}),n}function iAe(n){return arguments.length?this.cover(+n[0][0],+n[0][1],+n[0][2]).cover(+n[1][0],+n[1][1],+n[1][2]):isNaN(this._x0)?void 0:[[this._x0,this._y0,this._z0],[this._x1,this._y1,this._z1]]}function gr(n,e,t,i,r,s,a){this.node=n,this.x0=e,this.y0=t,this.z0=i,this.x1=r,this.y1=s,this.z1=a}function rAe(n,e,t,i){var r,s=this._x0,a=this._y0,o=this._z0,l,u,c,f,m,v,_=this._x1,T=this._y1,M=this._z1,S=[],R=this._root,C,P;for(R&&S.push(new gr(R,s,a,o,_,T,M)),i==null?i=1/0:(s=n-i,a=e-i,o=t-i,_=n+i,T=e+i,M=t+i,i*=i);C=S.pop();)if(!(!(R=C.node)||(l=C.x0)>_||(u=C.y0)>T||(c=C.z0)>M||(f=C.x1)<s||(m=C.y1)<a||(v=C.z1)<o))if(R.length){var B=(l+f)/2,O=(u+m)/2,V=(c+v)/2;S.push(new gr(R[7],B,O,V,f,m,v),new gr(R[6],l,O,V,B,m,v),new gr(R[5],B,u,V,f,O,v),new gr(R[4],l,u,V,B,O,v),new gr(R[3],B,O,c,f,m,V),new gr(R[2],l,O,c,B,m,V),new gr(R[1],B,u,c,f,O,V),new gr(R[0],l,u,c,B,O,V)),(P=(t>=V)<<2|(e>=O)<<1|n>=B)&&(C=S[S.length-1],S[S.length-1]=S[S.length-1-P],S[S.length-1-P]=C)}else{var F=n-+this._x.call(null,R.data),z=e-+this._y.call(null,R.data),k=t-+this._z.call(null,R.data),H=F*F+z*z+k*k;if(H<i){var Z=Math.sqrt(i=H);s=n-Z,a=e-Z,o=t-Z,_=n+Z,T=e+Z,M=t+Z,r=R.data}}return r}const sAe=(n,e,t,i,r,s)=>Math.sqrt((n-i)**2+(e-r)**2+(t-s)**2);function aAe(n,e,t,i){const r=[],s=n-i,a=e-i,o=t-i,l=n+i,u=e+i,c=t+i;return this.visit((f,m,v,_,T,M,S)=>{if(!f.length)do{const R=f.data;sAe(n,e,t,this._x(R),this._y(R),this._z(R))<=i&&r.push(R)}while(f=f.next);return m>l||v>u||_>c||T<s||M<a||S<o}),r}function oAe(n){if(isNaN(m=+this._x.call(null,n))||isNaN(v=+this._y.call(null,n))||isNaN(_=+this._z.call(null,n)))return this;var e,t=this._root,i,r,s,a=this._x0,o=this._y0,l=this._z0,u=this._x1,c=this._y1,f=this._z1,m,v,_,T,M,S,R,C,P,B,O;if(!t)return this;if(t.length)for(;;){if((R=m>=(T=(a+u)/2))?a=T:u=T,(C=v>=(M=(o+c)/2))?o=M:c=M,(P=_>=(S=(l+f)/2))?l=S:f=S,e=t,!(t=t[B=P<<2|C<<1|R]))return this;if(!t.length)break;(e[B+1&7]||e[B+2&7]||e[B+3&7]||e[B+4&7]||e[B+5&7]||e[B+6&7]||e[B+7&7])&&(i=e,O=B)}for(;t.data!==n;)if(r=t,!(t=t.next))return this;return(s=t.next)&&delete t.next,r?(s?r.next=s:delete r.next,this):e?(s?e[B]=s:delete e[B],(t=e[0]||e[1]||e[2]||e[3]||e[4]||e[5]||e[6]||e[7])&&t===(e[7]||e[6]||e[5]||e[4]||e[3]||e[2]||e[1]||e[0])&&!t.length&&(i?i[O]=t:this._root=t),this):(this._root=s,this)}function lAe(n){for(var e=0,t=n.length;e<t;++e)this.remove(n[e]);return this}function uAe(){return this._root}function cAe(){var n=0;return this.visit(function(e){if(!e.length)do++n;while(e=e.next)}),n}function fAe(n){var e=[],t,i=this._root,r,s,a,o,l,u,c;for(i&&e.push(new gr(i,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));t=e.pop();)if(!n(i=t.node,s=t.x0,a=t.y0,o=t.z0,l=t.x1,u=t.y1,c=t.z1)&&i.length){var f=(s+l)/2,m=(a+u)/2,v=(o+c)/2;(r=i[7])&&e.push(new gr(r,f,m,v,l,u,c)),(r=i[6])&&e.push(new gr(r,s,m,v,f,u,c)),(r=i[5])&&e.push(new gr(r,f,a,v,l,m,c)),(r=i[4])&&e.push(new gr(r,s,a,v,f,m,c)),(r=i[3])&&e.push(new gr(r,f,m,o,l,u,v)),(r=i[2])&&e.push(new gr(r,s,m,o,f,u,v)),(r=i[1])&&e.push(new gr(r,f,a,o,l,m,v)),(r=i[0])&&e.push(new gr(r,s,a,o,f,m,v))}return this}function hAe(n){var e=[],t=[],i;for(this._root&&e.push(new gr(this._root,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1));i=e.pop();){var r=i.node;if(r.length){var s,a=i.x0,o=i.y0,l=i.z0,u=i.x1,c=i.y1,f=i.z1,m=(a+u)/2,v=(o+c)/2,_=(l+f)/2;(s=r[0])&&e.push(new gr(s,a,o,l,m,v,_)),(s=r[1])&&e.push(new gr(s,m,o,l,u,v,_)),(s=r[2])&&e.push(new gr(s,a,v,l,m,c,_)),(s=r[3])&&e.push(new gr(s,m,v,l,u,c,_)),(s=r[4])&&e.push(new gr(s,a,o,_,m,v,f)),(s=r[5])&&e.push(new gr(s,m,o,_,u,v,f)),(s=r[6])&&e.push(new gr(s,a,v,_,m,c,f)),(s=r[7])&&e.push(new gr(s,m,v,_,u,c,f))}t.push(i)}for(;i=t.pop();)n(i.node,i.x0,i.y0,i.z0,i.x1,i.y1,i.z1);return this}function dAe(n){return n[0]}function AAe(n){return arguments.length?(this._x=n,this):this._x}function pAe(n){return n[1]}function mAe(n){return arguments.length?(this._y=n,this):this._y}function gAe(n){return n[2]}function yAe(n){return arguments.length?(this._z=n,this):this._z}function P$(n,e,t,i){var r=new PL(e??dAe,t??pAe,i??gAe,NaN,NaN,NaN,NaN,NaN,NaN);return n==null?r:r.addAll(n)}function PL(n,e,t,i,r,s,a,o,l){this._x=n,this._y=e,this._z=t,this._x0=i,this._y0=r,this._z0=s,this._x1=a,this._y1=o,this._z1=l,this._root=void 0}function UV(n){for(var e={data:n.data},t=e;n=n.next;)t=t.next={data:n.data};return e}var qa=P$.prototype=PL.prototype;qa.copy=function(){var n=new PL(this._x,this._y,this._z,this._x0,this._y0,this._z0,this._x1,this._y1,this._z1),e=this._root,t,i;if(!e)return n;if(!e.length)return n._root=UV(e),n;for(t=[{source:e,target:n._root=new Array(8)}];e=t.pop();)for(var r=0;r<8;++r)(i=e.source[r])&&(i.length?t.push({source:i,target:e.target[r]=new Array(8)}):e.target[r]=UV(i));return n};qa.add=J9e;qa.addAll=eAe;qa.cover=tAe;qa.data=nAe;qa.extent=iAe;qa.find=rAe;qa.findAllWithinRadius=aAe;qa.remove=oAe;qa.removeAll=lAe;qa.root=uAe;qa.size=cAe;qa.visit=fAe;qa.visitAfter=hAe;qa.x=AAe;qa.y=mAe;qa.z=yAe;function ix(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function vAe(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function L$(n){let e,t,i;n.length!==2?(e=ix,t=(o,l)=>ix(n(o),l),i=(o,l)=>n(o)-l):(e=n===ix||n===vAe?n:xAe,t=n,i=n);function r(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;t(o[f],l)<0?u=f+1:c=f}while(u<c)}return u}function s(o,l,u=0,c=o.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;t(o[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(o,l,u=0,c=o.length){const f=r(o,l,u,c-1);return f>u&&i(o[f-1],l)>-i(o[f],l)?f-1:f}return{left:r,center:a,right:s}}function xAe(){return 0}function _Ae(n){return n===null?NaN:+n}const bAe=L$(ix),B$=bAe.right;L$(_Ae).center;function p_(n,e){let t,i;if(e===void 0)for(const r of n)r!=null&&(t===void 0?r>=r&&(t=i=r):(t>r&&(t=r),i<r&&(i=r)));else{let r=-1;for(let s of n)(s=e(s,++r,n))!=null&&(t===void 0?s>=s&&(t=i=s):(t>s&&(t=s),i<s&&(i=s)))}return[t,i]}class Cc{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const s=t[r],a=e+s,o=Math.abs(e)<Math.abs(s)?e-(a-s):s-(a-e);o&&(t[i++]=o),e=a}return t[i]=e,this._n=i+1,this}valueOf(){const e=this._partials;let t=this._n,i,r,s,a=0;if(t>0){for(a=e[--t];t>0&&(i=a,r=e[--t],a=i+r,s=r-(a-i),!s););t>0&&(s<0&&e[t-1]<0||s>0&&e[t-1]>0)&&(r=s*2,i=a+r,r==i-a&&(a=i))}return a}}const SAe=Math.sqrt(50),TAe=Math.sqrt(10),MAe=Math.sqrt(2);function m_(n,e,t){const i=(e-n)/Math.max(0,t),r=Math.floor(Math.log10(i)),s=i/Math.pow(10,r),a=s>=SAe?10:s>=TAe?5:s>=MAe?2:1;let o,l,u;return r<0?(u=Math.pow(10,-r)/a,o=Math.round(n*u),l=Math.round(e*u),o/u<n&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,r)*a,o=Math.round(n/u),l=Math.round(e/u),o*u<n&&++o,l*u>e&&--l),l<o&&.5<=t&&t<2?m_(n,e,t*2):[o,l,u]}function EAe(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const i=e<n,[r,s,a]=i?m_(e,n,t):m_(n,e,t);if(!(s>=r))return[];const o=s-r+1,l=new Array(o);if(i)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(r+u)/-a;else for(let u=0;u<o;++u)l[u]=(r+u)*a;return l}function PC(n,e,t){return e=+e,n=+n,t=+t,m_(n,e,t)[2]}function wAe(n,e,t){e=+e,n=+n,t=+t;const i=e<n,r=i?PC(e,n,t):PC(n,e,t);return(i?-1:1)*(r<0?1/-r:r)}function RAe(n,e){let t;for(const i of n)i!=null&&(t<i||t===void 0&&i>=i)&&(t=i);return t}function CAe(n,e){let t=0,i=0;if(e===void 0)for(let r of n)r!=null&&(r=+r)>=r&&(++t,i+=r);else{let r=-1;for(let s of n)(s=e(s,++r,n))!=null&&(s=+s)>=s&&(++t,i+=s)}if(t)return i/t}function*NAe(n){for(const e of n)yield*e}function ip(n){return Array.from(NAe(n))}function F6(n,e,t){n=+n,e=+e,t=(r=arguments.length)<2?(e=n,n=0,1):r<3?1:+t;for(var i=-1,r=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(r);++i<r;)s[i]=n+i*t;return s}function DAe(n,e){let t=0;for(let i of n)(i=+i)&&(t+=i);return t}function U$(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}function LL(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function O$(n,e){var t=Object.create(n.prototype);for(var i in e)t[i]=e[i];return t}function dm(){}var rp=.7,g_=1/rp,nd="\\s*([+-]?\\d+)\\s*",sp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",d1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PAe=/^#([0-9a-f]{3,8})$/,LAe=new RegExp(`^rgb\\(${nd},${nd},${nd}\\)$`),BAe=new RegExp(`^rgb\\(${d1},${d1},${d1}\\)$`),UAe=new RegExp(`^rgba\\(${nd},${nd},${nd},${sp}\\)$`),OAe=new RegExp(`^rgba\\(${d1},${d1},${d1},${sp}\\)$`),IAe=new RegExp(`^hsl\\(${sp},${d1},${d1}\\)$`),FAe=new RegExp(`^hsla\\(${sp},${d1},${d1},${sp}\\)$`),OV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};LL(dm,ih,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:IV,formatHex:IV,formatHex8:zAe,formatHsl:VAe,formatRgb:FV,toString:FV});function IV(){return this.rgb().formatHex()}function zAe(){return this.rgb().formatHex8()}function VAe(){return I$(this).formatHsl()}function FV(){return this.rgb().formatRgb()}function ih(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=PAe.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?zV(e):t===3?new Zo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?ky(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?ky(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=LAe.exec(n))?new Zo(e[1],e[2],e[3],1):(e=BAe.exec(n))?new Zo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=UAe.exec(n))?ky(e[1],e[2],e[3],e[4]):(e=OAe.exec(n))?ky(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=IAe.exec(n))?GV(e[1],e[2]/100,e[3]/100,1):(e=FAe.exec(n))?GV(e[1],e[2]/100,e[3]/100,e[4]):OV.hasOwnProperty(n)?zV(OV[n]):n==="transparent"?new Zo(NaN,NaN,NaN,0):null}function zV(n){return new Zo(n>>16&255,n>>8&255,n&255,1)}function ky(n,e,t,i){return i<=0&&(n=e=t=NaN),new Zo(n,e,t,i)}function kAe(n){return n instanceof dm||(n=ih(n)),n?(n=n.rgb(),new Zo(n.r,n.g,n.b,n.opacity)):new Zo}function LC(n,e,t,i){return arguments.length===1?kAe(n):new Zo(n,e,t,i??1)}function Zo(n,e,t,i){this.r=+n,this.g=+e,this.b=+t,this.opacity=+i}LL(Zo,LC,O$(dm,{brighter(n){return n=n==null?g_:Math.pow(g_,n),new Zo(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?rp:Math.pow(rp,n),new Zo(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new Zo(Mf(this.r),Mf(this.g),Mf(this.b),y_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:VV,formatHex:VV,formatHex8:GAe,formatRgb:kV,toString:kV}));function VV(){return`#${lf(this.r)}${lf(this.g)}${lf(this.b)}`}function GAe(){return`#${lf(this.r)}${lf(this.g)}${lf(this.b)}${lf((isNaN(this.opacity)?1:this.opacity)*255)}`}function kV(){const n=y_(this.opacity);return`${n===1?"rgb(":"rgba("}${Mf(this.r)}, ${Mf(this.g)}, ${Mf(this.b)}${n===1?")":`, ${n})`}`}function y_(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function Mf(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function lf(n){return n=Mf(n),(n<16?"0":"")+n.toString(16)}function GV(n,e,t,i){return i<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new du(n,e,t,i)}function I$(n){if(n instanceof du)return new du(n.h,n.s,n.l,n.opacity);if(n instanceof dm||(n=ih(n)),!n)return new du;if(n instanceof du)return n;n=n.rgb();var e=n.r/255,t=n.g/255,i=n.b/255,r=Math.min(e,t,i),s=Math.max(e,t,i),a=NaN,o=s-r,l=(s+r)/2;return o?(e===s?a=(t-i)/o+(t<i)*6:t===s?a=(i-e)/o+2:a=(e-t)/o+4,o/=l<.5?s+r:2-s-r,a*=60):o=l>0&&l<1?0:a,new du(a,o,l,n.opacity)}function qAe(n,e,t,i){return arguments.length===1?I$(n):new du(n,e,t,i??1)}function du(n,e,t,i){this.h=+n,this.s=+e,this.l=+t,this.opacity=+i}LL(du,qAe,O$(dm,{brighter(n){return n=n==null?g_:Math.pow(g_,n),new du(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?rp:Math.pow(rp,n),new du(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,i=t+(t<.5?t:1-t)*e,r=2*t-i;return new Zo(PE(n>=240?n-240:n+120,r,i),PE(n,r,i),PE(n<120?n+240:n-120,r,i),this.opacity)},clamp(){return new du(qV(this.h),Gy(this.s),Gy(this.l),y_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=y_(this.opacity);return`${n===1?"hsl(":"hsla("}${qV(this.h)}, ${Gy(this.s)*100}%, ${Gy(this.l)*100}%${n===1?")":`, ${n})`}`}}));function qV(n){return n=(n||0)%360,n<0?n+360:n}function Gy(n){return Math.max(0,Math.min(1,n||0))}function PE(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}const BL=n=>()=>n;function HAe(n,e){return function(t){return n+t*e}}function jAe(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(i){return Math.pow(n+i*e,t)}}function WAe(n){return(n=+n)==1?F$:function(e,t){return t-e?jAe(e,t,n):BL(isNaN(e)?t:e)}}function F$(n,e){var t=e-n;return t?HAe(n,t):BL(isNaN(n)?e:n)}const HV=function n(e){var t=WAe(e);function i(r,s){var a=t((r=LC(r)).r,(s=LC(s)).r),o=t(r.g,s.g),l=t(r.b,s.b),u=F$(r.opacity,s.opacity);return function(c){return r.r=a(c),r.g=o(c),r.b=l(c),r.opacity=u(c),r+""}}return i.gamma=n,i}(1);function z$(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,i=e.slice(),r;return function(s){for(r=0;r<t;++r)i[r]=n[r]*(1-s)+e[r]*s;return i}}function V$(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function XAe(n,e){return(V$(e)?z$:k$)(n,e)}function k$(n,e){var t=e?e.length:0,i=n?Math.min(t,n.length):0,r=new Array(i),s=new Array(t),a;for(a=0;a<i;++a)r[a]=UL(n[a],e[a]);for(;a<t;++a)s[a]=e[a];return function(o){for(a=0;a<i;++a)s[a]=r[a](o);return s}}function YAe(n,e){var t=new Date;return n=+n,e=+e,function(i){return t.setTime(n*(1-i)+e*i),t}}function ap(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function QAe(n,e){var t={},i={},r;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(r in e)r in n?t[r]=UL(n[r],e[r]):i[r]=e[r];return function(s){for(r in t)i[r]=t[r](s);return i}}var BC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,LE=new RegExp(BC.source,"g");function $Ae(n){return function(){return n}}function KAe(n){return function(e){return n(e)+""}}function ZAe(n,e){var t=BC.lastIndex=LE.lastIndex=0,i,r,s,a=-1,o=[],l=[];for(n=n+"",e=e+"";(i=BC.exec(n))&&(r=LE.exec(e));)(s=r.index)>t&&(s=e.slice(t,s),o[a]?o[a]+=s:o[++a]=s),(i=i[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,l.push({i:a,x:ap(i,r)})),t=LE.lastIndex;return t<e.length&&(s=e.slice(t),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?KAe(l[0].x):$Ae(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)o[(f=l[c]).i]=f.x(u);return o.join("")})}function UL(n,e){var t=typeof e,i;return e==null||t==="boolean"?BL(e):(t==="number"?ap:t==="string"?(i=ih(e))?(e=i,HV):ZAe:e instanceof ih?HV:e instanceof Date?YAe:V$(e)?z$:Array.isArray(e)?k$:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?QAe:ap)(n,e)}function JAe(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function epe(n){return function(){return n}}function tpe(n){return+n}var jV=[0,1];function z6(n){return n}function UC(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:epe(isNaN(e)?NaN:.5)}function npe(n,e){var t;return n>e&&(t=n,n=e,e=t),function(i){return Math.max(n,Math.min(e,i))}}function ipe(n,e,t){var i=n[0],r=n[1],s=e[0],a=e[1];return r<i?(i=UC(r,i),s=t(a,s)):(i=UC(i,r),s=t(s,a)),function(o){return s(i(o))}}function rpe(n,e,t){var i=Math.min(n.length,e.length)-1,r=new Array(i),s=new Array(i),a=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<i;)r[a]=UC(n[a],n[a+1]),s[a]=t(e[a],e[a+1]);return function(o){var l=B$(n,o,1,i)-1;return s[l](r[l](o))}}function spe(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function ape(){var n=jV,e=jV,t=UL,i,r,s,a=z6,o,l,u;function c(){var m=Math.min(n.length,e.length);return a!==z6&&(a=npe(n[0],n[m-1])),o=m>2?rpe:ipe,l=u=null,f}function f(m){return m==null||isNaN(m=+m)?s:(l||(l=o(n.map(i),e,t)))(i(a(m)))}return f.invert=function(m){return a(r((u||(u=o(e,n.map(i),ap)))(m)))},f.domain=function(m){return arguments.length?(n=Array.from(m,tpe),c()):n.slice()},f.range=function(m){return arguments.length?(e=Array.from(m),c()):e.slice()},f.rangeRound=function(m){return e=Array.from(m),t=JAe,c()},f.clamp=function(m){return arguments.length?(a=m?!0:z6,c()):a!==z6},f.interpolate=function(m){return arguments.length?(t=m,c()):t},f.unknown=function(m){return arguments.length?(s=m,f):s},function(m,v){return i=m,r=v,c()}}function ope(){return ape()(z6,z6)}function lpe(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function v_(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,i=n.slice(0,t);return[i.length>1?i[0]+i.slice(2):i,+n.slice(t+1)]}function Hd(n){return n=v_(Math.abs(n)),n?n[1]:NaN}function upe(n,e){return function(t,i){for(var r=t.length,s=[],a=0,o=n[0],l=0;r>0&&o>0&&(l+o+1>i&&(o=Math.max(1,i-l)),s.push(t.substring(r-=o,r+o)),!((l+=o+1)>i));)o=n[a=(a+1)%n.length];return s.reverse().join(e)}}function cpe(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var fpe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function x_(n){if(!(e=fpe.exec(n)))throw new Error("invalid format: "+n);var e;return new OL({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}x_.prototype=OL.prototype;function OL(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}OL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hpe(n){e:for(var e=n.length,t=1,i=-1,r;t<e;++t)switch(n[t]){case".":i=r=t;break;case"0":i===0&&(i=t),r=t;break;default:if(!+n[t])break e;i>0&&(i=0);break}return i>0?n.slice(0,i)+n.slice(r+1):n}var G$;function dpe(n,e){var t=v_(n,e);if(!t)return n+"";var i=t[0],r=t[1],s=r-(G$=Math.max(-8,Math.min(8,Math.floor(r/3)))*3)+1,a=i.length;return s===a?i:s>a?i+new Array(s-a+1).join("0"):s>0?i.slice(0,s)+"."+i.slice(s):"0."+new Array(1-s).join("0")+v_(n,Math.max(0,e+s-1))[0]}function WV(n,e){var t=v_(n,e);if(!t)return n+"";var i=t[0],r=t[1];return r<0?"0."+new Array(-r).join("0")+i:i.length>r+1?i.slice(0,r+1)+"."+i.slice(r+1):i+new Array(r-i.length+2).join("0")}const XV={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:lpe,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>WV(n*100,e),r:WV,s:dpe,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function YV(n){return n}var QV=Array.prototype.map,$V=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Ape(n){var e=n.grouping===void 0||n.thousands===void 0?YV:upe(QV.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",i=n.currency===void 0?"":n.currency[1]+"",r=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?YV:cpe(QV.call(n.numerals,String)),a=n.percent===void 0?"%":n.percent+"",o=n.minus===void 0?"":n.minus+"",l=n.nan===void 0?"NaN":n.nan+"";function u(f){f=x_(f);var m=f.fill,v=f.align,_=f.sign,T=f.symbol,M=f.zero,S=f.width,R=f.comma,C=f.precision,P=f.trim,B=f.type;B==="n"?(R=!0,B="g"):XV[B]||(C===void 0&&(C=12),P=!0,B="g"),(M||m==="0"&&v==="=")&&(M=!0,m="0",v="=");var O=T==="$"?t:T==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",V=T==="$"?i:/[%p]/.test(B)?a:"",F=XV[B],z=/[defgprs%]/.test(B);C=C===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function k(H){var Z=O,$=V,ae,ne,Y;if(B==="c")$=F(H)+$,H="";else{H=+H;var ee=H<0||1/H<0;if(H=isNaN(H)?l:F(Math.abs(H),C),P&&(H=hpe(H)),ee&&+H==0&&_!=="+"&&(ee=!1),Z=(ee?_==="("?_:o:_==="-"||_==="("?"":_)+Z,$=(B==="s"?$V[8+G$/3]:"")+$+(ee&&_==="("?")":""),z){for(ae=-1,ne=H.length;++ae<ne;)if(Y=H.charCodeAt(ae),48>Y||Y>57){$=(Y===46?r+H.slice(ae+1):H.slice(ae))+$,H=H.slice(0,ae);break}}}R&&!M&&(H=e(H,1/0));var Q=Z.length+H.length+$.length,fe=Q<S?new Array(S-Q+1).join(m):"";switch(R&&M&&(H=e(fe+H,fe.length?S-$.length:1/0),fe=""),v){case"<":H=Z+H+$+fe;break;case"=":H=Z+fe+H+$;break;case"^":H=fe.slice(0,Q=fe.length>>1)+Z+H+$+fe.slice(Q);break;default:H=fe+Z+H+$;break}return s(H)}return k.toString=function(){return f+""},k}function c(f,m){var v=u((f=x_(f),f.type="f",f)),_=Math.max(-8,Math.min(8,Math.floor(Hd(m)/3)))*3,T=Math.pow(10,-_),M=$V[8+_/3];return function(S){return v(T*S)+M}}return{format:u,formatPrefix:c}}var qy,q$,H$;ppe({thousands:",",grouping:[3],currency:["$",""]});function ppe(n){return qy=Ape(n),q$=qy.format,H$=qy.formatPrefix,qy}function mpe(n){return Math.max(0,-Hd(Math.abs(n)))}function gpe(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hd(e)/3)))*3-Hd(Math.abs(n)))}function ype(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,Hd(e)-Hd(n))+1}function vpe(n,e,t,i){var r=wAe(n,e,t),s;switch(i=x_(i??",f"),i.type){case"s":{var a=Math.max(Math.abs(n),Math.abs(e));return i.precision==null&&!isNaN(s=gpe(r,a))&&(i.precision=s),H$(i,a)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(s=ype(r,Math.max(Math.abs(n),Math.abs(e))))&&(i.precision=s-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(s=mpe(r))&&(i.precision=s-(i.type==="%")*2);break}}return q$(i)}function j$(n){var e=n.domain;return n.ticks=function(t){var i=e();return EAe(i[0],i[i.length-1],t??10)},n.tickFormat=function(t,i){var r=e();return vpe(r[0],r[r.length-1],t??10,i)},n.nice=function(t){t==null&&(t=10);var i=e(),r=0,s=i.length-1,a=i[r],o=i[s],l,u,c=10;for(o<a&&(u=a,a=o,o=u,u=r,r=s,s=u);c-- >0;){if(u=PC(a,o,t),u===l)return i[r]=a,i[s]=o,e(i);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return n},n}function jc(){var n=ope();return n.copy=function(){return spe(n,jc())},U$.apply(n,arguments),j$(n)}function W$(){var n=0,e=1,t=1,i=[.5],r=[0,1],s;function a(l){return l!=null&&l<=l?r[B$(i,l,0,t)]:s}function o(){var l=-1;for(i=new Array(t);++l<t;)i[l]=((l+1)*e-(l-t)*n)/(t+1);return a}return a.domain=function(l){return arguments.length?([n,e]=l,n=+n,e=+e,o()):[n,e]},a.range=function(l){return arguments.length?(t=(r=Array.from(l)).length-1,o()):r.slice()},a.invertExtent=function(l){var u=r.indexOf(l);return u<0?[NaN,NaN]:u<1?[n,i[0]]:u>=t?[i[t-1],e]:[i[u-1],i[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return i.slice()},a.copy=function(){return W$().domain([n,e]).range(r).unknown(s)},U$.apply(j$(a),arguments)}var gi=1e-6,__=1e-12,Pi=Math.PI,Jo=Pi/2,b_=Pi/4,Ql=Pi*2,us=180/Pi,jn=Pi/180,Ar=Math.abs,IL=Math.atan,O0=Math.atan2,Zn=Math.cos,Hy=Math.ceil,xpe=Math.exp,OC=Math.hypot,_pe=Math.log,In=Math.sin,bpe=Math.sign||function(n){return n>0?1:n<0?-1:0},Wc=Math.sqrt,Spe=Math.tan;function Tpe(n){return n>1?0:n<-1?Pi:Math.acos(n)}function Xc(n){return n>1?Jo:n<-1?-Jo:Math.asin(n)}function KV(n){return(n=In(n/2))*n}function io(){}function S_(n,e){n&&JV.hasOwnProperty(n.type)&&JV[n.type](n,e)}var ZV={Feature:function(n,e){S_(n.geometry,e)},FeatureCollection:function(n,e){for(var t=n.features,i=-1,r=t.length;++i<r;)S_(t[i].geometry,e)}},JV={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)n=t[i],e.point(n[0],n[1],n[2])},LineString:function(n,e){IC(n.coordinates,e,0)},MultiLineString:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)IC(t[i],e,0)},Polygon:function(n,e){ek(n.coordinates,e)},MultiPolygon:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)ek(t[i],e)},GeometryCollection:function(n,e){for(var t=n.geometries,i=-1,r=t.length;++i<r;)S_(t[i],e)}};function IC(n,e,t){var i=-1,r=n.length-t,s;for(e.lineStart();++i<r;)s=n[i],e.point(s[0],s[1],s[2]);e.lineEnd()}function ek(n,e){var t=-1,i=n.length;for(e.polygonStart();++t<i;)IC(n[t],e,1);e.polygonEnd()}function wS(n,e){n&&ZV.hasOwnProperty(n.type)?ZV[n.type](n,e):S_(n,e)}var T_=new Cc,tk=new Cc,X$,Y$,FC,zC,VC,Yc={point:io,lineStart:io,lineEnd:io,polygonStart:function(){T_=new Cc,Yc.lineStart=Mpe,Yc.lineEnd=Epe},polygonEnd:function(){var n=+T_;tk.add(n<0?Ql+n:n),this.lineStart=this.lineEnd=this.point=io},sphere:function(){tk.add(Ql)}};function Mpe(){Yc.point=wpe}function Epe(){Q$(X$,Y$)}function wpe(n,e){Yc.point=Q$,X$=n,Y$=e,n*=jn,e*=jn,FC=n,zC=Zn(e=e/2+b_),VC=In(e)}function Q$(n,e){n*=jn,e*=jn,e=e/2+b_;var t=n-FC,i=t>=0?1:-1,r=i*t,s=Zn(e),a=In(e),o=VC*a,l=zC*s+o*Zn(r),u=o*i*In(r);T_.add(O0(u,l)),FC=n,zC=s,VC=a}function M_(n){return[O0(n[1],n[0]),Xc(n[2])]}function rh(n){var e=n[0],t=n[1],i=Zn(t);return[i*Zn(e),i*In(e),In(t)]}function jy(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function jd(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function BE(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function Wy(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function E_(n){var e=Wc(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}var $r,Qo,as,Ol,Y4,$$,K$,id,dA,k2,Qc,fc={point:kC,lineStart:nk,lineEnd:ik,polygonStart:function(){fc.point=J$,fc.lineStart=Rpe,fc.lineEnd=Cpe,dA=new Cc,Yc.polygonStart()},polygonEnd:function(){Yc.polygonEnd(),fc.point=kC,fc.lineStart=nk,fc.lineEnd=ik,T_<0?($r=-(as=180),Qo=-(Ol=90)):dA>gi?Ol=90:dA<-gi&&(Qo=-90),Qc[0]=$r,Qc[1]=as},sphere:function(){$r=-(as=180),Qo=-(Ol=90)}};function kC(n,e){k2.push(Qc=[$r=n,as=n]),e<Qo&&(Qo=e),e>Ol&&(Ol=e)}function Z$(n,e){var t=rh([n*jn,e*jn]);if(id){var i=jd(id,t),r=[i[1],-i[0],0],s=jd(r,i);E_(s),s=M_(s);var a=n-Y4,o=a>0?1:-1,l=s[0]*us*o,u,c=Ar(a)>180;c^(o*Y4<l&&l<o*n)?(u=s[1]*us,u>Ol&&(Ol=u)):(l=(l+360)%360-180,c^(o*Y4<l&&l<o*n)?(u=-s[1]*us,u<Qo&&(Qo=u)):(e<Qo&&(Qo=e),e>Ol&&(Ol=e))),c?n<Y4?Ll($r,n)>Ll($r,as)&&(as=n):Ll(n,as)>Ll($r,as)&&($r=n):as>=$r?(n<$r&&($r=n),n>as&&(as=n)):n>Y4?Ll($r,n)>Ll($r,as)&&(as=n):Ll(n,as)>Ll($r,as)&&($r=n)}else k2.push(Qc=[$r=n,as=n]);e<Qo&&(Qo=e),e>Ol&&(Ol=e),id=t,Y4=n}function nk(){fc.point=Z$}function ik(){Qc[0]=$r,Qc[1]=as,fc.point=kC,id=null}function J$(n,e){if(id){var t=n-Y4;dA.add(Ar(t)>180?t+(t>0?360:-360):t)}else $$=n,K$=e;Yc.point(n,e),Z$(n,e)}function Rpe(){Yc.lineStart()}function Cpe(){J$($$,K$),Yc.lineEnd(),Ar(dA)>gi&&($r=-(as=180)),Qc[0]=$r,Qc[1]=as,id=null}function Ll(n,e){return(e-=n)<0?e+360:e}function Npe(n,e){return n[0]-e[0]}function rk(n,e){return n[0]<=n[1]?n[0]<=e&&e<=n[1]:e<n[0]||n[1]<e}function eK(n){var e,t,i,r,s,a,o;if(Ol=as=-($r=Qo=1/0),k2=[],wS(n,fc),t=k2.length){for(k2.sort(Npe),e=1,i=k2[0],s=[i];e<t;++e)r=k2[e],rk(i,r[0])||rk(i,r[1])?(Ll(i[0],r[1])>Ll(i[0],i[1])&&(i[1]=r[1]),Ll(r[0],i[1])>Ll(i[0],i[1])&&(i[0]=r[0])):s.push(i=r);for(a=-1/0,t=s.length-1,e=0,i=s[t];e<=t;i=r,++e)r=s[e],(o=Ll(i[1],r[0]))>a&&(a=o,$r=r[0],as=i[1])}return k2=Qc=null,$r===1/0||Qo===1/0?[[NaN,NaN],[NaN,NaN]]:[[$r,Qo],[as,Ol]]}var P9,w_,R_,C_,N_,D_,P_,L_,GC,qC,HC,tK,nK,Mo,Eo,wo,mu={sphere:io,point:FL,lineStart:sk,lineEnd:ak,polygonStart:function(){mu.lineStart=Lpe,mu.lineEnd=Bpe},polygonEnd:function(){mu.lineStart=sk,mu.lineEnd=ak}};function FL(n,e){n*=jn,e*=jn;var t=Zn(e);Am(t*Zn(n),t*In(n),In(e))}function Am(n,e,t){++P9,R_+=(n-R_)/P9,C_+=(e-C_)/P9,N_+=(t-N_)/P9}function sk(){mu.point=Dpe}function Dpe(n,e){n*=jn,e*=jn;var t=Zn(e);Mo=t*Zn(n),Eo=t*In(n),wo=In(e),mu.point=Ppe,Am(Mo,Eo,wo)}function Ppe(n,e){n*=jn,e*=jn;var t=Zn(e),i=t*Zn(n),r=t*In(n),s=In(e),a=O0(Wc((a=Eo*s-wo*r)*a+(a=wo*i-Mo*s)*a+(a=Mo*r-Eo*i)*a),Mo*i+Eo*r+wo*s);w_+=a,D_+=a*(Mo+(Mo=i)),P_+=a*(Eo+(Eo=r)),L_+=a*(wo+(wo=s)),Am(Mo,Eo,wo)}function ak(){mu.point=FL}function Lpe(){mu.point=Upe}function Bpe(){iK(tK,nK),mu.point=FL}function Upe(n,e){tK=n,nK=e,n*=jn,e*=jn,mu.point=iK;var t=Zn(e);Mo=t*Zn(n),Eo=t*In(n),wo=In(e),Am(Mo,Eo,wo)}function iK(n,e){n*=jn,e*=jn;var t=Zn(e),i=t*Zn(n),r=t*In(n),s=In(e),a=Eo*s-wo*r,o=wo*i-Mo*s,l=Mo*r-Eo*i,u=OC(a,o,l),c=Xc(u),f=u&&-c/u;GC.add(f*a),qC.add(f*o),HC.add(f*l),w_+=c,D_+=c*(Mo+(Mo=i)),P_+=c*(Eo+(Eo=r)),L_+=c*(wo+(wo=s)),Am(Mo,Eo,wo)}function ok(n){P9=w_=R_=C_=N_=D_=P_=L_=0,GC=new Cc,qC=new Cc,HC=new Cc,wS(n,mu);var e=+GC,t=+qC,i=+HC,r=OC(e,t,i);return r<__&&(e=D_,t=P_,i=L_,w_<gi&&(e=R_,t=C_,i=N_),r=OC(e,t,i),r<__)?[NaN,NaN]:[O0(t,e)*us,Xc(i/r)*us]}function jC(n,e){function t(i,r){return i=n(i,r),e(i[0],i[1])}return n.invert&&e.invert&&(t.invert=function(i,r){return i=e.invert(i,r),i&&n.invert(i[0],i[1])}),t}function WC(n,e){return Ar(n)>Pi&&(n-=Math.round(n/Ql)*Ql),[n,e]}WC.invert=WC;function rK(n,e,t){return(n%=Ql)?e||t?jC(uk(n),ck(e,t)):uk(n):e||t?ck(e,t):WC}function lk(n){return function(e,t){return e+=n,Ar(e)>Pi&&(e-=Math.round(e/Ql)*Ql),[e,t]}}function uk(n){var e=lk(n);return e.invert=lk(-n),e}function ck(n,e){var t=Zn(n),i=In(n),r=Zn(e),s=In(e);function a(o,l){var u=Zn(l),c=Zn(o)*u,f=In(o)*u,m=In(l),v=m*t+c*i;return[O0(f*r-v*s,c*t-m*i),Xc(v*r+f*s)]}return a.invert=function(o,l){var u=Zn(l),c=Zn(o)*u,f=In(o)*u,m=In(l),v=m*r-f*s;return[O0(f*r+m*s,c*t+v*i),Xc(v*t-c*i)]},a}function Ope(n){n=rK(n[0]*jn,n[1]*jn,n.length>2?n[2]*jn:0);function e(t){return t=n(t[0]*jn,t[1]*jn),t[0]*=us,t[1]*=us,t}return e.invert=function(t){return t=n.invert(t[0]*jn,t[1]*jn),t[0]*=us,t[1]*=us,t},e}function Ipe(n,e,t,i,r,s){if(t){var a=Zn(e),o=In(e),l=i*t;r==null?(r=e+i*Ql,s=e-l/2):(r=fk(a,r),s=fk(a,s),(i>0?r<s:r>s)&&(r+=i*Ql));for(var u,c=r;i>0?c>s:c<s;c-=l)u=M_([a,-o*Zn(c),-o*In(c)]),n.point(u[0],u[1])}}function fk(n,e){e=rh(e),e[0]-=n,E_(e);var t=Tpe(-e[1]);return((-e[2]<0?-t:t)+Ql-gi)%Ql}function sK(){var n=[],e;return{point:function(t,i,r){e.push([t,i,r])},lineStart:function(){n.push(e=[])},lineEnd:io,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],e=null,t}}}function rx(n,e){return Ar(n[0]-e[0])<gi&&Ar(n[1]-e[1])<gi}function Xy(n,e,t,i){this.x=n,this.z=e,this.o=t,this.e=i,this.v=!1,this.n=this.p=null}function aK(n,e,t,i,r){var s=[],a=[],o,l;if(n.forEach(function(_){if(!((T=_.length-1)<=0)){var T,M=_[0],S=_[T],R;if(rx(M,S)){if(!M[2]&&!S[2]){for(r.lineStart(),o=0;o<T;++o)r.point((M=_[o])[0],M[1]);r.lineEnd();return}S[0]+=2*gi}s.push(R=new Xy(M,_,null,!0)),a.push(R.o=new Xy(M,null,R,!1)),s.push(R=new Xy(S,_,null,!1)),a.push(R.o=new Xy(S,null,R,!0))}}),!!s.length){for(a.sort(e),hk(s),hk(a),o=0,l=a.length;o<l;++o)a[o].e=t=!t;for(var u=s[0],c,f;;){for(var m=u,v=!0;m.v;)if((m=m.n)===u)return;c=m.z,r.lineStart();do{if(m.v=m.o.v=!0,m.e){if(v)for(o=0,l=c.length;o<l;++o)r.point((f=c[o])[0],f[1]);else i(m.x,m.n.x,1,r);m=m.n}else{if(v)for(c=m.p.z,o=c.length-1;o>=0;--o)r.point((f=c[o])[0],f[1]);else i(m.x,m.p.x,-1,r);m=m.p}m=m.o,c=m.z,v=!v}while(!m.v);r.lineEnd()}}}function hk(n){if(e=n.length){for(var e,t=0,i=n[0],r;++t<e;)i.n=r=n[t],r.p=i,i=r;i.n=r=n[0],r.p=i}}function UE(n){return Ar(n[0])<=Pi?n[0]:bpe(n[0])*((Ar(n[0])+Pi)%Ql-Pi)}function oK(n,e){var t=UE(e),i=e[1],r=In(i),s=[In(t),-Zn(t),0],a=0,o=0,l=new Cc;r===1?i=Jo+gi:r===-1&&(i=-Jo-gi);for(var u=0,c=n.length;u<c;++u)if(m=(f=n[u]).length)for(var f,m,v=f[m-1],_=UE(v),T=v[1]/2+b_,M=In(T),S=Zn(T),R=0;R<m;++R,_=P,M=O,S=V,v=C){var C=f[R],P=UE(C),B=C[1]/2+b_,O=In(B),V=Zn(B),F=P-_,z=F>=0?1:-1,k=z*F,H=k>Pi,Z=M*O;if(l.add(O0(Z*z*In(k),S*V+Z*Zn(k))),a+=H?F+z*Ql:F,H^_>=t^P>=t){var $=jd(rh(v),rh(C));E_($);var ae=jd(s,$);E_(ae);var ne=(H^F>=0?-1:1)*Xc(ae[2]);(i>ne||i===ne&&($[0]||$[1]))&&(o+=H^F>=0?1:-1)}}return(a<-gi||a<gi&&l<-__)^o&1}function lK(n,e,t,i){return function(r){var s=e(r),a=sK(),o=e(a),l=!1,u,c,f,m={point:v,lineStart:T,lineEnd:M,polygonStart:function(){m.point=S,m.lineStart=R,m.lineEnd=C,c=[],u=[]},polygonEnd:function(){m.point=v,m.lineStart=T,m.lineEnd=M,c=ip(c);var P=oK(u,i);c.length?(l||(r.polygonStart(),l=!0),aK(c,zpe,P,t,r)):P&&(l||(r.polygonStart(),l=!0),r.lineStart(),t(null,null,1,r),r.lineEnd()),l&&(r.polygonEnd(),l=!1),c=u=null},sphere:function(){r.polygonStart(),r.lineStart(),t(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function v(P,B){n(P,B)&&r.point(P,B)}function _(P,B){s.point(P,B)}function T(){m.point=_,s.lineStart()}function M(){m.point=v,s.lineEnd()}function S(P,B){f.push([P,B]),o.point(P,B)}function R(){o.lineStart(),f=[]}function C(){S(f[0][0],f[0][1]),o.lineEnd();var P=o.clean(),B=a.result(),O,V=B.length,F,z,k;if(f.pop(),u.push(f),f=null,!!V){if(P&1){if(z=B[0],(F=z.length-1)>0){for(l||(r.polygonStart(),l=!0),r.lineStart(),O=0;O<F;++O)r.point((k=z[O])[0],k[1]);r.lineEnd()}return}V>1&&P&2&&B.push(B.pop().concat(B.shift())),c.push(B.filter(Fpe))}}return m}}function Fpe(n){return n.length>1}function zpe(n,e){return((n=n.x)[0]<0?n[1]-Jo-gi:Jo-n[1])-((e=e.x)[0]<0?e[1]-Jo-gi:Jo-e[1])}const dk=lK(function(){return!0},Vpe,Gpe,[-Pi,-Jo]);function Vpe(n){var e=NaN,t=NaN,i=NaN,r;return{lineStart:function(){n.lineStart(),r=1},point:function(s,a){var o=s>0?Pi:-Pi,l=Ar(s-e);Ar(l-Pi)<gi?(n.point(e,t=(t+a)/2>0?Jo:-Jo),n.point(i,t),n.lineEnd(),n.lineStart(),n.point(o,t),n.point(s,t),r=0):i!==o&&l>=Pi&&(Ar(e-i)<gi&&(e-=i*gi),Ar(s-o)<gi&&(s-=o*gi),t=kpe(e,t,s,a),n.point(i,t),n.lineEnd(),n.lineStart(),n.point(o,t),r=0),n.point(e=s,t=a),i=o},lineEnd:function(){n.lineEnd(),e=t=NaN},clean:function(){return 2-r}}}function kpe(n,e,t,i){var r,s,a=In(n-t);return Ar(a)>gi?IL((In(e)*(s=Zn(i))*In(t)-In(i)*(r=Zn(e))*In(n))/(r*s*a)):(e+i)/2}function Gpe(n,e,t,i){var r;if(n==null)r=t*Jo,i.point(-Pi,r),i.point(0,r),i.point(Pi,r),i.point(Pi,0),i.point(Pi,-r),i.point(0,-r),i.point(-Pi,-r),i.point(-Pi,0),i.point(-Pi,r);else if(Ar(n[0]-e[0])>gi){var s=n[0]<e[0]?Pi:-Pi;r=t*s/2,i.point(-s,r),i.point(0,r),i.point(s,r)}else i.point(e[0],e[1])}function qpe(n){var e=Zn(n),t=2*jn,i=e>0,r=Ar(e)>gi;function s(c,f,m,v){Ipe(v,n,t,m,c,f)}function a(c,f){return Zn(c)*Zn(f)>e}function o(c){var f,m,v,_,T;return{lineStart:function(){_=v=!1,T=1},point:function(M,S){var R=[M,S],C,P=a(M,S),B=i?P?0:u(M,S):P?u(M+(M<0?Pi:-Pi),S):0;if(!f&&(_=v=P)&&c.lineStart(),P!==v&&(C=l(f,R),(!C||rx(f,C)||rx(R,C))&&(R[2]=1)),P!==v)T=0,P?(c.lineStart(),C=l(R,f),c.point(C[0],C[1])):(C=l(f,R),c.point(C[0],C[1],2),c.lineEnd()),f=C;else if(r&&f&&i^P){var O;!(B&m)&&(O=l(R,f,!0))&&(T=0,i?(c.lineStart(),c.point(O[0][0],O[0][1]),c.point(O[1][0],O[1][1]),c.lineEnd()):(c.point(O[1][0],O[1][1]),c.lineEnd(),c.lineStart(),c.point(O[0][0],O[0][1],3)))}P&&(!f||!rx(f,R))&&c.point(R[0],R[1]),f=R,v=P,m=B},lineEnd:function(){v&&c.lineEnd(),f=null},clean:function(){return T|(_&&v)<<1}}}function l(c,f,m){var v=rh(c),_=rh(f),T=[1,0,0],M=jd(v,_),S=jy(M,M),R=M[0],C=S-R*R;if(!C)return!m&&c;var P=e*S/C,B=-e*R/C,O=jd(T,M),V=Wy(T,P),F=Wy(M,B);BE(V,F);var z=O,k=jy(V,z),H=jy(z,z),Z=k*k-H*(jy(V,V)-1);if(!(Z<0)){var $=Wc(Z),ae=Wy(z,(-k-$)/H);if(BE(ae,V),ae=M_(ae),!m)return ae;var ne=c[0],Y=f[0],ee=c[1],Q=f[1],fe;Y<ne&&(fe=ne,ne=Y,Y=fe);var ge=Y-ne,Re=Ar(ge-Pi)<gi,Ge=Re||ge<gi;if(!Re&&Q<ee&&(fe=ee,ee=Q,Q=fe),Ge?Re?ee+Q>0^ae[1]<(Ar(ae[0]-ne)<gi?ee:Q):ee<=ae[1]&&ae[1]<=Q:ge>Pi^(ne<=ae[0]&&ae[0]<=Y)){var We=Wy(z,(-k+$)/H);return BE(We,V),[ae,M_(We)]}}}function u(c,f){var m=i?n:Pi-n,v=0;return c<-m?v|=1:c>m&&(v|=2),f<-m?v|=4:f>m&&(v|=8),v}return lK(a,o,s,i?[0,-n]:[-Pi,n-Pi])}function Hpe(n,e,t,i,r,s){var a=n[0],o=n[1],l=e[0],u=e[1],c=0,f=1,m=l-a,v=u-o,_;if(_=t-a,!(!m&&_>0)){if(_/=m,m<0){if(_<c)return;_<f&&(f=_)}else if(m>0){if(_>f)return;_>c&&(c=_)}if(_=r-a,!(!m&&_<0)){if(_/=m,m<0){if(_>f)return;_>c&&(c=_)}else if(m>0){if(_<c)return;_<f&&(f=_)}if(_=i-o,!(!v&&_>0)){if(_/=v,v<0){if(_<c)return;_<f&&(f=_)}else if(v>0){if(_>f)return;_>c&&(c=_)}if(_=s-o,!(!v&&_<0)){if(_/=v,v<0){if(_>f)return;_>c&&(c=_)}else if(v>0){if(_<c)return;_<f&&(f=_)}return c>0&&(n[0]=a+c*m,n[1]=o+c*v),f<1&&(e[0]=a+f*m,e[1]=o+f*v),!0}}}}}var L9=1e9,Yy=-L9;function jpe(n,e,t,i){function r(u,c){return n<=u&&u<=t&&e<=c&&c<=i}function s(u,c,f,m){var v=0,_=0;if(u==null||(v=a(u,f))!==(_=a(c,f))||l(u,c)<0^f>0)do m.point(v===0||v===3?n:t,v>1?i:e);while((v=(v+f+4)%4)!==_);else m.point(c[0],c[1])}function a(u,c){return Ar(u[0]-n)<gi?c>0?0:3:Ar(u[0]-t)<gi?c>0?2:1:Ar(u[1]-e)<gi?c>0?1:0:c>0?3:2}function o(u,c){return l(u.x,c.x)}function l(u,c){var f=a(u,1),m=a(c,1);return f!==m?f-m:f===0?c[1]-u[1]:f===1?u[0]-c[0]:f===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,f=sK(),m,v,_,T,M,S,R,C,P,B,O,V={point:F,lineStart:Z,lineEnd:$,polygonStart:k,polygonEnd:H};function F(ne,Y){r(ne,Y)&&c.point(ne,Y)}function z(){for(var ne=0,Y=0,ee=v.length;Y<ee;++Y)for(var Q=v[Y],fe=1,ge=Q.length,Re=Q[0],Ge,We,Se=Re[0],qe=Re[1];fe<ge;++fe)Ge=Se,We=qe,Re=Q[fe],Se=Re[0],qe=Re[1],We<=i?qe>i&&(Se-Ge)*(i-We)>(qe-We)*(n-Ge)&&++ne:qe<=i&&(Se-Ge)*(i-We)<(qe-We)*(n-Ge)&&--ne;return ne}function k(){c=f,m=[],v=[],O=!0}function H(){var ne=z(),Y=O&&ne,ee=(m=ip(m)).length;(Y||ee)&&(u.polygonStart(),Y&&(u.lineStart(),s(null,null,1,u),u.lineEnd()),ee&&aK(m,o,ne,s,u),u.polygonEnd()),c=u,m=v=_=null}function Z(){V.point=ae,v&&v.push(_=[]),B=!0,P=!1,R=C=NaN}function $(){m&&(ae(T,M),S&&P&&f.rejoin(),m.push(f.result())),V.point=F,P&&c.lineEnd()}function ae(ne,Y){var ee=r(ne,Y);if(v&&_.push([ne,Y]),B)T=ne,M=Y,S=ee,B=!1,ee&&(c.lineStart(),c.point(ne,Y));else if(ee&&P)c.point(ne,Y);else{var Q=[R=Math.max(Yy,Math.min(L9,R)),C=Math.max(Yy,Math.min(L9,C))],fe=[ne=Math.max(Yy,Math.min(L9,ne)),Y=Math.max(Yy,Math.min(L9,Y))];Hpe(Q,fe,n,e,t,i)?(P||(c.lineStart(),c.point(Q[0],Q[1])),c.point(fe[0],fe[1]),ee||c.lineEnd(),O=!1):ee&&(c.lineStart(),c.point(ne,Y),O=!1)}R=ne,C=Y,P=ee}return V}}var XC,YC,sx,ax,Wd={sphere:io,point:io,lineStart:Wpe,lineEnd:io,polygonStart:io,polygonEnd:io};function Wpe(){Wd.point=Ype,Wd.lineEnd=Xpe}function Xpe(){Wd.point=Wd.lineEnd=io}function Ype(n,e){n*=jn,e*=jn,YC=n,sx=In(e),ax=Zn(e),Wd.point=Qpe}function Qpe(n,e){n*=jn,e*=jn;var t=In(e),i=Zn(e),r=Ar(n-YC),s=Zn(r),a=In(r),o=i*a,l=ax*t-sx*i*s,u=sx*t+ax*i*s;XC.add(O0(Wc(o*o+l*l),u)),YC=n,sx=t,ax=i}function $pe(n){return XC=new Cc,wS(n,Wd),+XC}var QC=[null,null],Kpe={type:"LineString",coordinates:QC};function C3(n,e){return QC[0]=n,QC[1]=e,$pe(Kpe)}var Ak={Feature:function(n,e){return B_(n.geometry,e)},FeatureCollection:function(n,e){for(var t=n.features,i=-1,r=t.length;++i<r;)if(B_(t[i].geometry,e))return!0;return!1}},pk={Sphere:function(){return!0},Point:function(n,e){return mk(n.coordinates,e)},MultiPoint:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)if(mk(t[i],e))return!0;return!1},LineString:function(n,e){return gk(n.coordinates,e)},MultiLineString:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)if(gk(t[i],e))return!0;return!1},Polygon:function(n,e){return yk(n.coordinates,e)},MultiPolygon:function(n,e){for(var t=n.coordinates,i=-1,r=t.length;++i<r;)if(yk(t[i],e))return!0;return!1},GeometryCollection:function(n,e){for(var t=n.geometries,i=-1,r=t.length;++i<r;)if(B_(t[i],e))return!0;return!1}};function B_(n,e){return n&&pk.hasOwnProperty(n.type)?pk[n.type](n,e):!1}function mk(n,e){return C3(n,e)===0}function gk(n,e){for(var t,i,r,s=0,a=n.length;s<a;s++){if(i=C3(n[s],e),i===0||s>0&&(r=C3(n[s],n[s-1]),r>0&&t<=r&&i<=r&&(t+i-r)*(1-Math.pow((t-i)/r,2))<__*r))return!0;t=i}return!1}function yk(n,e){return!!oK(n.map(Zpe),uK(e))}function Zpe(n){return n=n.map(uK),n.pop(),n}function uK(n){return[n[0]*jn,n[1]*jn]}function Jpe(n,e){return(n&&Ak.hasOwnProperty(n.type)?Ak[n.type]:B_)(n,e)}function vk(n,e,t){var i=F6(n,e-gi,t).concat(e);return function(r){return i.map(function(s){return[r,s]})}}function xk(n,e,t){var i=F6(n,e-gi,t).concat(e);return function(r){return i.map(function(s){return[s,r]})}}function eme(){var n,e,t,i,r,s,a,o,l=10,u=l,c=90,f=360,m,v,_,T,M=2.5;function S(){return{type:"MultiLineString",coordinates:R()}}function R(){return F6(Hy(i/c)*c,t,c).map(_).concat(F6(Hy(o/f)*f,a,f).map(T)).concat(F6(Hy(e/l)*l,n,l).filter(function(C){return Ar(C%c)>gi}).map(m)).concat(F6(Hy(s/u)*u,r,u).filter(function(C){return Ar(C%f)>gi}).map(v))}return S.lines=function(){return R().map(function(C){return{type:"LineString",coordinates:C}})},S.outline=function(){return{type:"Polygon",coordinates:[_(i).concat(T(a).slice(1),_(t).reverse().slice(1),T(o).reverse().slice(1))]}},S.extent=function(C){return arguments.length?S.extentMajor(C).extentMinor(C):S.extentMinor()},S.extentMajor=function(C){return arguments.length?(i=+C[0][0],t=+C[1][0],o=+C[0][1],a=+C[1][1],i>t&&(C=i,i=t,t=C),o>a&&(C=o,o=a,a=C),S.precision(M)):[[i,o],[t,a]]},S.extentMinor=function(C){return arguments.length?(e=+C[0][0],n=+C[1][0],s=+C[0][1],r=+C[1][1],e>n&&(C=e,e=n,n=C),s>r&&(C=s,s=r,r=C),S.precision(M)):[[e,s],[n,r]]},S.step=function(C){return arguments.length?S.stepMajor(C).stepMinor(C):S.stepMinor()},S.stepMajor=function(C){return arguments.length?(c=+C[0],f=+C[1],S):[c,f]},S.stepMinor=function(C){return arguments.length?(l=+C[0],u=+C[1],S):[l,u]},S.precision=function(C){return arguments.length?(M=+C,m=vk(s,r,90),v=xk(e,n,M),_=vk(o,a,90),T=xk(i,t,M),S):M},S.extentMajor([[-180,-90+gi],[180,90-gi]]).extentMinor([[-180,-80-gi],[180,80+gi]])}function tme(){return eme()()}function zL(n,e){var t=n[0]*jn,i=n[1]*jn,r=e[0]*jn,s=e[1]*jn,a=Zn(i),o=In(i),l=Zn(s),u=In(s),c=a*Zn(t),f=a*In(t),m=l*Zn(r),v=l*In(r),_=2*Xc(Wc(KV(s-i)+a*l*KV(r-t))),T=In(_),M=_?function(S){var R=In(S*=_)/T,C=In(_-S)/T,P=C*c+R*m,B=C*f+R*v,O=C*o+R*u;return[O0(B,P)*us,O0(O,Wc(P*P+B*B))*us]}:function(){return[t*us,i*us]};return M.distance=_,M}const _k=n=>n;var Xd=1/0,U_=Xd,op=-Xd,O_=op,bk={point:nme,lineStart:io,lineEnd:io,polygonStart:io,polygonEnd:io,result:function(){var n=[[Xd,U_],[op,O_]];return op=O_=-(U_=Xd=1/0),n}};function nme(n,e){n<Xd&&(Xd=n),n>op&&(op=n),e<U_&&(U_=e),e>O_&&(O_=e)}function VL(n){return function(e){var t=new $C;for(var i in n)t[i]=n[i];return t.stream=e,t}}function $C(){}$C.prototype={constructor:$C,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function kL(n,e,t){var i=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),i!=null&&n.clipExtent(null),wS(t,n.stream(bk)),e(bk.result()),i!=null&&n.clipExtent(i),n}function cK(n,e,t){return kL(n,function(i){var r=e[1][0]-e[0][0],s=e[1][1]-e[0][1],a=Math.min(r/(i[1][0]-i[0][0]),s/(i[1][1]-i[0][1])),o=+e[0][0]+(r-a*(i[1][0]+i[0][0]))/2,l=+e[0][1]+(s-a*(i[1][1]+i[0][1]))/2;n.scale(150*a).translate([o,l])},t)}function ime(n,e,t){return cK(n,[[0,0],e],t)}function rme(n,e,t){return kL(n,function(i){var r=+e,s=r/(i[1][0]-i[0][0]),a=(r-s*(i[1][0]+i[0][0]))/2,o=-s*i[0][1];n.scale(150*s).translate([a,o])},t)}function sme(n,e,t){return kL(n,function(i){var r=+e,s=r/(i[1][1]-i[0][1]),a=-s*i[0][0],o=(r-s*(i[1][1]+i[0][1]))/2;n.scale(150*s).translate([a,o])},t)}var Sk=16,ame=Zn(30*jn);function Tk(n,e){return+e?lme(n,e):ome(n)}function ome(n){return VL({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}})}function lme(n,e){function t(i,r,s,a,o,l,u,c,f,m,v,_,T,M){var S=u-i,R=c-r,C=S*S+R*R;if(C>4*e&&T--){var P=a+m,B=o+v,O=l+_,V=Wc(P*P+B*B+O*O),F=Xc(O/=V),z=Ar(Ar(O)-1)<gi||Ar(s-f)<gi?(s+f)/2:O0(B,P),k=n(z,F),H=k[0],Z=k[1],$=H-i,ae=Z-r,ne=R*$-S*ae;(ne*ne/C>e||Ar((S*$+R*ae)/C-.5)>.3||a*m+o*v+l*_<ame)&&(t(i,r,s,a,o,l,H,Z,z,P/=V,B/=V,O,T,M),M.point(H,Z),t(H,Z,z,P,B,O,u,c,f,m,v,_,T,M))}}return function(i){var r,s,a,o,l,u,c,f,m,v,_,T,M={point:S,lineStart:R,lineEnd:P,polygonStart:function(){i.polygonStart(),M.lineStart=B},polygonEnd:function(){i.polygonEnd(),M.lineStart=R}};function S(F,z){F=n(F,z),i.point(F[0],F[1])}function R(){f=NaN,M.point=C,i.lineStart()}function C(F,z){var k=rh([F,z]),H=n(F,z);t(f,m,c,v,_,T,f=H[0],m=H[1],c=F,v=k[0],_=k[1],T=k[2],Sk,i),i.point(f,m)}function P(){M.point=S,i.lineEnd()}function B(){R(),M.point=O,M.lineEnd=V}function O(F,z){C(r=F,z),s=f,a=m,o=v,l=_,u=T,M.point=C}function V(){t(f,m,c,v,_,T,s,a,r,o,l,u,Sk,i),M.lineEnd=P,P()}return M}}var ume=VL({point:function(n,e){this.stream.point(n*jn,e*jn)}});function cme(n){return VL({point:function(e,t){var i=n(e,t);return this.stream.point(i[0],i[1])}})}function fme(n,e,t,i,r){function s(a,o){return a*=i,o*=r,[e+n*a,t-n*o]}return s.invert=function(a,o){return[(a-e)/n*i,(t-o)/n*r]},s}function Mk(n,e,t,i,r,s){if(!s)return fme(n,e,t,i,r);var a=Zn(s),o=In(s),l=a*n,u=o*n,c=a/n,f=o/n,m=(o*t-a*e)/n,v=(o*e+a*t)/n;function _(T,M){return T*=i,M*=r,[l*T-u*M+e,t-u*T-l*M]}return _.invert=function(T,M){return[i*(c*T-f*M+m),r*(v-f*T-c*M)]},_}function hme(n){return dme(function(){return n})()}function dme(n){var e,t=150,i=480,r=250,s=0,a=0,o=0,l=0,u=0,c,f=0,m=1,v=1,_=null,T=dk,M=null,S,R,C,P=_k,B=.5,O,V,F,z,k;function H(ne){return F(ne[0]*jn,ne[1]*jn)}function Z(ne){return ne=F.invert(ne[0],ne[1]),ne&&[ne[0]*us,ne[1]*us]}H.stream=function(ne){return z&&k===ne?z:z=ume(cme(c)(T(O(P(k=ne)))))},H.preclip=function(ne){return arguments.length?(T=ne,_=void 0,ae()):T},H.postclip=function(ne){return arguments.length?(P=ne,M=S=R=C=null,ae()):P},H.clipAngle=function(ne){return arguments.length?(T=+ne?qpe(_=ne*jn):(_=null,dk),ae()):_*us},H.clipExtent=function(ne){return arguments.length?(P=ne==null?(M=S=R=C=null,_k):jpe(M=+ne[0][0],S=+ne[0][1],R=+ne[1][0],C=+ne[1][1]),ae()):M==null?null:[[M,S],[R,C]]},H.scale=function(ne){return arguments.length?(t=+ne,$()):t},H.translate=function(ne){return arguments.length?(i=+ne[0],r=+ne[1],$()):[i,r]},H.center=function(ne){return arguments.length?(s=ne[0]%360*jn,a=ne[1]%360*jn,$()):[s*us,a*us]},H.rotate=function(ne){return arguments.length?(o=ne[0]%360*jn,l=ne[1]%360*jn,u=ne.length>2?ne[2]%360*jn:0,$()):[o*us,l*us,u*us]},H.angle=function(ne){return arguments.length?(f=ne%360*jn,$()):f*us},H.reflectX=function(ne){return arguments.length?(m=ne?-1:1,$()):m<0},H.reflectY=function(ne){return arguments.length?(v=ne?-1:1,$()):v<0},H.precision=function(ne){return arguments.length?(O=Tk(V,B=ne*ne),ae()):Wc(B)},H.fitExtent=function(ne,Y){return cK(H,ne,Y)},H.fitSize=function(ne,Y){return ime(H,ne,Y)},H.fitWidth=function(ne,Y){return rme(H,ne,Y)},H.fitHeight=function(ne,Y){return sme(H,ne,Y)};function $(){var ne=Mk(t,0,0,m,v,f).apply(null,e(s,a)),Y=Mk(t,i-ne[0],r-ne[1],m,v,f);return c=rK(o,l,u),V=jC(e,Y),F=jC(c,V),O=Tk(V,B),ae()}function ae(){return z=k=null,H}return function(){return e=n.apply(this,arguments),H.invert=e.invert&&Z,$()}}function Ame(n){return function(e,t){var i=Wc(e*e+t*t),r=n(i),s=In(r),a=Zn(r);return[O0(e*s,i*a),Xc(i&&t*s/i)]}}function GL(n,e){return[n,_pe(Spe((Jo+e)/2))]}GL.invert=function(n,e){return[n,2*IL(xpe(e))-Jo]};function fK(n,e){var t=Zn(e),i=1+Zn(n)*t;return[t*In(n)/i,In(e)/i]}fK.invert=Ame(function(n){return 2*IL(n)});function pme(){return hme(fK).scale(250).clipAngle(142)}function KC(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function mme(n){if(Array.isArray(n))return n}function gme(n){if(Array.isArray(n))return KC(n)}function AA(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function yme(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function vme(n,e,t){return e=I_(e),Cme(n,dK()?Reflect.construct(e,[],I_(n).constructor):e.apply(n,t))}function hK(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function xme(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function pi(n,e){return n.get(AA(n,e))}function N2(n,e,t){hK(n,e),e.set(n,t)}function D2(n,e,t){return n.set(AA(n,e),t),t}function _me(n,e){hK(n,e),e.add(n)}function bme(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,pK(i.key),i)}}function Sme(n,e,t){return bme(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function X5(n,e,t){return(e=pK(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function I_(n){return I_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I_(n)}function Tme(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&ZC(n,e)}function dK(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dK=function(){return!!n})()}function Mme(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Eme(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function wme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cme(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yme(n)}function ZC(n,e){return ZC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},ZC(n,e)}function ox(n,e){return mme(n)||Eme(n,e)||mK(n,e)||wme()}function AK(n){return gme(n)||Mme(n)||mK(n)||Rme()}function Nme(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function pK(n){var e=Nme(n,"string");return typeof e=="symbol"?e:e+""}function mK(n,e){if(n){if(typeof n=="string")return KC(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?KC(n,e):void 0}}var gK=function(e){e instanceof Array?e.forEach(gK):(e.map&&e.map.dispose(),e.dispose())},yK=function(e){e.geometry&&e.geometry.dispose(),e.material&&gK(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(yK)},Ek=function(e){if(e&&e.children)for(;e.children.length;){var t=e.children[0];e.remove(t),yK(t)}};function vK(n,e,t){var i=(90-n)*Math.PI/180,r=(90-e)*Math.PI/180;return{x:t*Math.sin(i)*Math.cos(r),y:t*Math.cos(i),z:t*Math.sin(i)*Math.sin(r)}}function Dme(n){var e=n.x,t=n.y,i=n.z,r=Math.sqrt(e*e+t*t+i*i),s=Math.acos(t/r),a=Math.atan2(i,e);return{lat:90-s*180/Math.PI,lng:90-a*180/Math.PI-(a<-Math.PI/2?360:0),r}}function D4(n){return n*Math.PI/180}var xK=function(e){return 1-(GL(0,(.5-e)*Math.PI)[1]/Math.PI+1)/2},OE=function(e){return Math.max(0,Math.min(1,xK(e)))},wk=function(e){return .5-GL.invert(0,(2*(1-e)-1)*Math.PI)[1]/Math.PI},Pme=function(e){for(var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,r=jc().domain([1,0]).range([t,i]).clamp(!0),s=jc().domain([OE(t),OE(i)]).range([1,0]).clamp(!0),a=function(f){return s(OE(r(f)))},o=e.array,l=0,u=o.length;l<u;l+=2)o[l+1]=a(o[l+1]);e.needsUpdate=!0},Rk=function(e,t,i,r){var s=Math.pow(2,e),a=Math.max(0,Math.min(s-1,Math.floor((i+180)*s/360))),o=(90-r)/180;t&&(o=Math.max(0,Math.min(1,xK(o))));var l=Math.floor(o*s);return[a,l]},JC=function(e,t){for(var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,o=[],l=Math.pow(2,e),u=360/l,c=180/l,f=s===void 0?l-1:s,m=a===void 0?l-1:a,v=i,_=Math.min(l-1,f);v<=_;v++)for(var T=r,M=Math.min(l-1,m);T<=M;T++){var S=T,R=c;if(t){S=T===0?T:wk(T/l)*l;var C=T+1===l?T+1:wk((T+1)/l)*l;R=(C-S)*180/l}var P=-180+(v+.5)*u,B=90-(S*180/l+R/2),O=R;o.push({x:v,y:T,lng:P,lat:B,latLen:O})}return o},Lme=6,Bme=7,Ume=3,Ome=90,Zu=new WeakMap,X2=new WeakMap,IE=new WeakMap,Qy=new WeakMap,p0=new WeakMap,F_=new WeakMap,rd=new WeakMap,P4=new WeakMap,$y=new WeakSet,Ime=function(n){function e(t){var i,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.tileUrl,a=r.minLevel,o=a===void 0?0:a,l=r.maxLevel,u=l===void 0?17:l,c=r.mercatorProjection,f=c===void 0?!0:c;return xme(this,e),i=vme(this,e),_me(i,$y),N2(i,Zu,void 0),N2(i,X2,void 0),N2(i,IE,void 0),N2(i,Qy,void 0),N2(i,p0,{}),N2(i,F_,void 0),N2(i,rd,void 0),N2(i,P4,void 0),X5(i,"minLevel",void 0),X5(i,"maxLevel",void 0),X5(i,"thresholds",AK(new Array(30)).map(function(m,v){return 8/Math.pow(2,v)})),X5(i,"curvatureResolution",5),X5(i,"tileMargin",0),X5(i,"clearTiles",function(){Object.values(pi(p0,i)).forEach(function(m){m.forEach(function(v){v.obj&&(i.remove(v.obj),Ek(v.obj),delete v.obj)})}),D2(p0,i,{})}),D2(Zu,i,t),i.tileUrl=s,D2(X2,i,f),i.minLevel=o,i.maxLevel=u,i.level=0,i.add(D2(P4,i,new ii(new q0(pi(Zu,i)*.99,180,90),new Ia({color:0})))),pi(P4,i).visible=!1,pi(P4,i).material.polygonOffset=!0,pi(P4,i).material.polygonOffsetUnits=3,pi(P4,i).material.polygonOffsetFactor=1,i}return Tme(e,n),Sme(e,[{key:"tileUrl",get:function(){return pi(IE,this)},set:function(i){D2(IE,this,i),this.updatePov(pi(rd,this))}},{key:"level",get:function(){return pi(Qy,this)},set:function(i){var r=this;pi(p0,this)[i]||AA($y,this,Fme).call(this,i);var s=pi(Qy,this);if(D2(Qy,this,i),!(i===s||s===void 0)){if(pi(P4,this).visible=i>0,pi(p0,this)[i].forEach(function(o){return o.obj&&(o.obj.material.depthWrite=!0)}),s<i&&pi(p0,this)[s].forEach(function(o){return o.obj&&(o.obj.material.depthWrite=!1)}),s>i)for(var a=i+1;a<=s;a++)pi(p0,this)[a]&&pi(p0,this)[a].forEach(function(o){o.obj&&(r.remove(o.obj),Ek(o.obj),delete o.obj)});AA($y,this,Ck).call(this)}}},{key:"updatePov",value:function(i){var r=this;if(!(!i||!(i instanceof vh))){D2(rd,this,i);var s;if(D2(F_,this,function(c){if(!c.hullPnts){var f=360/Math.pow(2,r.level),m=c.lng,v=c.lat,_=c.latLen,T=m-f/2,M=m+f/2,S=v-_/2,R=v+_/2;c.hullPnts=[[v,m],[S,T],[R,T],[S,M],[R,M]].map(function(C){var P=ox(C,2),B=P[0],O=P[1];return vK(B,O,pi(Zu,r))}).map(function(C){var P=C.x,B=C.y,O=C.z;return new re(P,B,O)})}return s||(s=new I3,i.updateMatrix(),i.updateMatrixWorld(),s.setFromProjectionMatrix(new Yt().multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse))),c.hullPnts.some(function(C){return s.containsPoint(C.clone().applyMatrix4(r.matrixWorld))})}),this.tileUrl){var a=i.position.clone(),o=a.distanceTo(this.getWorldPosition(new re)),l=(o-pi(Zu,this))/pi(Zu,this),u=this.thresholds.findIndex(function(c){return c&&c<=l});this.level=Math.min(this.maxLevel,Math.max(this.minLevel,u<0?this.thresholds.length:u)),AA($y,this,Ck).call(this)}}}}])}(oo);function Fme(n){var e=this;if(n>Bme){pi(p0,this)[n]=[];return}var t=pi(p0,this)[n]=JC(n,pi(X2,this));t.forEach(function(i){return i.centroid=vK(i.lat,i.lng,pi(Zu,e))}),t.octree=P$().x(function(i){return i.centroid.x}).y(function(i){return i.centroid.y}).z(function(i){return i.centroid.z}).addAll(t)}function Ck(){var n=this;if(!(!this.tileUrl||this.level===void 0||!pi(p0,this).hasOwnProperty(this.level))&&!(!pi(F_,this)&&this.level>Lme)){var e=pi(p0,this)[this.level];if(pi(rd,this)){var t=this.worldToLocal(pi(rd,this).position.clone());if(e.octree){var i,r=this.worldToLocal(pi(rd,this).position.clone()),s=(r.length()-pi(Zu,this))*Ume;e=(i=e.octree).findAllWithinRadius.apply(i,AK(r).concat([s]))}else{var a=Dme(t),o=(a.r/pi(Zu,this)-1)*Ome,l=o/Math.cos(D4(a.lat)),u=[a.lng-l,a.lng+l],c=[a.lat+o,a.lat-o],f=Rk(this.level,pi(X2,this),u[0],c[0]),m=ox(f,2),v=m[0],_=m[1],T=Rk(this.level,pi(X2,this),u[1],c[1]),M=ox(T,2),S=M[0],R=M[1];!e.record&&(e.record={});var C=e.record;if(!C.hasOwnProperty("".concat(Math.round((v+S)/2),"_").concat(Math.round((_+R)/2))))e=JC(this.level,pi(X2,this),v,_,S,R).map(function(F){var z="".concat(F.x,"_").concat(F.y);return C.hasOwnProperty(z)?C[z]:(C[z]=F,e.push(F),F)});else{for(var P=[],B=v;B<=S;B++)for(var O=_;O<=R;O++){var V="".concat(B,"_").concat(O);C.hasOwnProperty(V)||(C[V]=JC(this.level,pi(X2,this),B,O,B,O)[0],e.push(C[V])),P.push(C[V])}e=P}}}e.filter(function(F){return!F.obj}).filter(pi(F_,this)||function(){return!0}).forEach(function(F){var z=F.x,k=F.y,H=F.lng,Z=F.lat,$=F.latLen,ae=360/Math.pow(2,n.level);if(!F.obj){var ne=ae*(1-n.tileMargin),Y=$*(1-n.tileMargin),ee=D4(H),Q=D4(-Z),fe=new ii(new q0(pi(Zu,n),Math.ceil(ne/n.curvatureResolution),Math.ceil(Y/n.curvatureResolution),D4(90-ne/2)+ee,D4(ne),D4(90-Y/2)+Q,D4(Y)),new wu);if(pi(X2,n)){var ge=[Z+$/2,Z-$/2].map(function(Se){return .5-Se/180}),Re=ox(ge,2),Ge=Re[0],We=Re[1];Pme(fe.geometry.attributes.uv,Ge,We)}F.obj=fe}F.loading||(F.loading=!0,new gL().load(n.tileUrl(z,k,n.level),function(Se){var qe=F.obj;qe&&(Se.colorSpace=Os,qe.material.map=Se,qe.material.color=null,qe.material.needsUpdate=!0,n.add(qe)),F.loading=!1}))})}}function zme(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=_K(n,0,r,t,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,u;if(i&&(s=Hme(n,e,s,t)),n.length>80*t){o=1/0,l=1/0;let c=-1/0,f=-1/0;for(let m=t;m<r;m+=t){const v=n[m],_=n[m+1];v<o&&(o=v),_<l&&(l=_),v>c&&(c=v),_>f&&(f=_)}u=Math.max(c-o,f-l),u=u!==0?32767/u:0}return lp(s,a,t,o,l,u,0),a}function _K(n,e,t,i,r){let s;if(r===tge(n,e,t,i)>0)for(let a=e;a<t;a+=i)s=Nk(a/i|0,n[a],n[a+1],s);else for(let a=t-i;a>=e;a-=i)s=Nk(a/i|0,n[a],n[a+1],s);return s&&Yd(s,s.next)&&(cp(s),s=s.next),s}function sh(n,e){if(!n)return n;e||(e=n);let t=n,i;do if(i=!1,!t.steiner&&(Yd(t,t.next)||es(t.prev,t,t.next)===0)){if(cp(t),t=e=t.prev,t===t.next)break;i=!0}else t=t.next;while(i||t!==e);return e}function lp(n,e,t,i,r,s,a){if(!n)return;!a&&s&&Qme(n,i,r,s);let o=n;for(;n.prev!==n.next;){const l=n.prev,u=n.next;if(s?kme(n,i,r,s):Vme(n)){e.push(l.i,n.i,u.i),cp(n),n=u.next,o=u.next;continue}if(n=u,n===o){a?a===1?(n=Gme(sh(n),e),lp(n,e,t,i,r,s,2)):a===2&&qme(n,e,t,i,r,s):lp(sh(n),e,t,i,r,s,1);break}}}function Vme(n){const e=n.prev,t=n,i=n.next;if(es(e,t,i)>=0)return!1;const r=e.x,s=t.x,a=i.x,o=e.y,l=t.y,u=i.y,c=Math.min(r,s,a),f=Math.min(o,l,u),m=Math.max(r,s,a),v=Math.max(o,l,u);let _=i.next;for(;_!==e;){if(_.x>=c&&_.x<=m&&_.y>=f&&_.y<=v&&B9(r,o,s,l,a,u,_.x,_.y)&&es(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function kme(n,e,t,i){const r=n.prev,s=n,a=n.next;if(es(r,s,a)>=0)return!1;const o=r.x,l=s.x,u=a.x,c=r.y,f=s.y,m=a.y,v=Math.min(o,l,u),_=Math.min(c,f,m),T=Math.max(o,l,u),M=Math.max(c,f,m),S=eN(v,_,e,t,i),R=eN(T,M,e,t,i);let C=n.prevZ,P=n.nextZ;for(;C&&C.z>=S&&P&&P.z<=R;){if(C.x>=v&&C.x<=T&&C.y>=_&&C.y<=M&&C!==r&&C!==a&&B9(o,c,l,f,u,m,C.x,C.y)&&es(C.prev,C,C.next)>=0||(C=C.prevZ,P.x>=v&&P.x<=T&&P.y>=_&&P.y<=M&&P!==r&&P!==a&&B9(o,c,l,f,u,m,P.x,P.y)&&es(P.prev,P,P.next)>=0))return!1;P=P.nextZ}for(;C&&C.z>=S;){if(C.x>=v&&C.x<=T&&C.y>=_&&C.y<=M&&C!==r&&C!==a&&B9(o,c,l,f,u,m,C.x,C.y)&&es(C.prev,C,C.next)>=0)return!1;C=C.prevZ}for(;P&&P.z<=R;){if(P.x>=v&&P.x<=T&&P.y>=_&&P.y<=M&&P!==r&&P!==a&&B9(o,c,l,f,u,m,P.x,P.y)&&es(P.prev,P,P.next)>=0)return!1;P=P.nextZ}return!0}function Gme(n,e){let t=n;do{const i=t.prev,r=t.next.next;!Yd(i,r)&&SK(i,t,t.next,r)&&up(i,r)&&up(r,i)&&(e.push(i.i,t.i,r.i),cp(t),cp(t.next),t=n=r),t=t.next}while(t!==n);return sh(t)}function qme(n,e,t,i,r,s){let a=n;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&Zme(a,o)){let l=TK(a,o);a=sh(a,a.next),l=sh(l,l.next),lp(a,e,t,i,r,s,0),lp(l,e,t,i,r,s,0);return}o=o.next}a=a.next}while(a!==n)}function Hme(n,e,t,i){const r=[];for(let s=0,a=e.length;s<a;s++){const o=e[s]*i,l=s<a-1?e[s+1]*i:n.length,u=_K(n,o,l,i,!1);u===u.next&&(u.steiner=!0),r.push(Kme(u))}r.sort(jme);for(let s=0;s<r.length;s++)t=Wme(r[s],t);return t}function jme(n,e){let t=n.x-e.x;if(t===0&&(t=n.y-e.y,t===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),r=(e.next.y-e.y)/(e.next.x-e.x);t=i-r}return t}function Wme(n,e){const t=Xme(n,e);if(!t)return e;const i=TK(t,n);return sh(i,i.next),sh(t,t.next)}function Xme(n,e){let t=e;const i=n.x,r=n.y;let s=-1/0,a;if(Yd(n,t))return t;do{if(Yd(n,t.next))return t.next;if(r<=t.y&&r>=t.next.y&&t.next.y!==t.y){const f=t.x+(r-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(f<=i&&f>s&&(s=f,a=t.x<t.next.x?t:t.next,f===i))return a}t=t.next}while(t!==e);if(!a)return null;const o=a,l=a.x,u=a.y;let c=1/0;t=a;do{if(i>=t.x&&t.x>=l&&i!==t.x&&bK(r<u?i:s,r,l,u,r<u?s:i,r,t.x,t.y)){const f=Math.abs(r-t.y)/(i-t.x);up(t,n)&&(f<c||f===c&&(t.x>a.x||t.x===a.x&&Yme(a,t)))&&(a=t,c=f)}t=t.next}while(t!==o);return a}function Yme(n,e){return es(n.prev,n,e.prev)<0&&es(e.next,n,n.next)<0}function Qme(n,e,t,i){let r=n;do r.z===0&&(r.z=eN(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,$me(r)}function $me(n){let e,t=1;do{let i=n,r;n=null;let s=null;for(e=0;i;){e++;let a=i,o=0;for(let u=0;u<t&&(o++,a=a.nextZ,!!a);u++);let l=t;for(;o>0||l>0&&a;)o!==0&&(l===0||!a||i.z<=a.z)?(r=i,i=i.nextZ,o--):(r=a,a=a.nextZ,l--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;i=a}s.nextZ=null,t*=2}while(e>1);return n}function eN(n,e,t,i,r){return n=(n-t)*r|0,e=(e-i)*r|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function Kme(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function bK(n,e,t,i,r,s,a,o){return(r-a)*(e-o)>=(n-a)*(s-o)&&(n-a)*(i-o)>=(t-a)*(e-o)&&(t-a)*(s-o)>=(r-a)*(i-o)}function B9(n,e,t,i,r,s,a,o){return!(n===a&&e===o)&&bK(n,e,t,i,r,s,a,o)}function Zme(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!Jme(n,e)&&(up(n,e)&&up(e,n)&&ege(n,e)&&(es(n.prev,n,e.prev)||es(n,e.prev,e))||Yd(n,e)&&es(n.prev,n,n.next)>0&&es(e.prev,e,e.next)>0)}function es(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Yd(n,e){return n.x===e.x&&n.y===e.y}function SK(n,e,t,i){const r=Zy(es(n,e,t)),s=Zy(es(n,e,i)),a=Zy(es(t,i,n)),o=Zy(es(t,i,e));return!!(r!==s&&a!==o||r===0&&Ky(n,t,e)||s===0&&Ky(n,i,e)||a===0&&Ky(t,n,i)||o===0&&Ky(t,e,i))}function Ky(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Zy(n){return n>0?1:n<0?-1:0}function Jme(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&SK(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function up(n,e){return es(n.prev,n,n.next)<0?es(n,e,n.next)>=0&&es(n,n.prev,e)>=0:es(n,e,n.prev)<0||es(n,n.next,e)<0}function ege(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next;while(t!==n);return i}function TK(n,e){const t=tN(n.i,n.x,n.y),i=tN(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function Nk(n,e,t,i){const r=tN(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function cp(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function tN(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function tge(n,e,t,i){let r=0;for(let s=e,a=t-i;s<t;s+=i)r+=(n[a]-n[s])*(n[s+1]+n[a+1]),a=s;return r}function z_(n){const e=[],t=[],i=n[0][0].length;let r=0,s=0;for(const a of n){for(const o of a)for(let l=0;l<i;l++)e.push(o[l]);s&&(r+=s,t.push(r)),s=a.length}return{vertices:e,holes:t,dimensions:i}}function nN(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function nge(n){if(Array.isArray(n))return n}function ige(n){if(Array.isArray(n))return nN(n)}function rge(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function sge(n,e,t){return e=V_(e),Age(n,MK()?Reflect.construct(e,[],V_(n).constructor):e.apply(n,t))}function age(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function oge(n,e,t){return Object.defineProperty(n,"prototype",{writable:!1}),n}function lge(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(!t){if(Array.isArray(n)||(t=qL(n))||e){t&&(n=t);var i=0,r=function(){};return{s:r,n:function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}},e:function(l){throw l},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,a=!0,o=!1;return{s:function(){t=t.call(n)},n:function(){var l=t.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{a||t.return==null||t.return()}finally{if(o)throw s}}}}function V_(n){return V_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V_(n)}function uge(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&iN(n,e)}function MK(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MK=function(){return!!n})()}function cge(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function fge(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function hge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Age(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rge(n)}function iN(n,e){return iN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},iN(n,e)}function e9(n,e){return nge(n)||fge(n,e)||qL(n,e)||hge()}function pge(n){return ige(n)||cge(n)||qL(n)||dge()}function qL(n,e){if(n){if(typeof n=="string")return nN(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?nN(n,e):void 0}}var Dk=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,i=[],r=null;return e.forEach(function(s){if(r){var a=C3(s,r)*180/Math.PI;if(a>t)for(var o=zL(r,s),l=r.length>2||s.length>2?ap(r[2]||0,s[2]||0):null,u=l?function(m){return[].concat(pge(o(m)),[l(m)])}:o,c=1/Math.ceil(a/t),f=c;f<1;)i.push(u(f)),f+=c}i.push(r=s)}),i},rN=typeof window<"u"&&window.THREE?window.THREE:{BufferGeometry:bn,Float32BufferAttribute:Qt},mge=new rN.BufferGeometry().setAttribute?"setAttribute":"addAttribute",EK=function(n){function e(t){var i,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:5;age(this,e),i=sge(this,e),i.type="GeoJsonGeometry",i.parameters={geoJson:t,radius:r,resolution:s};var a=({Point:c,MultiPoint:f,LineString:m,MultiLineString:v,Polygon:_,MultiPolygon:T}[t.type]||function(){return[]})(t.coordinates,r),o=[],l=[],u=0;a.forEach(function(M){var S=o.length;t9({indices:o,vertices:l},M),i.addGroup(S,o.length-S,u++)}),o.length&&i.setIndex(o),l.length&&i[mge]("position",new rN.Float32BufferAttribute(l,3));function c(M,S){var R=FE(M[1],M[0],S+(M[2]||0)),C=[];return[{vertices:R,indices:C}]}function f(M,S){var R={vertices:[],indices:[]};return M.map(function(C){return c(C,S)}).forEach(function(C){var P=e9(C,1),B=P[0];t9(R,B)}),[R]}function m(M,S){for(var R=Dk(M,s).map(function(F){var z=e9(F,3),k=z[0],H=z[1],Z=z[2],$=Z===void 0?0:Z;return FE(H,k,S+$)}),C=z_([R]),P=C.vertices,B=Math.round(P.length/3),O=[],V=1;V<B;V++)O.push(V-1,V);return[{vertices:P,indices:O}]}function v(M,S){var R={vertices:[],indices:[]};return M.map(function(C){return m(C,S)}).forEach(function(C){var P=e9(C,1),B=P[0];t9(R,B)}),[R]}function _(M,S){for(var R=M.map(function(ne){return Dk(ne,s).map(function(Y){var ee=e9(Y,3),Q=ee[0],fe=ee[1],ge=ee[2],Re=ge===void 0?0:ge;return FE(fe,Q,S+Re)})}),C=z_(R),P=C.vertices,B=C.holes,O=B[0]||1/0,V=P.slice(0,O*3),F=P.slice(O*3),z=new Set(B),k=Math.round(P.length/3),H=[],Z=[],$=1;$<k;$++)z.has($)||($<O?H.push($-1,$):Z.push($-1-O,$-O));var ae=[{indices:H,vertices:V}];return B.length&&ae.push({indices:Z,vertices:F}),ae}function T(M,S){var R={vertices:[],indices:[]},C={vertices:[],indices:[]};M.map(function(B){return _(B,S)}).forEach(function(B){var O=e9(B,2),V=O[0],F=O[1];t9(R,V),F&&t9(C,F)});var P=[R];return C.vertices.length&&P.push(C),P}return i}return uge(e,n),oge(e)}(rN.BufferGeometry);function t9(n,e){var t=Math.round(n.vertices.length/3);Pk(n.vertices,e.vertices),Pk(n.indices,e.indices.map(function(i){return i+t}))}function Pk(n,e){var t=lge(e),i;try{for(t.s();!(i=t.n()).done;){var r=i.value;n.push(r)}}catch(s){t.e(s)}finally{t.f()}}function FE(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=(90-n)*Math.PI/180,r=(90-e)*Math.PI/180;return[t*Math.sin(i)*Math.cos(r),t*Math.cos(i),t*Math.sin(i)*Math.sin(r)]}function gge(n,e,t=!0){if(!e||!e.isReady)throw new Error("BufferGeometryUtils: Initialized MikkTSpace library required.");if(!n.hasAttribute("position")||!n.hasAttribute("normal")||!n.hasAttribute("uv"))throw new Error('BufferGeometryUtils: Tangents require "position", "normal", and "uv" attributes.');function i(a){if(a.normalized||a.isInterleavedBufferAttribute){const o=new Float32Array(a.count*a.itemSize);for(let l=0,u=0;l<a.count;l++)o[u++]=a.getX(l),o[u++]=a.getY(l),a.itemSize>2&&(o[u++]=a.getZ(l));return o}return a.array instanceof Float32Array?a.array:new Float32Array(a.array)}const r=n.index?n.toNonIndexed():n,s=e.generateTangents(i(r.attributes.position),i(r.attributes.normal),i(r.attributes.uv));if(t)for(let a=3;a<s.length;a+=4)s[a]*=-1;return r.setAttribute("tangent",new di(s,4)),n!==r&&n.copy(r),n}function yge(n,e=!1){const t=n[0].index!==null,i=new Set(Object.keys(n[0].attributes)),r=new Set(Object.keys(n[0].morphAttributes)),s={},a={},o=n[0].morphTargetsRelative,l=new bn;let u=0;for(let c=0;c<n.length;++c){const f=n[c];let m=0;if(t!==(f.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(const v in f.attributes){if(!i.has(v))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+'. All geometries must have compatible attributes; make sure "'+v+'" attribute exists among all geometries, or in none of them.'),null;s[v]===void 0&&(s[v]=[]),s[v].push(f.attributes[v]),m++}if(m!==i.size)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". Make sure all geometries have the same number of attributes."),null;if(o!==f.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(const v in f.morphAttributes){if(!r.has(v))return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+".  .morphAttributes must be consistent throughout all geometries."),null;a[v]===void 0&&(a[v]=[]),a[v].push(f.morphAttributes[v])}if(e){let v;if(t)v=f.index.count;else if(f.attributes.position!==void 0)v=f.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed with geometry at index "+c+". The geometry must have either an index or a position attribute"),null;l.addGroup(u,v,c),u+=v}}if(t){let c=0;const f=[];for(let m=0;m<n.length;++m){const v=n[m].index;for(let _=0;_<v.count;++_)f.push(v.getX(_)+c);c+=n[m].attributes.position.count}l.setIndex(f)}for(const c in s){const f=sN(s[c]);if(!f)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+c+" attribute."),null;l.setAttribute(c,f)}for(const c in a){const f=a[c][0].length;if(f===0)break;l.morphAttributes=l.morphAttributes||{},l.morphAttributes[c]=[];for(let m=0;m<f;++m){const v=[];for(let T=0;T<a[c].length;++T)v.push(a[c][T][m]);const _=sN(v);if(!_)return console.error("THREE.BufferGeometryUtils: .mergeGeometries() failed while trying to merge the "+c+" morphAttribute."),null;l.morphAttributes[c].push(_)}}return l}function sN(n){let e,t,i,r=-1,s=0;for(let u=0;u<n.length;++u){const c=n[u];if(e===void 0&&(e=c.array.constructor),e!==c.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(t===void 0&&(t=c.itemSize),t!==c.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(i===void 0&&(i=c.normalized),i!==c.normalized)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;if(r===-1&&(r=c.gpuType),r!==c.gpuType)return console.error("THREE.BufferGeometryUtils: .mergeAttributes() failed. BufferAttribute.gpuType must be consistent across matching attributes."),null;s+=c.count*t}const a=new e(s),o=new di(a,t,i);let l=0;for(let u=0;u<n.length;++u){const c=n[u];if(c.isInterleavedBufferAttribute){const f=l/t;for(let m=0,v=c.count;m<v;m++)for(let _=0;_<t;_++){const T=c.getComponent(m,_);o.setComponent(m+f,_,T)}}else a.set(c.array,l);l+=c.count*t}return r!==void 0&&(o.gpuType=r),o}function vge(n){return n.isInstancedInterleavedBufferAttribute||n.isInterleavedBufferAttribute?k_(n):n.isInstancedBufferAttribute?new al().copy(n):new di().copy(n)}function xge(n){let e,t=0,i=0;for(let u=0,c=n.length;u<c;++u){const f=n[u];if(e===void 0&&(e=f.array.constructor),e!==f.array.constructor)return console.error("AttributeBuffers of different types cannot be interleaved"),null;t+=f.array.length,i+=f.itemSize}const r=new b8(new e(t),i);let s=0;const a=[],o=["getX","getY","getZ","getW"],l=["setX","setY","setZ","setW"];for(let u=0,c=n.length;u<c;u++){const f=n[u],m=f.itemSize,v=f.count,_=new Lo(r,m,s,f.normalized);a.push(_),s+=m;for(let T=0;T<v;T++)for(let M=0;M<m;M++)_[l[M]](T,f[o[M]](T))}return a}function k_(n){const e=n.data.array.constructor,t=n.count,i=n.itemSize,r=n.normalized,s=new e(t*i);let a;n.isInstancedInterleavedBufferAttribute?a=new al(s,i,r,n.meshPerAttribute):a=new di(s,i,r);for(let o=0;o<t;o++)a.setX(o,n.getX(o)),i>=2&&a.setY(o,n.getY(o)),i>=3&&a.setZ(o,n.getZ(o)),i>=4&&a.setW(o,n.getW(o));return a}function _ge(n){const e=n.attributes,t=n.morphTargets,i=new Map;for(const r in e){const s=e[r];s.isInterleavedBufferAttribute&&(i.has(s)||i.set(s,k_(s)),e[r]=i.get(s))}for(const r in t){const s=t[r];s.isInterleavedBufferAttribute&&(i.has(s)||i.set(s,k_(s)),t[r]=i.get(s))}}function bge(n){let e=0;for(const i in n.attributes){const r=n.getAttribute(i);e+=r.count*r.itemSize*r.array.BYTES_PER_ELEMENT}const t=n.getIndex();return e+=t?t.count*t.itemSize*t.array.BYTES_PER_ELEMENT:0,e}function Sge(n,e=1e-4){e=Math.max(e,Number.EPSILON);const t={},i=n.getIndex(),r=n.getAttribute("position"),s=i?i.count:r.count;let a=0;const o=Object.keys(n.attributes),l={},u={},c=[],f=["getX","getY","getZ","getW"],m=["setX","setY","setZ","setW"];for(let R=0,C=o.length;R<C;R++){const P=o[R],B=n.attributes[P];l[P]=new B.constructor(new B.array.constructor(B.count*B.itemSize),B.itemSize,B.normalized);const O=n.morphAttributes[P];O&&(u[P]||(u[P]=[]),O.forEach((V,F)=>{const z=new V.array.constructor(V.count*V.itemSize);u[P][F]=new V.constructor(z,V.itemSize,V.normalized)}))}const v=e*.5,_=Math.log10(1/e),T=Math.pow(10,_),M=v*T;for(let R=0;R<s;R++){const C=i?i.getX(R):R;let P="";for(let B=0,O=o.length;B<O;B++){const V=o[B],F=n.getAttribute(V),z=F.itemSize;for(let k=0;k<z;k++)P+=`${~~(F[f[k]](C)*T+M)},`}if(P in t)c.push(t[P]);else{for(let B=0,O=o.length;B<O;B++){const V=o[B],F=n.getAttribute(V),z=n.morphAttributes[V],k=F.itemSize,H=l[V],Z=u[V];for(let $=0;$<k;$++){const ae=f[$],ne=m[$];if(H[ne](a,F[ae](C)),z)for(let Y=0,ee=z.length;Y<ee;Y++)Z[Y][ne](a,z[Y][ae](C))}}t[P]=a,c.push(a),a++}}const S=n.clone();for(const R in n.attributes){const C=l[R];if(S.setAttribute(R,new C.constructor(C.array.slice(0,a*C.itemSize),C.itemSize,C.normalized)),R in u)for(let P=0;P<u[R].length;P++){const B=u[R][P];S.morphAttributes[R][P]=new B.constructor(B.array.slice(0,a*B.itemSize),B.itemSize,B.normalized)}}return S.setIndex(c),S}function Tge(n,e){if(e===vQ)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===gC||e===xQ){let t=n.getIndex();if(t===null){const a=[],o=n.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)a.push(l);n.setIndex(a),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(e===gC)for(let a=1;a<=i;a++)r.push(t.getX(0)),r.push(t.getX(a)),r.push(t.getX(a+1));else for(let a=0;a<i;a++)a%2===0?(r.push(t.getX(a)),r.push(t.getX(a+1)),r.push(t.getX(a+2))):(r.push(t.getX(a+2)),r.push(t.getX(a+1)),r.push(t.getX(a)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}function Mge(n){const e=new re,t=new re,i=new re,r=new re,s=new re,a=new re,o=new re,l=new re,u=new re;function c(fe,ge,Re,Ge,We,Se,qe,St){e.fromBufferAttribute(ge,We),t.fromBufferAttribute(ge,Se),i.fromBufferAttribute(ge,qe);const at=fe.morphTargetInfluences;if(Re&&at){o.set(0,0,0),l.set(0,0,0),u.set(0,0,0);for(let Ct=0,Jt=Re.length;Ct<Jt;Ct++){const It=at[Ct],Sn=Re[Ct];It!==0&&(r.fromBufferAttribute(Sn,We),s.fromBufferAttribute(Sn,Se),a.fromBufferAttribute(Sn,qe),Ge?(o.addScaledVector(r,It),l.addScaledVector(s,It),u.addScaledVector(a,It)):(o.addScaledVector(r.sub(e),It),l.addScaledVector(s.sub(t),It),u.addScaledVector(a.sub(i),It)))}e.add(o),t.add(l),i.add(u)}fe.isSkinnedMesh&&(fe.applyBoneTransform(We,e),fe.applyBoneTransform(Se,t),fe.applyBoneTransform(qe,i)),St[We*3+0]=e.x,St[We*3+1]=e.y,St[We*3+2]=e.z,St[Se*3+0]=t.x,St[Se*3+1]=t.y,St[Se*3+2]=t.z,St[qe*3+0]=i.x,St[qe*3+1]=i.y,St[qe*3+2]=i.z}const f=n.geometry,m=n.material;let v,_,T;const M=f.index,S=f.attributes.position,R=f.morphAttributes.position,C=f.morphTargetsRelative,P=f.attributes.normal,B=f.morphAttributes.position,O=f.groups,V=f.drawRange;let F,z,k,H,Z,$,ae;const ne=new Float32Array(S.count*S.itemSize),Y=new Float32Array(P.count*P.itemSize);if(M!==null)if(Array.isArray(m))for(F=0,k=O.length;F<k;F++)for(Z=O[F],$=Math.max(Z.start,V.start),ae=Math.min(Z.start+Z.count,V.start+V.count),z=$,H=ae;z<H;z+=3)v=M.getX(z),_=M.getX(z+1),T=M.getX(z+2),c(n,S,R,C,v,_,T,ne),c(n,P,B,C,v,_,T,Y);else for($=Math.max(0,V.start),ae=Math.min(M.count,V.start+V.count),F=$,k=ae;F<k;F+=3)v=M.getX(F),_=M.getX(F+1),T=M.getX(F+2),c(n,S,R,C,v,_,T,ne),c(n,P,B,C,v,_,T,Y);else if(Array.isArray(m))for(F=0,k=O.length;F<k;F++)for(Z=O[F],$=Math.max(Z.start,V.start),ae=Math.min(Z.start+Z.count,V.start+V.count),z=$,H=ae;z<H;z+=3)v=z,_=z+1,T=z+2,c(n,S,R,C,v,_,T,ne),c(n,P,B,C,v,_,T,Y);else for($=Math.max(0,V.start),ae=Math.min(S.count,V.start+V.count),F=$,k=ae;F<k;F+=3)v=F,_=F+1,T=F+2,c(n,S,R,C,v,_,T,ne),c(n,P,B,C,v,_,T,Y);const ee=new Qt(ne,3),Q=new Qt(Y,3);return{positionAttribute:S,normalAttribute:P,morphedPositionAttribute:ee,morphedNormalAttribute:Q}}function Ege(n){if(n.groups.length===0)return console.warn("THREE.BufferGeometryUtils.mergeGroups(): No groups are defined. Nothing to merge."),n;let e=n.groups;if(e=e.sort((a,o)=>a.materialIndex!==o.materialIndex?a.materialIndex-o.materialIndex:a.start-o.start),n.getIndex()===null){const a=n.getAttribute("position"),o=[];for(let l=0;l<a.count;l+=3)o.push(l,l+1,l+2);n.setIndex(o)}const t=n.getIndex(),i=[];for(let a=0;a<e.length;a++){const o=e[a],l=o.start,u=l+o.count;for(let c=l;c<u;c++)i.push(t.getX(c))}n.dispose(),n.setIndex(i);let r=0;for(let a=0;a<e.length;a++){const o=e[a];o.start=r,r+=o.count}let s=e[0];n.groups=[s];for(let a=1;a<e.length;a++){const o=e[a];s.materialIndex===o.materialIndex?s.count+=o.count:(s=o,n.groups.push(s))}return n}function wge(n,e=Math.PI/3){const t=Math.cos(e),i=(1+1e-10)*100,r=[new re,new re,new re],s=new re,a=new re,o=new re,l=new re;function u(T){const M=~~(T.x*i),S=~~(T.y*i),R=~~(T.z*i);return`${M},${S},${R}`}const c=n.index?n.toNonIndexed():n,f=c.attributes.position,m={};for(let T=0,M=f.count/3;T<M;T++){const S=3*T,R=r[0].fromBufferAttribute(f,S+0),C=r[1].fromBufferAttribute(f,S+1),P=r[2].fromBufferAttribute(f,S+2);s.subVectors(P,C),a.subVectors(R,C);const B=new re().crossVectors(s,a).normalize();for(let O=0;O<3;O++){const V=r[O],F=u(V);F in m||(m[F]=[]),m[F].push(B)}}const v=new Float32Array(f.count*3),_=new di(v,3,!1);for(let T=0,M=f.count/3;T<M;T++){const S=3*T,R=r[0].fromBufferAttribute(f,S+0),C=r[1].fromBufferAttribute(f,S+1),P=r[2].fromBufferAttribute(f,S+2);s.subVectors(P,C),a.subVectors(R,C),o.crossVectors(s,a).normalize();for(let B=0;B<3;B++){const O=r[B],V=u(O),F=m[V];l.set(0,0,0);for(let z=0,k=F.length;z<k;z++){const H=F[z];o.dot(H)>t&&l.add(H)}l.normalize(),_.setXYZ(S+B,l.x,l.y,l.z)}}return c.setAttribute("normal",_),c}const HL=Object.freeze(Object.defineProperty({__proto__:null,computeMikkTSpaceTangents:gge,computeMorphedAttributes:Mge,deepCloneAttribute:vge,deinterleaveAttribute:k_,deinterleaveGeometry:_ge,estimateBytesUsed:bge,interleaveAttributes:xge,mergeAttributes:sN,mergeGeometries:yge,mergeGroups:Ege,mergeVertices:Sge,toCreasedNormals:wge,toTrianglesDrawMode:Tge},Symbol.toStringTag,{value:"Module"}));var yt=function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}};function G_(n){"@babel/helpers - typeof";return G_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G_(n)}var Rge=/^\s+/,Cge=/\s+$/;function gn(n,e){if(n=n||"",e=e||{},n instanceof gn)return n;if(!(this instanceof gn))return new gn(n,e);var t=Nge(n);this._originalInput=n,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||t.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}gn.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,i,r,s,a,o;return t=e.r/255,i=e.g/255,r=e.b/255,t<=.03928?s=t/12.92:s=Math.pow((t+.055)/1.055,2.4),i<=.03928?a=i/12.92:a=Math.pow((i+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),.2126*s+.7152*a+.0722*o},setAlpha:function(e){return this._a=wK(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Bk(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Bk(this._r,this._g,this._b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+i+"%, "+r+"%)":"hsva("+t+", "+i+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=Lk(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Lk(this._r,this._g,this._b),t=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+i+"%, "+r+"%)":"hsla("+t+", "+i+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return Uk(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Bge(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Gr(this._r,255)*100)+"%",g:Math.round(Gr(this._g,255)*100)+"%",b:Math.round(Gr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Gr(this._r,255)*100)+"%, "+Math.round(Gr(this._g,255)*100)+"%, "+Math.round(Gr(this._b,255)*100)+"%)":"rgba("+Math.round(Gr(this._r,255)*100)+"%, "+Math.round(Gr(this._g,255)*100)+"%, "+Math.round(Gr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Wge[Uk(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+Ok(this._r,this._g,this._b,this._a),i=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var s=gn(e);i="#"+Ok(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+i+")"},toString:function(e){var t=!!e;e=e||this._format;var i=!1,r=this._a<1&&this._a>=0,s=!t&&r&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return gn(this.toString())},_applyModification:function(e,t){var i=e.apply(null,[this].concat([].slice.call(t)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(Fge,arguments)},brighten:function(){return this._applyModification(zge,arguments)},darken:function(){return this._applyModification(Vge,arguments)},desaturate:function(){return this._applyModification(Uge,arguments)},saturate:function(){return this._applyModification(Oge,arguments)},greyscale:function(){return this._applyModification(Ige,arguments)},spin:function(){return this._applyModification(kge,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(Hge,arguments)},complement:function(){return this._applyCombination(Gge,arguments)},monochromatic:function(){return this._applyCombination(jge,arguments)},splitcomplement:function(){return this._applyCombination(qge,arguments)},triad:function(){return this._applyCombination(Ik,[3])},tetrad:function(){return this._applyCombination(Ik,[4])}};gn.fromRatio=function(n,e){if(G_(n)=="object"){var t={};for(var i in n)n.hasOwnProperty(i)&&(i==="a"?t[i]=n[i]:t[i]=U9(n[i]));n=t}return gn(n,e)};function Nge(n){var e={r:0,g:0,b:0},t=1,i=null,r=null,s=null,a=!1,o=!1;return typeof n=="string"&&(n=$ge(n)),G_(n)=="object"&&(uc(n.r)&&uc(n.g)&&uc(n.b)?(e=Dge(n.r,n.g,n.b),a=!0,o=String(n.r).substr(-1)==="%"?"prgb":"rgb"):uc(n.h)&&uc(n.s)&&uc(n.v)?(i=U9(n.s),r=U9(n.v),e=Lge(n.h,i,r),a=!0,o="hsv"):uc(n.h)&&uc(n.s)&&uc(n.l)&&(i=U9(n.s),s=U9(n.l),e=Pge(n.h,i,s),a=!0,o="hsl"),n.hasOwnProperty("a")&&(t=n.a)),t=wK(t),{ok:a,format:n.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}function Dge(n,e,t){return{r:Gr(n,255)*255,g:Gr(e,255)*255,b:Gr(t,255)*255}}function Lk(n,e,t){n=Gr(n,255),e=Gr(e,255),t=Gr(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),s,a,o=(i+r)/2;if(i==r)s=a=0;else{var l=i-r;switch(a=o>.5?l/(2-i-r):l/(i+r),i){case n:s=(e-t)/l+(e<t?6:0);break;case e:s=(t-n)/l+2;break;case t:s=(n-e)/l+4;break}s/=6}return{h:s,s:a,l:o}}function Pge(n,e,t){var i,r,s;n=Gr(n,360),e=Gr(e,100),t=Gr(t,100);function a(u,c,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?u+(c-u)*6*f:f<1/2?c:f<2/3?u+(c-u)*(2/3-f)*6:u}if(e===0)i=r=s=t;else{var o=t<.5?t*(1+e):t+e-t*e,l=2*t-o;i=a(l,o,n+1/3),r=a(l,o,n),s=a(l,o,n-1/3)}return{r:i*255,g:r*255,b:s*255}}function Bk(n,e,t){n=Gr(n,255),e=Gr(e,255),t=Gr(t,255);var i=Math.max(n,e,t),r=Math.min(n,e,t),s,a,o=i,l=i-r;if(a=i===0?0:l/i,i==r)s=0;else{switch(i){case n:s=(e-t)/l+(e<t?6:0);break;case e:s=(t-n)/l+2;break;case t:s=(n-e)/l+4;break}s/=6}return{h:s,s:a,v:o}}function Lge(n,e,t){n=Gr(n,360)*6,e=Gr(e,100),t=Gr(t,100);var i=Math.floor(n),r=n-i,s=t*(1-e),a=t*(1-r*e),o=t*(1-(1-r)*e),l=i%6,u=[t,a,s,s,o,t][l],c=[o,t,t,a,s,s][l],f=[s,s,o,t,t,a][l];return{r:u*255,g:c*255,b:f*255}}function Uk(n,e,t,i){var r=[gu(Math.round(n).toString(16)),gu(Math.round(e).toString(16)),gu(Math.round(t).toString(16))];return i&&r[0].charAt(0)==r[0].charAt(1)&&r[1].charAt(0)==r[1].charAt(1)&&r[2].charAt(0)==r[2].charAt(1)?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function Bge(n,e,t,i,r){var s=[gu(Math.round(n).toString(16)),gu(Math.round(e).toString(16)),gu(Math.round(t).toString(16)),gu(RK(i))];return r&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Ok(n,e,t,i){var r=[gu(RK(i)),gu(Math.round(n).toString(16)),gu(Math.round(e).toString(16)),gu(Math.round(t).toString(16))];return r.join("")}gn.equals=function(n,e){return!n||!e?!1:gn(n).toRgbString()==gn(e).toRgbString()};gn.random=function(){return gn.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Uge(n,e){e=e===0?0:e||10;var t=gn(n).toHsl();return t.s-=e/100,t.s=RS(t.s),gn(t)}function Oge(n,e){e=e===0?0:e||10;var t=gn(n).toHsl();return t.s+=e/100,t.s=RS(t.s),gn(t)}function Ige(n){return gn(n).desaturate(100)}function Fge(n,e){e=e===0?0:e||10;var t=gn(n).toHsl();return t.l+=e/100,t.l=RS(t.l),gn(t)}function zge(n,e){e=e===0?0:e||10;var t=gn(n).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),gn(t)}function Vge(n,e){e=e===0?0:e||10;var t=gn(n).toHsl();return t.l-=e/100,t.l=RS(t.l),gn(t)}function kge(n,e){var t=gn(n).toHsl(),i=(t.h+e)%360;return t.h=i<0?360+i:i,gn(t)}function Gge(n){var e=gn(n).toHsl();return e.h=(e.h+180)%360,gn(e)}function Ik(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var t=gn(n).toHsl(),i=[gn(n)],r=360/e,s=1;s<e;s++)i.push(gn({h:(t.h+s*r)%360,s:t.s,l:t.l}));return i}function qge(n){var e=gn(n).toHsl(),t=e.h;return[gn(n),gn({h:(t+72)%360,s:e.s,l:e.l}),gn({h:(t+216)%360,s:e.s,l:e.l})]}function Hge(n,e,t){e=e||6,t=t||30;var i=gn(n).toHsl(),r=360/t,s=[gn(n)];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,s.push(gn(i));return s}function jge(n,e){e=e||6;for(var t=gn(n).toHsv(),i=t.h,r=t.s,s=t.v,a=[],o=1/e;e--;)a.push(gn({h:i,s:r,v:s})),s=(s+o)%1;return a}gn.mix=function(n,e,t){t=t===0?0:t||50;var i=gn(n).toRgb(),r=gn(e).toRgb(),s=t/100,a={r:(r.r-i.r)*s+i.r,g:(r.g-i.g)*s+i.g,b:(r.b-i.b)*s+i.b,a:(r.a-i.a)*s+i.a};return gn(a)};gn.readability=function(n,e){var t=gn(n),i=gn(e);return(Math.max(t.getLuminance(),i.getLuminance())+.05)/(Math.min(t.getLuminance(),i.getLuminance())+.05)};gn.isReadable=function(n,e,t){var i=gn.readability(n,e),r,s;switch(s=!1,r=Kge(t),r.level+r.size){case"AAsmall":case"AAAlarge":s=i>=4.5;break;case"AAlarge":s=i>=3;break;case"AAAsmall":s=i>=7;break}return s};gn.mostReadable=function(n,e,t){var i=null,r=0,s,a,o,l;t=t||{},a=t.includeFallbackColors,o=t.level,l=t.size;for(var u=0;u<e.length;u++)s=gn.readability(n,e[u]),s>r&&(r=s,i=gn(e[u]));return gn.isReadable(n,i,{level:o,size:l})||!a?i:(t.includeFallbackColors=!1,gn.mostReadable(n,["#fff","#000"],t))};var aN=gn.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Wge=gn.hexNames=Xge(aN);function Xge(n){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function wK(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function Gr(n,e){Yge(n)&&(n="100%");var t=Qge(n);return n=Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function RS(n){return Math.min(1,Math.max(0,n))}function Nl(n){return parseInt(n,16)}function Yge(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function Qge(n){return typeof n=="string"&&n.indexOf("%")!=-1}function gu(n){return n.length==1?"0"+n:""+n}function U9(n){return n<=1&&(n=n*100+"%"),n}function RK(n){return Math.round(parseFloat(n)*255).toString(16)}function Fk(n){return Nl(n)/255}var lu=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",t="(?:"+e+")|(?:"+n+")",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+r),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+r),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+r),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function uc(n){return!!lu.CSS_UNIT.exec(n)}function $ge(n){n=n.replace(Rge,"").replace(Cge,"").toLowerCase();var e=!1;if(aN[n])n=aN[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=lu.rgb.exec(n))?{r:t[1],g:t[2],b:t[3]}:(t=lu.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=lu.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=lu.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=lu.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=lu.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=lu.hex8.exec(n))?{r:Nl(t[1]),g:Nl(t[2]),b:Nl(t[3]),a:Fk(t[4]),format:e?"name":"hex8"}:(t=lu.hex6.exec(n))?{r:Nl(t[1]),g:Nl(t[2]),b:Nl(t[3]),format:e?"name":"hex"}:(t=lu.hex4.exec(n))?{r:Nl(t[1]+""+t[1]),g:Nl(t[2]+""+t[2]),b:Nl(t[3]+""+t[3]),a:Fk(t[4]+""+t[4]),format:e?"name":"hex8"}:(t=lu.hex3.exec(n))?{r:Nl(t[1]+""+t[1]),g:Nl(t[2]+""+t[2]),b:Nl(t[3]+""+t[3]),format:e?"name":"hex"}:!1}function Kge(n){var e,t;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),t=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:e,size:t}}function oN(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function Zge(n){if(Array.isArray(n))return n}function Jge(n){if(Array.isArray(n))return oN(n)}function CK(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function eye(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tye(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function eo(n,e){return n.get(CK(n,e))}function Y5(n,e,t){eye(n,e),e.set(n,t)}function Jy(n,e,t){return n.set(CK(n,e),t),t}function nye(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,fye(i.key),i)}}function iye(n,e,t){return e&&nye(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function rye(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function sye(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function aye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lye(n,e){return Zge(n)||sye(n,e)||NK(n,e)||aye()}function uye(n){return Jge(n)||rye(n)||NK(n)||oye()}function cye(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function fye(n){var e=cye(n,"string");return typeof e=="symbol"?e:e+""}function NK(n,e){if(n){if(typeof n=="string")return oN(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?oN(n,e):void 0}}var Q5=new WeakMap,n9=new WeakMap,$5=new WeakMap,zE=new WeakMap,VE=new WeakMap,kE=new WeakMap,hye=function(){function n(){tye(this,n),Y5(this,Q5,new Map),Y5(this,n9,new Map),Y5(this,$5,function(e){return e}),Y5(this,zE,function(){return{}}),Y5(this,VE,function(){}),Y5(this,kE,function(){})}return iye(n,[{key:"getObj",value:function(t){return eo(Q5,this).get(eo($5,this).call(this,t))}},{key:"getData",value:function(t){return eo(n9,this).get(t)}},{key:"entries",value:function(){return uye(eo(n9,this).entries()).map(function(t){var i=lye(t,2),r=i[0],s=i[1];return[s,r]})}},{key:"id",value:function(t){return Jy($5,this,yt(t)),this}},{key:"onCreateObj",value:function(t){return Jy(zE,this,t),this}},{key:"onUpdateObj",value:function(t){return Jy(VE,this,t),this}},{key:"onRemoveObj",value:function(t){return Jy(kE,this,t),this}},{key:"digest",value:function(t){var i=this;t.filter(function(s){return!eo(Q5,i).has(eo($5,i).call(i,s))}).forEach(function(s){var a=eo(zE,i).call(i,s);eo(Q5,i).set(eo($5,i).call(i,s),a),eo(n9,i).set(a,s)});var r=new Map(t.map(function(s){return[eo($5,i).call(i,s),s]}));return eo(Q5,this).forEach(function(s,a){r.has(a)?eo(VE,i).call(i,s,r.get(a)):(eo(kE,i).call(i,s,a),eo(Q5,i).delete(a),eo(n9,i).delete(s))}),this}},{key:"clear",value:function(){return this.digest([]),this}}])}(),DK={exports:{}};(function(n,e){(function(t,i){n.exports=i()})(yse,function(){return function(t){function i(s){if(r[s])return r[s].exports;var a=r[s]={exports:{},id:s,loaded:!1};return t[s].call(a.exports,a,a.exports,i),a.loaded=!0,a.exports}var r={};return i.m=t,i.c=r,i.p="",i(0)}([function(t,i,r){var s=r(1),a=function(){function o(l,u,c){l===void 0&&(l=NaN),u===void 0&&(u=NaN),c===void 0&&(c=!1),this._minFPS=u,this._maxFPS=l,this._timeScale=1,this._currentTick=0,this._currentTime=0,this._tickDeltaTime=0,this._isRunning=!1,this._maxInterval=isNaN(this._minFPS)?NaN:1e3/this._minFPS,this._minInterval=isNaN(this._maxFPS)?NaN:1e3/this._maxFPS,this._onResume=new s.default,this._onPause=new s.default,this._onTick=new s.default,this._onTickOncePerFrame=new s.default,c||this.resume()}return o.prototype.updateOnce=function(l){l(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},o.prototype.resume=function(){this._isRunning||(this._isRunning=!0,this._lastTimeUpdated=this.getTimer(),this._onResume.dispatch(),this.animateOnce())},o.prototype.pause=function(){this._isRunning&&(this._isRunning=!1,this._onPause.dispatch(),window.cancelAnimationFrame(this._animationFrameHandle))},o.prototype.dispose=function(){this.pause(),this._onResume.removeAll(),this._onPause.removeAll(),this._onTick.removeAll()},Object.defineProperty(o.prototype,"currentTick",{get:function(){return this._currentTick},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"currentTimeSeconds",{get:function(){return this._currentTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"tickDeltaTimeSeconds",{get:function(){return this._tickDeltaTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"timeScale",{get:function(){return this._timeScale},set:function(l){this._timeScale!==l&&(this._timeScale=l)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"onResume",{get:function(){return this._onResume},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"onPause",{get:function(){return this._onPause},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"onTick",{get:function(){return this._onTick},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"onTickOncePerFrame",{get:function(){return this._onTickOncePerFrame},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"isRunning",{get:function(){return this._isRunning},enumerable:!0,configurable:!0}),o.prototype.animateOnce=function(){var l=this;this._animationFrameHandle=window.requestAnimationFrame(function(){return l.onFrame()})},o.prototype.onFrame=function(){if(this._now=this.getTimer(),this._frameDeltaTime=this._now-this._lastTimeUpdated,isNaN(this._minInterval)||this._frameDeltaTime>=this._minInterval)if(isNaN(this._maxInterval))this.update(this._frameDeltaTime*this._timeScale,!0),this._lastTimeUpdated=this._now;else for(this._interval=Math.min(this._frameDeltaTime,this._maxInterval);this._now>=this._lastTimeUpdated+this._interval;)this.update(this._interval*this._timeScale,this._now<=this._lastTimeUpdated+2*this._maxInterval),this._lastTimeUpdated+=this._interval;this._isRunning&&this.animateOnce()},o.prototype.update=function(l,u){u===void 0&&(u=!0),this._currentTick++,this._currentTime+=l,this._tickDeltaTime=l,this._onTick.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick),u&&this._onTickOncePerFrame.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},o.prototype.getTimer=function(){return Date.now()},o}();Object.defineProperty(i,"__esModule",{value:!0}),i.default=a},function(t,i,r){(function(s,a){t.exports=a()})(this,function(){return function(s){function a(l){if(o[l])return o[l].exports;var u=o[l]={exports:{},id:l,loaded:!1};return s[l].call(u.exports,u,u.exports,a),u.loaded=!0,u.exports}var o={};return a.m=s,a.c=o,a.p="",a(0)}([function(s,a){var o=function(){function l(){this.functions=[]}return l.prototype.add=function(u){return this.functions.indexOf(u)===-1&&(this.functions.push(u),!0)},l.prototype.remove=function(u){var c=this.functions.indexOf(u);return c>-1&&(this.functions.splice(c,1),!0)},l.prototype.removeAll=function(){return this.functions.length>0&&(this.functions.length=0,!0)},l.prototype.dispatch=function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var f=this.functions.concat();f.forEach(function(m){m.apply(void 0,u)})},Object.defineProperty(l.prototype,"numItems",{get:function(){return this.functions.length},enumerable:!0,configurable:!0}),l}();Object.defineProperty(a,"__esModule",{value:!0}),a.default=o}])})}])})})(DK);var dye=DK.exports;const Qd=s8(dye),Nc=11102230246251565e-32,to=134217729,Aye=(3+8*Nc)*Nc;function GE(n,e,t,i,r){let s,a,o,l,u=e[0],c=i[0],f=0,m=0;c>u==c>-u?(s=u,u=e[++f]):(s=c,c=i[++m]);let v=0;if(f<n&&m<t)for(c>u==c>-u?(a=u+s,o=s-(a-u),u=e[++f]):(a=c+s,o=s-(a-c),c=i[++m]),s=a,o!==0&&(r[v++]=o);f<n&&m<t;)c>u==c>-u?(a=s+u,l=a-s,o=s-(a-l)+(u-l),u=e[++f]):(a=s+c,l=a-s,o=s-(a-l)+(c-l),c=i[++m]),s=a,o!==0&&(r[v++]=o);for(;f<n;)a=s+u,l=a-s,o=s-(a-l)+(u-l),u=e[++f],s=a,o!==0&&(r[v++]=o);for(;m<t;)a=s+c,l=a-s,o=s-(a-l)+(c-l),c=i[++m],s=a,o!==0&&(r[v++]=o);return(s!==0||v===0)&&(r[v++]=s),v}function pye(n,e){let t=e[0];for(let i=1;i<n;i++)t+=e[i];return t}function pm(n){return new Float64Array(n)}const mye=(3+16*Nc)*Nc,gye=(2+12*Nc)*Nc,yye=(9+64*Nc)*Nc*Nc,K5=pm(4),zk=pm(8),Vk=pm(12),kk=pm(16),xo=pm(4);function vye(n,e,t,i,r,s,a){let o,l,u,c,f,m,v,_,T,M,S,R,C,P,B,O,V,F;const z=n-r,k=t-r,H=e-s,Z=i-s;P=z*Z,m=to*z,v=m-(m-z),_=z-v,m=to*Z,T=m-(m-Z),M=Z-T,B=_*M-(P-v*T-_*T-v*M),O=H*k,m=to*H,v=m-(m-H),_=H-v,m=to*k,T=m-(m-k),M=k-T,V=_*M-(O-v*T-_*T-v*M),S=B-V,f=B-S,K5[0]=B-(S+f)+(f-V),R=P+S,f=R-P,C=P-(R-f)+(S-f),S=C-O,f=C-S,K5[1]=C-(S+f)+(f-O),F=R+S,f=F-R,K5[2]=R-(F-f)+(S-f),K5[3]=F;let $=pye(4,K5),ae=gye*a;if($>=ae||-$>=ae||(f=n-z,o=n-(z+f)+(f-r),f=t-k,u=t-(k+f)+(f-r),f=e-H,l=e-(H+f)+(f-s),f=i-Z,c=i-(Z+f)+(f-s),o===0&&l===0&&u===0&&c===0)||(ae=yye*a+Aye*Math.abs($),$+=z*c+Z*o-(H*u+k*l),$>=ae||-$>=ae))return $;P=o*Z,m=to*o,v=m-(m-o),_=o-v,m=to*Z,T=m-(m-Z),M=Z-T,B=_*M-(P-v*T-_*T-v*M),O=l*k,m=to*l,v=m-(m-l),_=l-v,m=to*k,T=m-(m-k),M=k-T,V=_*M-(O-v*T-_*T-v*M),S=B-V,f=B-S,xo[0]=B-(S+f)+(f-V),R=P+S,f=R-P,C=P-(R-f)+(S-f),S=C-O,f=C-S,xo[1]=C-(S+f)+(f-O),F=R+S,f=F-R,xo[2]=R-(F-f)+(S-f),xo[3]=F;const ne=GE(4,K5,4,xo,zk);P=z*c,m=to*z,v=m-(m-z),_=z-v,m=to*c,T=m-(m-c),M=c-T,B=_*M-(P-v*T-_*T-v*M),O=H*u,m=to*H,v=m-(m-H),_=H-v,m=to*u,T=m-(m-u),M=u-T,V=_*M-(O-v*T-_*T-v*M),S=B-V,f=B-S,xo[0]=B-(S+f)+(f-V),R=P+S,f=R-P,C=P-(R-f)+(S-f),S=C-O,f=C-S,xo[1]=C-(S+f)+(f-O),F=R+S,f=F-R,xo[2]=R-(F-f)+(S-f),xo[3]=F;const Y=GE(ne,zk,4,xo,Vk);P=o*c,m=to*o,v=m-(m-o),_=o-v,m=to*c,T=m-(m-c),M=c-T,B=_*M-(P-v*T-_*T-v*M),O=l*u,m=to*l,v=m-(m-l),_=l-v,m=to*u,T=m-(m-u),M=u-T,V=_*M-(O-v*T-_*T-v*M),S=B-V,f=B-S,xo[0]=B-(S+f)+(f-V),R=P+S,f=R-P,C=P-(R-f)+(S-f),S=C-O,f=C-S,xo[1]=C-(S+f)+(f-O),F=R+S,f=F-R,xo[2]=R-(F-f)+(S-f),xo[3]=F;const ee=GE(Y,Vk,4,xo,kk);return kk[ee-1]}function O9(n,e,t,i,r,s){const a=(e-s)*(t-r),o=(n-r)*(i-s),l=a-o,u=Math.abs(a+o);return Math.abs(l)>=mye*u?l:-vye(n,e,t,i,r,s,u)}const Gk=Math.pow(2,-52),ev=new Uint32Array(512);class fp{static from(e,t=Tye,i=Mye){const r=e.length,s=new Float64Array(r*2);for(let a=0;a<r;a++){const o=e[a];s[2*a]=t(o),s[2*a+1]=i(o)}return new fp(s)}constructor(e){const t=e.length>>1;if(t>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const i=Math.max(2*t-5,0);this._triangles=new Uint32Array(i*3),this._halfedges=new Int32Array(i*3),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:i,_hullTri:r,_hullHash:s}=this,a=e.length>>1;let o=1/0,l=1/0,u=-1/0,c=-1/0;for(let z=0;z<a;z++){const k=e[2*z],H=e[2*z+1];k<o&&(o=k),H<l&&(l=H),k>u&&(u=k),H>c&&(c=H),this._ids[z]=z}const f=(o+u)/2,m=(l+c)/2;let v,_,T;for(let z=0,k=1/0;z<a;z++){const H=qE(f,m,e[2*z],e[2*z+1]);H<k&&(v=z,k=H)}const M=e[2*v],S=e[2*v+1];for(let z=0,k=1/0;z<a;z++){if(z===v)continue;const H=qE(M,S,e[2*z],e[2*z+1]);H<k&&H>0&&(_=z,k=H)}let R=e[2*_],C=e[2*_+1],P=1/0;for(let z=0;z<a;z++){if(z===v||z===_)continue;const k=bye(M,S,R,C,e[2*z],e[2*z+1]);k<P&&(T=z,P=k)}let B=e[2*T],O=e[2*T+1];if(P===1/0){for(let H=0;H<a;H++)this._dists[H]=e[2*H]-e[0]||e[2*H+1]-e[1];V6(this._ids,this._dists,0,a-1);const z=new Uint32Array(a);let k=0;for(let H=0,Z=-1/0;H<a;H++){const $=this._ids[H],ae=this._dists[$];ae>Z&&(z[k++]=$,Z=ae)}this.hull=z.subarray(0,k),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(O9(M,S,R,C,B,O)<0){const z=_,k=R,H=C;_=T,R=B,C=O,T=z,B=k,O=H}const V=Sye(M,S,R,C,B,O);this._cx=V.x,this._cy=V.y;for(let z=0;z<a;z++)this._dists[z]=qE(e[2*z],e[2*z+1],V.x,V.y);V6(this._ids,this._dists,0,a-1),this._hullStart=v;let F=3;i[v]=t[T]=_,i[_]=t[v]=T,i[T]=t[_]=v,r[v]=0,r[_]=1,r[T]=2,s.fill(-1),s[this._hashKey(M,S)]=v,s[this._hashKey(R,C)]=_,s[this._hashKey(B,O)]=T,this.trianglesLen=0,this._addTriangle(v,_,T,-1,-1,-1);for(let z=0,k,H;z<this._ids.length;z++){const Z=this._ids[z],$=e[2*Z],ae=e[2*Z+1];if(z>0&&Math.abs($-k)<=Gk&&Math.abs(ae-H)<=Gk||(k=$,H=ae,Z===v||Z===_||Z===T))continue;let ne=0;for(let ge=0,Re=this._hashKey($,ae);ge<this._hashSize&&(ne=s[(Re+ge)%this._hashSize],!(ne!==-1&&ne!==i[ne]));ge++);ne=t[ne];let Y=ne,ee;for(;ee=i[Y],O9($,ae,e[2*Y],e[2*Y+1],e[2*ee],e[2*ee+1])>=0;)if(Y=ee,Y===ne){Y=-1;break}if(Y===-1)continue;let Q=this._addTriangle(Y,Z,i[Y],-1,-1,r[Y]);r[Z]=this._legalize(Q+2),r[Y]=Q,F++;let fe=i[Y];for(;ee=i[fe],O9($,ae,e[2*fe],e[2*fe+1],e[2*ee],e[2*ee+1])<0;)Q=this._addTriangle(fe,Z,ee,r[Z],-1,r[fe]),r[Z]=this._legalize(Q+2),i[fe]=fe,F--,fe=ee;if(Y===ne)for(;ee=t[Y],O9($,ae,e[2*ee],e[2*ee+1],e[2*Y],e[2*Y+1])<0;)Q=this._addTriangle(ee,Z,Y,-1,r[Y],r[ee]),this._legalize(Q+2),r[ee]=Q,i[Y]=Y,F--,Y=ee;this._hullStart=t[Z]=Y,i[Y]=t[fe]=Z,i[Z]=fe,s[this._hashKey($,ae)]=Z,s[this._hashKey(e[2*Y],e[2*Y+1])]=Y}this.hull=new Uint32Array(F);for(let z=0,k=this._hullStart;z<F;z++)this.hull[z]=k,k=i[k];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(xye(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:i,coords:r}=this;let s=0,a=0;for(;;){const o=i[e],l=e-e%3;if(a=l+(e+2)%3,o===-1){if(s===0)break;e=ev[--s];continue}const u=o-o%3,c=l+(e+1)%3,f=u+(o+2)%3,m=t[a],v=t[e],_=t[c],T=t[f];if(_ye(r[2*m],r[2*m+1],r[2*v],r[2*v+1],r[2*_],r[2*_+1],r[2*T],r[2*T+1])){t[e]=T,t[o]=m;const S=i[f];if(S===-1){let C=this._hullStart;do{if(this._hullTri[C]===f){this._hullTri[C]=e;break}C=this._hullPrev[C]}while(C!==this._hullStart)}this._link(e,S),this._link(o,i[a]),this._link(a,f);const R=u+(o+1)%3;s<ev.length&&(ev[s++]=R)}else{if(s===0)break;e=ev[--s]}}return a}_link(e,t){this._halfedges[e]=t,t!==-1&&(this._halfedges[t]=e)}_addTriangle(e,t,i,r,s,a){const o=this.trianglesLen;return this._triangles[o]=e,this._triangles[o+1]=t,this._triangles[o+2]=i,this._link(o,r),this._link(o+1,s),this._link(o+2,a),this.trianglesLen+=3,o}}function xye(n,e){const t=n/(Math.abs(n)+Math.abs(e));return(e>0?3-t:1+t)/4}function qE(n,e,t,i){const r=n-t,s=e-i;return r*r+s*s}function _ye(n,e,t,i,r,s,a,o){const l=n-a,u=e-o,c=t-a,f=i-o,m=r-a,v=s-o,_=l*l+u*u,T=c*c+f*f,M=m*m+v*v;return l*(f*M-T*v)-u*(c*M-T*m)+_*(c*v-f*m)<0}function bye(n,e,t,i,r,s){const a=t-n,o=i-e,l=r-n,u=s-e,c=a*a+o*o,f=l*l+u*u,m=.5/(a*u-o*l),v=(u*c-o*f)*m,_=(a*f-l*c)*m;return v*v+_*_}function Sye(n,e,t,i,r,s){const a=t-n,o=i-e,l=r-n,u=s-e,c=a*a+o*o,f=l*l+u*u,m=.5/(a*u-o*l),v=n+(u*c-o*f)*m,_=e+(a*f-l*c)*m;return{x:v,y:_}}function V6(n,e,t,i){if(i-t<=20)for(let r=t+1;r<=i;r++){const s=n[r],a=e[s];let o=r-1;for(;o>=t&&e[n[o]]>a;)n[o+1]=n[o--];n[o+1]=s}else{const r=t+i>>1;let s=t+1,a=i;i9(n,r,s),e[n[t]]>e[n[i]]&&i9(n,t,i),e[n[s]]>e[n[i]]&&i9(n,s,i),e[n[t]]>e[n[s]]&&i9(n,t,s);const o=n[s],l=e[o];for(;;){do s++;while(e[n[s]]<l);do a--;while(e[n[a]]>l);if(a<s)break;i9(n,s,a)}n[t+1]=n[a],n[a]=o,i-s+1>=a-t?(V6(n,e,s,i),V6(n,e,t,a-1)):(V6(n,e,t,a-1),V6(n,e,s,i))}}function i9(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}function Tye(n){return n[0]}function Mye(n){return n[1]}function Eye(n,e){var t,i,r=0,s,a,o,l,u,c,f,m=n[0],v=n[1],_=e.length;for(t=0;t<_;t++){i=0;var T=e[t],M=T.length-1;if(c=T[0],c[0]!==T[M][0]&&c[1]!==T[M][1])throw new Error("First and last coordinates in a ring must be the same");for(a=c[0]-m,o=c[1]-v,i;i<M;i++){if(f=T[i+1],l=f[0]-m,u=f[1]-v,o===0&&u===0){if(l<=0&&a>=0||a<=0&&l>=0)return 0}else if(u>=0&&o<=0||u<=0&&o>=0){if(s=O9(a,l,o,u,0,0),s===0)return 0;(s>0&&u>0&&o<=0||s<0&&u<=0&&o>0)&&r++}c=f,o=u,a=l}}return r%2!==0}function wye(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if(n.type==="Feature"&&n.geometry!==null&&n.geometry.type==="Point")return[...n.geometry.coordinates];if(n.type==="Point")return[...n.coordinates]}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return[...n];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Rye(n){return n.type==="Feature"?n.geometry:n}function Cye(n,e,t={}){if(!n)throw new Error("point is required");if(!e)throw new Error("polygon is required");const i=wye(n),r=Rye(e),s=r.type,a=e.bbox;let o=r.coordinates;if(a&&Nye(i,a)===!1)return!1;s==="Polygon"&&(o=[o]);let l=!1;for(var u=0;u<o.length;++u){const c=Eye(i,o[u]);if(c===0)return!t.ignoreBoundary;c&&(l=!0)}return l}function Nye(n,e){return e[0]<=n[0]&&e[1]<=n[1]&&e[2]>=n[0]&&e[3]>=n[1]}var Dye=Cye;const qk=1e-6;class uf{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,i){e=+e,t=+t,i=+i;const r=e+i,s=t;if(i<0)throw new Error("negative radius");this._x1===null?this._+=`M${r},${s}`:(Math.abs(this._x1-r)>qk||Math.abs(this._y1-s)>qk)&&(this._+="L"+r+","+s),i&&(this._+=`A${i},${i},0,1,1,${e-i},${t}A${i},${i},0,1,1,${this._x1=r},${this._y1=s}`)}rect(e,t,i,r){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+i}v${+r}h${-i}Z`}value(){return this._||null}}class lN{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class Pye{constructor(e,[t,i,r,s]=[0,0,960,500]){if(!((r=+r)>=(t=+t))||!((s=+s)>=(i=+i)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=r,this.xmin=t,this.ymax=s,this.ymin=i,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:i},vectors:r}=this;let s,a;const o=this.circumcenters=this._circumcenters.subarray(0,i.length/3*2);for(let T=0,M=0,S=i.length,R,C;T<S;T+=3,M+=2){const P=i[T]*2,B=i[T+1]*2,O=i[T+2]*2,V=e[P],F=e[P+1],z=e[B],k=e[B+1],H=e[O],Z=e[O+1],$=z-V,ae=k-F,ne=H-V,Y=Z-F,ee=($*Y-ae*ne)*2;if(Math.abs(ee)<1e-9){if(s===void 0){s=a=0;for(const fe of t)s+=e[fe*2],a+=e[fe*2+1];s/=t.length,a/=t.length}const Q=1e9*Math.sign((s-V)*Y-(a-F)*ne);R=(V+H)/2-Q*Y,C=(F+Z)/2+Q*ne}else{const Q=1/ee,fe=$*$+ae*ae,ge=ne*ne+Y*Y;R=V+(Y*fe-ae*ge)*Q,C=F+($*ge-ne*fe)*Q}o[M]=R,o[M+1]=C}let l=t[t.length-1],u,c=l*4,f,m=e[2*l],v,_=e[2*l+1];r.fill(0);for(let T=0;T<t.length;++T)l=t[T],u=c,f=m,v=_,c=l*4,m=e[2*l],_=e[2*l+1],r[u+2]=r[c]=v-_,r[u+3]=r[c+1]=m-f}render(e){const t=e==null?e=new uf:void 0,{delaunay:{halfedges:i,inedges:r,hull:s},circumcenters:a,vectors:o}=this;if(s.length<=1)return null;for(let c=0,f=i.length;c<f;++c){const m=i[c];if(m<c)continue;const v=Math.floor(c/3)*2,_=Math.floor(m/3)*2,T=a[v],M=a[v+1],S=a[_],R=a[_+1];this._renderSegment(T,M,S,R,e)}let l,u=s[s.length-1];for(let c=0;c<s.length;++c){l=u,u=s[c];const f=Math.floor(r[u]/3)*2,m=a[f],v=a[f+1],_=l*4,T=this._project(m,v,o[_+2],o[_+3]);T&&this._renderSegment(m,v,T[0],T[1],e)}return t&&t.value()}renderBounds(e){const t=e==null?e=new uf:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const i=t==null?t=new uf:void 0,r=this._clip(e);if(r===null||!r.length)return;t.moveTo(r[0],r[1]);let s=r.length;for(;r[0]===r[s-2]&&r[1]===r[s-1]&&s>1;)s-=2;for(let a=2;a<s;a+=2)(r[a]!==r[a-2]||r[a+1]!==r[a-1])&&t.lineTo(r[a],r[a+1]);return t.closePath(),i&&i.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,i=e.length/2;t<i;++t){const r=this.cellPolygon(t);r&&(r.index=t,yield r)}}cellPolygon(e){const t=new lN;return this.renderCell(e,t),t.value()}_renderSegment(e,t,i,r,s){let a;const o=this._regioncode(e,t),l=this._regioncode(i,r);o===0&&l===0?(s.moveTo(e,t),s.lineTo(i,r)):(a=this._clipSegment(e,t,i,r,o,l))&&(s.moveTo(a[0],a[1]),s.lineTo(a[2],a[3]))}contains(e,t,i){return t=+t,t!==t||(i=+i,i!==i)?!1:this.delaunay._step(e,t,i)===e}*neighbors(e){const t=this._clip(e);if(t)for(const i of this.delaunay.neighbors(e)){const r=this._clip(i);if(r){e:for(let s=0,a=t.length;s<a;s+=2)for(let o=0,l=r.length;o<l;o+=2)if(t[s]===r[o]&&t[s+1]===r[o+1]&&t[(s+2)%a]===r[(o+l-2)%l]&&t[(s+3)%a]===r[(o+l-1)%l]){yield i;break e}}}}_cell(e){const{circumcenters:t,delaunay:{inedges:i,halfedges:r,triangles:s}}=this,a=i[e];if(a===-1)return null;const o=[];let l=a;do{const u=Math.floor(l/3);if(o.push(t[u*2],t[u*2+1]),l=l%3===2?l-2:l+1,s[l]!==e)break;l=r[l]}while(l!==a&&l!==-1);return o}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(t===null)return null;const{vectors:i}=this,r=e*4;return this._simplify(i[r]||i[r+1]?this._clipInfinite(e,t,i[r],i[r+1],i[r+2],i[r+3]):this._clipFinite(e,t))}_clipFinite(e,t){const i=t.length;let r=null,s,a,o=t[i-2],l=t[i-1],u,c=this._regioncode(o,l),f,m=0;for(let v=0;v<i;v+=2)if(s=o,a=l,o=t[v],l=t[v+1],u=c,c=this._regioncode(o,l),u===0&&c===0)f=m,m=0,r?r.push(o,l):r=[o,l];else{let _,T,M,S,R;if(u===0){if((_=this._clipSegment(s,a,o,l,u,c))===null)continue;[T,M,S,R]=_}else{if((_=this._clipSegment(o,l,s,a,c,u))===null)continue;[S,R,T,M]=_,f=m,m=this._edgecode(T,M),f&&m&&this._edge(e,f,m,r,r.length),r?r.push(T,M):r=[T,M]}f=m,m=this._edgecode(S,R),f&&m&&this._edge(e,f,m,r,r.length),r?r.push(S,R):r=[S,R]}if(r)f=m,m=this._edgecode(r[0],r[1]),f&&m&&this._edge(e,f,m,r,r.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return r}_clipSegment(e,t,i,r,s,a){const o=s<a;for(o&&([e,t,i,r,s,a]=[i,r,e,t,a,s]);;){if(s===0&&a===0)return o?[i,r,e,t]:[e,t,i,r];if(s&a)return null;let l,u,c=s||a;c&8?(l=e+(i-e)*(this.ymax-t)/(r-t),u=this.ymax):c&4?(l=e+(i-e)*(this.ymin-t)/(r-t),u=this.ymin):c&2?(u=t+(r-t)*(this.xmax-e)/(i-e),l=this.xmax):(u=t+(r-t)*(this.xmin-e)/(i-e),l=this.xmin),s?(e=l,t=u,s=this._regioncode(e,t)):(i=l,r=u,a=this._regioncode(i,r))}}_clipInfinite(e,t,i,r,s,a){let o=Array.from(t),l;if((l=this._project(o[0],o[1],i,r))&&o.unshift(l[0],l[1]),(l=this._project(o[o.length-2],o[o.length-1],s,a))&&o.push(l[0],l[1]),o=this._clipFinite(e,o))for(let u=0,c=o.length,f,m=this._edgecode(o[c-2],o[c-1]);u<c;u+=2)f=m,m=this._edgecode(o[u],o[u+1]),f&&m&&(u=this._edge(e,f,m,o,u),c=o.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(o=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return o}_edge(e,t,i,r,s){for(;t!==i;){let a,o;switch(t){case 5:t=4;continue;case 4:t=6,a=this.xmax,o=this.ymin;break;case 6:t=2;continue;case 2:t=10,a=this.xmax,o=this.ymax;break;case 10:t=8;continue;case 8:t=9,a=this.xmin,o=this.ymax;break;case 9:t=1;continue;case 1:t=5,a=this.xmin,o=this.ymin;break}(r[s]!==a||r[s+1]!==o)&&this.contains(e,a,o)&&(r.splice(s,0,a,o),s+=2)}return s}_project(e,t,i,r){let s=1/0,a,o,l;if(r<0){if(t<=this.ymin)return null;(a=(this.ymin-t)/r)<s&&(l=this.ymin,o=e+(s=a)*i)}else if(r>0){if(t>=this.ymax)return null;(a=(this.ymax-t)/r)<s&&(l=this.ymax,o=e+(s=a)*i)}if(i>0){if(e>=this.xmax)return null;(a=(this.xmax-e)/i)<s&&(o=this.xmax,l=t+(s=a)*r)}else if(i<0){if(e<=this.xmin)return null;(a=(this.xmin-e)/i)<s&&(o=this.xmin,l=t+(s=a)*r)}return[o,l]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){const i=(t+2)%e.length,r=(t+4)%e.length;(e[t]===e[i]&&e[i]===e[r]||e[t+1]===e[i+1]&&e[i+1]===e[r+1])&&(e.splice(i,2),t-=2)}e.length||(e=null)}return e}}const Lye=2*Math.PI,Z5=Math.pow;function Bye(n){return n[0]}function Uye(n){return n[1]}function Oye(n){const{triangles:e,coords:t}=n;for(let i=0;i<e.length;i+=3){const r=2*e[i],s=2*e[i+1],a=2*e[i+2];if((t[a]-t[r])*(t[s+1]-t[r+1])-(t[s]-t[r])*(t[a+1]-t[r+1])>1e-10)return!1}return!0}function Iye(n,e,t){return[n+Math.sin(n+e)*t,e+Math.cos(n-e)*t]}class jL{static from(e,t=Bye,i=Uye,r){return new jL("length"in e?Fye(e,t,i,r):Float64Array.from(zye(e,t,i,r)))}constructor(e){this._delaunator=new fp(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&Oye(e)){this.collinear=Int32Array.from({length:t.length/2},(m,v)=>v).sort((m,v)=>t[2*m]-t[2*v]||t[2*m+1]-t[2*v+1]);const l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[t[2*l],t[2*l+1],t[2*u],t[2*u+1]],f=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let m=0,v=t.length/2;m<v;++m){const _=Iye(t[2*m],t[2*m+1],f);t[2*m]=_[0],t[2*m+1]=_[1]}this._delaunator=new fp(t)}else delete this.collinear;const i=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,a=this.inedges.fill(-1),o=this._hullIndex.fill(-1);for(let l=0,u=i.length;l<u;++l){const c=s[l%3===2?l-2:l+1];(i[l]===-1||a[c]===-1)&&(a[c]=l)}for(let l=0,u=r.length;l<u;++l)o[r[l]]=l;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],a[r[0]]=1,r.length===2&&(a[r[1]]=0,this.triangles[1]=r[1],this.triangles[2]=r[1]))}voronoi(e){return new Pye(this,e)}*neighbors(e){const{inedges:t,hull:i,_hullIndex:r,halfedges:s,triangles:a,collinear:o}=this;if(o){const f=o.indexOf(e);f>0&&(yield o[f-1]),f<o.length-1&&(yield o[f+1]);return}const l=t[e];if(l===-1)return;let u=l,c=-1;do{if(yield c=a[u],u=u%3===2?u-2:u+1,a[u]!==e)return;if(u=s[u],u===-1){const f=i[(r[e]+1)%i.length];f!==c&&(yield f);return}}while(u!==l)}find(e,t,i=0){if(e=+e,e!==e||(t=+t,t!==t))return-1;const r=i;let s;for(;(s=this._step(i,e,t))>=0&&s!==i&&s!==r;)i=s;return s}_step(e,t,i){const{inedges:r,hull:s,_hullIndex:a,halfedges:o,triangles:l,points:u}=this;if(r[e]===-1||!u.length)return(e+1)%(u.length>>1);let c=e,f=Z5(t-u[e*2],2)+Z5(i-u[e*2+1],2);const m=r[e];let v=m;do{let _=l[v];const T=Z5(t-u[_*2],2)+Z5(i-u[_*2+1],2);if(T<f&&(f=T,c=_),v=v%3===2?v-2:v+1,l[v]!==e)break;if(v=o[v],v===-1){if(v=s[(a[e]+1)%s.length],v!==_&&Z5(t-u[v*2],2)+Z5(i-u[v*2+1],2)<f)return v;break}}while(v!==m);return c}render(e){const t=e==null?e=new uf:void 0,{points:i,halfedges:r,triangles:s}=this;for(let a=0,o=r.length;a<o;++a){const l=r[a];if(l<a)continue;const u=s[a]*2,c=s[l]*2;e.moveTo(i[u],i[u+1]),e.lineTo(i[c],i[c+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){t===void 0&&(!e||typeof e.moveTo!="function")&&(t=e,e=null),t=t==null?2:+t;const i=e==null?e=new uf:void 0,{points:r}=this;for(let s=0,a=r.length;s<a;s+=2){const o=r[s],l=r[s+1];e.moveTo(o+t,l),e.arc(o,l,t,0,Lye)}return i&&i.value()}renderHull(e){const t=e==null?e=new uf:void 0,{hull:i,points:r}=this,s=i[0]*2,a=i.length;e.moveTo(r[s],r[s+1]);for(let o=1;o<a;++o){const l=2*i[o];e.lineTo(r[l],r[l+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new lN;return this.renderHull(e),e.value()}renderTriangle(e,t){const i=t==null?t=new uf:void 0,{points:r,triangles:s}=this,a=s[e*=3]*2,o=s[e+1]*2,l=s[e+2]*2;return t.moveTo(r[a],r[a+1]),t.lineTo(r[o],r[o+1]),t.lineTo(r[l],r[l+1]),t.closePath(),i&&i.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,i=e.length/3;t<i;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new lN;return this.renderTriangle(e,t),t.value()}}function Fye(n,e,t,i){const r=n.length,s=new Float64Array(r*2);for(let a=0;a<r;++a){const o=n[a];s[a*2]=e.call(i,o,a,n),s[a*2+1]=t.call(i,o,a,n)}return s}function*zye(n,e,t,i){let r=0;for(const s of n)yield e.call(i,s,r,n),yield t.call(i,s,r,n),++r}const WL=Math.PI,Hk=WL/2,jk=180/WL,Wk=WL/180,Vye=Math.atan2,Xk=Math.cos,kye=Math.max,Gye=Math.min,Yk=Math.sin,qye=Math.sign||function(n){return n>0?1:n<0?-1:0},PK=Math.sqrt;function Hye(n){return n>1?Hk:n<-1?-Hk:Math.asin(n)}function LK(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function Bl(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function q_(n,e){return[n[0]+e[0],n[1]+e[1],n[2]+e[2]]}function H_(n){var e=PK(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);return[n[0]/e,n[1]/e,n[2]/e]}function XL(n){return[Vye(n[1],n[0])*jk,Hye(kye(-1,Gye(1,n[2])))*jk]}function A1(n){const e=n[0]*Wk,t=n[1]*Wk,i=Xk(t);return[i*Xk(e),i*Yk(e),Yk(t)]}function YL(n){return n=n.map(e=>A1(e)),LK(n[0],Bl(n[2],n[1]))}function jye(n){const e=Xye(n),t=Qye(e),i=Yye(t,n),r=Kye(t,n.length),s=Wye(r,n),a=$ye(t,n),{polygons:o,centers:l}=Zye(a,t,n),u=Jye(o),c=tve(t,n),f=eve(i,t);return{delaunay:e,edges:i,triangles:t,centers:l,neighbors:r,polygons:o,mesh:u,hull:c,urquhart:f,find:s}}function Wye(n,e){function t(i,r){let s=i[0]-r[0],a=i[1]-r[1],o=i[2]-r[2];return s*s+a*a+o*o}return function(r,s,a){a===void 0&&(a=0);let o,l,u=a;const c=A1([r,s]);do o=a,a=null,l=t(c,A1(e[o])),n[o].forEach(f=>{let m=t(c,A1(e[f]));if(m<l){l=m,a=f,u=f;return}});while(a!==null);return u}}function Xye(n){if(n.length<2)return{};let e=0;for(;isNaN(n[e][0]+n[e][1])&&e++<n.length;);const t=Ope(n[e]),i=pme().translate([0,0]).scale(1).rotate(t.invert([180,0]));n=n.map(i);const r=[];let s=1;for(let f=0,m=n.length;f<m;f++){let v=n[f][0]**2+n[f][1]**2;!isFinite(v)||v>1e32?r.push(f):v>s&&(s=v)}const a=1e6*PK(s);r.forEach(f=>n[f]=[a,0]),n.push([0,a]),n.push([-a,0]),n.push([0,-a]);const o=jL.from(n);o.projection=i;const{triangles:l,halfedges:u,inedges:c}=o;for(let f=0,m=u.length;f<m;f++)if(u[f]<0){const v=f%3==2?f-2:f+1,_=f%3==0?f+2:f-1,T=u[v],M=u[_];u[T]=M,u[M]=T,u[v]=u[_]=-1,l[f]=l[v]=l[_]=e,c[l[T]]=T%3==0?T+2:T-1,c[l[M]]=M%3==0?M+2:M-1,f+=2-f%3}else l[f]>n.length-3-1&&(l[f]=e);return o}function Yye(n,e){const t=new Set;return e.length===2?[[0,1]]:(n.forEach(i=>{if(i[0]!==i[1]&&!(YL(i.map(r=>e[r]))<0))for(let r=0,s;r<3;r++)s=(r+1)%3,t.add(p_([i[r],i[s]]).join("-"))}),Array.from(t,i=>i.split("-").map(Number)))}function Qye(n){const{triangles:e}=n;if(!e)return[];const t=[];for(let i=0,r=e.length/3;i<r;i++){const s=e[3*i],a=e[3*i+1],o=e[3*i+2];s!==a&&a!==o&&t.push([s,o,a])}return t}function $ye(n,e){return n.map(t=>{const i=t.map(s=>e[s]).map(A1),r=q_(q_(Bl(i[1],i[0]),Bl(i[2],i[1])),Bl(i[0],i[2]));return XL(H_(r))})}function Kye(n,e){const t=[];return n.forEach(i=>{for(let r=0;r<3;r++){const s=i[r],a=i[(r+1)%3];t[s]=t[s]||[],t[s].push(a)}}),n.length===0&&(e===2?(t[0]=[1],t[1]=[0]):e===1&&(t[0]=[])),t}function Zye(n,e,t){const i=[],r=n.slice();if(e.length===0){if(t.length<2)return{polygons:i,centers:r};if(t.length===2){const o=A1(t[0]),l=A1(t[1]),u=H_(q_(o,l)),c=H_(Bl(o,l)),f=Bl(u,c),m=[u,Bl(u,f),Bl(Bl(u,f),f),Bl(Bl(Bl(u,f),f),f)].map(XL).map(a);return i.push(m),i.push(m.slice().reverse()),{polygons:i,centers:r}}}e.forEach((o,l)=>{for(let u=0;u<3;u++){const c=o[u],f=o[(u+1)%3],m=o[(u+2)%3];i[c]=i[c]||[],i[c].push([f,m,l,[c,f,m]])}});const s=i.map(o=>{const l=[o[0][2]];let u=o[0][1];for(let c=1;c<o.length;c++)for(let f=0;f<o.length;f++)if(o[f][0]==u){u=o[f][1],l.push(o[f][2]);break}if(l.length>2)return l;if(l.length==2){const c=Qk(t[o[0][3][0]],t[o[0][3][1]],r[l[0]]),f=Qk(t[o[0][3][2]],t[o[0][3][0]],r[l[0]]),m=a(c),v=a(f);return[l[0],v,l[1],m]}});function a(o){let l=-1;return r.slice(e.length,1/0).forEach((u,c)=>{u[0]===o[0]&&u[1]===o[1]&&(l=c+e.length)}),l<0&&(l=r.length,r.push(o)),l}return{polygons:s,centers:r}}function Qk(n,e,t){n=A1(n),e=A1(e),t=A1(t);const i=qye(LK(Bl(e,n),t));return XL(H_(q_(n,e)).map(r=>i*r))}function Jye(n){const e=[];return n.forEach(t=>{if(!t)return;let i=t[t.length-1];for(let r of t)r>i&&e.push([i,r]),i=r}),e}function eve(n,e){return function(t){const i=new Map,r=new Map;return n.forEach((s,a)=>{const o=s.join("-");i.set(o,t[a]),r.set(o,!0)}),e.forEach(s=>{let a=0,o=-1;for(let l=0;l<3;l++){let u=p_([s[l],s[(l+1)%3]]).join("-");i.get(u)>a&&(a=i.get(u),o=u)}r.set(o,!1)}),n.map(s=>r.get(s.join("-")))}}function tve(n,e){const t=new Set,i=[];n.map(o=>{if(!(YL(o.map(l=>e[l>e.length?0:l]))>1e-12))for(let l=0;l<3;l++){let u=[o[l],o[(l+1)%3]],c=`${u[0]}-${u[1]}`;t.has(c)?t.delete(c):t.add(`${u[1]}-${u[0]}`)}});const r=new Map;let s;if(t.forEach(o=>{o=o.split("-").map(Number),r.set(o[0],o[1]),s=o[0]}),s===void 0)return i;let a=s;do{i.push(a);let o=r.get(a);r.set(a,-1),a=o}while(a>-1&&a!==s);return i}function nve(n){const e=function(t){if(e.delaunay=null,e._data=t,typeof e._data=="object"&&e._data.type==="FeatureCollection"&&(e._data=e._data.features),typeof e._data=="object"){const i=e._data.map(r=>[e._vx(r),e._vy(r),r]).filter(r=>isFinite(r[0]+r[1]));e.points=i.map(r=>[r[0],r[1]]),e.valid=i.map(r=>r[2]),e.delaunay=jye(e.points)}return e};return e._vx=function(t){if(typeof t=="object"&&"type"in t)return ok(t)[0];if(0 in t)return t[0]},e._vy=function(t){if(typeof t=="object"&&"type"in t)return ok(t)[1];if(1 in t)return t[1]},e.x=function(t){return t?(e._vx=t,e):e._vx},e.y=function(t){return t?(e._vy=t,e):e._vy},e.polygons=function(t){if(t!==void 0&&e(t),!e.delaunay)return!1;const i={type:"FeatureCollection",features:[]};return e.valid.length===0||(e.delaunay.polygons.forEach((r,s)=>i.features.push({type:"Feature",geometry:r?{type:"Polygon",coordinates:[[...r,r[0]].map(a=>e.delaunay.centers[a])]}:null,properties:{site:e.valid[s],sitecoordinates:e.points[s],neighbours:e.delaunay.neighbors[s]}})),e.valid.length===1&&i.features.push({type:"Feature",geometry:{type:"Sphere"},properties:{site:e.valid[0],sitecoordinates:e.points[0],neighbours:[]}})),i},e.triangles=function(t){return t!==void 0&&e(t),e.delaunay?{type:"FeatureCollection",features:e.delaunay.triangles.map((i,r)=>(i=i.map(s=>e.points[s]),i.center=e.delaunay.centers[r],i)).filter(i=>YL(i)>0).map(i=>({type:"Feature",properties:{circumcenter:i.center},geometry:{type:"Polygon",coordinates:[[...i,i[0]]]}}))}:!1},e.links=function(t){if(t!==void 0&&e(t),!e.delaunay)return!1;const i=e.delaunay.edges.map(s=>C3(e.points[s[0]],e.points[s[1]])),r=e.delaunay.urquhart(i);return{type:"FeatureCollection",features:e.delaunay.edges.map((s,a)=>({type:"Feature",properties:{source:e.valid[s[0]],target:e.valid[s[1]],length:i[a],urquhart:!!r[a]},geometry:{type:"LineString",coordinates:[e.points[s[0]],e.points[s[1]]]}}))}},e.mesh=function(t){return t!==void 0&&e(t),e.delaunay?{type:"MultiLineString",coordinates:e.delaunay.edges.map(i=>[e.points[i[0]],e.points[i[1]]])}:!1},e.cellMesh=function(t){if(t!==void 0&&e(t),!e.delaunay)return!1;const{centers:i,polygons:r}=e.delaunay,s=[];for(const a of r)if(a)for(let o=a.length,l=a[o-1],u=a[0],c=0;c<o;l=u,u=a[++c])u>l&&s.push([i[l],i[u]]);return{type:"MultiLineString",coordinates:s}},e._found=void 0,e.find=function(t,i,r){if(e._found=e.delaunay.find(t,i,e._found),!r||C3([t,i],e.points[e._found])<r)return e._found},e.hull=function(t){t!==void 0&&e(t);const i=e.delaunay.hull,r=e.points;return i.length===0?null:{type:"Polygon",coordinates:[[...i.map(s=>r[s]),r[i[0]]]]}},n?e(n):e}function uN(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function ive(n){if(Array.isArray(n))return n}function rve(n){if(Array.isArray(n))return uN(n)}function sve(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ave(n,e,t){return e=j_(e),Ave(n,BK()?Reflect.construct(e,[],j_(n).constructor):e.apply(n,t))}function ove(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function lve(n,e,t){return Object.defineProperty(n,"prototype",{writable:!1}),n}function j_(n){return j_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j_(n)}function uve(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&cN(n,e)}function BK(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BK=function(){return!!n})()}function cve(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function fve(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function hve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ave(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sve(n)}function cN(n,e){return cN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},cN(n,e)}function Ju(n,e){return ive(n)||fve(n,e)||UK(n,e)||hve()}function HE(n){return rve(n)||cve(n)||UK(n)||dve()}function UK(n,e){if(n){if(typeof n=="string")return uN(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?uN(n,e):void 0}}function pve(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.resolution,i=t===void 0?1/0:t,r=mve(n,i),s=ip(r),a=gve(n,i),o=[].concat(HE(s),HE(a)),l={type:"Polygon",coordinates:n},u=eK(l),c=Ju(u,2),f=Ju(c[0],2),m=f[0],v=f[1],_=Ju(c[1],2),T=_[0],M=_[1],S=m>T||M>=89||v<=-89,R=[];if(S){var C=nve(o).triangles(),P=new Map(o.map(function(ee,Q){var fe=Ju(ee,2),ge=fe[0],Re=fe[1];return["".concat(ge,"-").concat(Re),Q]}));C.features.forEach(function(ee){var Q,fe=ee.geometry.coordinates[0].slice(0,3).reverse(),ge=[];if(fe.forEach(function(Ge){var We=Ju(Ge,2),Se=We[0],qe=We[1],St="".concat(Se,"-").concat(qe);P.has(St)&&ge.push(P.get(St))}),ge.length===3){if(ge.some(function(Ge){return Ge<s.length})){var Re=ee.properties.circumcenter;if(!fN(Re,l,S))return}(Q=R).push.apply(Q,ge)}})}else if(a.length)for(var z=fp.from(o),k=function(Q){var fe,ge=[2,1,0].map(function(We){return z.triangles[Q+We]}),Re=ge.map(function(We){return o[We]});if(ge.some(function(We){return We<s.length})){var Ge=[0,1].map(function(We){return CAe(Re,function(Se){return Se[We]})});if(!fN(Ge,l,S))return 1}(fe=R).push.apply(fe,HE(ge))},H=0,Z=z.triangles.length;H<Z;H+=3)k(H);else{var B=z_(r),O=B.vertices,V=B.holes,F=V===void 0?[]:V;R=zme(O,F,2)}var $=jc(p_(o,function(ee){return ee[0]}),[0,1]),ae=jc(p_(o,function(ee){return ee[1]}),[0,1]),ne=o.map(function(ee){var Q=Ju(ee,2),fe=Q[0],ge=Q[1];return[$(fe),ae(ge)]}),Y={points:o,indices:R,uvs:ne};return{contour:r,triangles:Y}}function mve(n,e){return n.map(function(t){var i=[],r;return t.forEach(function(s){if(r){var a=C3(s,r)*180/Math.PI;if(a>e)for(var o=zL(r,s),l=1/Math.ceil(a/e),u=l;u<1;)i.push(o(u)),u+=l}i.push(r=s)}),i})}function gve(n,e){var t={type:"Polygon",coordinates:n},i=eK(t),r=Ju(i,2),s=Ju(r[0],2),a=s[0],o=s[1],l=Ju(r[1],2),u=l[0],c=l[1];if(Math.min(Math.abs(u-a),Math.abs(c-o))<e)return[];var f=a>u||c>=89||o<=-89;return yve(e,{minLng:a,maxLng:u,minLat:o,maxLat:c}).filter(function(m){return fN(m,t,f)})}function yve(n){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=e.minLng,i=e.maxLng,r=e.minLat,s=e.maxLat,a=Math.round(Math.pow(360/n,2)/Math.PI),o=(1+Math.sqrt(5))/2,l=function(S){return S/o*360%360-180},u=function(S){return Math.acos(2*S/a-1)/Math.PI*180-90},c=function(S){return a*(Math.cos((S+90)*Math.PI/180)+1)/2},f=[s!==void 0?Math.ceil(c(s)):0,r!==void 0?Math.floor(c(r)):a-1],m=t===void 0&&i===void 0?function(){return!0}:t===void 0?function(M){return M<=i}:i===void 0?function(M){return M>=t}:i>=t?function(M){return M>=t&&M<=i}:function(M){return M>=t||M<=i},v=[],_=f[0];_<=f[1];_++){var T=l(_);m(T)&&v.push([T,u(_)])}return v}function fN(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return t?Jpe(e,n):Dye(n,e)}var lx=window.THREE?window.THREE:{BufferGeometry:bn,Float32BufferAttribute:Qt},$k=new lx.BufferGeometry().setAttribute?"setAttribute":"addAttribute",QL=function(n){function e(t,i,r,s,a,o,l){var u;ove(this,e),u=ave(this,e),u.type="ConicPolygonGeometry",u.parameters={polygonGeoJson:t,bottomHeight:i,topHeight:r,closedBottom:s,closedTop:a,includeSides:o,curvatureResolution:l},i=i||0,r=r||1,s=s!==void 0?s:!0,a=a!==void 0?a:!0,o=o!==void 0?o:!0,l=l||5;var c=pve(t,{resolution:l}),f=c.contour,m=c.triangles,v=ip(m.uvs),_=[],T=[],M=[],S=0,R=function(V){var F=Math.round(_.length/3),z=M.length;_=_.concat(V.vertices),T=T.concat(V.uvs),M=M.concat(F?V.indices.map(function(k){return k+F}):V.indices),u.addGroup(z,M.length-z,S++)};o&&R(P()),s&&R(B(i,!1)),a&&R(B(r,!0)),u.setIndex(M),u[$k]("position",new lx.Float32BufferAttribute(_,3)),u[$k]("uv",new lx.Float32BufferAttribute(T,2)),u.computeVertexNormals();function C(O,V){var F=typeof V=="function"?V:function(){return V},z=O.map(function(k){return k.map(function(H){var Z=Ju(H,2),$=Z[0],ae=Z[1];return vve(ae,$,F($,ae))})});return z_(z)}function P(){for(var O=C(f,i),V=O.vertices,F=O.holes,z=C(f,r),k=z.vertices,H=ip([k,V]),Z=Math.round(k.length/3),$=new Set(F),ae=0,ne=[],Y=0;Y<Z;Y++){var ee=Y+1;if(ee===Z)ee=ae;else if($.has(ee)){var Q=ee;ee=ae,ae=Q}ne.push(Y,Y+Z,ee+Z),ne.push(ee+Z,ee,Y)}for(var fe=[],ge=1;ge>=0;ge--)for(var Re=0;Re<Z;Re+=1)fe.push(Re/(Z-1),ge);return{indices:ne,vertices:H,uvs:fe}}function B(O){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return{indices:V?m.indices:m.indices.slice().reverse(),vertices:C([m.points],O).vertices,uvs:v}}return u}return uve(e,n),lve(e)}(lx.BufferGeometry);function vve(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=(90-n)*Math.PI/180,r=(90-e)*Math.PI/180;return[t*Math.sin(i)*Math.cos(r),t*Math.cos(i),t*Math.sin(i)*Math.sin(r)]}function hN(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function xve(n){if(Array.isArray(n))return n}function _ve(n){if(Array.isArray(n))return hN(n)}function bve(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Sve(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function Tve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eve(n,e){if(n==null)return{};var t,i,r=wve(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function wve(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.includes(i))continue;t[i]=n[i]}return t}function Rve(n,e){return xve(n)||Sve(n,e)||OK(n,e)||Tve()}function Cve(n){return _ve(n)||bve(n)||OK(n)||Mve()}function Nve(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function Dve(n){var e=Nve(n,"string");return typeof e=="symbol"?e:e+""}function OK(n,e){if(n){if(typeof n=="string")return hN(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?hN(n,e):void 0}}var Pve=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,r=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(o){return{keyAccessor:o,isProp:!(o instanceof Function)}}),s=n.reduce(function(o,l){var u=o,c=l;return r.forEach(function(f,m){var v=f.keyAccessor,_=f.isProp,T;if(_){var M=c,S=M[v],R=Eve(M,[v].map(Dve));T=S,c=R}else T=v(c,m);m+1<r.length?(u.hasOwnProperty(T)||(u[T]={}),u=u[T]):t?(u.hasOwnProperty(T)||(u[T]=[]),u[T].push(c)):u[T]=c}),o},{});t instanceof Function&&function o(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;u===r.length?Object.keys(l).forEach(function(c){return l[c]=t(l[c])}):Object.values(l).forEach(function(c){return o(c,u+1)})}(s);var a=s;return i&&(a=[],function o(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];u.length===r.length?a.push({keys:u,vals:l}):Object.entries(l).forEach(function(c){var f=Rve(c,2),m=f[0],v=f[1];return o(v,[].concat(Cve(u),[m]))})}(s),e instanceof Array&&e.length===0&&a.length===1&&(a[0].keys=[])),a},Ei=function(n){n=n||{};var e=typeof n<"u"?n:{},t={},i;for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);var r="";function s(He){return e.locateFile?e.locateFile(He,r):r+He}var a;typeof document<"u"&&document.currentScript&&(r=document.currentScript.src),r.indexOf("blob:")!==0?r=r.substr(0,r.lastIndexOf("/")+1):r="",a=function(st,Pt,nt){var d=new XMLHttpRequest;d.open("GET",st,!0),d.responseType="arraybuffer",d.onload=function(){if(d.status==200||d.status==0&&d.response){Pt(d.response);return}var Dn=ve(st);if(Dn){Pt(Dn.buffer);return}nt()},d.onerror=nt,d.send(null)};var o=e.print||console.log.bind(console),l=e.printErr||console.warn.bind(console);for(i in t)t.hasOwnProperty(i)&&(e[i]=t[i]);t=null,e.arguments&&e.arguments;var u=0,c=function(He){u=He},f=function(){return u},m=8;function v(He,st,Pt,nt){switch(Pt=Pt||"i8",Pt.charAt(Pt.length-1)==="*"&&(Pt="i32"),Pt){case"i1":Z[He>>0]=st;break;case"i8":Z[He>>0]=st;break;case"i16":ae[He>>1]=st;break;case"i32":ne[He>>2]=st;break;case"i64":Ie=[st>>>0,(ie=st,+$t(ie)>=1?ie>0?(At(+bt(ie/4294967296),4294967295)|0)>>>0:~~+ce((ie-+(~~ie>>>0))/4294967296)>>>0:0)],ne[He>>2]=Ie[0],ne[He+4>>2]=Ie[1];break;case"float":Y[He>>2]=st;break;case"double":ee[He>>3]=st;break;default:zr("invalid type for setValue: "+Pt)}}function _(He,st,Pt){switch(st=st||"i8",st.charAt(st.length-1)==="*"&&(st="i32"),st){case"i1":return Z[He>>0];case"i8":return Z[He>>0];case"i16":return ae[He>>1];case"i32":return ne[He>>2];case"i64":return ne[He>>2];case"float":return Y[He>>2];case"double":return ee[He>>3];default:zr("invalid type for getValue: "+st)}return null}var T=!1;function M(He,st){He||zr("Assertion failed: "+st)}function S(He){var st=e["_"+He];return M(st,"Cannot call unknown function "+He+", make sure it is exported"),st}function R(He,st,Pt,nt,d){var J={string:function(qn){var la=0;if(qn!=null&&qn!==0){var Cu=(qn.length<<2)+1;la=ft(Cu),F(qn,la,Cu)}return la},array:function(qn){var la=ft(qn.length);return z(qn,la),la}};function Dn(qn){return st==="string"?O(qn):st==="boolean"?!!qn:qn}var Ai=S(He),Qn=[],Pn=0;if(nt)for(var ri=0;ri<nt.length;ri++){var pl=J[Pt[ri]];pl?(Pn===0&&(Pn=Mt()),Qn[ri]=pl(nt[ri])):Qn[ri]=nt[ri]}var yi=Ai.apply(null,Qn);return yi=Dn(yi),Pn!==0&&Gt(Pn),yi}function C(He,st,Pt,nt){Pt=Pt||[];var d=Pt.every(function(Dn){return Dn==="number"}),J=st!=="string";return J&&d&&!nt?S(He):function(){return R(He,st,Pt,arguments)}}var P=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function B(He,st,Pt){for(var nt=st+Pt,d=st;He[d]&&!(d>=nt);)++d;if(d-st>16&&He.subarray&&P)return P.decode(He.subarray(st,d));for(var J="";st<d;){var Dn=He[st++];if(!(Dn&128)){J+=String.fromCharCode(Dn);continue}var Ai=He[st++]&63;if((Dn&224)==192){J+=String.fromCharCode((Dn&31)<<6|Ai);continue}var Qn=He[st++]&63;if((Dn&240)==224?Dn=(Dn&15)<<12|Ai<<6|Qn:Dn=(Dn&7)<<18|Ai<<12|Qn<<6|He[st++]&63,Dn<65536)J+=String.fromCharCode(Dn);else{var Pn=Dn-65536;J+=String.fromCharCode(55296|Pn>>10,56320|Pn&1023)}}return J}function O(He,st){return He?B($,He,st):""}function V(He,st,Pt,nt){if(!(nt>0))return 0;for(var d=Pt,J=Pt+nt-1,Dn=0;Dn<He.length;++Dn){var Ai=He.charCodeAt(Dn);if(Ai>=55296&&Ai<=57343){var Qn=He.charCodeAt(++Dn);Ai=65536+((Ai&1023)<<10)|Qn&1023}if(Ai<=127){if(Pt>=J)break;st[Pt++]=Ai}else if(Ai<=2047){if(Pt+1>=J)break;st[Pt++]=192|Ai>>6,st[Pt++]=128|Ai&63}else if(Ai<=65535){if(Pt+2>=J)break;st[Pt++]=224|Ai>>12,st[Pt++]=128|Ai>>6&63,st[Pt++]=128|Ai&63}else{if(Pt+3>=J)break;st[Pt++]=240|Ai>>18,st[Pt++]=128|Ai>>12&63,st[Pt++]=128|Ai>>6&63,st[Pt++]=128|Ai&63}}return st[Pt]=0,Pt-d}function F(He,st,Pt){return V(He,$,st,Pt)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function z(He,st){Z.set(He,st)}function k(He,st){return He%st>0&&(He+=st-He%st),He}var H,Z,$,ae,ne,Y,ee;function Q(He){H=He,e.HEAP8=Z=new Int8Array(He),e.HEAP16=ae=new Int16Array(He),e.HEAP32=ne=new Int32Array(He),e.HEAPU8=$=new Uint8Array(He),e.HEAPU16=new Uint16Array(He),e.HEAPU32=new Uint32Array(He),e.HEAPF32=Y=new Float32Array(He),e.HEAPF64=ee=new Float64Array(He)}var fe=5271520,ge=28608,Re=e.TOTAL_MEMORY||33554432;e.buffer?H=e.buffer:H=new ArrayBuffer(Re),Re=H.byteLength,Q(H),ne[ge>>2]=fe;function Ge(He){for(;He.length>0;){var st=He.shift();if(typeof st=="function"){st();continue}var Pt=st.func;typeof Pt=="number"?st.arg===void 0?e.dynCall_v(Pt):e.dynCall_vi(Pt,st.arg):Pt(st.arg===void 0?null:st.arg)}}var We=[],Se=[],qe=[],St=[];function at(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Sn(e.preRun.shift());Ge(We)}function Ct(){Ge(Se)}function Jt(){Ge(qe)}function It(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)hn(e.postRun.shift());Ge(St)}function Sn(He){We.unshift(He)}function hn(He){St.unshift(He)}var $t=Math.abs,ce=Math.ceil,bt=Math.floor,At=Math.min,mt=0,et=null;function Ft(He){mt++,e.monitorRunDependencies&&e.monitorRunDependencies(mt)}function gt(He){if(mt--,e.monitorRunDependencies&&e.monitorRunDependencies(mt),mt==0&&et){var st=et;et=null,st()}}e.preloadedImages={},e.preloadedAudios={};var Ut=null,Tn="data:application/octet-stream;base64,";function me(He){return String.prototype.startsWith?He.startsWith(Tn):He.indexOf(Tn)===0}var ie,Ie;Ut="data:application/octet-stream;base64,AAAAAAAAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAAAQAAAAQAAAADAAAABgAAAAUAAAACAAAAAAAAAAIAAAADAAAAAQAAAAQAAAAGAAAAAAAAAAUAAAADAAAABgAAAAQAAAAFAAAAAAAAAAEAAAACAAAABAAAAAUAAAAGAAAAAAAAAAIAAAADAAAAAQAAAAUAAAACAAAAAAAAAAEAAAADAAAABgAAAAQAAAAGAAAAAAAAAAUAAAACAAAAAQAAAAQAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAAAAAAEAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAYAAAAAAAAABQAAAAAAAAAAAAAABAAAAAUAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAYAAAAAAAAAAwAAAAIAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAFAAAABAAAAAAAAAABAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAgAAAAQAAAADAAAACAAAAAEAAAAHAAAABgAAAAkAAAAAAAAAAwAAAAIAAAACAAAABgAAAAoAAAALAAAAAAAAAAEAAAAFAAAAAwAAAA0AAAABAAAABwAAAAQAAAAMAAAAAAAAAAQAAAB/AAAADwAAAAgAAAADAAAAAAAAAAwAAAAFAAAAAgAAABIAAAAKAAAACAAAAAAAAAAQAAAABgAAAA4AAAALAAAAEQAAAAEAAAAJAAAAAgAAAAcAAAAVAAAACQAAABMAAAADAAAADQAAAAEAAAAIAAAABQAAABYAAAAQAAAABAAAAAAAAAAPAAAACQAAABMAAAAOAAAAFAAAAAEAAAAHAAAABgAAAAoAAAALAAAAGAAAABcAAAAFAAAAAgAAABIAAAALAAAAEQAAABcAAAAZAAAAAgAAAAYAAAAKAAAADAAAABwAAAANAAAAGgAAAAQAAAAPAAAAAwAAAA0AAAAaAAAAFQAAAB0AAAADAAAADAAAAAcAAAAOAAAAfwAAABEAAAAbAAAACQAAABQAAAAGAAAADwAAABYAAAAcAAAAHwAAAAQAAAAIAAAADAAAABAAAAASAAAAIQAAAB4AAAAIAAAABQAAABYAAAARAAAACwAAAA4AAAAGAAAAIwAAABkAAAAbAAAAEgAAABgAAAAeAAAAIAAAAAUAAAAKAAAAEAAAABMAAAAiAAAAFAAAACQAAAAHAAAAFQAAAAkAAAAUAAAADgAAABMAAAAJAAAAKAAAABsAAAAkAAAAFQAAACYAAAATAAAAIgAAAA0AAAAdAAAABwAAABYAAAAQAAAAKQAAACEAAAAPAAAACAAAAB8AAAAXAAAAGAAAAAsAAAAKAAAAJwAAACUAAAAZAAAAGAAAAH8AAAAgAAAAJQAAAAoAAAAXAAAAEgAAABkAAAAXAAAAEQAAAAsAAAAtAAAAJwAAACMAAAAaAAAAKgAAAB0AAAArAAAADAAAABwAAAANAAAAGwAAACgAAAAjAAAALgAAAA4AAAAUAAAAEQAAABwAAAAfAAAAKgAAACwAAAAMAAAADwAAABoAAAAdAAAAKwAAACYAAAAvAAAADQAAABoAAAAVAAAAHgAAACAAAAAwAAAAMgAAABAAAAASAAAAIQAAAB8AAAApAAAALAAAADUAAAAPAAAAFgAAABwAAAAgAAAAHgAAABgAAAASAAAANAAAADIAAAAlAAAAIQAAAB4AAAAxAAAAMAAAABYAAAAQAAAAKQAAACIAAAATAAAAJgAAABUAAAA2AAAAJAAAADMAAAAjAAAALgAAAC0AAAA4AAAAEQAAABsAAAAZAAAAJAAAABQAAAAiAAAAEwAAADcAAAAoAAAANgAAACUAAAAnAAAANAAAADkAAAAYAAAAFwAAACAAAAAmAAAAfwAAACIAAAAzAAAAHQAAAC8AAAAVAAAAJwAAACUAAAAZAAAAFwAAADsAAAA5AAAALQAAACgAAAAbAAAAJAAAABQAAAA8AAAALgAAADcAAAApAAAAMQAAADUAAAA9AAAAFgAAACEAAAAfAAAAKgAAADoAAAArAAAAPgAAABwAAAAsAAAAGgAAACsAAAA+AAAALwAAAEAAAAAaAAAAKgAAAB0AAAAsAAAANQAAADoAAABBAAAAHAAAAB8AAAAqAAAALQAAACcAAAAjAAAAGQAAAD8AAAA7AAAAOAAAAC4AAAA8AAAAOAAAAEQAAAAbAAAAKAAAACMAAAAvAAAAJgAAACsAAAAdAAAARQAAADMAAABAAAAAMAAAADEAAAAeAAAAIQAAAEMAAABCAAAAMgAAADEAAAB/AAAAPQAAAEIAAAAhAAAAMAAAACkAAAAyAAAAMAAAACAAAAAeAAAARgAAAEMAAAA0AAAAMwAAAEUAAAA2AAAARwAAACYAAAAvAAAAIgAAADQAAAA5AAAARgAAAEoAAAAgAAAAJQAAADIAAAA1AAAAPQAAAEEAAABLAAAAHwAAACkAAAAsAAAANgAAAEcAAAA3AAAASQAAACIAAAAzAAAAJAAAADcAAAAoAAAANgAAACQAAABIAAAAPAAAAEkAAAA4AAAARAAAAD8AAABNAAAAIwAAAC4AAAAtAAAAOQAAADsAAABKAAAATgAAACUAAAAnAAAANAAAADoAAAB/AAAAPgAAAEwAAAAsAAAAQQAAACoAAAA7AAAAPwAAAE4AAABPAAAAJwAAAC0AAAA5AAAAPAAAAEgAAABEAAAAUAAAACgAAAA3AAAALgAAAD0AAAA1AAAAMQAAACkAAABRAAAASwAAAEIAAAA+AAAAKwAAADoAAAAqAAAAUgAAAEAAAABMAAAAPwAAAH8AAAA4AAAALQAAAE8AAAA7AAAATQAAAEAAAAAvAAAAPgAAACsAAABUAAAARQAAAFIAAABBAAAAOgAAADUAAAAsAAAAVgAAAEwAAABLAAAAQgAAAEMAAABRAAAAVQAAADEAAAAwAAAAPQAAAEMAAABCAAAAMgAAADAAAABXAAAAVQAAAEYAAABEAAAAOAAAADwAAAAuAAAAWgAAAE0AAABQAAAARQAAADMAAABAAAAALwAAAFkAAABHAAAAVAAAAEYAAABDAAAANAAAADIAAABTAAAAVwAAAEoAAABHAAAAWQAAAEkAAABbAAAAMwAAAEUAAAA2AAAASAAAAH8AAABJAAAANwAAAFAAAAA8AAAAWAAAAEkAAABbAAAASAAAAFgAAAA2AAAARwAAADcAAABKAAAATgAAAFMAAABcAAAANAAAADkAAABGAAAASwAAAEEAAAA9AAAANQAAAF4AAABWAAAAUQAAAEwAAABWAAAAUgAAAGAAAAA6AAAAQQAAAD4AAABNAAAAPwAAAEQAAAA4AAAAXQAAAE8AAABaAAAATgAAAEoAAAA7AAAAOQAAAF8AAABcAAAATwAAAE8AAABOAAAAPwAAADsAAABdAAAAXwAAAE0AAABQAAAARAAAAEgAAAA8AAAAYwAAAFoAAABYAAAAUQAAAFUAAABeAAAAZQAAAD0AAABCAAAASwAAAFIAAABgAAAAVAAAAGIAAAA+AAAATAAAAEAAAABTAAAAfwAAAEoAAABGAAAAZAAAAFcAAABcAAAAVAAAAEUAAABSAAAAQAAAAGEAAABZAAAAYgAAAFUAAABXAAAAZQAAAGYAAABCAAAAQwAAAFEAAABWAAAATAAAAEsAAABBAAAAaAAAAGAAAABeAAAAVwAAAFMAAABmAAAAZAAAAEMAAABGAAAAVQAAAFgAAABIAAAAWwAAAEkAAABjAAAAUAAAAGkAAABZAAAAYQAAAFsAAABnAAAARQAAAFQAAABHAAAAWgAAAE0AAABQAAAARAAAAGoAAABdAAAAYwAAAFsAAABJAAAAWQAAAEcAAABpAAAAWAAAAGcAAABcAAAAUwAAAE4AAABKAAAAbAAAAGQAAABfAAAAXQAAAE8AAABaAAAATQAAAG0AAABfAAAAagAAAF4AAABWAAAAUQAAAEsAAABrAAAAaAAAAGUAAABfAAAAXAAAAE8AAABOAAAAbQAAAGwAAABdAAAAYAAAAGgAAABiAAAAbgAAAEwAAABWAAAAUgAAAGEAAAB/AAAAYgAAAFQAAABnAAAAWQAAAG8AAABiAAAAbgAAAGEAAABvAAAAUgAAAGAAAABUAAAAYwAAAFAAAABpAAAAWAAAAGoAAABaAAAAcQAAAGQAAABmAAAAUwAAAFcAAABsAAAAcgAAAFwAAABlAAAAZgAAAGsAAABwAAAAUQAAAFUAAABeAAAAZgAAAGUAAABXAAAAVQAAAHIAAABwAAAAZAAAAGcAAABbAAAAYQAAAFkAAAB0AAAAaQAAAG8AAABoAAAAawAAAG4AAABzAAAAVgAAAF4AAABgAAAAaQAAAFgAAABnAAAAWwAAAHEAAABjAAAAdAAAAGoAAABdAAAAYwAAAFoAAAB1AAAAbQAAAHEAAABrAAAAfwAAAGUAAABeAAAAcwAAAGgAAABwAAAAbAAAAGQAAABfAAAAXAAAAHYAAAByAAAAbQAAAG0AAABsAAAAXQAAAF8AAAB1AAAAdgAAAGoAAABuAAAAYgAAAGgAAABgAAAAdwAAAG8AAABzAAAAbwAAAGEAAABuAAAAYgAAAHQAAABnAAAAdwAAAHAAAABrAAAAZgAAAGUAAAB4AAAAcwAAAHIAAABxAAAAYwAAAHQAAABpAAAAdQAAAGoAAAB5AAAAcgAAAHAAAABkAAAAZgAAAHYAAAB4AAAAbAAAAHMAAABuAAAAawAAAGgAAAB4AAAAdwAAAHAAAAB0AAAAZwAAAHcAAABvAAAAcQAAAGkAAAB5AAAAdQAAAH8AAABtAAAAdgAAAHEAAAB5AAAAagAAAHYAAAB4AAAAbAAAAHIAAAB1AAAAeQAAAG0AAAB3AAAAbwAAAHMAAABuAAAAeQAAAHQAAAB4AAAAeAAAAHMAAAByAAAAcAAAAHkAAAB3AAAAdgAAAHkAAAB0AAAAeAAAAHcAAAB1AAAAcQAAAHYAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAACAAAABQAAAAEAAAAAAAAA/////wEAAAAAAAAAAwAAAAQAAAACAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAUAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABAAAAAUAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAUAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAD//////////wEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAAAAAAAAAAABAAAAAgAAAAYAAAAEAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAAAAAAAAAAAAQAAAAEAAAAFAAAABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAAAAAAAAAAABAAAAAwAAAAcAAAAGAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADgAAAAIAAAAAAAAAAAAAAAEAAAAAAAAACQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAAAAAAAAAAAAAEAAAAEAAAACAAAAAoAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAAAAAAAAAAAAQAAAAsAAAAPAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAIAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAAAAAAAAAAAAQAAAAwAAAAQAAAADAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAAAAAAAAAAABAAAACgAAABMAAAAIAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAAAAAAAAAAAAAEAAAANAAAAEQAAAA0AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAACAAAAAAAAAAAAAAABAAAADgAAABIAAAAPAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAADwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABIAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAAAAAAAAQAAAP//////////EwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAASAAAAAAAAABgAAAAAAAAAIQAAAAAAAAAeAAAAAAAAACAAAAADAAAAMQAAAAEAAAAwAAAAAwAAADIAAAADAAAACAAAAAAAAAAFAAAABQAAAAoAAAAFAAAAFgAAAAAAAAAQAAAAAAAAABIAAAAAAAAAKQAAAAEAAAAhAAAAAAAAAB4AAAAAAAAABAAAAAAAAAAAAAAABQAAAAIAAAAFAAAADwAAAAEAAAAIAAAAAAAAAAUAAAAFAAAAHwAAAAEAAAAWAAAAAAAAABAAAAAAAAAAAgAAAAAAAAAGAAAAAAAAAA4AAAAAAAAACgAAAAAAAAALAAAAAAAAABEAAAADAAAAGAAAAAEAAAAXAAAAAwAAABkAAAADAAAAAAAAAAAAAAABAAAABQAAAAkAAAAFAAAABQAAAAAAAAACAAAAAAAAAAYAAAAAAAAAEgAAAAEAAAAKAAAAAAAAAAsAAAAAAAAABAAAAAEAAAADAAAABQAAAAcAAAAFAAAACAAAAAEAAAAAAAAAAAAAAAEAAAAFAAAAEAAAAAEAAAAFAAAAAAAAAAIAAAAAAAAABwAAAAAAAAAVAAAAAAAAACYAAAAAAAAACQAAAAAAAAATAAAAAAAAACIAAAADAAAADgAAAAEAAAAUAAAAAwAAACQAAAADAAAAAwAAAAAAAAANAAAABQAAAB0AAAAFAAAAAQAAAAAAAAAHAAAAAAAAABUAAAAAAAAABgAAAAEAAAAJAAAAAAAAABMAAAAAAAAABAAAAAIAAAAMAAAABQAAABoAAAAFAAAAAAAAAAEAAAADAAAAAAAAAA0AAAAFAAAAAgAAAAEAAAABAAAAAAAAAAcAAAAAAAAAGgAAAAAAAAAqAAAAAAAAADoAAAAAAAAAHQAAAAAAAAArAAAAAAAAAD4AAAADAAAAJgAAAAEAAAAvAAAAAwAAAEAAAAADAAAADAAAAAAAAAAcAAAABQAAACwAAAAFAAAADQAAAAAAAAAaAAAAAAAAACoAAAAAAAAAFQAAAAEAAAAdAAAAAAAAACsAAAAAAAAABAAAAAMAAAAPAAAABQAAAB8AAAAFAAAAAwAAAAEAAAAMAAAAAAAAABwAAAAFAAAABwAAAAEAAAANAAAAAAAAABoAAAAAAAAAHwAAAAAAAAApAAAAAAAAADEAAAAAAAAALAAAAAAAAAA1AAAAAAAAAD0AAAADAAAAOgAAAAEAAABBAAAAAwAAAEsAAAADAAAADwAAAAAAAAAWAAAABQAAACEAAAAFAAAAHAAAAAAAAAAfAAAAAAAAACkAAAAAAAAAKgAAAAEAAAAsAAAAAAAAADUAAAAAAAAABAAAAAQAAAAIAAAABQAAABAAAAAFAAAADAAAAAEAAAAPAAAAAAAAABYAAAAFAAAAGgAAAAEAAAAcAAAAAAAAAB8AAAAAAAAAMgAAAAAAAAAwAAAAAAAAADEAAAADAAAAIAAAAAAAAAAeAAAAAwAAACEAAAADAAAAGAAAAAMAAAASAAAAAwAAABAAAAADAAAARgAAAAAAAABDAAAAAAAAAEIAAAADAAAANAAAAAMAAAAyAAAAAAAAADAAAAAAAAAAJQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAUwAAAAAAAABXAAAAAwAAAFUAAAADAAAASgAAAAMAAABGAAAAAAAAAEMAAAAAAAAAOQAAAAEAAAA0AAAAAwAAADIAAAAAAAAAGQAAAAAAAAAXAAAAAAAAABgAAAADAAAAEQAAAAAAAAALAAAAAwAAAAoAAAADAAAADgAAAAMAAAAGAAAAAwAAAAIAAAADAAAALQAAAAAAAAAnAAAAAAAAACUAAAADAAAAIwAAAAMAAAAZAAAAAAAAABcAAAAAAAAAGwAAAAMAAAARAAAAAAAAAAsAAAADAAAAPwAAAAAAAAA7AAAAAwAAADkAAAADAAAAOAAAAAMAAAAtAAAAAAAAACcAAAAAAAAALgAAAAMAAAAjAAAAAwAAABkAAAAAAAAAJAAAAAAAAAAUAAAAAAAAAA4AAAADAAAAIgAAAAAAAAATAAAAAwAAAAkAAAADAAAAJgAAAAMAAAAVAAAAAwAAAAcAAAADAAAANwAAAAAAAAAoAAAAAAAAABsAAAADAAAANgAAAAMAAAAkAAAAAAAAABQAAAAAAAAAMwAAAAMAAAAiAAAAAAAAABMAAAADAAAASAAAAAAAAAA8AAAAAwAAAC4AAAADAAAASQAAAAMAAAA3AAAAAAAAACgAAAAAAAAARwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAQAAAAAAAAAAvAAAAAAAAACYAAAADAAAAPgAAAAAAAAArAAAAAwAAAB0AAAADAAAAOgAAAAMAAAAqAAAAAwAAABoAAAADAAAAVAAAAAAAAABFAAAAAAAAADMAAAADAAAAUgAAAAMAAABAAAAAAAAAAC8AAAAAAAAATAAAAAMAAAA+AAAAAAAAACsAAAADAAAAYQAAAAAAAABZAAAAAwAAAEcAAAADAAAAYgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAYAAAAAMAAABSAAAAAwAAAEAAAAAAAAAASwAAAAAAAABBAAAAAAAAADoAAAADAAAAPQAAAAAAAAA1AAAAAwAAACwAAAADAAAAMQAAAAMAAAApAAAAAwAAAB8AAAADAAAAXgAAAAAAAABWAAAAAAAAAEwAAAADAAAAUQAAAAMAAABLAAAAAAAAAEEAAAAAAAAAQgAAAAMAAAA9AAAAAAAAADUAAAADAAAAawAAAAAAAABoAAAAAwAAAGAAAAADAAAAZQAAAAMAAABeAAAAAAAAAFYAAAAAAAAAVQAAAAMAAABRAAAAAwAAAEsAAAAAAAAAOQAAAAAAAAA7AAAAAAAAAD8AAAADAAAASgAAAAAAAABOAAAAAwAAAE8AAAADAAAAUwAAAAMAAABcAAAAAwAAAF8AAAADAAAAJQAAAAAAAAAnAAAAAwAAAC0AAAADAAAANAAAAAAAAAA5AAAAAAAAADsAAAAAAAAARgAAAAMAAABKAAAAAAAAAE4AAAADAAAAGAAAAAAAAAAXAAAAAwAAABkAAAADAAAAIAAAAAMAAAAlAAAAAAAAACcAAAADAAAAMgAAAAMAAAA0AAAAAAAAADkAAAAAAAAALgAAAAAAAAA8AAAAAAAAAEgAAAADAAAAOAAAAAAAAABEAAAAAwAAAFAAAAADAAAAPwAAAAMAAABNAAAAAwAAAFoAAAADAAAAGwAAAAAAAAAoAAAAAwAAADcAAAADAAAAIwAAAAAAAAAuAAAAAAAAADwAAAAAAAAALQAAAAMAAAA4AAAAAAAAAEQAAAADAAAADgAAAAAAAAAUAAAAAwAAACQAAAADAAAAEQAAAAMAAAAbAAAAAAAAACgAAAADAAAAGQAAAAMAAAAjAAAAAAAAAC4AAAAAAAAARwAAAAAAAABZAAAAAAAAAGEAAAADAAAASQAAAAAAAABbAAAAAwAAAGcAAAADAAAASAAAAAMAAABYAAAAAwAAAGkAAAADAAAAMwAAAAAAAABFAAAAAwAAAFQAAAADAAAANgAAAAAAAABHAAAAAAAAAFkAAAAAAAAANwAAAAMAAABJAAAAAAAAAFsAAAADAAAAJgAAAAAAAAAvAAAAAwAAAEAAAAADAAAAIgAAAAMAAAAzAAAAAAAAAEUAAAADAAAAJAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAYAAAAAAAAABoAAAAAAAAAGsAAAADAAAAYgAAAAAAAABuAAAAAwAAAHMAAAADAAAAYQAAAAMAAABvAAAAAwAAAHcAAAADAAAATAAAAAAAAABWAAAAAwAAAF4AAAADAAAAUgAAAAAAAABgAAAAAAAAAGgAAAAAAAAAVAAAAAMAAABiAAAAAAAAAG4AAAADAAAAOgAAAAAAAABBAAAAAwAAAEsAAAADAAAAPgAAAAMAAABMAAAAAAAAAFYAAAADAAAAQAAAAAMAAABSAAAAAAAAAGAAAAAAAAAAVQAAAAAAAABXAAAAAAAAAFMAAAADAAAAZQAAAAAAAABmAAAAAwAAAGQAAAADAAAAawAAAAMAAABwAAAAAwAAAHIAAAADAAAAQgAAAAAAAABDAAAAAwAAAEYAAAADAAAAUQAAAAAAAABVAAAAAAAAAFcAAAAAAAAAXgAAAAMAAABlAAAAAAAAAGYAAAADAAAAMQAAAAAAAAAwAAAAAwAAADIAAAADAAAAPQAAAAMAAABCAAAAAAAAAEMAAAADAAAASwAAAAMAAABRAAAAAAAAAFUAAAAAAAAAXwAAAAAAAABcAAAAAAAAAFMAAAAAAAAATwAAAAAAAABOAAAAAAAAAEoAAAADAAAAPwAAAAEAAAA7AAAAAwAAADkAAAADAAAAbQAAAAAAAABsAAAAAAAAAGQAAAAFAAAAXQAAAAEAAABfAAAAAAAAAFwAAAAAAAAATQAAAAEAAABPAAAAAAAAAE4AAAAAAAAAdQAAAAQAAAB2AAAABQAAAHIAAAAFAAAAagAAAAEAAABtAAAAAAAAAGwAAAAAAAAAWgAAAAEAAABdAAAAAQAAAF8AAAAAAAAAWgAAAAAAAABNAAAAAAAAAD8AAAAAAAAAUAAAAAAAAABEAAAAAAAAADgAAAADAAAASAAAAAEAAAA8AAAAAwAAAC4AAAADAAAAagAAAAAAAABdAAAAAAAAAE8AAAAFAAAAYwAAAAEAAABaAAAAAAAAAE0AAAAAAAAAWAAAAAEAAABQAAAAAAAAAEQAAAAAAAAAdQAAAAMAAABtAAAABQAAAF8AAAAFAAAAcQAAAAEAAABqAAAAAAAAAF0AAAAAAAAAaQAAAAEAAABjAAAAAQAAAFoAAAAAAAAAaQAAAAAAAABYAAAAAAAAAEgAAAAAAAAAZwAAAAAAAABbAAAAAAAAAEkAAAADAAAAYQAAAAEAAABZAAAAAwAAAEcAAAADAAAAcQAAAAAAAABjAAAAAAAAAFAAAAAFAAAAdAAAAAEAAABpAAAAAAAAAFgAAAAAAAAAbwAAAAEAAABnAAAAAAAAAFsAAAAAAAAAdQAAAAIAAABqAAAABQAAAFoAAAAFAAAAeQAAAAEAAABxAAAAAAAAAGMAAAAAAAAAdwAAAAEAAAB0AAAAAQAAAGkAAAAAAAAAdwAAAAAAAABvAAAAAAAAAGEAAAAAAAAAcwAAAAAAAABuAAAAAAAAAGIAAAADAAAAawAAAAEAAABoAAAAAwAAAGAAAAADAAAAeQAAAAAAAAB0AAAAAAAAAGcAAAAFAAAAeAAAAAEAAAB3AAAAAAAAAG8AAAAAAAAAcAAAAAEAAABzAAAAAAAAAG4AAAAAAAAAdQAAAAEAAABxAAAABQAAAGkAAAAFAAAAdgAAAAEAAAB5AAAAAAAAAHQAAAAAAAAAcgAAAAEAAAB4AAAAAQAAAHcAAAAAAAAAcgAAAAAAAABwAAAAAAAAAGsAAAAAAAAAZAAAAAAAAABmAAAAAAAAAGUAAAADAAAAUwAAAAEAAABXAAAAAwAAAFUAAAADAAAAdgAAAAAAAAB4AAAAAAAAAHMAAAAFAAAAbAAAAAEAAAByAAAAAAAAAHAAAAAAAAAAXAAAAAEAAABkAAAAAAAAAGYAAAAAAAAAdQAAAAAAAAB5AAAABQAAAHcAAAAFAAAAbQAAAAEAAAB2AAAAAAAAAHgAAAAAAAAAXwAAAAEAAABsAAAAAQAAAHIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAGAAAAAgAAAAUAAAABAAAABAAAAAAAAAAAAAAABQAAAAMAAAABAAAABgAAAAQAAAACAAAAAAAAAH6iBfbytuk/Gq6akm/58z/Xrm0Liez0P5doSdOpSwRAWs602ULg8D/dT7Rcbo/1v1N1RQHFNOM/g9Snx7HW3L8HWsP8Q3jfP6VwOLosutk/9rjk1YQcxj+gnmKMsNn6P/HDeuPFY+M/YHwDjqKhB0Ci19/fCVrbP4UxKkDWOP6/pvljWa09tL9wi7wrQXjnv/Z6yLImkM2/3yTlOzY14D+m+WNZrT20PzwKVQnrQwNA9nrIsiaQzT/g40rFrRQFwPa45NWEHMa/kbslHEZq97/xw3rjxWPjv4cLC2SMBci/otff3wla27+rKF5oIAv0P1N1RQHFNOO/iDJPGyWHBUAHWsP8Q3jfvwQf/by16gXAfqIF9vK26b8XrO0Vh0r+v9eubQuJ7PS/BxLrA0ZZ479azrTZQuDwv1MK1EuItPw/yscgV9Z6FkAwHBR2WjQMQJNRzXsQ5vY/GlUHVJYKF0DONuFv2lMNQNCGZ28QJfk/0WUwoIL36D8ggDOMQuATQNqMOeAy/wZAWFYOYM+M2z/LWC4uH3oSQDE+LyTsMgRAkJzhRGWFGEDd4soovCQQQKqk0DJMEP8/rGmNdwOLBUAW2X/9xCbjP4hu3dcqJhNAzuYItRvdB0CgzW3zJW/sPxotm/Y2TxRAQAk9XmdDDEC1Kx9MKgT3P1M+NctcghZAFVqcLlb0C0Bgzd3sB2b2P77mZDPUWhZAFROHJpUGCEDAfma5CxXtPz1DWq/zYxRAmhYY5824F0DOuQKWSbAOQNCMqrvu3fs/L6DR22K2wT9nAAxPBU8RQGiN6mW43AFAZhu25b633D8c1YgmzowSQNM25BRKWARArGS08/lNxD+LFssHwmMRQLC5aNcxBgJABL9HT0WRF0CjCmJmOGEOQHsuaVzMP/s/TWJCaGGwBUCeu1PAPLzjP9nqN9DZOBNAKE4JcydbCkCGtbd1qjPzP8dgm9U8jhVAtPeKTkVwDkCeCLss5l37P401XMPLmBdAFd29VMVQDUBg0yA55h75Pz6odcYLCRdApBM4rBrkAkDyAVWgQxbRP4XDMnK20hFAymLlF7EmzD8GUgo9XBHlP3lbK7T9COc/k+OhPthhy7+YGEpnrOvCPzBFhLs15u4/epbqB6H4uz9IuuLF5svev6lzLKY31es/CaQ0envF5z8ZY0xlUADXv7zaz7HYEuI/CfbK1sn16T8uAQfWwxLWPzKn/YuFN94/5KdbC1AFu793fyCSnlfvPzK2y4doAMY/NRg5t1/X6b/shq4QJaHDP5yNIAKPOeI/vpn7BSE30r/X4YQrO6nrv78Ziv/Thto/DqJ1Y6+y5z9l51NaxFrlv8QlA65HOLS/86dxiEc96z+Hj0+LFjneP6LzBZ8LTc2/DaJ1Y6+y579l51NaxFrlP8QlA65HOLQ/8qdxiEc967+Jj0+LFjnev6LzBZ8LTc0/1qdbC1AFuz93fyCSnlfvvzK2y4doAMa/NRg5t1/X6T/vhq4QJaHDv5yNIAKPOeK/wJn7BSE30j/W4YQrO6nrP78Ziv/Thtq/CaQ0envF578XY0xlUADXP7zaz7HYEuK/CvbK1sn16b8rAQfWwxLWvzKn/YuFN96/zWLlF7EmzL8GUgo9XBHlv3lbK7T9COe/kOOhPthhyz+cGEpnrOvCvzBFhLs15u6/c5bqB6H4u79IuuLF5sveP6lzLKY31eu/AQAAAP////8HAAAA/////zEAAAD/////VwEAAP////9hCQAA/////6dBAAD/////kcsBAP/////3kAwA/////8H2VwAAAAAAAAAAAAAAAAACAAAA/////w4AAAD/////YgAAAP////+uAgAA/////8ISAAD/////ToMAAP////8ilwMA/////+4hGQD/////gu2vAAAAAAAAAAAAAAAAAAAAAAACAAAA//////////8BAAAAAwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////AgAAAP//////////AQAAAAAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD/////////////////////AQAAAP///////////////wIAAAD///////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP///////////////////////////////wIAAAD///////////////8BAAAA/////////////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAABAAAA//////////8CAAAA//////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAAAQAAAP//////////AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAACAAAAAAAAAAIAAAABAAAAAQAAAAIAAAACAAAAAAAAAAUAAAAFAAAAAAAAAAIAAAACAAAAAwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAEAAAACAAAAAgAAAAIAAAAAAAAABQAAAAYAAAAAAAAAAgAAAAIAAAADAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAAAAAACAAAAAQAAAAMAAAACAAAAAgAAAAAAAAAFAAAABwAAAAAAAAACAAAAAgAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACAAAAAAAAAAIAAAABAAAABAAAAAIAAAACAAAAAAAAAAUAAAAIAAAAAAAAAAIAAAACAAAAAwAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAIAAAAAAAAAAgAAAAEAAAAAAAAAAgAAAAIAAAAAAAAABQAAAAkAAAAAAAAAAgAAAAIAAAADAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAIAAAAAAAAAAwAAAA4AAAACAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAgAAAAMAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAgAAAAAAAAADAAAACgAAAAIAAAAAAAAAAgAAAAMAAAABAAAAAAAAAAIAAAACAAAAAwAAAAcAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAACAAAAAAAAAAMAAAALAAAAAgAAAAAAAAACAAAAAwAAAAIAAAAAAAAAAgAAAAIAAAADAAAACAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAIAAAAAAAAAAwAAAAwAAAACAAAAAAAAAAIAAAADAAAAAwAAAAAAAAACAAAAAgAAAAMAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAACAAAAAgAAAAAAAAADAAAADQAAAAIAAAAAAAAAAgAAAAMAAAAEAAAAAAAAAAIAAAACAAAAAwAAAAoAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAACAAAAAAAAAAMAAAAGAAAAAgAAAAAAAAACAAAAAwAAAA8AAAAAAAAAAgAAAAIAAAADAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAIAAAAAAAAAAwAAAAcAAAACAAAAAAAAAAIAAAADAAAAEAAAAAAAAAACAAAAAgAAAAMAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAgAAAAAAAAADAAAACAAAAAIAAAAAAAAAAgAAAAMAAAARAAAAAAAAAAIAAAACAAAAAwAAAA0AAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAACAAAAAAAAAAMAAAAJAAAAAgAAAAAAAAACAAAAAwAAABIAAAAAAAAAAgAAAAIAAAADAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAgAAAAIAAAAAAAAAAwAAAAUAAAACAAAAAAAAAAIAAAADAAAAEwAAAAAAAAACAAAAAgAAAAMAAAAPAAAAAAAAAAAAAAAAAAAAAAAAABAAAAACAAAAAAAAAAIAAAABAAAAEwAAAAIAAAACAAAAAAAAAAUAAAAKAAAAAAAAAAIAAAACAAAAAwAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAIAAAAAAAAAAgAAAAEAAAAPAAAAAgAAAAIAAAAAAAAABQAAAAsAAAAAAAAAAgAAAAIAAAADAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAgAAAAAAAAACAAAAAQAAABAAAAACAAAAAgAAAAAAAAAFAAAADAAAAAAAAAACAAAAAgAAAAMAAAASAAAAAAAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAIAAAABAAAAEQAAAAIAAAACAAAAAAAAAAUAAAANAAAAAAAAAAIAAAACAAAAAwAAABMAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAIAAAAAAAAAAgAAAAEAAAASAAAAAgAAAAIAAAAAAAAABQAAAA4AAAAAAAAAAgAAAAIAAAADAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAAAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAEAAAAAAAAAAAEAAAAAAQAAAAAAAAAAAQAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAABAAAAAAAAAAAAAQAAAAAAAAAAAAA6B6FaUp9QQTPXMuL4myJBraiDfBwx9UBYJseitzTIQOL5if9jqZtAnXX+Z+ycb0C3pucbhRBCQG8wJBYqpRRAlWbDCzCY5z/eFWBUEve6P/+qo4Q50Y4/D9YM3iCcYT8fcA2QJSA0P4ADxu0qAAc/BNcGolVJ2j5d9FACqwquPh9z7MthtI9CSUSYJke/YUJQ/64OyjU0Qpi0+HCmFQdCm3GfIVdh2kHsJ11kAyauQYC3UDFJOoFBSJsFV1OwU0FK5fcxX4AmQWhy/zZIt/lACqaCPsBjzUDbdUNIScugQMYQlVJ4MXNANiuq8GTvRUDxTXnulxEZQFZ8QX5kpuw/qmG/JwYFlEAluh3Q6DB+QKn4vyNq0GZAKOXekas+UUB8xabXXhI6QG63C2pLtSNAdDBtyNfLDUDyOcu67ID2P0rCMvRXAeE/Ki2TSVyzyT9Dk+8Sz2uzP5J+w5ARWp0/NQAoOiMuhj9YnP+RyMJwPxgW7TvQVFk/KgsLYF0kQz9g5dAC6IwzQcgHPVvDex1B1XjppodHBkHJq3OMM9fwQNvcmJ7wddlAInGPpQs/w0BRobq5EBmtQJZ2ai7n+ZVAtv2G5E+bgECG+gIfKBlpQK5f8jdI91JAL39sL/WpPEB8rGxhDqklQK6yUf43XhBAxL9y/tK8+D86XyZpgrHiPwAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAP////8AAAAAAAAAAAAAAAABAAAAAAAAAAAAAAD/////AAAAAAAAAAABAAAAAQAAAAAAAAAAAAAA/////wAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAP////8FAAAABQAAAAAAAAAAAAAAAAAAAAAAAAD/////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAEAAAAAAAAABQAAAAEAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQAAAAAAAQABAAABAQAAAAAAAQAAAAEAAAABAAEAAAAAAAAAAAAAAAAAAAAAquJYWJZl+D9jaeZNtj/zPwwdI9KqaeO/qGefXwdHdz+q4lhYlmX4P+OrlPMN3PI/DB0j0qpp47+7SQLV4VIEQKriWFiWZfg/r2kma3tz8T82eQmLqNIGwMRIWXMqSvo/fcCszPux9j+jara6ozTwP6hnn18HR3c/MSoKLequ8r+SabgA2nj0P7jBLbDOHO8/1Ym/ICfH4T+6lxjvlFXHv73m373LRPU/0vXyDVxo7T+ToKRHJXMAQF/33578aPE/pAyy64tD9T8+U/hCvyruPwxv8Y7YYwLAuXYr8NAiCEB4+LDK0Sn0P1Qeuy4j+eo/OMx50n7K7L+TrGB/nyf8v5ehC2fbYPM/aXMKexiT6z8mFRIMjg/zP7yUVwGGBNw/E6opHERf8z/z0wR2g9DqPw4pBpcOhvu/NbA29uWAA8DMaTExyXzyP02biiQ+Ruk/S8jz2/FKBEB1pzZnpbb9P7pQU4wLfPI//7ZcQXeG6D9CqEQvAYoIwDB2VB6sSgRAVyv8H5We8T+EHWF8XNPmPzB2wT8Nrrg/SEi+cX+w4L8of+GtdSDxP1sjk5AdouU/6ZjOVru13r8K0obqI6bxvwVbdNXyhfA/w5GG024n5z+rwmtMzP8BwLw9pSX49QXABe/2uQxP8D+b6wCzCvXkP7uGT87fK+Q/pz/JWw4coj+qoBf2J0nwP/yE3PUo0+I/vFJeHcaC+D96luSIqvntP/bf8sHUYu8/gZNN41mL4z9bhOqVOF4FwO6lmAh1hQhAbCVxbdhk7z+1C8NdDcfiPwG36x/0OQBAx0WJ76c2+D9nlSHXANfuP2HlfZ3gqOE/EwnVlVPg9r96+oHzEH//v5bXzdT1Auw/DM3GwLsA4D9p/8uoKcr+v+U9x5DQVAPAehjSdghb7D9sc1IetODgP8MVwwB1pu6/azPk6OGe978W8t/TUc3rP+0QMvYfP+A/RsG/QpSE8D+l3uwScxzgPwQaifgujuw/k1Vti1I43z8MAwLnSh0GQH5nYnwwZgJAiGUzWC5s6j8WyyI/BbLgPw4iUapGeQJAB3W+imnp/j9BLWR4ssrpP2t+gG5Pstk/cpBsfm6DCMCOpU9dOZsFQEv8nFypHeo/ehJ6i+6S2D9jqlGEmarLv7STC5TRiOa/bC+x8WZD6D9H3yUkWpDZP8gZvmCMuQLAreY19/eRBsCoPOc8UzzpP6KI/QV+y9g/t/MoboyWzT+Hv5q3Zu3Mvy2xROCT4uY/9gQitMMg1T9abAqhWMDkv1oLTavoUfG/PMUJP9CD5j+fHRX3t6fSPz7W2gk6bvs/WRnuHwqN9D8YFturGCTmP1EZczv0b9I/5t4exabB5D/1ESLh5fTEP9X2z6SYweQ/6lv3I2zT0D9zkRGNUNMAQKoSvc4EIfs/Xggt8wQI5T+mJHHg/w/SP4lhT/9t8vQ/DrZ/DbwH7D+XlhbYZrjkP34LIpFt6c4/lwfp8fLX9L+j96CTTf76v3WdNhEv9uM/d8c3o4lV0D/vFdCHVcsFwAHeDq0F1QhApbYqcZiN5D9KoilqByXLPwX0/diA0vq/0fo0GxnxAMBbaTkvlCzjP/RrFrWXrMs/UYTrky7jA0DB9f4FiZYAQEGAk/3QzeE/r/TeqE8t0D/OqjlsnPbvvz8RKU8JOfW/smSEbK/O4T8MzuyPm3DDP/rFtctq9gZAfb1EVEaSA0Dts5dVInnhP18SFMc79MM/7y34cw6LAMDFrRJsZO0DwC2KLvLSYuA/hx5wcUHewz+49SnK/4ruPyeS0PX9a+E/ZxaaLvvZ3z8WPu5T2QS8Pygo4RIvMqa/BJ0Kqsd0279cKW4ay8jdP3b05bmZ364/10/qtdxk2r+Bcz6CDMvpv54qOw+Amdw/qLV71pW7sT/YKc80nIPUP8OfIaBJ77G/LyTuD1un2z+diYu8efWzP1wU7ACkfwjAZroyPL1yBkAmv3lKJJbbPysKSE4W+p0/dIgqY79TA8ATLTOQ3tsGwJ2zweD/Xdg/XO/jXeFUaL8VW2qLFKfov1cA9Aa6XfK/tIa7YGgI2T+f3hu/sxqPv2nXdPpf3Pc/jkw8Jbda8j+tT/z8tGPVP1yBHpJd35k/KYvYOy1s8j/yz+kCQjPrP9+agH7x59g/PZfJ9aBhpr/rDKzvYBb+PwtkiaGCt/c/vb1mVr+f1T/JIHwHc8Govw7aeF6+9vG/Xv7kD6fp979isYioQYHVP7AIQZuSFrG/3z1AdUTnAUDN3XY9O7f9P0AdQ9ljYNQ/dJANJPTOrb8kLECUiiPlP4yF7UgmStA/9xGmXxCG1T9qZzix4W2zv2SGJRJVrPe/Fh9a2M/B/b8IexzFCoPSP9y1QFD2bLe/Q86cWLJe/b+mOOfYm78BwOTjkPAGE9E/8aPCUKu/ub9pPZyLCiUGwBA7Mev/BQlALOmrlRi+0j+AMJ/dKULBv7iLtL6a6QRAEMDV/yajAUDa62dE3crJP1P70RgBUbq/38hVnR6esT/s1tG10Z/Ov/zLwalHPss/dTS9NKTXx78nMcRzCIEHQAabxDsAmQRA0tyLK3gSyT+Aui7nOhDGv5Gs58z3WgHATN3forJuBMCAui7nOhDGP9Lciyt4Esm/WAJyHQ4c7z8UP5HFIs3iP3U0vTSk18c//MvBqUc+y7+cvv8HLg/Kvy1I/mHsI+K/U/vRGAFRuj/a62dE3crJv8p+WV8KlQjAuQ/nOP43B0CAMJ/dKULBPyzpq5UYvtK/ZoU+VoLh4L9etLlRUfvtv/GjwlCrv7k/5OOQ8AYT0b9DfT9FhufXPwUX8hJp+4u/3LVAUPZstz8IexzFCoPSv9+L609E5fQ/q9Fz7X2J7T9qZzix4W2zP/cRpl8QhtW/vtNilqGX+j8MOy7QJoL0P3SQDST0zq0/QB1D2WNg1L8IIjSvGNkDwGB8Jou2GAfAsAhBm5IWsT9isYioQYHVvyS9D3zb6uy/gnwRa7uM9L/JIHwHc8GoP729Zla/n9W/CsAHJZwmAEDEW6OYT1r6Pz2XyfWgYaY/35qAfvHn2L83Tdy4lS30vxf2/gZ0jPq/XIEekl3fmb+tT/z8tGPVvybPr2zJ1/+/K7mJ0ypVAsCf3hu/sxqPPwCGu2BoCNm/5oITrpZn+r+UDUyDP+n/v1zv413hVGg/nbPB4P9d2L9MlmkxNvgCQMtZlKE85v8/KwpIThb6nb8mv3lKJJbbv8+SZsTvOOc/pQCIIOYw0j+diYu8efWzvy8k7g9bp9u/kxYDa+pKtD9XlYvA8HnVv6i1e9aVu7G/nio7D4CZ3L/WR6rNh5EGwCkgQweBkghAdvTluZnfrr9cKW4ay8jdvxbjhr1f1QVAR5C0MzivAkAWPu5T2QS8v2cWmi772d+/cKj4lzLJCEBx2QJfYrMFQIcecHFB3sO/LYou8tJi4L+jr7lhO38BwIcI0Nb7xgTAXxIUxzv0w7/ts5dVInnhv0T+l8DZLfE/MP3FoFvS5D8MzuyPm3DDv7JkhGyvzuG/tzhzRIRc0b9Ovv3/0z7mv6/03qhPLdC/m4CT/dDN4b9dwjU5VCQBQBBJX1ntCv0/9GsWtZesy79baTkvlCzjv1mjYgEz++S/oW6KnOQW8b9KoilqByXLv6W2KnGYjeS/SmaKz3Vx9z+BZB5yxGHwP3fHN6OJVdC/dZ02ES/2478PuaBjLrXaP4/JU81pPaO/fgsikW3pzr+XlhbYZrjkv4tSn7YDbP0/f2LnFKlF9z+mJHHg/w/Sv14ILfMECOW/mfg4qYhR/b+OP+RQDCACwOpb9yNs09C/1fbPpJjB5L9pN2WOVZ3wv3hHy9nxIve/URlzO/Rv0r8YFturGCTmv1d1/KKR8QPA8gsy9qzSB8CfHRX3t6fSvzzFCT/Qg+a/EYStnrzV9r/2QJqI7Lb9v/YEIrTDINW/LbFE4JPi5r/7kQEs5fEDQHunnf4GeQBAooj9BX7L2L+oPOc8Uzzpv+ydYY2SSAfAL4HK6CRTB0BH3yUkWpDZv2wvsfFmQ+i/Ik0Yzruh6T8fM3LoGoDUP3oSeovukti/S/ycXKkd6r9rEv+7UWcHQCRIQe/GfwNAa36Abk+y2b9BLWR4ssrpv9KT87qa0bM/FTyktw823L8WyyI/BbLgv4hlM1gubOq/DizMp9Ki6r8b5ckdjVrzv5NVbYtSON+/BBqJ+C6O7L/dUBFqgyXYv00Wh18r7+q/7RAy9h8/4L8W8t/TUc3rv4RM5DKx3wDAfvWIj94aBcBsc1IetODgv3oY0nYIW+y/oGcTFF54AUDkJqS/FKX6PwzNxsC7AOC/ltfN1PUC7L+5Wrz/zHnzP6688w2rNOc/YeV9neCo4b9nlSHXANfuvw9RsxKjY/s/1V8GteXE8j+1C8NdDcfiv2wlcW3YZO+/IOywaA7Q8b9bFP+4Tg36v4GTTeNZi+O/9t/ywdRi77+tRc3yFR7eP2bkcHXJkLO//ITc9SjT4r+qoBf2J0nwv2YHKoswwfm/iQcLspCjAcCb6wCzCvXkvwXv9rkMT/C/YkuwYAMXBMApCNUai9kIwMORhtNuJ+e/BVt01fKF8L+ZqWEfvIjsP6h693QZYNk/WyOTkB2i5b8of+GtdSDxvwpaaulDSwVADMQAX+lOAECEHWF8XNPmv1cr/B+VnvG/XyFG6opcCMD/mtR32/UEQP+2XEF3hui/ulBTjAt88r/imfCfRP+yP9zbvtc8XeO/TZuKJD5G6b/MaTExyXzyvxiTQeElXOO/rbJRQVGN9L/z0wR2g9DqvxOqKRxEX/O/FDGCEei99j9x8zV4VYTmP2lzCnsYk+u/l6ELZ9tg878pRXacaDT/v3k6GZRqoQXAVB67LiP56r94+LDK0Sn0vwO6pZ9b7wFAvK0nKVcc9j8+U/hCvyruv6QMsuuLQ/W/FPhKFYv46j8MyxaDTOW/v9L18g1caO2/vebfvctE9b/7GD8ZrF3xv3gx1AR9bQDAuMEtsM4c77+SabgA2nj0v5xKFIwxsATArKNSBaKsB0Cjara6ozTwv33ArMz7sfa/dF2U0FcWCcDxL357DJX/P69pJmt7c/G/quJYWJZl+L/YntVJlnrSP4sRLzXM+fe/46uU8w3c8r+q4lhYlmX4v85lu5+QRwRAsI0H/WU8479jaeZNtj/zv6riWFiWZfi/sI0H/WU847/OZbufkEcEQHAoPUBrnss/9exKzDtFtT88wM8kax+gP9OqeKeAYog/MW0ItiZvcj+ph+smvt5bP2lCaV5dEUU/StaUmQDaLz+kK9y22BMYP0O3whZuMwI/IIbgZGWE6z7UkjYaEM3UPuezxwa9cr8+LybxRMnFpz6E1N8DbPiRPsYjySMvK3s+//////8fAAj//////zMQCP////9/MiAI/////28yMAj/////YzJACP///z9iMlAI////N2IyYAj///8zYjJwCP//vzNiMoAI//+rM2IykAj/f6szYjKgCP8PqzNiMrAI/wOrM2IywAi/A6szYjLQCJ8DqzNiMuAImQOrM2Iy8Aj//////z8PCP//////Kx8I/////38pLwj/////Pyk/CP////85KU8I////PzgpXwj///8POClvCP///w44KX8I//8fDjgpjwj//w8OOCmfCP9/DQ44Ka8I/w8NDjgpvwj/DQ0OOCnPCP8MDQ44Kd8IxwwNDjgp7wjEDA0OOCn/CAcAAAAHAAAAAQAAAAIAAAAEAAAAAwAAAAAAAAAAAAAABwAAAAMAAAABAAAAAgAAAAUAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAGAAAAAgAAAAMAAAAFAAAABAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAwAAAAEAAAAFAAAABAAAAAAAAAAAAAAABwAAAAUAAAADAAAABAAAAAEAAAAAAAAAAgAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAABgtRFT7Ifk/GC1EVPsh+b8YLURU+yEJQBgtRFT7IQnAYWxnb3MuYwBoM05laWdoYm9yUm90YXRpb25zAGNvb3JkaWprLmMAX3VwQXA3Q2hlY2tlZABfdXBBcDdyQ2hlY2tlZABkaXJlY3RlZEVkZ2UuYwBkaXJlY3RlZEVkZ2VUb0JvdW5kYXJ5AGFkamFjZW50RmFjZURpclt0bXBGaWprLmZhY2VdW2ZpamsuZmFjZV0gPT0gS0kAZmFjZWlqay5jAF9mYWNlSWprUGVudFRvQ2VsbEJvdW5kYXJ5AGFkamFjZW50RmFjZURpcltjZW50ZXJJSksuZmFjZV1bZmFjZTJdID09IEtJAF9mYWNlSWprVG9DZWxsQm91bmRhcnkAaDNJbmRleC5jAGNvbXBhY3RDZWxscwBsYXRMbmdUb0NlbGwAY2VsbFRvQ2hpbGRQb3MAdmFsaWRhdGVDaGlsZFBvcwBsYXRMbmcuYwBjZWxsQXJlYVJhZHMyAHBvbHlnb24tPm5leHQgPT0gTlVMTABsaW5rZWRHZW8uYwBhZGROZXdMaW5rZWRQb2x5Z29uAG5leHQgIT0gTlVMTABsb29wICE9IE5VTEwAYWRkTmV3TGlua2VkTG9vcABwb2x5Z29uLT5maXJzdCA9PSBOVUxMAGFkZExpbmtlZExvb3AAY29vcmQgIT0gTlVMTABhZGRMaW5rZWRDb29yZABsb29wLT5maXJzdCA9PSBOVUxMAGlubmVyTG9vcHMgIT0gTlVMTABub3JtYWxpemVNdWx0aVBvbHlnb24AYmJveGVzICE9IE5VTEwAY2FuZGlkYXRlcyAhPSBOVUxMAGZpbmRQb2x5Z29uRm9ySG9sZQBjYW5kaWRhdGVCQm94ZXMgIT0gTlVMTAByZXZEaXIgIT0gSU5WQUxJRF9ESUdJVABsb2NhbGlqLmMAY2VsbFRvTG9jYWxJamsAYmFzZUNlbGwgIT0gb3JpZ2luQmFzZUNlbGwAIShvcmlnaW5PblBlbnQgJiYgaW5kZXhPblBlbnQpAGJhc2VDZWxsID09IG9yaWdpbkJhc2VDZWxsAGJhc2VDZWxsICE9IElOVkFMSURfQkFTRV9DRUxMAGxvY2FsSWprVG9DZWxsACFfaXNCYXNlQ2VsbFBlbnRhZ29uKGJhc2VDZWxsKQBiYXNlQ2VsbFJvdGF0aW9ucyA+PSAwAGdyaWRQYXRoQ2VsbHMAcG9seWZpbGwuYwBpdGVyU3RlcFBvbHlnb25Db21wYWN0ADAAdmVydGV4LmMAY2VsbFRvVmVydGV4AGdyYXBoLT5idWNrZXRzICE9IE5VTEwAdmVydGV4R3JhcGguYwBpbml0VmVydGV4R3JhcGgAbm9kZSAhPSBOVUxMAGFkZFZlcnRleE5vZGU=";var Ke=28624;function ut(He,st,Pt,nt){zr("Assertion failed: "+O(He)+", at: "+[st?O(st):"unknown filename",Pt,nt?O(nt):"unknown function"])}function Ze(){return Z.length}function nn(He,st,Pt){$.set($.subarray(st,st+Pt),He)}function Ot(He){return e.___errno_location&&(ne[e.___errno_location()>>2]=He),He}function Kt(He){zr("OOM")}function tn(He){try{var st=new ArrayBuffer(He);return st.byteLength!=He?void 0:(new Int8Array(st).set(Z),wt(st),Q(st),1)}catch{}}function ct(He){var st=Ze(),Pt=16777216,nt=2147483648-Pt;if(He>nt)return!1;for(var d=16777216,J=Math.max(st,d);J<He;)J<=536870912?J=k(2*J,Pt):J=Math.min(k((3*J+2147483648)/4,Pt),nt);var Dn=tn(J);return!!Dn}var Vt=typeof atob=="function"?atob:function(He){var st="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Pt="",nt,d,J,Dn,Ai,Qn,Pn,ri=0;He=He.replace(/[^A-Za-z0-9\+\/\=]/g,"");do Dn=st.indexOf(He.charAt(ri++)),Ai=st.indexOf(He.charAt(ri++)),Qn=st.indexOf(He.charAt(ri++)),Pn=st.indexOf(He.charAt(ri++)),nt=Dn<<2|Ai>>4,d=(Ai&15)<<4|Qn>>2,J=(Qn&3)<<6|Pn,Pt=Pt+String.fromCharCode(nt),Qn!==64&&(Pt=Pt+String.fromCharCode(d)),Pn!==64&&(Pt=Pt+String.fromCharCode(J));while(ri<He.length);return Pt};function fn(He){try{for(var st=Vt(He),Pt=new Uint8Array(st.length),nt=0;nt<st.length;++nt)Pt[nt]=st.charCodeAt(nt);return Pt}catch{throw new Error("Converting base64 string to bytes failed.")}}function ve(He){if(me(He))return fn(He.slice(Tn.length))}var Fe={Math,Int8Array,Int32Array,Uint8Array,Float32Array,Float64Array},Tt={b:c,c:f,d:ut,e:Ot,f:Ze,g:nn,h:ct,i:Kt,o:Ke,p:ge},le=function(He,st,Pt){"almost asm";var nt=new He.Int8Array(Pt),d=new He.Int32Array(Pt);new He.Uint8Array(Pt),new He.Float32Array(Pt);var J=new He.Float64Array(Pt),Dn=st.o|0,Ai=st.p|0,Qn=He.Math.floor,Pn=He.Math.abs,ri=He.Math.sqrt,pl=He.Math.pow,yi=He.Math.cos,qn=He.Math.sin,la=He.Math.tan,Cu=He.Math.acos,j3=He.Math.asin,oe=He.Math.atan,Ee=He.Math.atan2,Ve=He.Math.ceil,ze=He.Math.imul,Pe=He.Math.min,vt=He.Math.max,Bt=He.Math.clz32,dt=st.b,te=st.c,Et=st.d,Rn=st.e,dn=st.f,si=st.g,Ni=st.h,pr=st.i,K=28640;function Bi(h){return nt=new Int8Array(h),d=new Int32Array(h),J=new Float64Array(h),Pt=h,!0}function yn(h){h=h|0;var A=0;return A=K,K=K+h|0,K=K+15&-16,A|0}function rr(){return K|0}function vi(h){h=h|0,K=h}function ua(h,A){h=h|0,K=h}function Kl(h,A){h=h|0,A=A|0;var g=0,x=0,b=0;return(h|0)<0?(A=2,A|0):(h|0)>13780509?(A=J3(15,A)|0,A|0):(g=((h|0)<0)<<31>>31,b=fa(h|0,g|0,3,0)|0,x=te()|0,g=An(h|0,g|0,1,0)|0,g=fa(b|0,x|0,g|0,te()|0)|0,g=An(g|0,te()|0,1,0)|0,h=te()|0,d[A>>2]=g,d[A+4>>2]=h,A=0,A|0)}function Ws(h,A,g,x){return h=h|0,A=A|0,g=g|0,x=x|0,W0(h,A,g,x,0)|0}function W0(h,A,g,x,b){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0;var w=0,N=0,D=0,U=0,G=0;if(U=K,K=K+16|0,N=U,!(Wi(h,A,g,x,b)|0))return x=0,K=U,x|0;do if((g|0)>=0){if((g|0)>13780509){if(w=J3(15,N)|0,w|0)break;D=N,N=d[D>>2]|0,D=d[D+4>>2]|0}else w=((g|0)<0)<<31>>31,G=fa(g|0,w|0,3,0)|0,D=te()|0,w=An(g|0,w|0,1,0)|0,w=fa(G|0,D|0,w|0,te()|0)|0,w=An(w|0,te()|0,1,0)|0,D=te()|0,d[N>>2]=w,d[N+4>>2]=D,N=w;if(Ya(x|0,0,N<<3|0)|0,b|0){Ya(b|0,0,N<<2|0)|0,w=Cr(h,A,g,x,b,N,D,0)|0;break}w=go(N,4)|0,w?(G=Cr(h,A,g,x,w,N,D,0)|0,_n(w),w=G):w=13}else w=2;while(!1);return G=w,K=U,G|0}function Wi(h,A,g,x,b){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0;var w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0;if(_e=K,K=K+16|0,Ae=_e,he=_e+8|0,pe=Ae,d[pe>>2]=h,d[pe+4>>2]=A,(g|0)<0)return he=2,K=_e,he|0;if(w=x,d[w>>2]=h,d[w+4>>2]=A,w=(b|0)!=0,w&&(d[b>>2]=0),Fi(h,A)|0)return he=9,K=_e,he|0;d[he>>2]=0;e:do if((g|0)>=1)if(w)for(X=1,G=0,se=0,pe=1,w=h;;){if(!(G|se)){if(w=wi(w,A,4,he,Ae)|0,w|0)break e;if(A=Ae,w=d[A>>2]|0,A=d[A+4>>2]|0,Fi(w,A)|0){w=9;break e}}if(w=wi(w,A,d[26800+(se<<2)>>2]|0,he,Ae)|0,w|0)break e;if(A=Ae,w=d[A>>2]|0,A=d[A+4>>2]|0,h=x+(X<<3)|0,d[h>>2]=w,d[h+4>>2]=A,d[b+(X<<2)>>2]=pe,h=G+1|0,N=(h|0)==(pe|0),D=se+1|0,U=(D|0)==6,Fi(w,A)|0){w=9;break e}if(pe=pe+(U&N&1)|0,(pe|0)>(g|0)){w=0;break}else X=X+1|0,G=N?0:h,se=N?U?0:D:se}else for(X=1,G=0,se=0,pe=1,w=h;;){if(!(G|se)){if(w=wi(w,A,4,he,Ae)|0,w|0)break e;if(A=Ae,w=d[A>>2]|0,A=d[A+4>>2]|0,Fi(w,A)|0){w=9;break e}}if(w=wi(w,A,d[26800+(se<<2)>>2]|0,he,Ae)|0,w|0)break e;if(A=Ae,w=d[A>>2]|0,A=d[A+4>>2]|0,h=x+(X<<3)|0,d[h>>2]=w,d[h+4>>2]=A,h=G+1|0,N=(h|0)==(pe|0),D=se+1|0,U=(D|0)==6,Fi(w,A)|0){w=9;break e}if(pe=pe+(U&N&1)|0,(pe|0)>(g|0)){w=0;break}else X=X+1|0,G=N?0:h,se=N?U?0:D:se}else w=0;while(!1);return he=w,K=_e,he|0}function Cr(h,A,g,x,b,w,N,D){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0,w=w|0,N=N|0,D=D|0;var U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0,ke=0;if(_e=K,K=K+16|0,Ae=_e+8|0,he=_e,U=Uu(h|0,A|0,w|0,N|0)|0,X=te()|0,se=x+(U<<3)|0,Ne=se,ke=d[Ne>>2]|0,Ne=d[Ne+4>>2]|0,G=(ke|0)==(h|0)&(Ne|0)==(A|0),!((ke|0)==0&(Ne|0)==0|G))do U=An(U|0,X|0,1,0)|0,U=Rs(U|0,te()|0,w|0,N|0)|0,X=te()|0,se=x+(U<<3)|0,ke=se,Ne=d[ke>>2]|0,ke=d[ke+4>>2]|0,G=(Ne|0)==(h|0)&(ke|0)==(A|0);while(!((Ne|0)==0&(ke|0)==0|G));if(U=b+(U<<2)|0,G&&(d[U>>2]|0)<=(D|0)||(ke=se,d[ke>>2]=h,d[ke+4>>2]=A,d[U>>2]=D,(D|0)>=(g|0)))return ke=0,K=_e,ke|0;switch(G=D+1|0,d[Ae>>2]=0,U=wi(h,A,2,Ae,he)|0,U|0){case 9:{pe=9;break}case 0:{U=he,U=Cr(d[U>>2]|0,d[U+4>>2]|0,g,x,b,w,N,G)|0,U||(pe=9);break}}e:do if((pe|0)==9){switch(d[Ae>>2]=0,U=wi(h,A,3,Ae,he)|0,U|0){case 9:break;case 0:{if(U=he,U=Cr(d[U>>2]|0,d[U+4>>2]|0,g,x,b,w,N,G)|0,U|0)break e;break}default:break e}switch(d[Ae>>2]=0,U=wi(h,A,1,Ae,he)|0,U|0){case 9:break;case 0:{if(U=he,U=Cr(d[U>>2]|0,d[U+4>>2]|0,g,x,b,w,N,G)|0,U|0)break e;break}default:break e}switch(d[Ae>>2]=0,U=wi(h,A,5,Ae,he)|0,U|0){case 9:break;case 0:{if(U=he,U=Cr(d[U>>2]|0,d[U+4>>2]|0,g,x,b,w,N,G)|0,U|0)break e;break}default:break e}switch(d[Ae>>2]=0,U=wi(h,A,4,Ae,he)|0,U|0){case 9:break;case 0:{if(U=he,U=Cr(d[U>>2]|0,d[U+4>>2]|0,g,x,b,w,N,G)|0,U|0)break e;break}default:break e}switch(d[Ae>>2]=0,U=wi(h,A,6,Ae,he)|0,U|0){case 9:break;case 0:{if(U=he,U=Cr(d[U>>2]|0,d[U+4>>2]|0,g,x,b,w,N,G)|0,U|0)break e;break}default:break e}return ke=0,K=_e,ke|0}while(!1);return ke=U,K=_e,ke|0}function wi(h,A,g,x,b){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0;var w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0;if(g>>>0>6)return b=1,b|0;if(se=(d[x>>2]|0)%6|0,d[x>>2]=se,(se|0)>0){w=0;do g=gl(g)|0,w=w+1|0;while((w|0)<(d[x>>2]|0))}if(se=ht(h|0,A|0,45)|0,te()|0,X=se&127,X>>>0>121)return b=5,b|0;U=Es(h,A)|0,w=ht(h|0,A|0,52)|0,te()|0,w=w&15;e:do if(!w)G=8;else{for(;;){if(N=(15-w|0)*3|0,D=ht(h|0,A|0,N|0)|0,te()|0,D=D&7,(D|0)==7){A=5;break}if(he=(ys(w)|0)==0,w=w+-1|0,pe=xt(7,0,N|0)|0,A=A&~(te()|0),Ae=xt(d[(he?432:16)+(D*28|0)+(g<<2)>>2]|0,0,N|0)|0,N=te()|0,g=d[(he?640:224)+(D*28|0)+(g<<2)>>2]|0,h=Ae|h&~pe,A=N|A,!g){g=0;break e}if(!w){G=8;break e}}return A|0}while(!1);(G|0)==8&&(he=d[848+(X*28|0)+(g<<2)>>2]|0,Ae=xt(he|0,0,45)|0,h=Ae|h,A=te()|0|A&-1040385,g=d[4272+(X*28|0)+(g<<2)>>2]|0,(he&127|0)==127&&(he=xt(d[848+(X*28|0)+20>>2]|0,0,45)|0,A=te()|0|A&-1040385,g=d[4272+(X*28|0)+20>>2]|0,h=I1(he|h,A)|0,A=te()|0,d[x>>2]=(d[x>>2]|0)+1)),D=ht(h|0,A|0,45)|0,te()|0,D=D&127;e:do if(Ji(D)|0){t:do if((Es(h,A)|0)==1){if((X|0)!=(D|0))if(P8(D,d[7696+(X*28|0)>>2]|0)|0){h=qh(h,A)|0,N=1,A=te()|0;break}else Et(27795,26864,436,26872);switch(U|0){case 3:{h=I1(h,A)|0,A=te()|0,d[x>>2]=(d[x>>2]|0)+1,N=0;break t}case 5:{h=qh(h,A)|0,A=te()|0,d[x>>2]=(d[x>>2]|0)+5,N=0;break t}case 0:return he=9,he|0;default:return he=1,he|0}}else N=0;while(!1);if((g|0)>0){w=0;do h=mr(h,A)|0,A=te()|0,w=w+1|0;while((w|0)!=(g|0))}if((X|0)!=(D|0)){if(!(Lh(D)|0)){if((N|0)!=0|(Es(h,A)|0)!=5)break;d[x>>2]=(d[x>>2]|0)+1;break}switch(se&127){case 8:case 118:break e}(Es(h,A)|0)!=3&&(d[x>>2]=(d[x>>2]|0)+1)}}else if((g|0)>0){w=0;do h=I1(h,A)|0,A=te()|0,w=w+1|0;while((w|0)!=(g|0))}while(!1);return d[x>>2]=((d[x>>2]|0)+g|0)%6|0,he=b,d[he>>2]=h,d[he+4>>2]=A,he=0,he|0}function gs(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0,G=0;for(D=K,K=K+16|0,w=D,N=D+8|0,b=(Fi(h,A)|0)==0,b=b?1:2;;){if(d[N>>2]=0,G=(wi(h,A,b,N,w)|0)==0,U=w,G&((d[U>>2]|0)==(g|0)?(d[U+4>>2]|0)==(x|0):0)){h=4;break}if(b=b+1|0,b>>>0>=7){b=7,h=4;break}}return(h|0)==4?(K=D,b|0):0}function Xs(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0;if(he=K,K=K+16|0,pe=he,Ae=he+8|0,se=pe,d[se>>2]=h,d[se+4>>2]=A,!g)return Ae=x,d[Ae>>2]=h,d[Ae+4>>2]=A,Ae=0,K=he,Ae|0;d[Ae>>2]=0;e:do if(Fi(h,A)|0)h=9;else{if(w=(g|0)>0,w){b=0,se=h;do{if(h=wi(se,A,4,Ae,pe)|0,h|0)break e;if(A=pe,se=d[A>>2]|0,A=d[A+4>>2]|0,b=b+1|0,Fi(se,A)|0){h=9;break e}}while((b|0)<(g|0));if(X=x,d[X>>2]=se,d[X+4>>2]=A,X=g+-1|0,w){G=0,h=1;do{if(b=26800+(G<<2)|0,(G|0)==5)for(N=d[b>>2]|0,w=0,b=h;;){if(h=pe,h=wi(d[h>>2]|0,d[h+4>>2]|0,N,Ae,pe)|0,h|0)break e;if((w|0)!=(X|0))if(U=pe,D=d[U>>2]|0,U=d[U+4>>2]|0,h=x+(b<<3)|0,d[h>>2]=D,d[h+4>>2]=U,!(Fi(D,U)|0))h=b+1|0;else{h=9;break e}else h=b;if(w=w+1|0,(w|0)>=(g|0))break;b=h}else for(N=pe,U=d[b>>2]|0,D=0,b=h,w=d[N>>2]|0,N=d[N+4>>2]|0;;){if(h=wi(w,N,U,Ae,pe)|0,h|0)break e;if(N=pe,w=d[N>>2]|0,N=d[N+4>>2]|0,h=x+(b<<3)|0,d[h>>2]=w,d[h+4>>2]=N,h=b+1|0,Fi(w,N)|0){h=9;break e}if(D=D+1|0,(D|0)>=(g|0))break;b=h}G=G+1|0}while(G>>>0<6);h=pe,N=se,b=d[h>>2]|0,w=A,h=d[h+4>>2]|0}else N=se,b=se,w=A,h=A}else N=x,d[N>>2]=h,d[N+4>>2]=A,N=h,b=h,w=A,h=A;h=(N|0)==(b|0)&(w|0)==(h|0)?0:9}while(!1);return Ae=h,K=he,Ae|0}function Zl(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0,G=0;if(D=K,K=K+48|0,b=D+16|0,w=D+8|0,N=D,g=u2(g)|0,g|0)return N=g,K=D,N|0;if(G=h,U=d[G+4>>2]|0,g=w,d[g>>2]=d[G>>2],d[g+4>>2]=U,G1(w,b),g=Ih(b,A,N)|0,!g){if(A=d[w>>2]|0,w=d[h+8>>2]|0,(w|0)>0){b=d[h+12>>2]|0,g=0;do A=(d[b+(g<<3)>>2]|0)+A|0,g=g+1|0;while((g|0)<(w|0))}g=N,b=d[g>>2]|0,g=d[g+4>>2]|0,w=((A|0)<0)<<31>>31,(g|0)<(w|0)|(g|0)==(w|0)&b>>>0<A>>>0?(g=N,d[g>>2]=A,d[g+4>>2]=w,g=w):A=b,U=An(A|0,g|0,12,0)|0,G=te()|0,g=N,d[g>>2]=U,d[g+4>>2]=G,g=x,d[g>>2]=U,d[g+4>>2]=G,g=0}return G=g,K=D,G|0}function ml(h,A,g,x,b,w,N){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0,w=w|0,N=N|0;var D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0,ke=0,Ue=0,De=0,Te=0,_t=0,rn=0,Ht=0,Nn=0,Ln=0,Jn=0,vn=0,Wt=0,ot=0,Mn=0,ei=0,Bn=0,Vi=0,Xi=0,Ou=0;if(ei=K,K=K+64|0,vn=ei+48|0,Wt=ei+32|0,ot=ei+24|0,_t=ei+8|0,rn=ei,U=d[h>>2]|0,(U|0)<=0)return Mn=0,K=ei,Mn|0;for(Ht=h+4|0,Nn=vn+8|0,Ln=Wt+8|0,Jn=_t+8|0,D=0,De=0;;){G=d[Ht>>2]|0,Ue=G+(De<<4)|0,d[vn>>2]=d[Ue>>2],d[vn+4>>2]=d[Ue+4>>2],d[vn+8>>2]=d[Ue+8>>2],d[vn+12>>2]=d[Ue+12>>2],(De|0)==(U+-1|0)?(d[Wt>>2]=d[G>>2],d[Wt+4>>2]=d[G+4>>2],d[Wt+8>>2]=d[G+8>>2],d[Wt+12>>2]=d[G+12>>2]):(Ue=G+(De+1<<4)|0,d[Wt>>2]=d[Ue>>2],d[Wt+4>>2]=d[Ue+4>>2],d[Wt+8>>2]=d[Ue+8>>2],d[Wt+12>>2]=d[Ue+12>>2]),U=Fh(vn,Wt,x,ot)|0;e:do if(U)G=0,D=U;else if(U=ot,G=d[U>>2]|0,U=d[U+4>>2]|0,(U|0)>0|(U|0)==0&G>>>0>0){ke=0,Ue=0;t:for(;;){if(Vi=1/(+(G>>>0)+4294967296*+(U|0)),Ou=+J[vn>>3],U=ws(G|0,U|0,ke|0,Ue|0)|0,Xi=+(U>>>0)+4294967296*+(te()|0),Bn=+(ke>>>0)+4294967296*+(Ue|0),J[_t>>3]=Vi*(Ou*Xi)+Vi*(+J[Wt>>3]*Bn),J[Jn>>3]=Vi*(+J[Nn>>3]*Xi)+Vi*(+J[Ln>>3]*Bn),U=Hh(_t,x,rn)|0,U|0){D=U;break}Ne=rn,_e=d[Ne>>2]|0,Ne=d[Ne+4>>2]|0,pe=Uu(_e|0,Ne|0,A|0,g|0)|0,X=te()|0,U=N+(pe<<3)|0,se=U,G=d[se>>2]|0,se=d[se+4>>2]|0;n:do if((G|0)==0&(se|0)==0)Te=U,Mn=16;else for(Ae=0,he=0;;){if((Ae|0)>(g|0)|(Ae|0)==(g|0)&he>>>0>A>>>0){D=1;break t}if((G|0)==(_e|0)&(se|0)==(Ne|0))break n;if(U=An(pe|0,X|0,1,0)|0,pe=Rs(U|0,te()|0,A|0,g|0)|0,X=te()|0,he=An(he|0,Ae|0,1,0)|0,Ae=te()|0,U=N+(pe<<3)|0,se=U,G=d[se>>2]|0,se=d[se+4>>2]|0,(G|0)==0&(se|0)==0){Te=U,Mn=16;break}}while(!1);if((Mn|0)==16&&(Mn=0,!((_e|0)==0&(Ne|0)==0))&&(he=Te,d[he>>2]=_e,d[he+4>>2]=Ne,he=w+(d[b>>2]<<3)|0,d[he>>2]=_e,d[he+4>>2]=Ne,he=b,he=An(d[he>>2]|0,d[he+4>>2]|0,1,0)|0,_e=te()|0,Ne=b,d[Ne>>2]=he,d[Ne+4>>2]=_e),ke=An(ke|0,Ue|0,1,0)|0,Ue=te()|0,U=ot,G=d[U>>2]|0,U=d[U+4>>2]|0,!((U|0)>(Ue|0)|(U|0)==(Ue|0)&G>>>0>ke>>>0)){G=1;break e}}G=0}else G=1;while(!1);if(De=De+1|0,!G){Mn=21;break}if(U=d[h>>2]|0,(De|0)>=(U|0)){D=0,Mn=21;break}}return(Mn|0)==21?(K=ei,D|0):0}function Dh(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0,ke=0,Ue=0,De=0,Te=0,_t=0,rn=0,Ht=0,Nn=0,Ln=0,Jn=0,vn=0,Wt=0,ot=0,Mn=0,ei=0,Bn=0,Vi=0,Xi=0;if(Xi=K,K=K+112|0,Mn=Xi+80|0,U=Xi+72|0,ei=Xi,Bn=Xi+56|0,b=u2(g)|0,b|0)return Vi=b,K=Xi,Vi|0;if(G=h+8|0,Vi=ko((d[G>>2]<<5)+32|0)|0,!Vi)return Vi=13,K=Xi,Vi|0;if(Zh(h,Vi),b=u2(g)|0,!b){if(Wt=h,ot=d[Wt+4>>2]|0,b=U,d[b>>2]=d[Wt>>2],d[b+4>>2]=ot,G1(U,Mn),b=Ih(Mn,A,ei)|0,b)Wt=0,ot=0;else{if(b=d[U>>2]|0,w=d[G>>2]|0,(w|0)>0){N=d[h+12>>2]|0,g=0;do b=(d[N+(g<<3)>>2]|0)+b|0,g=g+1|0;while((g|0)!=(w|0));g=b}else g=b;b=ei,w=d[b>>2]|0,b=d[b+4>>2]|0,N=((g|0)<0)<<31>>31,(b|0)<(N|0)|(b|0)==(N|0)&w>>>0<g>>>0?(b=ei,d[b>>2]=g,d[b+4>>2]=N,b=N):g=w,Wt=An(g|0,b|0,12,0)|0,ot=te()|0,b=ei,d[b>>2]=Wt,d[b+4>>2]=ot,b=0}if(!b){if(g=go(Wt,8)|0,!g)return _n(Vi),Vi=13,K=Xi,Vi|0;if(D=go(Wt,8)|0,!D)return _n(Vi),_n(g),Vi=13,K=Xi,Vi|0;Jn=Mn,d[Jn>>2]=0,d[Jn+4>>2]=0,Jn=h,vn=d[Jn+4>>2]|0,b=U,d[b>>2]=d[Jn>>2],d[b+4>>2]=vn,b=ml(U,Wt,ot,A,Mn,g,D)|0;e:do if(b)_n(g),_n(D),_n(Vi);else{t:do if((d[G>>2]|0)>0){for(N=h+12|0,w=0;b=ml((d[N>>2]|0)+(w<<3)|0,Wt,ot,A,Mn,g,D)|0,w=w+1|0,!(b|0);)if((w|0)>=(d[G>>2]|0))break t;_n(g),_n(D),_n(Vi);break e}while(!1);(ot|0)>0|(ot|0)==0&Wt>>>0>0&&Ya(D|0,0,Wt<<3|0)|0,vn=Mn,Jn=d[vn+4>>2]|0;t:do if((Jn|0)>0|(Jn|0)==0&(d[vn>>2]|0)>>>0>0){Ht=g,Nn=D,Ln=g,Jn=D,vn=g,b=g,Te=g,_t=D,rn=D,g=D;n:for(;;){for(Ne=0,ke=0,Ue=0,De=0,w=0,N=0;;){D=ei,U=D+56|0;do d[D>>2]=0,D=D+4|0;while((D|0)<(U|0));if(A=Ht+(Ne<<3)|0,G=d[A>>2]|0,A=d[A+4>>2]|0,Wi(G,A,1,ei,0)|0){D=ei,U=D+56|0;do d[D>>2]=0,D=D+4|0;while((D|0)<(U|0));D=go(7,4)|0,D|0&&(Cr(G,A,1,ei,D,7,0,0)|0,_n(D))}for(_e=0;;){he=ei+(_e<<3)|0,Ae=d[he>>2]|0,he=d[he+4>>2]|0;i:do if((Ae|0)==0&(he|0)==0)D=w,U=N;else{if(X=Uu(Ae|0,he|0,Wt|0,ot|0)|0,G=te()|0,D=x+(X<<3)|0,A=D,U=d[A>>2]|0,A=d[A+4>>2]|0,!((U|0)==0&(A|0)==0)){se=0,pe=0;do{if((se|0)>(ot|0)|(se|0)==(ot|0)&pe>>>0>Wt>>>0)break n;if((U|0)==(Ae|0)&(A|0)==(he|0)){D=w,U=N;break i}D=An(X|0,G|0,1,0)|0,X=Rs(D|0,te()|0,Wt|0,ot|0)|0,G=te()|0,pe=An(pe|0,se|0,1,0)|0,se=te()|0,D=x+(X<<3)|0,A=D,U=d[A>>2]|0,A=d[A+4>>2]|0}while(!((U|0)==0&(A|0)==0))}if((Ae|0)==0&(he|0)==0){D=w,U=N;break}vs(Ae,he,Bn)|0,Jh(h,Vi,Bn)|0&&(pe=An(w|0,N|0,1,0)|0,N=te()|0,se=D,d[se>>2]=Ae,d[se+4>>2]=he,w=Nn+(w<<3)|0,d[w>>2]=Ae,d[w+4>>2]=he,w=pe),D=w,U=N}while(!1);if(_e=_e+1|0,_e>>>0>=7)break;w=D,N=U}if(Ne=An(Ne|0,ke|0,1,0)|0,ke=te()|0,Ue=An(Ue|0,De|0,1,0)|0,De=te()|0,N=Mn,w=d[N>>2]|0,N=d[N+4>>2]|0,(De|0)<(N|0)|(De|0)==(N|0)&Ue>>>0<w>>>0)w=D,N=U;else break}if((N|0)>0|(N|0)==0&w>>>0>0){w=0,N=0;do De=Ht+(w<<3)|0,d[De>>2]=0,d[De+4>>2]=0,w=An(w|0,N|0,1,0)|0,N=te()|0,De=Mn,Ue=d[De+4>>2]|0;while((N|0)<(Ue|0)|((N|0)==(Ue|0)?w>>>0<(d[De>>2]|0)>>>0:0))}if(De=Mn,d[De>>2]=D,d[De+4>>2]=U,(U|0)>0|(U|0)==0&D>>>0>0)_e=g,Ne=rn,ke=vn,Ue=_t,De=Nn,g=Te,rn=b,_t=Ln,Te=_e,b=Ne,vn=Jn,Jn=ke,Ln=Ue,Nn=Ht,Ht=De;else break t}_n(Ln),_n(Jn),_n(Vi),b=1;break e}else b=D;while(!1);_n(Vi),_n(g),_n(b),b=0}while(!1);return Vi=b,K=Xi,Vi|0}}return _n(Vi),Vi=b,K=Xi,Vi|0}function Ph(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0;if(X=K,K=K+176|0,U=X,(A|0)<1)return sg(g,0,0),G=0,K=X,G|0;for(D=h,D=ht(d[D>>2]|0,d[D+4>>2]|0,52)|0,te()|0,sg(g,(A|0)>6?A:6,D&15),D=0;x=h+(D<<3)|0,x=F1(d[x>>2]|0,d[x+4>>2]|0,U)|0,!(x|0);){if(x=d[U>>2]|0,(x|0)>0){N=0;do w=U+8+(N<<4)|0,N=N+1|0,x=U+8+(((N|0)%(x|0)|0)<<4)|0,b=i5(g,x,w)|0,b?K0(g,b)|0:og(g,w,x)|0,x=d[U>>2]|0;while((N|0)<(x|0))}if(D=D+1|0,(D|0)>=(A|0)){x=0,G=13;break}}return(G|0)==13?(K=X,x|0):(ag(g),G=x,K=X,G|0)}function wm(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0;if(w=K,K=K+32|0,x=w,b=w+16|0,h=Ph(h,A,b)|0,h|0)return g=h,K=w,g|0;if(d[g>>2]=0,d[g+4>>2]=0,d[g+8>>2]=0,h=n5(b)|0,h|0)do{A=Xm(g)|0;do t4(A,h)|0,N=h+16|0,d[x>>2]=d[N>>2],d[x+4>>2]=d[N+4>>2],d[x+8>>2]=d[N+8>>2],d[x+12>>2]=d[N+12>>2],K0(b,h)|0,h=H1(b,x)|0;while(h|0);h=n5(b)|0}while(h|0);return ag(b),h=Qh(g)|0,h?(l7(g),N=h,K=w,N|0):(N=0,K=w,N|0)}function Ji(h){return h=h|0,h>>>0>121?(h=0,h|0):(h=d[7696+(h*28|0)+16>>2]|0,h|0)}function Lh(h){return h=h|0,(h|0)==4|(h|0)==117|0}function N8(h){return h=h|0,d[11120+((d[h>>2]|0)*216|0)+((d[h+4>>2]|0)*72|0)+((d[h+8>>2]|0)*24|0)+(d[h+12>>2]<<3)>>2]|0}function Rm(h){return h=h|0,d[11120+((d[h>>2]|0)*216|0)+((d[h+4>>2]|0)*72|0)+((d[h+8>>2]|0)*24|0)+(d[h+12>>2]<<3)+4>>2]|0}function Cm(h,A){h=h|0,A=A|0,h=7696+(h*28|0)|0,d[A>>2]=d[h>>2],d[A+4>>2]=d[h+4>>2],d[A+8>>2]=d[h+8>>2],d[A+12>>2]=d[h+12>>2]}function D8(h,A){h=h|0,A=A|0;var g=0,x=0;if(A>>>0>20)return A=-1,A|0;do if((d[11120+(A*216|0)>>2]|0)!=(h|0))if((d[11120+(A*216|0)+8>>2]|0)!=(h|0))if((d[11120+(A*216|0)+16>>2]|0)!=(h|0))if((d[11120+(A*216|0)+24>>2]|0)!=(h|0))if((d[11120+(A*216|0)+32>>2]|0)!=(h|0))if((d[11120+(A*216|0)+40>>2]|0)!=(h|0))if((d[11120+(A*216|0)+48>>2]|0)!=(h|0))if((d[11120+(A*216|0)+56>>2]|0)!=(h|0))if((d[11120+(A*216|0)+64>>2]|0)!=(h|0))if((d[11120+(A*216|0)+72>>2]|0)!=(h|0))if((d[11120+(A*216|0)+80>>2]|0)!=(h|0))if((d[11120+(A*216|0)+88>>2]|0)!=(h|0))if((d[11120+(A*216|0)+96>>2]|0)!=(h|0))if((d[11120+(A*216|0)+104>>2]|0)!=(h|0))if((d[11120+(A*216|0)+112>>2]|0)!=(h|0))if((d[11120+(A*216|0)+120>>2]|0)!=(h|0))if((d[11120+(A*216|0)+128>>2]|0)!=(h|0))if((d[11120+(A*216|0)+136>>2]|0)==(h|0))h=2,g=1,x=2;else{if((d[11120+(A*216|0)+144>>2]|0)==(h|0)){h=0,g=2,x=0;break}if((d[11120+(A*216|0)+152>>2]|0)==(h|0)){h=0,g=2,x=1;break}if((d[11120+(A*216|0)+160>>2]|0)==(h|0)){h=0,g=2,x=2;break}if((d[11120+(A*216|0)+168>>2]|0)==(h|0)){h=1,g=2,x=0;break}if((d[11120+(A*216|0)+176>>2]|0)==(h|0)){h=1,g=2,x=1;break}if((d[11120+(A*216|0)+184>>2]|0)==(h|0)){h=1,g=2,x=2;break}if((d[11120+(A*216|0)+192>>2]|0)==(h|0)){h=2,g=2,x=0;break}if((d[11120+(A*216|0)+200>>2]|0)==(h|0)){h=2,g=2,x=1;break}if((d[11120+(A*216|0)+208>>2]|0)==(h|0)){h=2,g=2,x=2;break}else h=-1;return h|0}else h=2,g=1,x=1;else h=2,g=1,x=0;else h=1,g=1,x=2;else h=1,g=1,x=1;else h=1,g=1,x=0;else h=0,g=1,x=2;else h=0,g=1,x=1;else h=0,g=1,x=0;else h=2,g=0,x=2;else h=2,g=0,x=1;else h=2,g=0,x=0;else h=1,g=0,x=2;else h=1,g=0,x=1;else h=1,g=0,x=0;else h=0,g=0,x=2;else h=0,g=0,x=1;else h=0,g=0,x=0;while(!1);return A=d[11120+(A*216|0)+(g*72|0)+(h*24|0)+(x<<3)+4>>2]|0,A|0}function P8(h,A){return h=h|0,A=A|0,(d[7696+(h*28|0)+20>>2]|0)==(A|0)?(A=1,A|0):(A=(d[7696+(h*28|0)+24>>2]|0)==(A|0),A|0)}function Bh(h,A){return h=h|0,A=A|0,d[848+(h*28|0)+(A<<2)>>2]|0}function W3(h,A){return h=h|0,A=A|0,(d[848+(h*28|0)>>2]|0)==(A|0)?(A=0,A|0):(d[848+(h*28|0)+4>>2]|0)==(A|0)?(A=1,A|0):(d[848+(h*28|0)+8>>2]|0)==(A|0)?(A=2,A|0):(d[848+(h*28|0)+12>>2]|0)==(A|0)?(A=3,A|0):(d[848+(h*28|0)+16>>2]|0)==(A|0)?(A=4,A|0):(d[848+(h*28|0)+20>>2]|0)==(A|0)?(A=5,A|0):((d[848+(h*28|0)+24>>2]|0)==(A|0)?6:7)|0}function Nm(){return 122}function Dm(h){h=h|0;var A=0,g=0,x=0;A=0;do xt(A|0,0,45)|0,x=te()|0|134225919,g=h+(A<<3)|0,d[g>>2]=-1,d[g+4>>2]=x,A=A+1|0;while((A|0)!=122);return 0}function Pm(h){h=h|0;var A=0,g=0,x=0;return x=+J[h+16>>3],g=+J[h+24>>3],A=x-g,+(x<g?A+6.283185307179586:A)}function Uh(h){return h=h|0,+J[h+16>>3]<+J[h+24>>3]|0}function Lm(h){return h=h|0,+(+J[h>>3]-+J[h+8>>3])}function Oh(h,A){h=h|0,A=A|0;var g=0,x=0,b=0;return g=+J[A>>3],!(g>=+J[h+8>>3])||!(g<=+J[h>>3])?(A=0,A|0):(x=+J[h+16>>3],g=+J[h+24>>3],b=+J[A+8>>3],A=b>=g,h=b<=x&1,x<g?A&&(h=1):A||(h=0),A=(h|0)!=0,A|0)}function L8(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0;return+J[h>>3]<+J[A+8>>3]||+J[h+8>>3]>+J[A>>3]?(x=0,x|0):(w=+J[h+16>>3],g=h+24|0,X=+J[g>>3],N=w<X,x=A+16|0,G=+J[x>>3],b=A+24|0,U=+J[b>>3],D=G<U,A=X-G<U-w,h=N?D|A?1:2:0,A=D?N?1:A?2:1:0,w=+Wa(w,h),w<+Wa(+J[b>>3],A)||(X=+Wa(+J[g>>3],h),X>+Wa(+J[x>>3],A))?(D=0,D|0):(D=1,D|0))}function fT(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0;w=+J[h+16>>3],U=+J[h+24>>3],h=w<U,D=+J[A+16>>3],N=+J[A+24>>3],b=D<N,A=U-D<N-w,d[g>>2]=h?b|A?1:2:0,d[x>>2]=b?h?1:A?2:1:0}function B8(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0;return+J[h>>3]<+J[A>>3]||+J[h+8>>3]>+J[A+8>>3]?(x=0,x|0):(x=h+16|0,U=+J[x>>3],w=+J[h+24>>3],N=U<w,g=A+16|0,X=+J[g>>3],b=A+24|0,G=+J[b>>3],D=X<G,A=w-X<G-U,h=N?D|A?1:2:0,A=D?N?1:A?2:1:0,w=+Wa(w,h),w<=+Wa(+J[b>>3],A)?(X=+Wa(+J[x>>3],h),D=X>=+Wa(+J[g>>3],A),D|0):(D=0,D|0))}function t2(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0,N=0,D=0;b=K,K=K+176|0,x=b,d[x>>2]=4,D=+J[A>>3],J[x+8>>3]=D,w=+J[A+16>>3],J[x+16>>3]=w,J[x+24>>3]=D,D=+J[A+24>>3],J[x+32>>3]=D,N=+J[A+8>>3],J[x+40>>3]=N,J[x+48>>3]=D,J[x+56>>3]=N,J[x+64>>3]=w,A=x+72|0,g=A+96|0;do d[A>>2]=0,A=A+4|0;while((A|0)<(g|0));W1(h|0,x|0,168)|0,K=b}function Ih(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0;he=K,K=K+288|0,X=he+264|0,se=he+96|0,G=he,D=G,U=D+96|0;do d[D>>2]=0,D=D+4|0;while((D|0)<(U|0));return A=Z3(A,G)|0,A|0?(Ae=A,K=he,Ae|0):(U=G,G=d[U>>2]|0,U=d[U+4>>2]|0,vs(G,U,X)|0,F1(G,U,se)|0,N=+z1(X,se+8|0),J[X>>3]=+J[h>>3],U=X+8|0,J[U>>3]=+J[h+16>>3],J[se>>3]=+J[h+8>>3],G=se+8|0,J[G>>3]=+J[h+24>>3],b=+z1(X,se),Ne=+J[U>>3]-+J[G>>3],w=+Pn(+Ne),_e=+J[X>>3]-+J[se>>3],x=+Pn(+_e),!(Ne==0|_e==0)&&(Ne=+m7(+w,+x),Ne=+Ve(+(b*b/+h2(+(Ne/+h2(+w,+x)),3)/(N*(N*2.59807621135)*.8))),J[Dn>>3]=Ne,pe=~~Ne>>>0,Ae=+Pn(Ne)>=1?Ne>0?~~+Pe(+Qn(Ne/4294967296),4294967295)>>>0:~~+Ve((Ne-+(~~Ne>>>0))/4294967296)>>>0:0,(d[Dn+4>>2]&2146435072|0)!=2146435072)?(se=(pe|0)==0&(Ae|0)==0,A=g,d[A>>2]=se?1:pe,d[A+4>>2]=se?0:Ae,A=0):A=1,Ae=A,K=he,Ae|0)}function Fh(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0,G=0,X=0;G=K,K=K+288|0,N=G+264|0,D=G+96|0,U=G,b=U,w=b+96|0;do d[b>>2]=0,b=b+4|0;while((b|0)<(w|0));return g=Z3(g,U)|0,g|0?(x=g,K=G,x|0):(g=U,b=d[g>>2]|0,g=d[g+4>>2]|0,vs(b,g,N)|0,F1(b,g,D)|0,X=+z1(N,D+8|0),X=+Ve(+(+z1(h,A)/(X*2))),J[Dn>>3]=X,g=~~X>>>0,b=+Pn(X)>=1?X>0?~~+Pe(+Qn(X/4294967296),4294967295)>>>0:~~+Ve((X-+(~~X>>>0))/4294967296)>>>0:0,(d[Dn+4>>2]&2146435072|0)==2146435072?(x=1,K=G,x|0):(U=(g|0)==0&(b|0)==0,d[x>>2]=U?1:g,d[x+4>>2]=U?0:b,x=0,K=G,x|0))}function Bm(h,A){h=h|0,A=+A;var g=0,x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0;w=h+16|0,N=+J[w>>3],g=h+24|0,b=+J[g>>3],x=N-b,x=N<b?x+6.283185307179586:x,G=+J[h>>3],D=h+8|0,U=+J[D>>3],X=G-U,x=(x*A-x)*.5,A=(X*A-X)*.5,G=G+A,J[h>>3]=G>1.5707963267948966?1.5707963267948966:G,A=U-A,J[D>>3]=A<-1.5707963267948966?-1.5707963267948966:A,A=N+x,A=A>3.141592653589793?A+-6.283185307179586:A,J[w>>3]=A<-3.141592653589793?A+6.283185307179586:A,A=b-x,A=A>3.141592653589793?A+-6.283185307179586:A,J[g>>3]=A<-3.141592653589793?A+6.283185307179586:A}function Um(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0,d[h>>2]=A,d[h+4>>2]=g,d[h+8>>2]=x}function U8(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0;se=A+8|0,d[se>>2]=0,U=+J[h>>3],N=+Pn(+U),G=+J[h+8>>3],D=+Pn(+G)*1.1547005383792515,N=N+D*.5,g=~~N,h=~~D,N=N-+(g|0),D=D-+(h|0);do if(N<.5)if(N<.3333333333333333)if(d[A>>2]=g,D<(N+1)*.5){d[A+4>>2]=h;break}else{h=h+1|0,d[A+4>>2]=h;break}else if(pe=1-N,h=(!(D<pe)&1)+h|0,d[A+4>>2]=h,pe<=D&D<N*2){g=g+1|0,d[A>>2]=g;break}else{d[A>>2]=g;break}else{if(!(N<.6666666666666666))if(g=g+1|0,d[A>>2]=g,D<N*.5){d[A+4>>2]=h;break}else{h=h+1|0,d[A+4>>2]=h;break}if(D<1-N){if(d[A+4>>2]=h,N*2+-1<D){d[A>>2]=g;break}}else h=h+1|0,d[A+4>>2]=h;g=g+1|0,d[A>>2]=g}while(!1);do if(U<0)if(h&1){X=(h+1|0)/2|0,X=ws(g|0,((g|0)<0)<<31>>31|0,X|0,((X|0)<0)<<31>>31|0)|0,g=~~(+(g|0)-((+(X>>>0)+4294967296*+(te()|0))*2+1)),d[A>>2]=g;break}else{X=(h|0)/2|0,X=ws(g|0,((g|0)<0)<<31>>31|0,X|0,((X|0)<0)<<31>>31|0)|0,g=~~(+(g|0)-(+(X>>>0)+4294967296*+(te()|0))*2),d[A>>2]=g;break}while(!1);X=A+4|0,G<0&&(g=g-((h<<1|1|0)/2|0)|0,d[A>>2]=g,h=0-h|0,d[X>>2]=h),x=h-g|0,(g|0)<0?(b=0-g|0,d[X>>2]=x,d[se>>2]=b,d[A>>2]=0,h=x,g=0):b=0,(h|0)<0&&(g=g-h|0,d[A>>2]=g,b=b-h|0,d[se>>2]=b,d[X>>2]=0,h=0),w=g-b|0,x=h-b|0,(b|0)<0&&(d[A>>2]=w,d[X>>2]=x,d[se>>2]=0,h=x,g=w,b=0),x=(h|0)<(g|0)?h:g,x=(b|0)<(x|0)?b:x,!((x|0)<=0)&&(d[A>>2]=g-x,d[X>>2]=h-x,d[se>>2]=b-x)}function Ys(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0;A=d[h>>2]|0,N=h+4|0,g=d[N>>2]|0,(A|0)<0&&(g=g-A|0,d[N>>2]=g,w=h+8|0,d[w>>2]=(d[w>>2]|0)-A,d[h>>2]=0,A=0),(g|0)<0?(A=A-g|0,d[h>>2]=A,w=h+8|0,b=(d[w>>2]|0)-g|0,d[w>>2]=b,d[N>>2]=0,g=0):(b=h+8|0,w=b,b=d[b>>2]|0),(b|0)<0&&(A=A-b|0,d[h>>2]=A,g=g-b|0,d[N>>2]=g,d[w>>2]=0,b=0),x=(g|0)<(A|0)?g:A,x=(b|0)<(x|0)?b:x,!((x|0)<=0)&&(d[h>>2]=A-x,d[N>>2]=g-x,d[w>>2]=b-x)}function Nu(h,A){h=h|0,A=A|0;var g=0,x=0;x=d[h+8>>2]|0,g=+((d[h+4>>2]|0)-x|0),J[A>>3]=+((d[h>>2]|0)-x|0)-g*.5,J[A+8>>3]=g*.8660254037844386}function Xr(h,A,g){h=h|0,A=A|0,g=g|0,d[g>>2]=(d[A>>2]|0)+(d[h>>2]|0),d[g+4>>2]=(d[A+4>>2]|0)+(d[h+4>>2]|0),d[g+8>>2]=(d[A+8>>2]|0)+(d[h+8>>2]|0)}function n2(h,A,g){h=h|0,A=A|0,g=g|0,d[g>>2]=(d[h>>2]|0)-(d[A>>2]|0),d[g+4>>2]=(d[h+4>>2]|0)-(d[A+4>>2]|0),d[g+8>>2]=(d[h+8>>2]|0)-(d[A+8>>2]|0)}function O8(h,A){h=h|0,A=A|0;var g=0,x=0;g=ze(d[h>>2]|0,A)|0,d[h>>2]=g,g=h+4|0,x=ze(d[g>>2]|0,A)|0,d[g>>2]=x,h=h+8|0,A=ze(d[h>>2]|0,A)|0,d[h>>2]=A}function i2(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0,D=0;N=d[h>>2]|0,D=(N|0)<0,x=(d[h+4>>2]|0)-(D?N:0)|0,w=(x|0)<0,b=(w?0-x|0:0)+((d[h+8>>2]|0)-(D?N:0))|0,g=(b|0)<0,h=g?0:b,A=(w?0:x)-(g?b:0)|0,b=(D?0:N)-(w?x:0)-(g?b:0)|0,g=(A|0)<(b|0)?A:b,g=(h|0)<(g|0)?h:g,x=(g|0)>0,h=h-(x?g:0)|0,A=A-(x?g:0)|0;e:do switch(b-(x?g:0)|0){case 0:switch(A|0){case 0:return D=h|0?(h|0)==1?1:7:0,D|0;case 1:return D=h|0?(h|0)==1?3:7:2,D|0;default:break e}case 1:switch(A|0){case 0:return D=h|0?(h|0)==1?5:7:4,D|0;case 1:{if(!h)h=6;else break e;return h|0}default:break e}}while(!1);return D=7,D|0}function Om(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0,D=0,U=0,G=0;if(U=h+8|0,N=d[U>>2]|0,D=(d[h>>2]|0)-N|0,G=h+4|0,N=(d[G>>2]|0)-N|0,D>>>0>715827881|N>>>0>715827881){if(x=(D|0)>0,b=2147483647-D|0,w=-2147483648-D|0,(x?(b|0)<(D|0):(w|0)>(D|0))||(g=D<<1,x?(2147483647-g|0)<(D|0):(-2147483648-g|0)>(D|0))||((N|0)>0?(2147483647-N|0)<(N|0):(-2147483648-N|0)>(N|0))||(A=D*3|0,g=N<<1,(x?(b|0)<(g|0):(w|0)>(g|0))||((D|0)>-1?(A|-2147483648|0)>=(N|0):(A^-2147483648|0)<(N|0))))return G=1,G|0}else g=N<<1,A=D*3|0;return x=t0(+(A-N|0)*.14285714285714285)|0,d[h>>2]=x,b=t0(+(g+D|0)*.14285714285714285)|0,d[G>>2]=b,d[U>>2]=0,g=(b|0)<(x|0),A=g?x:b,g=g?b:x,(g|0)<0&&(((g|0)==-2147483648||((A|0)>0?(2147483647-A|0)<(g|0):(-2147483648-A|0)>(g|0)))&&Et(27795,26892,354,26903),((A|0)>-1?(A|-2147483648|0)>=(g|0):(A^-2147483648|0)<(g|0))&&Et(27795,26892,354,26903)),A=b-x|0,(x|0)<0?(g=0-x|0,d[G>>2]=A,d[U>>2]=g,d[h>>2]=0,x=0):(A=b,g=0),(A|0)<0&&(x=x-A|0,d[h>>2]=x,g=g-A|0,d[U>>2]=g,d[G>>2]=0,A=0),w=x-g|0,b=A-g|0,(g|0)<0?(d[h>>2]=w,d[G>>2]=b,d[U>>2]=0,A=b,b=w,g=0):b=x,x=(A|0)<(b|0)?A:b,x=(g|0)<(x|0)?g:x,(x|0)<=0?(G=0,G|0):(d[h>>2]=b-x,d[G>>2]=A-x,d[U>>2]=g-x,G=0,G|0)}function Im(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0,D=0,U=0;if(N=h+8|0,b=d[N>>2]|0,w=(d[h>>2]|0)-b|0,D=h+4|0,b=(d[D>>2]|0)-b|0,w>>>0>715827881|b>>>0>715827881){if(g=(w|0)>0,(g?(2147483647-w|0)<(w|0):(-2147483648-w|0)>(w|0))||(A=w<<1,x=(b|0)>0,x?(2147483647-b|0)<(b|0):(-2147483648-b|0)>(b|0)))return D=1,D|0;if(U=b<<1,(x?(2147483647-U|0)<(b|0):(-2147483648-U|0)>(b|0))||(g?(2147483647-A|0)<(b|0):(-2147483648-A|0)>(b|0))||(g=b*3|0,(b|0)>-1?(g|-2147483648|0)>=(w|0):(g^-2147483648|0)<(w|0)))return U=1,U|0}else g=b*3|0,A=w<<1;return x=t0(+(A+b|0)*.14285714285714285)|0,d[h>>2]=x,b=t0(+(g-w|0)*.14285714285714285)|0,d[D>>2]=b,d[N>>2]=0,g=(b|0)<(x|0),A=g?x:b,g=g?b:x,(g|0)<0&&(((g|0)==-2147483648||((A|0)>0?(2147483647-A|0)<(g|0):(-2147483648-A|0)>(g|0)))&&Et(27795,26892,402,26917),((A|0)>-1?(A|-2147483648|0)>=(g|0):(A^-2147483648|0)<(g|0))&&Et(27795,26892,402,26917)),A=b-x|0,(x|0)<0?(g=0-x|0,d[D>>2]=A,d[N>>2]=g,d[h>>2]=0,x=0):(A=b,g=0),(A|0)<0&&(x=x-A|0,d[h>>2]=x,g=g-A|0,d[N>>2]=g,d[D>>2]=0,A=0),w=x-g|0,b=A-g|0,(g|0)<0?(d[h>>2]=w,d[D>>2]=b,d[N>>2]=0,A=b,b=w,g=0):b=x,x=(A|0)<(b|0)?A:b,x=(g|0)<(x|0)?g:x,(x|0)<=0?(U=0,U|0):(d[h>>2]=b-x,d[D>>2]=A-x,d[N>>2]=g-x,U=0,U|0)}function hT(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0,D=0;N=h+8|0,g=d[N>>2]|0,A=(d[h>>2]|0)-g|0,D=h+4|0,g=(d[D>>2]|0)-g|0,x=t0(+((A*3|0)-g|0)*.14285714285714285)|0,d[h>>2]=x,A=t0(+((g<<1)+A|0)*.14285714285714285)|0,d[D>>2]=A,d[N>>2]=0,g=A-x|0,(x|0)<0?(w=0-x|0,d[D>>2]=g,d[N>>2]=w,d[h>>2]=0,A=g,x=0,g=w):g=0,(A|0)<0&&(x=x-A|0,d[h>>2]=x,g=g-A|0,d[N>>2]=g,d[D>>2]=0,A=0),w=x-g|0,b=A-g|0,(g|0)<0?(d[h>>2]=w,d[D>>2]=b,d[N>>2]=0,A=b,b=w,g=0):b=x,x=(A|0)<(b|0)?A:b,x=(g|0)<(x|0)?g:x,!((x|0)<=0)&&(d[h>>2]=b-x,d[D>>2]=A-x,d[N>>2]=g-x)}function Ms(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0,D=0;N=h+8|0,g=d[N>>2]|0,A=(d[h>>2]|0)-g|0,D=h+4|0,g=(d[D>>2]|0)-g|0,x=t0(+((A<<1)+g|0)*.14285714285714285)|0,d[h>>2]=x,A=t0(+((g*3|0)-A|0)*.14285714285714285)|0,d[D>>2]=A,d[N>>2]=0,g=A-x|0,(x|0)<0?(w=0-x|0,d[D>>2]=g,d[N>>2]=w,d[h>>2]=0,A=g,x=0,g=w):g=0,(A|0)<0&&(x=x-A|0,d[h>>2]=x,g=g-A|0,d[N>>2]=g,d[D>>2]=0,A=0),w=x-g|0,b=A-g|0,(g|0)<0?(d[h>>2]=w,d[D>>2]=b,d[N>>2]=0,A=b,b=w,g=0):b=x,x=(A|0)<(b|0)?A:b,x=(g|0)<(x|0)?g:x,!((x|0)<=0)&&(d[h>>2]=b-x,d[D>>2]=A-x,d[N>>2]=g-x)}function X3(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0,D=0;A=d[h>>2]|0,N=h+4|0,g=d[N>>2]|0,D=h+8|0,x=d[D>>2]|0,b=g+(A*3|0)|0,d[h>>2]=b,g=x+(g*3|0)|0,d[N>>2]=g,A=(x*3|0)+A|0,d[D>>2]=A,x=g-b|0,(b|0)<0?(A=A-b|0,d[N>>2]=x,d[D>>2]=A,d[h>>2]=0,g=x,x=0):x=b,(g|0)<0&&(x=x-g|0,d[h>>2]=x,A=A-g|0,d[D>>2]=A,d[N>>2]=0,g=0),w=x-A|0,b=g-A|0,(A|0)<0?(d[h>>2]=w,d[N>>2]=b,d[D>>2]=0,x=w,A=0):b=g,g=(b|0)<(x|0)?b:x,g=(A|0)<(g|0)?A:g,!((g|0)<=0)&&(d[h>>2]=x-g,d[N>>2]=b-g,d[D>>2]=A-g)}function Du(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0,D=0;b=d[h>>2]|0,N=h+4|0,A=d[N>>2]|0,D=h+8|0,g=d[D>>2]|0,x=(A*3|0)+b|0,b=g+(b*3|0)|0,d[h>>2]=b,d[N>>2]=x,A=(g*3|0)+A|0,d[D>>2]=A,g=x-b|0,(b|0)<0?(A=A-b|0,d[N>>2]=g,d[D>>2]=A,d[h>>2]=0,b=0):g=x,(g|0)<0&&(b=b-g|0,d[h>>2]=b,A=A-g|0,d[D>>2]=A,d[N>>2]=0,g=0),w=b-A|0,x=g-A|0,(A|0)<0?(d[h>>2]=w,d[N>>2]=x,d[D>>2]=0,b=w,A=0):x=g,g=(x|0)<(b|0)?x:b,g=(A|0)<(g|0)?A:g,!((g|0)<=0)&&(d[h>>2]=b-g,d[N>>2]=x-g,d[D>>2]=A-g)}function I8(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0,N=0,D=0;(A+-1|0)>>>0>=6||(b=(d[15440+(A*12|0)>>2]|0)+(d[h>>2]|0)|0,d[h>>2]=b,D=h+4|0,x=(d[15440+(A*12|0)+4>>2]|0)+(d[D>>2]|0)|0,d[D>>2]=x,N=h+8|0,A=(d[15440+(A*12|0)+8>>2]|0)+(d[N>>2]|0)|0,d[N>>2]=A,g=x-b|0,(b|0)<0?(A=A-b|0,d[D>>2]=g,d[N>>2]=A,d[h>>2]=0,x=0):(g=x,x=b),(g|0)<0&&(x=x-g|0,d[h>>2]=x,A=A-g|0,d[N>>2]=A,d[D>>2]=0,g=0),w=x-A|0,b=g-A|0,(A|0)<0?(d[h>>2]=w,d[D>>2]=b,d[N>>2]=0,x=w,A=0):b=g,g=(b|0)<(x|0)?b:x,g=(A|0)<(g|0)?A:g,!((g|0)<=0)&&(d[h>>2]=x-g,d[D>>2]=b-g,d[N>>2]=A-g))}function F8(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0,D=0;b=d[h>>2]|0,N=h+4|0,A=d[N>>2]|0,D=h+8|0,g=d[D>>2]|0,x=A+b|0,b=g+b|0,d[h>>2]=b,d[N>>2]=x,A=g+A|0,d[D>>2]=A,g=x-b|0,(b|0)<0?(A=A-b|0,d[N>>2]=g,d[D>>2]=A,d[h>>2]=0,x=0):(g=x,x=b),(g|0)<0&&(x=x-g|0,d[h>>2]=x,A=A-g|0,d[D>>2]=A,d[N>>2]=0,g=0),w=x-A|0,b=g-A|0,(A|0)<0?(d[h>>2]=w,d[N>>2]=b,d[D>>2]=0,x=w,A=0):b=g,g=(b|0)<(x|0)?b:x,g=(A|0)<(g|0)?A:g,!((g|0)<=0)&&(d[h>>2]=x-g,d[N>>2]=b-g,d[D>>2]=A-g)}function Y3(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0,D=0;A=d[h>>2]|0,N=h+4|0,x=d[N>>2]|0,D=h+8|0,g=d[D>>2]|0,b=x+A|0,d[h>>2]=b,x=g+x|0,d[N>>2]=x,A=g+A|0,d[D>>2]=A,g=x-b|0,(b|0)<0?(A=A-b|0,d[N>>2]=g,d[D>>2]=A,d[h>>2]=0,x=0):(g=x,x=b),(g|0)<0&&(x=x-g|0,d[h>>2]=x,A=A-g|0,d[D>>2]=A,d[N>>2]=0,g=0),w=x-A|0,b=g-A|0,(A|0)<0?(d[h>>2]=w,d[N>>2]=b,d[D>>2]=0,x=w,A=0):b=g,g=(b|0)<(x|0)?b:x,g=(A|0)<(g|0)?A:g,!((g|0)<=0)&&(d[h>>2]=x-g,d[N>>2]=b-g,d[D>>2]=A-g)}function gl(h){switch(h=h|0,h|0){case 1:{h=5;break}case 5:{h=4;break}case 4:{h=6;break}case 6:{h=2;break}case 2:{h=3;break}case 3:{h=1;break}}return h|0}function Jl(h){switch(h=h|0,h|0){case 1:{h=3;break}case 3:{h=2;break}case 2:{h=6;break}case 6:{h=4;break}case 4:{h=5;break}case 5:{h=1;break}}return h|0}function z8(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0,D=0;A=d[h>>2]|0,N=h+4|0,g=d[N>>2]|0,D=h+8|0,x=d[D>>2]|0,b=g+(A<<1)|0,d[h>>2]=b,g=x+(g<<1)|0,d[N>>2]=g,A=(x<<1)+A|0,d[D>>2]=A,x=g-b|0,(b|0)<0?(A=A-b|0,d[N>>2]=x,d[D>>2]=A,d[h>>2]=0,g=x,x=0):x=b,(g|0)<0&&(x=x-g|0,d[h>>2]=x,A=A-g|0,d[D>>2]=A,d[N>>2]=0,g=0),w=x-A|0,b=g-A|0,(A|0)<0?(d[h>>2]=w,d[N>>2]=b,d[D>>2]=0,x=w,A=0):b=g,g=(b|0)<(x|0)?b:x,g=(A|0)<(g|0)?A:g,!((g|0)<=0)&&(d[h>>2]=x-g,d[N>>2]=b-g,d[D>>2]=A-g)}function V8(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0,D=0;b=d[h>>2]|0,N=h+4|0,A=d[N>>2]|0,D=h+8|0,g=d[D>>2]|0,x=(A<<1)+b|0,b=g+(b<<1)|0,d[h>>2]=b,d[N>>2]=x,A=(g<<1)+A|0,d[D>>2]=A,g=x-b|0,(b|0)<0?(A=A-b|0,d[N>>2]=g,d[D>>2]=A,d[h>>2]=0,b=0):g=x,(g|0)<0&&(b=b-g|0,d[h>>2]=b,A=A-g|0,d[D>>2]=A,d[N>>2]=0,g=0),w=b-A|0,x=g-A|0,(A|0)<0?(d[h>>2]=w,d[N>>2]=x,d[D>>2]=0,b=w,A=0):x=g,g=(x|0)<(b|0)?x:b,g=(A|0)<(g|0)?A:g,!((g|0)<=0)&&(d[h>>2]=b-g,d[N>>2]=x-g,d[D>>2]=A-g)}function zh(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0,N=0,D=0;return N=(d[h>>2]|0)-(d[A>>2]|0)|0,D=(N|0)<0,x=(d[h+4>>2]|0)-(d[A+4>>2]|0)-(D?N:0)|0,w=(x|0)<0,b=(D?0-N|0:0)+(d[h+8>>2]|0)-(d[A+8>>2]|0)+(w?0-x|0:0)|0,h=(b|0)<0,A=h?0:b,g=(w?0:x)-(h?b:0)|0,b=(D?0:N)-(w?x:0)-(h?b:0)|0,h=(g|0)<(b|0)?g:b,h=(A|0)<(h|0)?A:h,x=(h|0)>0,A=A-(x?h:0)|0,g=g-(x?h:0)|0,h=b-(x?h:0)|0,h=(h|0)>-1?h:0-h|0,g=(g|0)>-1?g:0-g|0,A=(A|0)>-1?A:0-A|0,A=(g|0)>(A|0)?g:A,((h|0)>(A|0)?h:A)|0}function k8(h,A){h=h|0,A=A|0;var g=0;g=d[h+8>>2]|0,d[A>>2]=(d[h>>2]|0)-g,d[A+4>>2]=(d[h+4>>2]|0)-g}function G8(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0,N=0,D=0;return x=d[h>>2]|0,d[A>>2]=x,b=d[h+4>>2]|0,N=A+4|0,d[N>>2]=b,D=A+8|0,d[D>>2]=0,g=(b|0)<(x|0),h=g?x:b,g=g?b:x,(g|0)<0&&((g|0)==-2147483648||((h|0)>0?(2147483647-h|0)<(g|0):(-2147483648-h|0)>(g|0))||((h|0)>-1?(h|-2147483648|0)>=(g|0):(h^-2147483648|0)<(g|0)))?(A=1,A|0):(h=b-x|0,(x|0)<0?(g=0-x|0,d[N>>2]=h,d[D>>2]=g,d[A>>2]=0,x=0):(h=b,g=0),(h|0)<0&&(x=x-h|0,d[A>>2]=x,g=g-h|0,d[D>>2]=g,d[N>>2]=0,h=0),w=x-g|0,b=h-g|0,(g|0)<0?(d[A>>2]=w,d[N>>2]=b,d[D>>2]=0,h=b,b=w,g=0):b=x,x=(h|0)<(b|0)?h:b,x=(g|0)<(x|0)?g:x,(x|0)<=0?(A=0,A|0):(d[A>>2]=b-x,d[N>>2]=h-x,d[D>>2]=g-x,A=0,A|0))}function q8(h){h=h|0;var A=0,g=0,x=0,b=0;A=h+8|0,b=d[A>>2]|0,g=b-(d[h>>2]|0)|0,d[h>>2]=g,x=h+4|0,h=(d[x>>2]|0)-b|0,d[x>>2]=h,d[A>>2]=0-(h+g)}function H8(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0,D=0;g=d[h>>2]|0,A=0-g|0,d[h>>2]=A,N=h+8|0,d[N>>2]=0,D=h+4|0,x=d[D>>2]|0,b=x+g|0,(g|0)>0?(d[D>>2]=b,d[N>>2]=g,d[h>>2]=0,A=0,x=b):g=0,(x|0)<0?(w=A-x|0,d[h>>2]=w,g=g-x|0,d[N>>2]=g,d[D>>2]=0,b=w-g|0,A=0-g|0,(g|0)<0?(d[h>>2]=b,d[D>>2]=A,d[N>>2]=0,x=A,g=0):(x=0,b=w)):b=A,A=(x|0)<(b|0)?x:b,A=(g|0)<(A|0)?g:A,!((A|0)<=0)&&(d[h>>2]=b-A,d[D>>2]=x-A,d[N>>2]=g-A)}function j8(h,A,g,x,b){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0;var w=0,N=0,D=0,U=0,G=0,X=0,se=0;if(se=K,K=K+64|0,X=se,D=se+56|0,!(!0&(A&2013265920|0)==134217728&(!0&(x&2013265920|0)==134217728)))return b=5,K=se,b|0;if((h|0)==(g|0)&(A|0)==(x|0))return d[b>>2]=0,b=0,K=se,b|0;if(N=ht(h|0,A|0,52)|0,te()|0,N=N&15,G=ht(g|0,x|0,52)|0,te()|0,(N|0)!=(G&15|0))return b=12,K=se,b|0;if(w=N+-1|0,N>>>0>1){kh(h,A,w,X)|0,kh(g,x,w,D)|0,G=X,U=d[G>>2]|0,G=d[G+4>>2]|0;e:do if((U|0)==(d[D>>2]|0)&&(G|0)==(d[D+4>>2]|0)){N=(N^15)*3|0,w=ht(h|0,A|0,N|0)|0,te()|0,w=w&7,N=ht(g|0,x|0,N|0)|0,te()|0,N=N&7;do if((w|0)==0|(N|0)==0)d[b>>2]=1,w=0;else if((w|0)==7)w=5;else{if((w|0)==1|(N|0)==1&&Fi(U,G)|0){w=5;break}if((d[15536+(w<<2)>>2]|0)!=(N|0)&&(d[15568+(w<<2)>>2]|0)!=(N|0))break e;d[b>>2]=1,w=0}while(!1);return b=w,K=se,b|0}while(!1)}w=X,N=w+56|0;do d[w>>2]=0,w=w+4|0;while((w|0)<(N|0));return Ws(h,A,1,X)|0,A=X,!((d[A>>2]|0)==(g|0)&&(d[A+4>>2]|0)==(x|0))&&(A=X+8|0,!((d[A>>2]|0)==(g|0)&&(d[A+4>>2]|0)==(x|0)))&&(A=X+16|0,!((d[A>>2]|0)==(g|0)&&(d[A+4>>2]|0)==(x|0)))&&(A=X+24|0,!((d[A>>2]|0)==(g|0)&&(d[A+4>>2]|0)==(x|0)))&&(A=X+32|0,!((d[A>>2]|0)==(g|0)&&(d[A+4>>2]|0)==(x|0)))&&(A=X+40|0,!((d[A>>2]|0)==(g|0)&&(d[A+4>>2]|0)==(x|0)))?(w=X+48|0,w=((d[w>>2]|0)==(g|0)?(d[w+4>>2]|0)==(x|0):0)&1):w=1,d[b>>2]=w,b=0,K=se,b|0}function W8(h,A,g,x,b){return h=h|0,A=A|0,g=g|0,x=x|0,b=b|0,g=gs(h,A,g,x)|0,(g|0)==7?(b=11,b|0):(x=xt(g|0,0,56)|0,A=A&-2130706433|(te()|0)|268435456,d[b>>2]=h|x,d[b+4>>2]=A,b=0,b|0)}function Fm(h,A,g){return h=h|0,A=A|0,g=g|0,!0&(A&2013265920|0)==268435456?(d[g>>2]=h,d[g+4>>2]=A&-2130706433|134217728,g=0,g|0):(g=6,g|0)}function X8(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0;return b=K,K=K+16|0,x=b,d[x>>2]=0,!0&(A&2013265920|0)==268435456?(w=ht(h|0,A|0,56)|0,te()|0,x=wi(h,A&-2130706433|134217728,w&7,x,g)|0,K=b,x|0):(x=6,K=b,x|0)}function zm(h,A){h=h|0,A=A|0;var g=0;switch(g=ht(h|0,A|0,56)|0,te()|0,g&7){case 0:case 7:return g=0,g|0}return g=A&-2130706433|134217728,!(!0&(A&2013265920|0)==268435456)||!0&(A&117440512|0)==16777216&(Fi(h,g)|0)!=0?(g=0,g|0):(g=$3(h,g)|0,g|0)}function X0(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0;return b=K,K=K+16|0,x=b,!0&(A&2013265920|0)==268435456?(w=A&-2130706433|134217728,N=g,d[N>>2]=h,d[N+4>>2]=w,d[x>>2]=0,A=ht(h|0,A|0,56)|0,te()|0,x=wi(h,w,A&7,x,g+8|0)|0,K=b,x|0):(x=6,K=b,x|0)}function Y8(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0;return b=(Fi(h,A)|0)==0,A=A&-2130706433,x=g,d[x>>2]=b?h:0,d[x+4>>2]=b?A|285212672:0,x=g+8|0,d[x>>2]=h,d[x+4>>2]=A|301989888,x=g+16|0,d[x>>2]=h,d[x+4>>2]=A|318767104,x=g+24|0,d[x>>2]=h,d[x+4>>2]=A|335544320,x=g+32|0,d[x>>2]=h,d[x+4>>2]=A|352321536,g=g+40|0,d[g>>2]=h,d[g+4>>2]=A|369098752,0}function Vh(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0;return N=K,K=K+16|0,b=N,w=A&-2130706433|134217728,!0&(A&2013265920|0)==268435456?(x=ht(h|0,A|0,56)|0,te()|0,x=zi(h,w,x&7)|0,(x|0)==-1?(d[g>>2]=0,w=6,K=N,w|0):(zo(h,w,b)|0&&Et(27795,26932,282,26947),A=ht(h|0,A|0,52)|0,te()|0,A=A&15,Fi(h,w)|0?O1(b,A,x,2,g):r2(b,A,x,2,g),w=0,K=N,w|0)):(w=6,K=N,w|0)}function Vm(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0;x=K,K=K+16|0,b=x,Pu(h,A,g,b),U8(b,g+4|0),K=x}function Pu(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0;if(D=K,K=K+16|0,U=D,Y0(h,g,U),w=+Cu(+(1-+J[U>>3]*.5)),w<1e-16){d[x>>2]=0,d[x+4>>2]=0,d[x+8>>2]=0,d[x+12>>2]=0,K=D;return}if(U=d[g>>2]|0,b=+J[15920+(U*24|0)>>3],b=+Ea(b-+Ea(+Hm(15600+(U<<4)|0,h))),ys(A)|0?N=+Ea(b+-.3334731722518321):N=b,b=+la(+w)*2.618033988749896,(A|0)>0){h=0;do b=b*2.6457513110645907,h=h+1|0;while((h|0)!=(A|0))}w=+yi(+N)*b,J[x>>3]=w,N=+qn(+N)*b,J[x+8>>3]=N,K=D}function Y0(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0;if(w=K,K=K+32|0,b=w,ig(h,b),d[A>>2]=0,J[g>>3]=5,x=+sr(16400,b),x<+J[g>>3]&&(d[A>>2]=0,J[g>>3]=x),x=+sr(16424,b),x<+J[g>>3]&&(d[A>>2]=1,J[g>>3]=x),x=+sr(16448,b),x<+J[g>>3]&&(d[A>>2]=2,J[g>>3]=x),x=+sr(16472,b),x<+J[g>>3]&&(d[A>>2]=3,J[g>>3]=x),x=+sr(16496,b),x<+J[g>>3]&&(d[A>>2]=4,J[g>>3]=x),x=+sr(16520,b),x<+J[g>>3]&&(d[A>>2]=5,J[g>>3]=x),x=+sr(16544,b),x<+J[g>>3]&&(d[A>>2]=6,J[g>>3]=x),x=+sr(16568,b),x<+J[g>>3]&&(d[A>>2]=7,J[g>>3]=x),x=+sr(16592,b),x<+J[g>>3]&&(d[A>>2]=8,J[g>>3]=x),x=+sr(16616,b),x<+J[g>>3]&&(d[A>>2]=9,J[g>>3]=x),x=+sr(16640,b),x<+J[g>>3]&&(d[A>>2]=10,J[g>>3]=x),x=+sr(16664,b),x<+J[g>>3]&&(d[A>>2]=11,J[g>>3]=x),x=+sr(16688,b),x<+J[g>>3]&&(d[A>>2]=12,J[g>>3]=x),x=+sr(16712,b),x<+J[g>>3]&&(d[A>>2]=13,J[g>>3]=x),x=+sr(16736,b),x<+J[g>>3]&&(d[A>>2]=14,J[g>>3]=x),x=+sr(16760,b),x<+J[g>>3]&&(d[A>>2]=15,J[g>>3]=x),x=+sr(16784,b),x<+J[g>>3]&&(d[A>>2]=16,J[g>>3]=x),x=+sr(16808,b),x<+J[g>>3]&&(d[A>>2]=17,J[g>>3]=x),x=+sr(16832,b),x<+J[g>>3]&&(d[A>>2]=18,J[g>>3]=x),x=+sr(16856,b),!(x<+J[g>>3])){K=w;return}d[A>>2]=19,J[g>>3]=x,K=w}function U1(h,A,g,x,b){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0;var w=0,N=0,D=0;if(w=+tg(h),w<1e-16){A=15600+(A<<4)|0,d[b>>2]=d[A>>2],d[b+4>>2]=d[A+4>>2],d[b+8>>2]=d[A+8>>2],d[b+12>>2]=d[A+12>>2];return}if(N=+Ee(+ +J[h+8>>3],+ +J[h>>3]),(g|0)>0){h=0;do w=w*.37796447300922725,h=h+1|0;while((h|0)!=(g|0))}D=w*.3333333333333333,x?(g=(ys(g)|0)==0,w=+oe(+((g?D:D*.37796447300922725)*.381966011250105))):(w=+oe(+(w*.381966011250105)),ys(g)|0&&(N=+Ea(N+.3334731722518321))),po(15600+(A<<4)|0,+Ea(+J[15920+(A*24|0)>>3]-N),w,b)}function Q8(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0;x=K,K=K+16|0,b=x,Nu(h+4|0,b),U1(b,d[h>>2]|0,A,0,g),K=x}function O1(h,A,g,x,b){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0;var w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0,ke=0,Ue=0,De=0,Te=0,_t=0,rn=0,Ht=0,Nn=0,Ln=0,Jn=0,vn=0,Wt=0,ot=0,Mn=0,ei=0,Bn=0;if(Mn=K,K=K+272|0,w=Mn+256|0,Ue=Mn+240|0,vn=Mn,Wt=Mn+224|0,ot=Mn+208|0,De=Mn+176|0,Te=Mn+160|0,_t=Mn+192|0,rn=Mn+144|0,Ht=Mn+128|0,Nn=Mn+112|0,Ln=Mn+96|0,Jn=Mn+80|0,d[w>>2]=A,d[Ue>>2]=d[h>>2],d[Ue+4>>2]=d[h+4>>2],d[Ue+8>>2]=d[h+8>>2],d[Ue+12>>2]=d[h+12>>2],Q3(Ue,w,vn),d[b>>2]=0,Ue=x+g+((x|0)==5&1)|0,(Ue|0)<=(g|0)){K=Mn;return}U=d[w>>2]|0,G=Wt+4|0,X=De+4|0,se=g+5|0,pe=16880+(U<<2)|0,Ae=16960+(U<<2)|0,he=Ht+8|0,_e=Nn+8|0,Ne=Ln+8|0,ke=ot+4|0,D=g;e:for(;;){N=vn+(((D|0)%5|0)<<4)|0,d[ot>>2]=d[N>>2],d[ot+4>>2]=d[N+4>>2],d[ot+8>>2]=d[N+8>>2],d[ot+12>>2]=d[N+12>>2];do;while((Fo(ot,U,0,1)|0)==2);if((D|0)>(g|0)&(ys(A)|0)!=0){if(d[De>>2]=d[ot>>2],d[De+4>>2]=d[ot+4>>2],d[De+8>>2]=d[ot+8>>2],d[De+12>>2]=d[ot+12>>2],Nu(G,Te),x=d[De>>2]|0,w=d[17040+(x*80|0)+(d[Wt>>2]<<2)>>2]|0,d[De>>2]=d[18640+(x*80|0)+(w*20|0)>>2],N=d[18640+(x*80|0)+(w*20|0)+16>>2]|0,(N|0)>0){h=0;do F8(X),h=h+1|0;while((h|0)<(N|0))}switch(N=18640+(x*80|0)+(w*20|0)+4|0,d[_t>>2]=d[N>>2],d[_t+4>>2]=d[N+4>>2],d[_t+8>>2]=d[N+8>>2],O8(_t,(d[pe>>2]|0)*3|0),Xr(X,_t,X),Ys(X),Nu(X,rn),ei=+(d[Ae>>2]|0),J[Ht>>3]=ei*3,J[he>>3]=0,Bn=ei*-1.5,J[Nn>>3]=Bn,J[_e>>3]=ei*2.598076211353316,J[Ln>>3]=Bn,J[Ne>>3]=ei*-2.598076211353316,d[17040+((d[De>>2]|0)*80|0)+(d[ot>>2]<<2)>>2]|0){case 1:{h=Nn,x=Ht;break}case 3:{h=Ln,x=Nn;break}case 2:{h=Ht,x=Ln;break}default:{h=12;break e}}ng(Te,rn,x,h,Jn),U1(Jn,d[De>>2]|0,U,1,b+8+(d[b>>2]<<4)|0),d[b>>2]=(d[b>>2]|0)+1}if((D|0)<(se|0)&&(Nu(ke,De),U1(De,d[ot>>2]|0,U,1,b+8+(d[b>>2]<<4)|0),d[b>>2]=(d[b>>2]|0)+1),d[Wt>>2]=d[ot>>2],d[Wt+4>>2]=d[ot+4>>2],d[Wt+8>>2]=d[ot+8>>2],d[Wt+12>>2]=d[ot+12>>2],D=D+1|0,(D|0)>=(Ue|0)){h=3;break}}if((h|0)==3){K=Mn;return}else(h|0)==12&&Et(26970,27017,572,27027)}function Q3(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0,D=0,U=0;U=K,K=K+128|0,x=U+64|0,b=U,w=x,N=20240,D=w+60|0;do d[w>>2]=d[N>>2],w=w+4|0,N=N+4|0;while((w|0)<(D|0));w=b,N=20304,D=w+60|0;do d[w>>2]=d[N>>2],w=w+4|0,N=N+4|0;while((w|0)<(D|0));D=(ys(d[A>>2]|0)|0)==0,x=D?x:b,b=h+4|0,z8(b),V8(b),ys(d[A>>2]|0)|0&&(Du(b),d[A>>2]=(d[A>>2]|0)+1),d[g>>2]=d[h>>2],A=g+4|0,Xr(b,x,A),Ys(A),d[g+16>>2]=d[h>>2],A=g+20|0,Xr(b,x+12|0,A),Ys(A),d[g+32>>2]=d[h>>2],A=g+36|0,Xr(b,x+24|0,A),Ys(A),d[g+48>>2]=d[h>>2],A=g+52|0,Xr(b,x+36|0,A),Ys(A),d[g+64>>2]=d[h>>2],g=g+68|0,Xr(b,x+48|0,g),Ys(g),K=U}function Fo(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0;if(he=K,K=K+32|0,pe=he+12|0,D=he,Ae=h+4|0,se=d[16960+(A<<2)>>2]|0,X=(x|0)!=0,se=X?se*3|0:se,b=d[Ae>>2]|0,G=h+8|0,N=d[G>>2]|0,X){if(w=h+12|0,x=d[w>>2]|0,b=N+b+x|0,(b|0)==(se|0))return Ae=1,K=he,Ae|0;U=w}else U=h+12|0,x=d[U>>2]|0,b=N+b+x|0;if((b|0)<=(se|0))return Ae=0,K=he,Ae|0;do if((x|0)>0){if(x=d[h>>2]|0,(N|0)>0){w=18640+(x*80|0)+60|0,x=h;break}x=18640+(x*80|0)+40|0,g?(Um(pe,se,0,0),n2(Ae,pe,D),Y3(D),Xr(D,pe,Ae),w=x,x=h):(w=x,x=h)}else w=18640+((d[h>>2]|0)*80|0)+20|0,x=h;while(!1);if(d[x>>2]=d[w>>2],b=w+16|0,(d[b>>2]|0)>0){x=0;do F8(Ae),x=x+1|0;while((x|0)<(d[b>>2]|0))}return h=w+4|0,d[pe>>2]=d[h>>2],d[pe+4>>2]=d[h+4>>2],d[pe+8>>2]=d[h+8>>2],A=d[16880+(A<<2)>>2]|0,O8(pe,X?A*3|0:A),Xr(Ae,pe,Ae),Ys(Ae),X?x=((d[G>>2]|0)+(d[Ae>>2]|0)+(d[U>>2]|0)|0)==(se|0)?1:2:x=2,Ae=x,K=he,Ae|0}function ca(h,A){h=h|0,A=A|0;var g=0;do g=Fo(h,A,0,1)|0;while((g|0)==2);return g|0}function r2(h,A,g,x,b){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0;var w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0,ke=0,Ue=0,De=0,Te=0,_t=0,rn=0,Ht=0,Nn=0,Ln=0,Jn=0,vn=0;if(Ln=K,K=K+240|0,w=Ln+224|0,_t=Ln+208|0,rn=Ln,Ht=Ln+192|0,Nn=Ln+176|0,Ne=Ln+160|0,ke=Ln+144|0,Ue=Ln+128|0,De=Ln+112|0,Te=Ln+96|0,d[w>>2]=A,d[_t>>2]=d[h>>2],d[_t+4>>2]=d[h+4>>2],d[_t+8>>2]=d[h+8>>2],d[_t+12>>2]=d[h+12>>2],$8(_t,w,rn),d[b>>2]=0,_e=x+g+((x|0)==6&1)|0,(_e|0)<=(g|0)){K=Ln;return}U=d[w>>2]|0,G=g+6|0,X=16960+(U<<2)|0,se=ke+8|0,pe=Ue+8|0,Ae=De+8|0,he=Ht+4|0,N=0,D=g,x=-1;e:for(;;){if(w=(D|0)%6|0,h=rn+(w<<4)|0,d[Ht>>2]=d[h>>2],d[Ht+4>>2]=d[h+4>>2],d[Ht+8>>2]=d[h+8>>2],d[Ht+12>>2]=d[h+12>>2],h=N,N=Fo(Ht,U,0,1)|0,(D|0)>(g|0)&(ys(A)|0)!=0&&(h|0)!=1&&(d[Ht>>2]|0)!=(x|0)){switch(Nu(rn+(((w+5|0)%6|0)<<4)+4|0,Nn),Nu(rn+(w<<4)+4|0,Ne),Jn=+(d[X>>2]|0),J[ke>>3]=Jn*3,J[se>>3]=0,vn=Jn*-1.5,J[Ue>>3]=vn,J[pe>>3]=Jn*2.598076211353316,J[De>>3]=vn,J[Ae>>3]=Jn*-2.598076211353316,w=d[_t>>2]|0,d[17040+(w*80|0)+(((x|0)==(w|0)?d[Ht>>2]|0:x)<<2)>>2]|0){case 1:{h=Ue,x=ke;break}case 3:{h=De,x=Ue;break}case 2:{h=ke,x=De;break}default:{h=8;break e}}ng(Nn,Ne,x,h,Te),!(A7(Nn,Te)|0)&&!(A7(Ne,Te)|0)&&(U1(Te,d[_t>>2]|0,U,1,b+8+(d[b>>2]<<4)|0),d[b>>2]=(d[b>>2]|0)+1)}if((D|0)<(G|0)&&(Nu(he,Nn),U1(Nn,d[Ht>>2]|0,U,1,b+8+(d[b>>2]<<4)|0),d[b>>2]=(d[b>>2]|0)+1),D=D+1|0,(D|0)>=(_e|0)){h=3;break}else x=d[Ht>>2]|0}if((h|0)==3){K=Ln;return}else(h|0)==8&&Et(27054,27017,737,27099)}function $8(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0,D=0,U=0;U=K,K=K+160|0,x=U+80|0,b=U,w=x,N=20368,D=w+72|0;do d[w>>2]=d[N>>2],w=w+4|0,N=N+4|0;while((w|0)<(D|0));w=b,N=20448,D=w+72|0;do d[w>>2]=d[N>>2],w=w+4|0,N=N+4|0;while((w|0)<(D|0));D=(ys(d[A>>2]|0)|0)==0,x=D?x:b,b=h+4|0,z8(b),V8(b),ys(d[A>>2]|0)|0&&(Du(b),d[A>>2]=(d[A>>2]|0)+1),d[g>>2]=d[h>>2],A=g+4|0,Xr(b,x,A),Ys(A),d[g+16>>2]=d[h>>2],A=g+20|0,Xr(b,x+12|0,A),Ys(A),d[g+32>>2]=d[h>>2],A=g+36|0,Xr(b,x+24|0,A),Ys(A),d[g+48>>2]=d[h>>2],A=g+52|0,Xr(b,x+36|0,A),Ys(A),d[g+64>>2]=d[h>>2],A=g+68|0,Xr(b,x+48|0,A),Ys(A),d[g+80>>2]=d[h>>2],g=g+84|0,Xr(b,x+60|0,g),Ys(g),K=U}function K8(h,A){return h=h|0,A=A|0,A=ht(h|0,A|0,52)|0,te()|0,A&15|0}function s2(h,A){return h=h|0,A=A|0,A=ht(h|0,A|0,45)|0,te()|0,A&127|0}function $3(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0,N=0;return!(!0&(A&-16777216|0)==134217728)||(x=ht(h|0,A|0,52)|0,te()|0,x=x&15,g=ht(h|0,A|0,45)|0,te()|0,g=g&127,g>>>0>121)?(h=0,h|0):(N=(x^15)*3|0,b=ht(h|0,A|0,N|0)|0,N=xt(b|0,te()|0,N|0)|0,b=te()|0,w=ws(-1227133514,-1171,N|0,b|0)|0,!((N&613566756&w|0)==0&(b&4681&(te()|0)|0)==0)||(N=(x*3|0)+19|0,w=xt(~h|0,~A|0,N|0)|0,N=ht(w|0,te()|0,N|0)|0,!((x|0)==15|(N|0)==0&(te()|0)==0))?(N=0,N|0):!(nt[20528+g>>0]|0)||(A=A&8191,(h|0)==0&(A|0)==0)?(N=1,N|0):(N=j1(h|0,A|0)|0,te()|0,((63-N|0)%3|0|0)!=0|0))}function a2(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0;if(b=xt(A|0,0,52)|0,w=te()|0,g=xt(g|0,0,45)|0,g=w|(te()|0)|134225919,(A|0)<1){w=-1,x=g,A=h,d[A>>2]=w,h=h+4|0,d[h>>2]=x;return}for(w=1,b=-1;N=(15-w|0)*3|0,D=xt(7,0,N|0)|0,g=g&~(te()|0),N=xt(x|0,0,N|0)|0,b=b&~D|N,g=g|(te()|0),(w|0)!=(A|0);)w=w+1|0;D=h,N=D,d[N>>2]=b,D=D+4|0,d[D>>2]=g}function kh(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0;if(w=ht(h|0,A|0,52)|0,te()|0,w=w&15,g>>>0>15)return x=4,x|0;if((w|0)<(g|0))return x=12,x|0;if((w|0)==(g|0))return d[x>>2]=h,d[x+4>>2]=A,x=0,x|0;if(b=xt(g|0,0,52)|0,b=b|h,h=te()|0|A&-15728641,(w|0)>(g|0))do A=xt(7,0,(14-g|0)*3|0)|0,g=g+1|0,b=A|b,h=te()|0|h;while((g|0)<(w|0));return d[x>>2]=b,d[x+4>>2]=h,x=0,x|0}function Qs(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0;if(w=ht(h|0,A|0,52)|0,te()|0,w=w&15,!((g|0)<16&(w|0)<=(g|0)))return x=4,x|0;b=g-w|0,g=ht(h|0,A|0,45)|0,te()|0;e:do if(!(Ji(g&127)|0))g=Vr(7,0,b,((b|0)<0)<<31>>31)|0,b=te()|0;else{t:do if(w|0){for(g=1;N=xt(7,0,(15-g|0)*3|0)|0,!!((N&h|0)==0&((te()|0)&A|0)==0);)if(g>>>0<w>>>0)g=g+1|0;else break t;g=Vr(7,0,b,((b|0)<0)<<31>>31)|0,b=te()|0;break e}while(!1);g=Vr(7,0,b,((b|0)<0)<<31>>31)|0,g=fa(g|0,te()|0,5,0)|0,g=An(g|0,te()|0,-5,-1)|0,g=n0(g|0,te()|0,6,0)|0,g=An(g|0,te()|0,1,0)|0,b=te()|0}while(!1);return N=x,d[N>>2]=g,d[N+4>>2]=b,N=0,N|0}function Fi(h,A){h=h|0,A=A|0;var g=0,x=0,b=0;if(b=ht(h|0,A|0,45)|0,te()|0,!(Ji(b&127)|0))return b=0,b|0;b=ht(h|0,A|0,52)|0,te()|0,b=b&15;e:do if(!b)g=0;else for(x=1;;){if(g=ht(h|0,A|0,(15-x|0)*3|0)|0,te()|0,g=g&7,g|0)break e;if(x>>>0<b>>>0)x=x+1|0;else{g=0;break}}while(!1);return b=(g|0)==0&1,b|0}function Z8(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0;if(N=K,K=K+16|0,w=N,s7(w,h,A,g),A=w,h=d[A>>2]|0,A=d[A+4>>2]|0,(h|0)==0&(A|0)==0)return K=N,0;b=0,g=0;do D=x+(b<<3)|0,d[D>>2]=h,d[D+4>>2]=A,b=An(b|0,g|0,1,0)|0,g=te()|0,Xh(w),D=w,h=d[D>>2]|0,A=d[D+4>>2]|0;while(!((h|0)==0&(A|0)==0));return K=N,0}function J8(h,A,g,x){return h=h|0,A=A|0,g=g|0,x=x|0,(x|0)<(g|0)?(g=A,x=h,dt(g|0),x|0):(g=xt(-1,-1,((x-g|0)*3|0)+3|0)|0,x=xt(~g|0,~(te()|0)|0,(15-x|0)*3|0)|0,g=~(te()|0)&A,x=~x&h,dt(g|0),x|0)}function e7(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0;return b=ht(h|0,A|0,52)|0,te()|0,b=b&15,(g|0)<16&(b|0)<=(g|0)?((b|0)<(g|0)&&(b=xt(-1,-1,((g+-1-b|0)*3|0)+3|0)|0,b=xt(~b|0,~(te()|0)|0,(15-g|0)*3|0)|0,A=~(te()|0)&A,h=~b&h),b=xt(g|0,0,52)|0,g=A&-15728641|(te()|0),d[x>>2]=h|b,d[x+4>>2]=g,x=0,x|0):(x=4,x|0)}function t7(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0,ke=0,Ue=0,De=0,Te=0,_t=0,rn=0,Ht=0,Nn=0,Ln=0,Jn=0,vn=0,Wt=0,ot=0;if((g|0)==0&(x|0)==0)return ot=0,ot|0;if(b=h,w=d[b>>2]|0,b=d[b+4>>2]|0,!0&(b&15728640|0)==0){if(!((x|0)>0|(x|0)==0&g>>>0>0)||(ot=A,d[ot>>2]=w,d[ot+4>>2]=b,(g|0)==1&(x|0)==0))return ot=0,ot|0;b=1,w=0;do vn=h+(b<<3)|0,Wt=d[vn+4>>2]|0,ot=A+(b<<3)|0,d[ot>>2]=d[vn>>2],d[ot+4>>2]=Wt,b=An(b|0,w|0,1,0)|0,w=te()|0;while((w|0)<(x|0)|(w|0)==(x|0)&b>>>0<g>>>0);return b=0,b|0}if(Jn=g<<3,Wt=ko(Jn)|0,!Wt)return ot=13,ot|0;if(W1(Wt|0,h|0,Jn|0)|0,vn=go(g,8)|0,!vn)return _n(Wt),ot=13,ot|0;e:for(;;){b=Wt,G=d[b>>2]|0,b=d[b+4>>2]|0,Nn=ht(G|0,b|0,52)|0,te()|0,Nn=Nn&15,Ln=Nn+-1|0,Ht=(Nn|0)!=0,rn=(x|0)>0|(x|0)==0&g>>>0>0;t:do if(Ht&rn){if(Ue=xt(Ln|0,0,52)|0,De=te()|0,Ln>>>0>15){if(!((G|0)==0&(b|0)==0)){ot=16;break e}for(w=0,h=0;;){if(w=An(w|0,h|0,1,0)|0,h=te()|0,!((h|0)<(x|0)|(h|0)==(x|0)&w>>>0<g>>>0))break t;if(N=Wt+(w<<3)|0,_t=d[N>>2]|0,N=d[N+4>>2]|0,!((_t|0)==0&(N|0)==0)){b=N,ot=16;break e}}}for(D=G,h=b,w=0,N=0;;){if(!((D|0)==0&(h|0)==0)){if(!(!0&(h&117440512|0)==0)){ot=21;break e}if(X=ht(D|0,h|0,52)|0,te()|0,X=X&15,(X|0)<(Ln|0)){b=12,ot=27;break e}if((X|0)!=(Ln|0)&&(D=D|Ue,h=h&-15728641|De,X>>>0>=Nn>>>0)){U=Ln;do _t=xt(7,0,(14-U|0)*3|0)|0,U=U+1|0,D=_t|D,h=te()|0|h;while(U>>>0<X>>>0)}if(pe=Uu(D|0,h|0,g|0,x|0)|0,Ae=te()|0,U=vn+(pe<<3)|0,X=U,se=d[X>>2]|0,X=d[X+4>>2]|0,!((se|0)==0&(X|0)==0)){Ne=0,ke=0;do{if((Ne|0)>(x|0)|(Ne|0)==(x|0)&ke>>>0>g>>>0){ot=31;break e}if((se|0)==(D|0)&(X&-117440513|0)==(h|0)){he=ht(se|0,X|0,56)|0,te()|0,he=he&7,_e=he+1|0,_t=ht(se|0,X|0,45)|0,te()|0;n:do if(!(Ji(_t&127)|0))X=7;else{if(se=ht(se|0,X|0,52)|0,te()|0,se=se&15,!se){X=6;break}for(X=1;;){if(_t=xt(7,0,(15-X|0)*3|0)|0,!((_t&D|0)==0&((te()|0)&h|0)==0)){X=7;break n}if(X>>>0<se>>>0)X=X+1|0;else{X=6;break}}}while(!1);if((he+2|0)>>>0>X>>>0){ot=41;break e}_t=xt(_e|0,0,56)|0,h=te()|0|h&-117440513,Te=U,d[Te>>2]=0,d[Te+4>>2]=0,D=_t|D}else pe=An(pe|0,Ae|0,1,0)|0,pe=Rs(pe|0,te()|0,g|0,x|0)|0,Ae=te()|0;ke=An(ke|0,Ne|0,1,0)|0,Ne=te()|0,U=vn+(pe<<3)|0,X=U,se=d[X>>2]|0,X=d[X+4>>2]|0}while(!((se|0)==0&(X|0)==0))}_t=U,d[_t>>2]=D,d[_t+4>>2]=h}if(w=An(w|0,N|0,1,0)|0,N=te()|0,!((N|0)<(x|0)|(N|0)==(x|0)&w>>>0<g>>>0))break t;h=Wt+(w<<3)|0,D=d[h>>2]|0,h=d[h+4>>2]|0}}while(!1);if(_t=An(g|0,x|0,5,0)|0,Te=te()|0,Te>>>0<0|(Te|0)==0&_t>>>0<11){ot=85;break}if(_t=n0(g|0,x|0,6,0)|0,te()|0,_t=go(_t,8)|0,!_t){ot=48;break}do if(rn){for(_e=0,h=0,he=0,Ne=0;;){if(X=vn+(_e<<3)|0,N=X,w=d[N>>2]|0,N=d[N+4>>2]|0,(w|0)==0&(N|0)==0)Te=he;else{se=ht(w|0,N|0,56)|0,te()|0,se=se&7,D=se+1|0,pe=N&-117440513,Te=ht(w|0,N|0,45)|0,te()|0;t:do if(Ji(Te&127)|0){if(Ae=ht(w|0,N|0,52)|0,te()|0,Ae=Ae&15,Ae|0)for(U=1;;){if(Te=xt(7,0,(15-U|0)*3|0)|0,!((w&Te|0)==0&(pe&(te()|0)|0)==0))break t;if(U>>>0<Ae>>>0)U=U+1|0;else break}N=xt(D|0,0,56)|0,w=N|w,N=te()|0|pe,D=X,d[D>>2]=w,d[D+4>>2]=N,D=se+2|0}while(!1);(D|0)==7?(Te=_t+(h<<3)|0,d[Te>>2]=w,d[Te+4>>2]=N&-117440513,h=An(h|0,he|0,1,0)|0,Te=te()|0):Te=he}if(_e=An(_e|0,Ne|0,1,0)|0,Ne=te()|0,(Ne|0)<(x|0)|(Ne|0)==(x|0)&_e>>>0<g>>>0)he=Te;else break}if(rn){if(ke=Ln>>>0>15,Ue=xt(Ln|0,0,52)|0,De=te()|0,!Ht){for(w=0,U=0,D=0,N=0;(G|0)==0&(b|0)==0||(Ln=A+(w<<3)|0,d[Ln>>2]=G,d[Ln+4>>2]=b,w=An(w|0,U|0,1,0)|0,U=te()|0),D=An(D|0,N|0,1,0)|0,N=te()|0,!!((N|0)<(x|0)|(N|0)==(x|0)&D>>>0<g>>>0);)b=Wt+(D<<3)|0,G=d[b>>2]|0,b=d[b+4>>2]|0;b=Te;break}for(w=0,U=0,N=0,D=0;;){do if(!((G|0)==0&(b|0)==0)){if(Ae=ht(G|0,b|0,52)|0,te()|0,Ae=Ae&15,ke|(Ae|0)<(Ln|0)){ot=80;break e}if((Ae|0)!=(Ln|0)){if(X=G|Ue,se=b&-15728641|De,Ae>>>0>=Nn>>>0){pe=Ln;do Ht=xt(7,0,(14-pe|0)*3|0)|0,pe=pe+1|0,X=Ht|X,se=te()|0|se;while(pe>>>0<Ae>>>0)}}else X=G,se=b;he=Uu(X|0,se|0,g|0,x|0)|0,pe=0,Ae=0,Ne=te()|0;do{if((pe|0)>(x|0)|(pe|0)==(x|0)&Ae>>>0>g>>>0){ot=81;break e}if(Ht=vn+(he<<3)|0,_e=d[Ht+4>>2]|0,(_e&-117440513|0)==(se|0)&&(d[Ht>>2]|0)==(X|0)){ot=65;break}Ht=An(he|0,Ne|0,1,0)|0,he=Rs(Ht|0,te()|0,g|0,x|0)|0,Ne=te()|0,Ae=An(Ae|0,pe|0,1,0)|0,pe=te()|0,Ht=vn+(he<<3)|0}while(!((d[Ht>>2]|0)==(X|0)&&(d[Ht+4>>2]|0)==(se|0)));if((ot|0)==65&&(ot=0,!0&(_e&117440512|0)==100663296))break;Ht=A+(w<<3)|0,d[Ht>>2]=G,d[Ht+4>>2]=b,w=An(w|0,U|0,1,0)|0,U=te()|0}while(!1);if(N=An(N|0,D|0,1,0)|0,D=te()|0,!((D|0)<(x|0)|(D|0)==(x|0)&N>>>0<g>>>0))break;b=Wt+(N<<3)|0,G=d[b>>2]|0,b=d[b+4>>2]|0}b=Te}else w=0,b=Te}else w=0,h=0,b=0;while(!1);if(Ya(vn|0,0,Jn|0)|0,W1(Wt|0,_t|0,h<<3|0)|0,_n(_t),(h|0)==0&(b|0)==0){ot=89;break}else A=A+(w<<3)|0,x=b,g=h}if((ot|0)==16)!0&(b&117440512|0)==0?(b=4,ot=27):ot=21;else if((ot|0)==31)Et(27795,27122,529,27132);else{if((ot|0)==41)return _n(Wt),_n(vn),ot=10,ot|0;if((ot|0)==48)return _n(Wt),_n(vn),ot=13,ot|0;(ot|0)==80?Et(27795,27122,620,27132):(ot|0)==81?Et(27795,27122,632,27132):(ot|0)==85&&(W1(A|0,Wt|0,g<<3|0)|0,ot=89)}return(ot|0)==21?(_n(Wt),_n(vn),ot=5,ot|0):(ot|0)==27?(_n(Wt),_n(vn),ot=b,ot|0):(ot|0)==89?(_n(Wt),_n(vn),ot=0,ot|0):0}function n7(h,A,g,x,b,w,N){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0,w=w|0,N=N|0;var D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0;if(_e=K,K=K+16|0,he=_e,!((g|0)>0|(g|0)==0&A>>>0>0))return he=0,K=_e,he|0;if((N|0)>=16)return he=12,K=_e,he|0;pe=0,Ae=0,se=0,D=0;e:for(;;){if(G=h+(pe<<3)|0,U=d[G>>2]|0,G=d[G+4>>2]|0,X=ht(U|0,G|0,52)|0,te()|0,(X&15|0)>(N|0)){D=12,U=11;break}if(s7(he,U,G,N),X=he,G=d[X>>2]|0,X=d[X+4>>2]|0,(G|0)==0&(X|0)==0)U=se;else{U=se;do{if(!((D|0)<(w|0)|(D|0)==(w|0)&U>>>0<b>>>0)){U=10;break e}se=x+(U<<3)|0,d[se>>2]=G,d[se+4>>2]=X,U=An(U|0,D|0,1,0)|0,D=te()|0,Xh(he),se=he,G=d[se>>2]|0,X=d[se+4>>2]|0}while(!((G|0)==0&(X|0)==0))}if(pe=An(pe|0,Ae|0,1,0)|0,Ae=te()|0,(Ae|0)<(g|0)|(Ae|0)==(g|0)&pe>>>0<A>>>0)se=U;else{D=0,U=11;break}}return(U|0)==10?(he=14,K=_e,he|0):(U|0)==11?(K=_e,D|0):0}function km(h,A,g,x,b){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0;var w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0;pe=K,K=K+16|0,se=pe;e:do if((g|0)>0|(g|0)==0&A>>>0>0){for(G=0,N=0,w=0,X=0;;){if(U=h+(G<<3)|0,D=d[U>>2]|0,U=d[U+4>>2]|0,!((D|0)==0&(U|0)==0)&&(U=(Qs(D,U,x,se)|0)==0,D=se,N=An(d[D>>2]|0,d[D+4>>2]|0,N|0,w|0)|0,w=te()|0,!U)){w=12;break}if(G=An(G|0,X|0,1,0)|0,X=te()|0,!((X|0)<(g|0)|(X|0)==(g|0)&G>>>0<A>>>0))break e}return K=pe,w|0}else N=0,w=0;while(!1);return d[b>>2]=N,d[b+4>>2]=w,b=0,K=pe,b|0}function Gh(h,A){return h=h|0,A=A|0,A=ht(h|0,A|0,52)|0,te()|0,A&1|0}function Es(h,A){h=h|0,A=A|0;var g=0,x=0,b=0;if(b=ht(h|0,A|0,52)|0,te()|0,b=b&15,!b)return b=0,b|0;for(x=1;;){if(g=ht(h|0,A|0,(15-x|0)*3|0)|0,te()|0,g=g&7,g|0){x=5;break}if(x>>>0<b>>>0)x=x+1|0;else{g=0,x=5;break}}return(x|0)==5?g|0:0}function mr(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0,N=0,D=0,U=0;if(U=ht(h|0,A|0,52)|0,te()|0,U=U&15,!U)return D=A,U=h,dt(D|0),U|0;for(D=1,g=0;;){w=(15-D|0)*3|0,x=xt(7,0,w|0)|0,b=te()|0,N=ht(h|0,A|0,w|0)|0,te()|0,w=xt(gl(N&7)|0,0,w|0)|0,N=te()|0,h=w|h&~x,A=N|A&~b;e:do if(!g)if((w&x|0)==0&(N&b|0)==0)g=0;else if(x=ht(h|0,A|0,52)|0,te()|0,x=x&15,!x)g=1;else{g=1;t:for(;;){switch(N=ht(h|0,A|0,(15-g|0)*3|0)|0,te()|0,N&7){case 1:break t;case 0:break;default:{g=1;break e}}if(g>>>0<x>>>0)g=g+1|0;else{g=1;break e}}for(g=1;;)if(N=(15-g|0)*3|0,b=ht(h|0,A|0,N|0)|0,te()|0,w=xt(7,0,N|0)|0,A=A&~(te()|0),N=xt(gl(b&7)|0,0,N|0)|0,h=h&~w|N,A=A|(te()|0),g>>>0<x>>>0)g=g+1|0;else{g=1;break}}while(!1);if(D>>>0<U>>>0)D=D+1|0;else break}return dt(A|0),h|0}function I1(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0,N=0;if(x=ht(h|0,A|0,52)|0,te()|0,x=x&15,!x)return g=A,x=h,dt(g|0),x|0;for(g=1;w=(15-g|0)*3|0,N=ht(h|0,A|0,w|0)|0,te()|0,b=xt(7,0,w|0)|0,A=A&~(te()|0),w=xt(gl(N&7)|0,0,w|0)|0,h=w|h&~b,A=te()|0|A,g>>>0<x>>>0;)g=g+1|0;return dt(A|0),h|0}function dT(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0,N=0,D=0,U=0;if(U=ht(h|0,A|0,52)|0,te()|0,U=U&15,!U)return D=A,U=h,dt(D|0),U|0;for(D=1,g=0;;){w=(15-D|0)*3|0,x=xt(7,0,w|0)|0,b=te()|0,N=ht(h|0,A|0,w|0)|0,te()|0,w=xt(Jl(N&7)|0,0,w|0)|0,N=te()|0,h=w|h&~x,A=N|A&~b;e:do if(!g)if((w&x|0)==0&(N&b|0)==0)g=0;else if(x=ht(h|0,A|0,52)|0,te()|0,x=x&15,!x)g=1;else{g=1;t:for(;;){switch(N=ht(h|0,A|0,(15-g|0)*3|0)|0,te()|0,N&7){case 1:break t;case 0:break;default:{g=1;break e}}if(g>>>0<x>>>0)g=g+1|0;else{g=1;break e}}for(g=1;;)if(b=(15-g|0)*3|0,w=xt(7,0,b|0)|0,N=A&~(te()|0),A=ht(h|0,A|0,b|0)|0,te()|0,A=xt(Jl(A&7)|0,0,b|0)|0,h=h&~w|A,A=N|(te()|0),g>>>0<x>>>0)g=g+1|0;else{g=1;break}}while(!1);if(D>>>0<U>>>0)D=D+1|0;else break}return dt(A|0),h|0}function qh(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0,N=0;if(x=ht(h|0,A|0,52)|0,te()|0,x=x&15,!x)return g=A,x=h,dt(g|0),x|0;for(g=1;N=(15-g|0)*3|0,w=xt(7,0,N|0)|0,b=A&~(te()|0),A=ht(h|0,A|0,N|0)|0,te()|0,A=xt(Jl(A&7)|0,0,N|0)|0,h=A|h&~w,A=te()|0|b,g>>>0<x>>>0;)g=g+1|0;return dt(A|0),h|0}function K3(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0;if(U=K,K=K+64|0,D=U+40|0,x=U+24|0,b=U+12|0,w=U,xt(A|0,0,52)|0,g=te()|0|134225919,!A)return(d[h+4>>2]|0)>2||(d[h+8>>2]|0)>2||(d[h+12>>2]|0)>2?(N=0,D=0,dt(N|0),K=U,D|0):(xt(N8(h)|0,0,45)|0,N=te()|0|g,D=-1,dt(N|0),K=U,D|0);if(d[D>>2]=d[h>>2],d[D+4>>2]=d[h+4>>2],d[D+8>>2]=d[h+8>>2],d[D+12>>2]=d[h+12>>2],N=D+4|0,(A|0)>0)for(h=-1;d[x>>2]=d[N>>2],d[x+4>>2]=d[N+4>>2],d[x+8>>2]=d[N+8>>2],A&1?(hT(N),d[b>>2]=d[N>>2],d[b+4>>2]=d[N+4>>2],d[b+8>>2]=d[N+8>>2],X3(b)):(Ms(N),d[b>>2]=d[N>>2],d[b+4>>2]=d[N+4>>2],d[b+8>>2]=d[N+8>>2],Du(b)),n2(x,b,w),Ys(w),X=(15-A|0)*3|0,G=xt(7,0,X|0)|0,g=g&~(te()|0),X=xt(i2(w)|0,0,X|0)|0,h=X|h&~G,g=te()|0|g,(A|0)>1;)A=A+-1|0;else h=-1;e:do if((d[N>>2]|0)<=2&&(d[D+8>>2]|0)<=2&&(d[D+12>>2]|0)<=2){if(x=N8(D)|0,A=xt(x|0,0,45)|0,A=A|h,h=te()|0|g&-1040385,w=Rm(D)|0,!(Ji(x)|0)){if((w|0)<=0)break;for(b=0;;){if(x=ht(A|0,h|0,52)|0,te()|0,x=x&15,x)for(g=1;X=(15-g|0)*3|0,D=ht(A|0,h|0,X|0)|0,te()|0,G=xt(7,0,X|0)|0,h=h&~(te()|0),X=xt(gl(D&7)|0,0,X|0)|0,A=A&~G|X,h=h|(te()|0),g>>>0<x>>>0;)g=g+1|0;if(b=b+1|0,(b|0)==(w|0))break e}}b=ht(A|0,h|0,52)|0,te()|0,b=b&15;t:do if(b){g=1;n:for(;;){switch(X=ht(A|0,h|0,(15-g|0)*3|0)|0,te()|0,X&7){case 1:break n;case 0:break;default:break t}if(g>>>0<b>>>0)g=g+1|0;else break t}if(P8(x,d[D>>2]|0)|0)for(g=1;D=(15-g|0)*3|0,G=xt(7,0,D|0)|0,X=h&~(te()|0),h=ht(A|0,h|0,D|0)|0,te()|0,h=xt(Jl(h&7)|0,0,D|0)|0,A=A&~G|h,h=X|(te()|0),g>>>0<b>>>0;)g=g+1|0;else for(g=1;X=(15-g|0)*3|0,D=ht(A|0,h|0,X|0)|0,te()|0,G=xt(7,0,X|0)|0,h=h&~(te()|0),X=xt(gl(D&7)|0,0,X|0)|0,A=A&~G|X,h=h|(te()|0),g>>>0<b>>>0;)g=g+1|0}while(!1);if((w|0)>0){g=0;do A=mr(A,h)|0,h=te()|0,g=g+1|0;while((g|0)!=(w|0))}}else A=0,h=0;while(!1);return G=h,X=A,dt(G|0),K=U,X|0}function ys(h){return h=h|0,(h|0)%2|0|0}function Hh(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0;return b=K,K=K+16|0,x=b,A>>>0>15?(x=4,K=b,x|0):(d[h+4>>2]&2146435072|0)==2146435072||(d[h+8+4>>2]&2146435072|0)==2146435072?(x=3,K=b,x|0):(Vm(h,A,x),A=K3(x,A)|0,x=te()|0,d[g>>2]=A,d[g+4>>2]=x,(A|0)==0&(x|0)==0&&Et(27795,27122,959,27145),x=0,K=b,x|0)}function jh(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0;if(b=g+4|0,w=ht(h|0,A|0,52)|0,te()|0,w=w&15,N=ht(h|0,A|0,45)|0,te()|0,x=(w|0)==0,Ji(N&127)|0){if(x)return N=1,N|0;x=1}else{if(x)return N=0,N|0;!(d[b>>2]|0)&&!(d[g+8>>2]|0)?x=(d[g+12>>2]|0)!=0&1:x=1}for(g=1;g&1?X3(b):Du(b),N=ht(h|0,A|0,(15-g|0)*3|0)|0,te()|0,I8(b,N&7),g>>>0<w>>>0;)g=g+1|0;return x|0}function zo(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0;if(X=K,K=K+16|0,U=X,G=ht(h|0,A|0,45)|0,te()|0,G=G&127,G>>>0>121)return d[g>>2]=0,d[g+4>>2]=0,d[g+8>>2]=0,d[g+12>>2]=0,G=5,K=X,G|0;e:do if(Ji(G)|0&&(w=ht(h|0,A|0,52)|0,te()|0,w=w&15,(w|0)!=0)){x=1;t:for(;;){switch(D=ht(h|0,A|0,(15-x|0)*3|0)|0,te()|0,D&7){case 5:break t;case 0:break;default:{x=A;break e}}if(x>>>0<w>>>0)x=x+1|0;else{x=A;break e}}for(b=1,x=A;A=(15-b|0)*3|0,N=xt(7,0,A|0)|0,D=x&~(te()|0),x=ht(h|0,x|0,A|0)|0,te()|0,x=xt(Jl(x&7)|0,0,A|0)|0,h=h&~N|x,x=D|(te()|0),b>>>0<w>>>0;)b=b+1|0}else x=A;while(!1);if(D=7696+(G*28|0)|0,d[g>>2]=d[D>>2],d[g+4>>2]=d[D+4>>2],d[g+8>>2]=d[D+8>>2],d[g+12>>2]=d[D+12>>2],!(jh(h,x,g)|0))return G=0,K=X,G|0;if(N=g+4|0,d[U>>2]=d[N>>2],d[U+4>>2]=d[N+4>>2],d[U+8>>2]=d[N+8>>2],w=ht(h|0,x|0,52)|0,te()|0,D=w&15,w&1?(Du(N),w=D+1|0):w=D,!(Ji(G)|0))x=0;else{e:do if(!D)x=0;else for(A=1;;){if(b=ht(h|0,x|0,(15-A|0)*3|0)|0,te()|0,b=b&7,b|0){x=b;break e}if(A>>>0<D>>>0)A=A+1|0;else{x=0;break}}while(!1);x=(x|0)==4&1}if(!(Fo(g,w,x,0)|0))(w|0)!=(D|0)&&(d[N>>2]=d[U>>2],d[N+4>>2]=d[U+4>>2],d[N+8>>2]=d[U+8>>2]);else{if(Ji(G)|0)do;while(Fo(g,w,0,0)|0);(w|0)!=(D|0)&&Ms(N)}return G=0,K=X,G|0}function vs(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0;return w=K,K=K+16|0,x=w,b=zo(h,A,x)|0,b|0?(K=w,b|0):(b=ht(h|0,A|0,52)|0,te()|0,Q8(x,b&15,g),b=0,K=w,b|0)}function F1(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0,D=0;if(N=K,K=K+16|0,w=N,x=zo(h,A,w)|0,x|0)return w=x,K=N,w|0;x=ht(h|0,A|0,45)|0,te()|0,x=(Ji(x&127)|0)==0,b=ht(h|0,A|0,52)|0,te()|0,b=b&15;e:do if(!x){if(b|0)for(x=1;;){if(D=xt(7,0,(15-x|0)*3|0)|0,!((D&h|0)==0&((te()|0)&A|0)==0))break e;if(x>>>0<b>>>0)x=x+1|0;else break}return O1(w,b,0,5,g),D=0,K=N,D|0}while(!1);return r2(w,b,0,6,g),D=0,K=N,D|0}function Gm(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0;if(b=ht(h|0,A|0,45)|0,te()|0,!(Ji(b&127)|0))return b=2,d[g>>2]=b,0;if(b=ht(h|0,A|0,52)|0,te()|0,b=b&15,!b)return b=5,d[g>>2]=b,0;for(x=1;;){if(w=xt(7,0,(15-x|0)*3|0)|0,!((w&h|0)==0&((te()|0)&A|0)==0)){x=2,h=6;break}if(x>>>0<b>>>0)x=x+1|0;else{x=5,h=6;break}}return(h|0)==6&&(d[g>>2]=x),0}function i7(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0;se=K,K=K+128|0,G=se+112|0,w=se+96|0,X=se,b=ht(h|0,A|0,52)|0,te()|0,D=b&15,d[G>>2]=D,N=ht(h|0,A|0,45)|0,te()|0,N=N&127;e:do if(Ji(N)|0){if(D|0)for(x=1;;){if(U=xt(7,0,(15-x|0)*3|0)|0,!((U&h|0)==0&((te()|0)&A|0)==0)){b=0;break e}if(x>>>0<D>>>0)x=x+1|0;else break}if(b&1)b=1;else return U=xt(D+1|0,0,52)|0,X=te()|0|A&-15728641,G=xt(7,0,(14-D|0)*3|0)|0,X=i7((U|h)&~G,X&~(te()|0),g)|0,K=se,X|0}else b=0;while(!1);if(x=zo(h,A,w)|0,!x){b?(Q3(w,G,X),U=5):($8(w,G,X),U=6);e:do if(Ji(N)|0)if(!D)h=5;else for(x=1;;){if(N=xt(7,0,(15-x|0)*3|0)|0,!((N&h|0)==0&((te()|0)&A|0)==0)){h=2;break e}if(x>>>0<D>>>0)x=x+1|0;else{h=5;break}}else h=2;while(!1);Ya(g|0,-1,h<<2|0)|0;e:do if(b)for(w=0;;){if(N=X+(w<<4)|0,ca(N,d[G>>2]|0)|0,N=d[N>>2]|0,D=d[g>>2]|0,(D|0)==-1|(D|0)==(N|0))x=g;else{b=0;do{if(b=b+1|0,b>>>0>=h>>>0){x=1;break e}x=g+(b<<2)|0,D=d[x>>2]|0}while(!((D|0)==-1|(D|0)==(N|0)))}if(d[x>>2]=N,w=w+1|0,w>>>0>=U>>>0){x=0;break}}else for(w=0;;){if(N=X+(w<<4)|0,Fo(N,d[G>>2]|0,0,1)|0,N=d[N>>2]|0,D=d[g>>2]|0,(D|0)==-1|(D|0)==(N|0))x=g;else{b=0;do{if(b=b+1|0,b>>>0>=h>>>0){x=1;break e}x=g+(b<<2)|0,D=d[x>>2]|0}while(!((D|0)==-1|(D|0)==(N|0)))}if(d[x>>2]=N,w=w+1|0,w>>>0>=U>>>0){x=0;break}}while(!1)}return X=x,K=se,X|0}function r7(){return 12}function Z3(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0,N=0,D=0,U=0;if(h>>>0>15)return D=4,D|0;if(xt(h|0,0,52)|0,D=te()|0|134225919,!h){g=0,x=0;do Ji(x)|0&&(xt(x|0,0,45)|0,N=D|(te()|0),h=A+(g<<3)|0,d[h>>2]=-1,d[h+4>>2]=N,g=g+1|0),x=x+1|0;while((x|0)!=122);return g=0,g|0}g=0,N=0;do{if(Ji(N)|0){for(xt(N|0,0,45)|0,x=1,b=-1,w=D|(te()|0);U=xt(7,0,(15-x|0)*3|0)|0,b=b&~U,w=w&~(te()|0),(x|0)!=(h|0);)x=x+1|0;U=A+(g<<3)|0,d[U>>2]=b,d[U+4>>2]=w,g=g+1|0}N=N+1|0}while((N|0)!=122);return g=0,g|0}function Wh(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0,ke=0,Ue=0;if(Ue=K,K=K+16|0,Ne=Ue,ke=ht(h|0,A|0,52)|0,te()|0,ke=ke&15,g>>>0>15)return ke=4,K=Ue,ke|0;if((ke|0)<(g|0))return ke=12,K=Ue,ke|0;if((ke|0)!=(g|0))if(w=xt(g|0,0,52)|0,w=w|h,D=te()|0|A&-15728641,(ke|0)>(g|0)){U=g;do _e=xt(7,0,(14-U|0)*3|0)|0,U=U+1|0,w=_e|w,D=te()|0|D;while((U|0)<(ke|0));_e=w}else _e=w;else _e=h,D=A;he=ht(_e|0,D|0,45)|0,te()|0;e:do if(Ji(he&127)|0){if(U=ht(_e|0,D|0,52)|0,te()|0,U=U&15,U|0)for(w=1;;){if(he=xt(7,0,(15-w|0)*3|0)|0,!((he&_e|0)==0&((te()|0)&D|0)==0)){G=33;break e}if(w>>>0<U>>>0)w=w+1|0;else break}if(he=x,d[he>>2]=0,d[he+4>>2]=0,(ke|0)>(g|0)){for(he=A&-15728641,Ae=ke;;){if(pe=Ae,Ae=Ae+-1|0,Ae>>>0>15|(ke|0)<(Ae|0)){G=19;break}if((ke|0)!=(Ae|0))if(w=xt(Ae|0,0,52)|0,w=w|h,U=te()|0|he,(ke|0)<(pe|0))se=w;else{G=Ae;do se=xt(7,0,(14-G|0)*3|0)|0,G=G+1|0,w=se|w,U=te()|0|U;while((G|0)<(ke|0));se=w}else se=h,U=A;if(X=ht(se|0,U|0,45)|0,te()|0,!(Ji(X&127)|0))w=0;else{X=ht(se|0,U|0,52)|0,te()|0,X=X&15;t:do if(!X)w=0;else for(G=1;;){if(w=ht(se|0,U|0,(15-G|0)*3|0)|0,te()|0,w=w&7,w|0)break t;if(G>>>0<X>>>0)G=G+1|0;else{w=0;break}}while(!1);w=(w|0)==0&1}if(U=ht(h|0,A|0,(15-pe|0)*3|0)|0,te()|0,U=U&7,(U|0)==7){b=5,G=42;break}if(w=(w|0)!=0,(U|0)==1&w){b=5,G=42;break}if(se=U+(((U|0)!=0&w)<<31>>31)|0,se|0&&(G=ke-pe|0,G=Vr(7,0,G,((G|0)<0)<<31>>31)|0,X=te()|0,w?(w=fa(G|0,X|0,5,0)|0,w=An(w|0,te()|0,-5,-1)|0,w=n0(w|0,te()|0,6,0)|0,w=An(w|0,te()|0,1,0)|0,U=te()|0):(w=G,U=X),pe=se+-1|0,pe=fa(G|0,X|0,pe|0,((pe|0)<0)<<31>>31|0)|0,pe=An(w|0,U|0,pe|0,te()|0)|0,se=te()|0,X=x,X=An(pe|0,se|0,d[X>>2]|0,d[X+4>>2]|0)|0,se=te()|0,pe=x,d[pe>>2]=X,d[pe+4>>2]=se),(Ae|0)<=(g|0)){G=37;break}}if((G|0)==19)Et(27795,27122,1276,27158);else if((G|0)==37){N=x,b=d[N+4>>2]|0,N=d[N>>2]|0;break}else if((G|0)==42)return K=Ue,b|0}else b=0,N=0}else G=33;while(!1);e:do if((G|0)==33)if(he=x,d[he>>2]=0,d[he+4>>2]=0,(ke|0)>(g|0)){for(w=ke;;){if(b=ht(h|0,A|0,(15-w|0)*3|0)|0,te()|0,b=b&7,(b|0)==7){b=5;break}if(N=ke-w|0,N=Vr(7,0,N,((N|0)<0)<<31>>31)|0,b=fa(N|0,te()|0,b|0,0)|0,N=te()|0,he=x,N=An(d[he>>2]|0,d[he+4>>2]|0,b|0,N|0)|0,b=te()|0,he=x,d[he>>2]=N,d[he+4>>2]=b,w=w+-1|0,(w|0)<=(g|0))break e}return K=Ue,b|0}else b=0,N=0;while(!1);return Qs(_e,D,ke,Ne)|0&&Et(27795,27122,1236,27173),ke=Ne,Ne=d[ke+4>>2]|0,((b|0)>-1|(b|0)==-1&N>>>0>4294967295)&((Ne|0)>(b|0)|((Ne|0)==(b|0)?(d[ke>>2]|0)>>>0>N>>>0:0))?(ke=0,K=Ue,ke|0):(Et(27795,27122,1316,27158),0)}function qm(h,A,g,x,b,w){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0,w=w|0;var N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0;if(se=K,K=K+16|0,N=se,b>>>0>15)return w=4,K=se,w|0;if(D=ht(g|0,x|0,52)|0,te()|0,D=D&15,(D|0)>(b|0))return w=12,K=se,w|0;if(Qs(g,x,b,N)|0&&Et(27795,27122,1236,27173),X=N,G=d[X+4>>2]|0,!(((A|0)>-1|(A|0)==-1&h>>>0>4294967295)&((G|0)>(A|0)|((G|0)==(A|0)?(d[X>>2]|0)>>>0>h>>>0:0))))return w=2,K=se,w|0;X=b-D|0,b=xt(b|0,0,52)|0,U=te()|0|x&-15728641,G=w,d[G>>2]=b|g,d[G+4>>2]=U,G=ht(g|0,x|0,45)|0,te()|0;e:do if(Ji(G&127)|0){if(D|0)for(N=1;;){if(G=xt(7,0,(15-N|0)*3|0)|0,!((G&g|0)==0&((te()|0)&x|0)==0))break e;if(N>>>0<D>>>0)N=N+1|0;else break}if((X|0)<1)return w=0,K=se,w|0;for(G=D^15,x=-1,U=1,N=1;;){D=X-U|0,D=Vr(7,0,D,((D|0)<0)<<31>>31)|0,g=te()|0;do if(N)if(N=fa(D|0,g|0,5,0)|0,N=An(N|0,te()|0,-5,-1)|0,N=n0(N|0,te()|0,6,0)|0,b=te()|0,(A|0)>(b|0)|(A|0)==(b|0)&h>>>0>N>>>0){A=An(h|0,A|0,-1,-1)|0,A=ws(A|0,te()|0,N|0,b|0)|0,N=te()|0,pe=w,he=d[pe>>2]|0,pe=d[pe+4>>2]|0,_e=(G+x|0)*3|0,Ae=xt(7,0,_e|0)|0,pe=pe&~(te()|0),x=n0(A|0,N|0,D|0,g|0)|0,h=te()|0,b=An(x|0,h|0,2,0)|0,_e=xt(b|0,te()|0,_e|0)|0,pe=te()|0|pe,b=w,d[b>>2]=_e|he&~Ae,d[b+4>>2]=pe,h=fa(x|0,h|0,D|0,g|0)|0,h=ws(A|0,N|0,h|0,te()|0)|0,N=0,A=te()|0;break}else{_e=w,Ae=d[_e>>2]|0,_e=d[_e+4>>2]|0,he=xt(7,0,(G+x|0)*3|0)|0,_e=_e&~(te()|0),N=w,d[N>>2]=Ae&~he,d[N+4>>2]=_e,N=1;break}else Ae=w,b=d[Ae>>2]|0,Ae=d[Ae+4>>2]|0,x=(G+x|0)*3|0,pe=xt(7,0,x|0)|0,Ae=Ae&~(te()|0),_e=n0(h|0,A|0,D|0,g|0)|0,N=te()|0,x=xt(_e|0,N|0,x|0)|0,Ae=te()|0|Ae,he=w,d[he>>2]=x|b&~pe,d[he+4>>2]=Ae,N=fa(_e|0,N|0,D|0,g|0)|0,h=ws(h|0,A|0,N|0,te()|0)|0,N=0,A=te()|0;while(!1);if((X|0)>(U|0))x=~U,U=U+1|0;else{A=0;break}}return K=se,A|0}while(!1);if((X|0)<1)return _e=0,K=se,_e|0;for(b=D^15,N=1;;)if(he=X-N|0,he=Vr(7,0,he,((he|0)<0)<<31>>31)|0,_e=te()|0,U=w,g=d[U>>2]|0,U=d[U+4>>2]|0,D=(b-N|0)*3|0,x=xt(7,0,D|0)|0,U=U&~(te()|0),pe=n0(h|0,A|0,he|0,_e|0)|0,Ae=te()|0,D=xt(pe|0,Ae|0,D|0)|0,U=te()|0|U,G=w,d[G>>2]=D|g&~x,d[G+4>>2]=U,_e=fa(pe|0,Ae|0,he|0,_e|0)|0,h=ws(h|0,A|0,_e|0,te()|0)|0,A=te()|0,(X|0)<=(N|0)){A=0;break}else N=N+1|0;return K=se,A|0}function s7(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0;b=ht(A|0,g|0,52)|0,te()|0,b=b&15,(A|0)==0&(g|0)==0|((x|0)>15|(b|0)>(x|0))?(w=-1,A=-1,g=0,b=0):(A=J8(A,g,b+1|0,x)|0,N=(te()|0)&-15728641,g=xt(x|0,0,52)|0,g=A|g,N=N|(te()|0),A=(Fi(g,N)|0)==0,w=b,A=A?-1:x,b=N),N=h,d[N>>2]=g,d[N+4>>2]=b,d[h+8>>2]=w,d[h+12>>2]=A}function a7(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0;if(b=ht(h|0,A|0,52)|0,te()|0,b=b&15,w=x+8|0,d[w>>2]=b,(h|0)==0&(A|0)==0|((g|0)>15|(b|0)>(g|0))){g=x,d[g>>2]=0,d[g+4>>2]=0,d[w>>2]=-1,d[x+12>>2]=-1;return}if(h=J8(h,A,b+1|0,g)|0,w=(te()|0)&-15728641,b=xt(g|0,0,52)|0,b=h|b,w=w|(te()|0),h=x,d[h>>2]=b,d[h+4>>2]=w,h=x+12|0,Fi(b,w)|0){d[h>>2]=g;return}else{d[h>>2]=-1;return}}function Xh(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0,D=0,U=0,G=0;if(g=h,A=d[g>>2]|0,g=d[g+4>>2]|0,!((A|0)==0&(g|0)==0)&&(x=ht(A|0,g|0,52)|0,te()|0,x=x&15,D=xt(1,0,(x^15)*3|0)|0,A=An(D|0,te()|0,A|0,g|0)|0,g=te()|0,D=h,d[D>>2]=A,d[D+4>>2]=g,D=h+8|0,N=d[D>>2]|0,!((x|0)<(N|0)))){for(U=h+12|0,w=x;;){if((w|0)==(N|0)){x=5;break}if(G=(w|0)==(d[U>>2]|0),b=(15-w|0)*3|0,x=ht(A|0,g|0,b|0)|0,te()|0,x=x&7,G&((x|0)==1&!0)){x=7;break}if(!((x|0)==7&!0)){x=10;break}if(G=xt(1,0,b|0)|0,A=An(A|0,g|0,G|0,te()|0)|0,g=te()|0,G=h,d[G>>2]=A,d[G+4>>2]=g,(w|0)>(N|0))w=w+-1|0;else{x=10;break}}if((x|0)==5){G=h,d[G>>2]=0,d[G+4>>2]=0,d[D>>2]=-1,d[U>>2]=-1;return}else if((x|0)==7){N=xt(1,0,b|0)|0,N=An(A|0,g|0,N|0,te()|0)|0,D=te()|0,G=h,d[G>>2]=N,d[G+4>>2]=D,d[U>>2]=w+-1;return}else if((x|0)==10)return}}function Ea(h){h=+h;var A=0;return A=h<0?h+6.283185307179586:h,+(h>=6.283185307179586?A+-6.283185307179586:A)}function Lu(h,A){return h=h|0,A=A|0,+Pn(+(+J[h>>3]-+J[A>>3]))<17453292519943298e-27?(A=+Pn(+(+J[h+8>>3]-+J[A+8>>3]))<17453292519943298e-27,A|0):(A=0,A|0)}function Wa(h,A){switch(h=+h,A=A|0,A|0){case 1:{h=h<0?h+6.283185307179586:h;break}case 2:{h=h>0?h+-6.283185307179586:h;break}}return+h}function AT(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0;return b=+J[A>>3],x=+J[h>>3],w=+qn(+((b-x)*.5)),g=+qn(+((+J[A+8>>3]-+J[h+8>>3])*.5)),g=w*w+g*(+yi(+b)*+yi(+x)*g),+(+Ee(+ +ri(+g),+ +ri(+(1-g)))*2)}function z1(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0;return b=+J[A>>3],x=+J[h>>3],w=+qn(+((b-x)*.5)),g=+qn(+((+J[A+8>>3]-+J[h+8>>3])*.5)),g=w*w+g*(+yi(+b)*+yi(+x)*g),+(+Ee(+ +ri(+g),+ +ri(+(1-g)))*2*6371.007180918475)}function Xa(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0;return b=+J[A>>3],x=+J[h>>3],w=+qn(+((b-x)*.5)),g=+qn(+((+J[A+8>>3]-+J[h+8>>3])*.5)),g=w*w+g*(+yi(+b)*+yi(+x)*g),+(+Ee(+ +ri(+g),+ +ri(+(1-g)))*2*6371.007180918475*1e3)}function Hm(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0,N=0;return w=+J[A>>3],x=+yi(+w),b=+J[A+8>>3]-+J[h+8>>3],N=x*+qn(+b),g=+J[h>>3],+ +Ee(+N,+(+qn(+w)*+yi(+g)-+yi(+b)*(x*+qn(+g))))}function po(h,A,g,x){h=h|0,A=+A,g=+g,x=x|0;var b=0,w=0,N=0,D=0;if(g<1e-16){d[x>>2]=d[h>>2],d[x+4>>2]=d[h+4>>2],d[x+8>>2]=d[h+8>>2],d[x+12>>2]=d[h+12>>2];return}w=A<0?A+6.283185307179586:A,w=A>=6.283185307179586?w+-6.283185307179586:w;do if(w<1e-16)A=+J[h>>3]+g,J[x>>3]=A,b=x;else{if(b=+Pn(+(w+-3.141592653589793))<1e-16,A=+J[h>>3],b){A=A-g,J[x>>3]=A,b=x;break}if(N=+yi(+g),g=+qn(+g),A=N*+qn(+A)+ +yi(+w)*(g*+yi(+A)),A=A>1?1:A,A=+j3(+(A<-1?-1:A)),J[x>>3]=A,+Pn(+(A+-1.5707963267948966))<1e-16){J[x>>3]=1.5707963267948966,J[x+8>>3]=0;return}if(+Pn(+(A+1.5707963267948966))<1e-16){J[x>>3]=-1.5707963267948966,J[x+8>>3]=0;return}if(D=1/+yi(+A),w=g*+qn(+w)*D,g=+J[h>>3],A=D*((N-+qn(+A)*+qn(+g))/+yi(+g)),N=w>1?1:w,A=A>1?1:A,A=+J[h+8>>3]+ +Ee(+(N<-1?-1:N),+(A<-1?-1:A)),A>3.141592653589793)do A=A+-6.283185307179586;while(A>3.141592653589793);if(A<-3.141592653589793)do A=A+6.283185307179586;while(A<-3.141592653589793);J[x+8>>3]=A;return}while(!1);if(+Pn(+(A+-1.5707963267948966))<1e-16){J[b>>3]=1.5707963267948966,J[x+8>>3]=0;return}if(+Pn(+(A+1.5707963267948966))<1e-16){J[b>>3]=-1.5707963267948966,J[x+8>>3]=0;return}if(A=+J[h+8>>3],A>3.141592653589793)do A=A+-6.283185307179586;while(A>3.141592653589793);if(A<-3.141592653589793)do A=A+6.283185307179586;while(A<-3.141592653589793);J[x+8>>3]=A}function o7(h,A){return h=h|0,A=A|0,h>>>0>15?(A=4,A|0):(J[A>>3]=+J[20656+(h<<3)>>3],A=0,A|0)}function Q0(h,A){return h=h|0,A=A|0,h>>>0>15?(A=4,A|0):(J[A>>3]=+J[20784+(h<<3)>>3],A=0,A|0)}function o2(h,A){return h=h|0,A=A|0,h>>>0>15?(A=4,A|0):(J[A>>3]=+J[20912+(h<<3)>>3],A=0,A|0)}function Bu(h,A){return h=h|0,A=A|0,h>>>0>15?(A=4,A|0):(J[A>>3]=+J[21040+(h<<3)>>3],A=0,A|0)}function J3(h,A){h=h|0,A=A|0;var g=0;return h>>>0>15?(A=4,A|0):(g=Vr(7,0,h,((h|0)<0)<<31>>31)|0,g=fa(g|0,te()|0,120,0)|0,h=te()|0,d[A>>2]=g|2,d[A+4>>2]=h,A=0,A|0)}function Yh(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0;return pe=+J[A>>3],X=+J[h>>3],U=+qn(+((pe-X)*.5)),w=+J[A+8>>3],G=+J[h+8>>3],N=+qn(+((w-G)*.5)),D=+yi(+X),se=+yi(+pe),N=U*U+N*(se*D*N),N=+Ee(+ +ri(+N),+ +ri(+(1-N)))*2,U=+J[g>>3],pe=+qn(+((U-pe)*.5)),x=+J[g+8>>3],w=+qn(+((x-w)*.5)),b=+yi(+U),w=pe*pe+w*(se*b*w),w=+Ee(+ +ri(+w),+ +ri(+(1-w)))*2,U=+qn(+((X-U)*.5)),x=+qn(+((G-x)*.5)),x=U*U+x*(D*b*x),x=+Ee(+ +ri(+x),+ +ri(+(1-x)))*2,b=(N+w+x)*.5,+(+oe(+ +ri(+(+la(+(b*.5))*+la(+((b-N)*.5))*+la(+((b-w)*.5))*+la(+((b-x)*.5)))))*4)}function e0(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0,D=0;if(D=K,K=K+192|0,w=D+168|0,N=D,b=vs(h,A,w)|0,b|0)return g=b,K=D,g|0;if(F1(h,A,N)|0&&Et(27795,27190,415,27199),A=d[N>>2]|0,(A|0)>0){if(x=+Yh(N+8|0,N+8+(((A|0)!=1&1)<<4)|0,w)+0,(A|0)!=1){h=1;do b=h,h=h+1|0,x=x+ +Yh(N+8+(b<<4)|0,N+8+(((h|0)%(A|0)|0)<<4)|0,w);while((h|0)<(A|0))}}else x=0;return J[g>>3]=x,g=0,K=D,g|0}function jm(h,A,g){return h=h|0,A=A|0,g=g|0,h=e0(h,A,g)|0,h|0||(J[g>>3]=+J[g>>3]*6371.007180918475*6371.007180918475),h|0}function l2(h,A,g){return h=h|0,A=A|0,g=g|0,h=e0(h,A,g)|0,h|0||(J[g>>3]=+J[g>>3]*6371.007180918475*6371.007180918475*1e3*1e3),h|0}function e4(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0;if(D=K,K=K+176|0,N=D,h=Vh(h,A,N)|0,h|0)return N=h,K=D,N|0;if(J[g>>3]=0,h=d[N>>2]|0,(h|0)<=1)return N=0,K=D,N|0;A=h+-1|0,h=0,x=+J[N+8>>3],b=+J[N+16>>3],w=0;do h=h+1|0,G=x,x=+J[N+8+(h<<4)>>3],X=+qn(+((x-G)*.5)),U=b,b=+J[N+8+(h<<4)+8>>3],U=+qn(+((b-U)*.5)),U=X*X+U*(+yi(+x)*+yi(+G)*U),w=w+ +Ee(+ +ri(+U),+ +ri(+(1-U)))*2;while((h|0)<(A|0));return J[g>>3]=w,N=0,K=D,N|0}function V1(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0;if(D=K,K=K+176|0,N=D,h=Vh(h,A,N)|0,h|0)return N=h,w=+J[g>>3],w=w*6371.007180918475,J[g>>3]=w,K=D,N|0;if(J[g>>3]=0,h=d[N>>2]|0,(h|0)<=1)return N=0,w=0,w=w*6371.007180918475,J[g>>3]=w,K=D,N|0;A=h+-1|0,h=0,x=+J[N+8>>3],b=+J[N+16>>3],w=0;do h=h+1|0,G=x,x=+J[N+8+(h<<4)>>3],X=+qn(+((x-G)*.5)),U=b,b=+J[N+8+(h<<4)+8>>3],U=+qn(+((b-U)*.5)),U=X*X+U*(+yi(+G)*+yi(+x)*U),w=w+ +Ee(+ +ri(+U),+ +ri(+(1-U)))*2;while((h|0)!=(A|0));return J[g>>3]=w,N=0,X=w,X=X*6371.007180918475,J[g>>3]=X,K=D,N|0}function Wm(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0;if(D=K,K=K+176|0,N=D,h=Vh(h,A,N)|0,h|0)return N=h,w=+J[g>>3],w=w*6371.007180918475,w=w*1e3,J[g>>3]=w,K=D,N|0;if(J[g>>3]=0,h=d[N>>2]|0,(h|0)<=1)return N=0,w=0,w=w*6371.007180918475,w=w*1e3,J[g>>3]=w,K=D,N|0;A=h+-1|0,h=0,x=+J[N+8>>3],b=+J[N+16>>3],w=0;do h=h+1|0,G=x,x=+J[N+8+(h<<4)>>3],X=+qn(+((x-G)*.5)),U=b,b=+J[N+8+(h<<4)+8>>3],U=+qn(+((b-U)*.5)),U=X*X+U*(+yi(+G)*+yi(+x)*U),w=w+ +Ee(+ +ri(+U),+ +ri(+(1-U)))*2;while((h|0)!=(A|0));return J[g>>3]=w,N=0,X=w,X=X*6371.007180918475,X=X*1e3,J[g>>3]=X,K=D,N|0}function Xm(h){h=h|0;var A=0,g=0,x=0;return A=go(1,12)|0,A||Et(27280,27235,49,27293),g=h+4|0,x=d[g>>2]|0,x|0?(x=x+8|0,d[x>>2]=A,d[g>>2]=A,A|0):(d[h>>2]|0&&Et(27310,27235,61,27333),x=h,d[x>>2]=A,d[g>>2]=A,A|0)}function t4(h,A){h=h|0,A=A|0;var g=0,x=0;return x=ko(24)|0,x||Et(27347,27235,78,27361),d[x>>2]=d[A>>2],d[x+4>>2]=d[A+4>>2],d[x+8>>2]=d[A+8>>2],d[x+12>>2]=d[A+12>>2],d[x+16>>2]=0,A=h+4|0,g=d[A>>2]|0,g|0?(d[g+16>>2]=x,d[A>>2]=x,x|0):(d[h>>2]|0&&Et(27376,27235,82,27361),d[h>>2]=x,d[A>>2]=x,x|0)}function l7(h){h=h|0;var A=0,g=0,x=0,b=0;if(h)for(x=1;;){if(A=d[h>>2]|0,A|0)do{if(g=d[A>>2]|0,g|0)do b=g,g=d[g+16>>2]|0,_n(b);while(g|0);b=A,A=d[A+8>>2]|0,_n(b)}while(A|0);if(A=h,h=d[h+8>>2]|0,x||_n(A),h)x=0;else break}}function Qh(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0,ke=0,Ue=0,De=0,Te=0,_t=0,rn=0,Ht=0,Nn=0,Ln=0,Jn=0,vn=0,Wt=0,ot=0,Mn=0,ei=0,Bn=0;if(b=h+8|0,d[b>>2]|0)return Bn=1,Bn|0;if(x=d[h>>2]|0,!x)return Bn=0,Bn|0;A=x,g=0;do g=g+1|0,A=d[A+8>>2]|0;while(A|0);if(g>>>0<2)return Bn=0,Bn|0;Mn=ko(g<<2)|0,Mn||Et(27396,27235,317,27415),ot=ko(g<<5)|0,ot||Et(27437,27235,321,27415),d[h>>2]=0,rn=h+4|0,d[rn>>2]=0,d[b>>2]=0,g=0,Wt=0,_t=0,se=0;e:for(;;){if(X=d[x>>2]|0,X){w=0,N=X;do{if(U=+J[N+8>>3],A=N,N=d[N+16>>2]|0,G=(N|0)==0,b=G?X:N,D=+J[b+8>>3],+Pn(+(U-D))>3.141592653589793){Bn=14;break}w=w+(D-U)*(+J[A>>3]+ +J[b>>3])}while(!G);if((Bn|0)==14){Bn=0,w=0,A=X;do Te=+J[A+8>>3],vn=A+16|0,Jn=d[vn>>2]|0,Jn=Jn|0?Jn:X,De=+J[Jn+8>>3],w=w+(+J[A>>3]+ +J[Jn>>3])*((De<0?De+6.283185307179586:De)-(Te<0?Te+6.283185307179586:Te)),A=d[(A|0?vn:x)>>2]|0;while(A|0)}w>0?(d[Mn+(Wt<<2)>>2]=x,Wt=Wt+1|0,b=_t,A=se):Bn=19}else Bn=19;if((Bn|0)==19){Bn=0;do if(g){if(A=g+8|0,d[A>>2]|0){Bn=21;break e}if(g=go(1,12)|0,!g){Bn=23;break e}d[A>>2]=g,b=g+4|0,N=g,A=se}else if(se){b=rn,N=se+8|0,A=x,g=h;break}else if(d[h>>2]|0){Bn=27;break e}else{b=rn,N=h,A=x,g=h;break}while(!1);if(d[N>>2]=x,d[b>>2]=x,N=ot+(_t<<5)|0,G=d[x>>2]|0,G){for(X=ot+(_t<<5)+8|0,J[X>>3]=17976931348623157e292,se=ot+(_t<<5)+24|0,J[se>>3]=17976931348623157e292,J[N>>3]=-17976931348623157e292,pe=ot+(_t<<5)+16|0,J[pe>>3]=-17976931348623157e292,ke=17976931348623157e292,Ue=-17976931348623157e292,b=0,Ae=G,U=17976931348623157e292,_e=17976931348623157e292,Ne=-17976931348623157e292,D=-17976931348623157e292;w=+J[Ae>>3],Te=+J[Ae+8>>3],Ae=d[Ae+16>>2]|0,he=(Ae|0)==0,De=+J[(he?G:Ae)+8>>3],w<U&&(J[X>>3]=w,U=w),Te<_e&&(J[se>>3]=Te,_e=Te),w>Ne?J[N>>3]=w:w=Ne,Te>D&&(J[pe>>3]=Te,D=Te),ke=Te>0&Te<ke?Te:ke,Ue=Te<0&Te>Ue?Te:Ue,b=b|+Pn(+(Te-De))>3.141592653589793,!he;)Ne=w;b&&(J[pe>>3]=Ue,J[se>>3]=ke)}else d[N>>2]=0,d[N+4>>2]=0,d[N+8>>2]=0,d[N+12>>2]=0,d[N+16>>2]=0,d[N+20>>2]=0,d[N+24>>2]=0,d[N+28>>2]=0;b=_t+1|0}if(vn=x+8|0,x=d[vn>>2]|0,d[vn>>2]=0,x)_t=b,se=A;else{Bn=45;break}}if((Bn|0)==21)Et(27213,27235,35,27247);else if((Bn|0)==23)Et(27267,27235,37,27247);else if((Bn|0)==27)Et(27310,27235,61,27333);else if((Bn|0)==45){e:do if((Wt|0)>0){for(vn=(b|0)==0,Ln=b<<2,Jn=(h|0)==0,Nn=0,A=0;;){if(Ht=d[Mn+(Nn<<2)>>2]|0,vn)Bn=73;else{if(_t=ko(Ln)|0,!_t){Bn=50;break}if(rn=ko(Ln)|0,!rn){Bn=52;break}t:do if(Jn)g=0;else{for(b=0,g=0,N=h;x=ot+(b<<5)|0,u7(d[N>>2]|0,x,d[Ht>>2]|0)|0?(d[_t+(g<<2)>>2]=N,d[rn+(g<<2)>>2]=x,he=g+1|0):he=g,N=d[N+8>>2]|0,N;)b=b+1|0,g=he;if((he|0)>0)if(x=d[_t>>2]|0,(he|0)==1)g=x;else for(pe=0,Ae=-1,g=x,se=x;;){for(G=d[se>>2]|0,x=0,N=0;b=d[d[_t+(N<<2)>>2]>>2]|0,(b|0)==(G|0)?X=x:X=x+((u7(b,d[rn+(N<<2)>>2]|0,d[G>>2]|0)|0)&1)|0,N=N+1|0,(N|0)!=(he|0);)x=X;if(b=(X|0)>(Ae|0),g=b?se:g,x=pe+1|0,(x|0)==(he|0))break t;pe=x,Ae=b?X:Ae,se=d[_t+(x<<2)>>2]|0}else g=0}while(!1);if(_n(_t),_n(rn),g){if(b=g+4|0,x=d[b>>2]|0,x)g=x+8|0;else if(d[g>>2]|0){Bn=70;break}d[g>>2]=Ht,d[b>>2]=Ht}else Bn=73}if((Bn|0)==73){if(Bn=0,A=d[Ht>>2]|0,A|0)do rn=A,A=d[A+16>>2]|0,_n(rn);while(A|0);_n(Ht),A=1}if(Nn=Nn+1|0,(Nn|0)>=(Wt|0)){ei=A;break e}}(Bn|0)==50?Et(27452,27235,249,27471):(Bn|0)==52?Et(27490,27235,252,27471):(Bn|0)==70&&Et(27310,27235,61,27333)}else ei=0;while(!1);return _n(Mn),_n(ot),Bn=ei,Bn|0}return 0}function u7(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0;if(!(Oh(A,g)|0)||(A=Uh(A)|0,x=+J[g>>3],b=+J[g+8>>3],b=A&b<0?b+6.283185307179586:b,h=d[h>>2]|0,!h))return h=0,h|0;if(A){A=0,G=b,g=h;e:for(;;){for(;N=+J[g>>3],b=+J[g+8>>3],g=g+16|0,X=d[g>>2]|0,X=X|0?X:h,w=+J[X>>3],D=+J[X+8>>3],N>w?(U=N,N=D):(U=w,w=N,N=b,b=D),x=x==w|x==U?x+2220446049250313e-31:x,!!(x<w|x>U);)if(g=d[g>>2]|0,!g){g=22;break e}if(D=N<0?N+6.283185307179586:N,N=b<0?b+6.283185307179586:b,G=D==G|N==G?G+-2220446049250313e-31:G,U=D+(N-D)*((x-w)/(U-w)),(U<0?U+6.283185307179586:U)>G&&(A=A^1),g=d[g>>2]|0,!g){g=22;break}}if((g|0)==22)return A|0}else{A=0,G=b,g=h;e:for(;;){for(;N=+J[g>>3],b=+J[g+8>>3],g=g+16|0,X=d[g>>2]|0,X=X|0?X:h,w=+J[X>>3],D=+J[X+8>>3],N>w?(U=N,N=D):(U=w,w=N,N=b,b=D),x=x==w|x==U?x+2220446049250313e-31:x,!!(x<w|x>U);)if(g=d[g>>2]|0,!g){g=22;break e}if(G=N==G|b==G?G+-2220446049250313e-31:G,N+(b-N)*((x-w)/(U-w))>G&&(A=A^1),g=d[g>>2]|0,!g){g=22;break}}if((g|0)==22)return A|0}return 0}function yl(h,A,g,x,b){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0;var w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0,ke=0,Ue=0;if(Ue=K,K=K+32|0,ke=Ue+16|0,Ne=Ue,w=ht(h|0,A|0,52)|0,te()|0,w=w&15,Ae=ht(g|0,x|0,52)|0,te()|0,(w|0)!=(Ae&15|0))return ke=12,K=Ue,ke|0;if(G=ht(h|0,A|0,45)|0,te()|0,G=G&127,X=ht(g|0,x|0,45)|0,te()|0,X=X&127,G>>>0>121|X>>>0>121)return ke=5,K=Ue,ke|0;if(Ae=(G|0)!=(X|0),Ae){if(D=W3(G,X)|0,(D|0)==7)return ke=1,K=Ue,ke|0;U=W3(X,G)|0,(U|0)==7?Et(27514,27538,161,27548):(he=D,N=U)}else he=0,N=0;se=Ji(G)|0,pe=Ji(X)|0,d[ke>>2]=0,d[ke+4>>2]=0,d[ke+8>>2]=0,d[ke+12>>2]=0;do if(he){if(X=d[4272+(G*28|0)+(he<<2)>>2]|0,D=(X|0)>0,pe)if(D){G=0,U=g,D=x;do U=dT(U,D)|0,D=te()|0,N=Jl(N)|0,(N|0)==1&&(N=Jl(1)|0),G=G+1|0;while((G|0)!=(X|0));X=N,G=U,U=D}else X=N,G=g,U=x;else if(D){G=0,U=g,D=x;do U=qh(U,D)|0,D=te()|0,N=Jl(N)|0,G=G+1|0;while((G|0)!=(X|0));X=N,G=U,U=D}else X=N,G=g,U=x;if(jh(G,U,ke)|0,Ae||Et(27563,27538,191,27548),D=(se|0)!=0,N=(pe|0)!=0,D&N&&Et(27590,27538,192,27548),D){if(N=Es(h,A)|0,(N|0)==7){w=5;break}if(nt[22e3+(N*7|0)+he>>0]|0){w=1;break}U=d[21168+(N*28|0)+(he<<2)>>2]|0,G=U}else if(N){if(N=Es(G,U)|0,(N|0)==7){w=5;break}if(nt[22e3+(N*7|0)+X>>0]|0){w=1;break}G=0,U=d[21168+(X*28|0)+(N<<2)>>2]|0}else G=0,U=0;if((G|U|0)<0)w=5;else{if((U|0)>0){D=ke+4|0,N=0;do Y3(D),N=N+1|0;while((N|0)!=(U|0))}if(d[Ne>>2]=0,d[Ne+4>>2]=0,d[Ne+8>>2]=0,I8(Ne,he),w|0)for(;ys(w)|0?X3(Ne):Du(Ne),(w|0)>1;)w=w+-1|0;if((G|0)>0){w=0;do Y3(Ne),w=w+1|0;while((w|0)!=(G|0))}_e=ke+4|0,Xr(_e,Ne,_e),Ys(_e),_e=51}}else if(jh(g,x,ke)|0,(se|0)!=0&(pe|0)!=0)if((X|0)!=(G|0)&&Et(27621,27538,261,27548),N=Es(h,A)|0,w=Es(g,x)|0,(N|0)==7|(w|0)==7)w=5;else if(nt[22e3+(N*7|0)+w>>0]|0)w=1;else if(N=d[21168+(N*28|0)+(w<<2)>>2]|0,(N|0)>0){D=ke+4|0,w=0;do Y3(D),w=w+1|0;while((w|0)!=(N|0));_e=51}else _e=51;else _e=51;while(!1);return(_e|0)==51&&(w=ke+4|0,d[b>>2]=d[w>>2],d[b+4>>2]=d[w+4>>2],d[b+8>>2]=d[w+8>>2],w=0),ke=w,K=Ue,ke|0}function $h(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0,ke=0,Ue=0,De=0;if(_e=K,K=K+48|0,G=_e+36|0,N=_e+24|0,D=_e+12|0,U=_e,b=ht(h|0,A|0,52)|0,te()|0,b=b&15,pe=ht(h|0,A|0,45)|0,te()|0,pe=pe&127,pe>>>0>121)return x=5,K=_e,x|0;if(X=Ji(pe)|0,xt(b|0,0,52)|0,Ne=te()|0|134225919,w=x,d[w>>2]=-1,d[w+4>>2]=Ne,!b)return b=i2(g)|0,(b|0)==7||(b=Bh(pe,b)|0,(b|0)==127)?(Ne=1,K=_e,Ne|0):(Ae=xt(b|0,0,45)|0,he=te()|0,pe=x,he=d[pe+4>>2]&-1040385|he,Ne=x,d[Ne>>2]=d[pe>>2]|Ae,d[Ne+4>>2]=he,Ne=0,K=_e,Ne|0);for(d[G>>2]=d[g>>2],d[G+4>>2]=d[g+4>>2],d[G+8>>2]=d[g+8>>2],g=b;;){if(w=g,g=g+-1|0,d[N>>2]=d[G>>2],d[N+4>>2]=d[G+4>>2],d[N+8>>2]=d[G+8>>2],ys(w)|0){if(b=Om(G)|0,b|0){g=13;break}d[D>>2]=d[G>>2],d[D+4>>2]=d[G+4>>2],d[D+8>>2]=d[G+8>>2],X3(D)}else{if(b=Im(G)|0,b|0){g=13;break}d[D>>2]=d[G>>2],d[D+4>>2]=d[G+4>>2],d[D+8>>2]=d[G+8>>2],Du(D)}if(n2(N,D,U),Ys(U),b=x,Ue=d[b>>2]|0,b=d[b+4>>2]|0,De=(15-w|0)*3|0,ke=xt(7,0,De|0)|0,b=b&~(te()|0),De=xt(i2(U)|0,0,De|0)|0,b=te()|0|b,Ne=x,d[Ne>>2]=De|Ue&~ke,d[Ne+4>>2]=b,(w|0)<=1){g=14;break}}e:do if((g|0)!=13&&(g|0)==14)if((d[G>>2]|0)<=1&&(d[G+4>>2]|0)<=1&&(d[G+8>>2]|0)<=1){g=i2(G)|0,b=Bh(pe,g)|0,(b|0)==127?U=0:U=Ji(b)|0;t:do if(g){if(X){if(b=Es(h,A)|0,(b|0)==7){b=5;break e}if(w=d[21376+(b*28|0)+(g<<2)>>2]|0,(w|0)>0){b=g,g=0;do b=gl(b)|0,g=g+1|0;while((g|0)!=(w|0))}else b=g;if((b|0)==1){b=9;break e}g=Bh(pe,b)|0,(g|0)==127&&Et(27648,27538,411,27678),Ji(g)|0?Et(27693,27538,412,27678):(he=g,Ae=w,se=b)}else he=b,Ae=0,se=g;if(D=d[4272+(pe*28|0)+(se<<2)>>2]|0,(D|0)<=-1&&Et(27724,27538,419,27678),!U){if((Ae|0)<0){b=5;break e}if(Ae|0){w=x,b=0,g=d[w>>2]|0,w=d[w+4>>2]|0;do g=I1(g,w)|0,w=te()|0,De=x,d[De>>2]=g,d[De+4>>2]=w,b=b+1|0;while((b|0)<(Ae|0))}if((D|0)<=0){b=he,g=58;break}for(w=x,b=0,g=d[w>>2]|0,w=d[w+4>>2]|0;;)if(g=I1(g,w)|0,w=te()|0,De=x,d[De>>2]=g,d[De+4>>2]=w,b=b+1|0,(b|0)==(D|0)){b=he,g=58;break t}}if(N=W3(he,pe)|0,(N|0)==7&&Et(27514,27538,428,27678),b=x,g=d[b>>2]|0,b=d[b+4>>2]|0,(D|0)>0){w=0;do g=I1(g,b)|0,b=te()|0,De=x,d[De>>2]=g,d[De+4>>2]=b,w=w+1|0;while((w|0)!=(D|0))}if(b=Es(g,b)|0,(b|0)==7&&Et(27795,27538,440,27678),g=Lh(he)|0,g=d[(g?21792:21584)+(N*28|0)+(b<<2)>>2]|0,(g|0)<0&&Et(27795,27538,454,27678),!g)b=he,g=58;else{N=x,b=0,w=d[N>>2]|0,N=d[N+4>>2]|0;do w=mr(w,N)|0,N=te()|0,De=x,d[De>>2]=w,d[De+4>>2]=N,b=b+1|0;while((b|0)<(g|0));b=he,g=58}}else if((X|0)!=0&(U|0)!=0){if(g=Es(h,A)|0,w=x,w=Es(d[w>>2]|0,d[w+4>>2]|0)|0,(g|0)==7|(w|0)==7){b=5;break e}if(w=d[21376+(g*28|0)+(w<<2)>>2]|0,(w|0)<0){b=5;break e}if(!w)g=59;else{D=x,g=0,N=d[D>>2]|0,D=d[D+4>>2]|0;do N=I1(N,D)|0,D=te()|0,De=x,d[De>>2]=N,d[De+4>>2]=D,g=g+1|0;while((g|0)<(w|0));g=58}}else g=58;while(!1);if((g|0)==58&&U&&(g=59),(g|0)==59&&(De=x,(Es(d[De>>2]|0,d[De+4>>2]|0)|0)==1)){b=9;break}De=x,ke=d[De>>2]|0,De=d[De+4>>2]&-1040385,Ue=xt(b|0,0,45)|0,De=De|(te()|0),b=x,d[b>>2]=ke|Ue,d[b+4>>2]=De,b=0}else b=1;while(!1);return De=b,K=_e,De|0}function c7(h,A,g,x,b,w){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0,w=w|0;var N=0,D=0;return D=K,K=K+16|0,N=D,b?h=15:(h=yl(h,A,g,x,N)|0,h||(k8(N,w),h=0)),K=D,h|0}function Ym(h,A,g,x,b){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0;var w=0,N=0;return N=K,K=K+16|0,w=N,x?g=15:(g=G8(g,w)|0,g||(g=$h(h,A,w,b)|0)),K=N,g|0}function f7(h,A,g,x,b){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0;var w=0,N=0,D=0,U=0;return U=K,K=K+32|0,N=U+12|0,D=U,w=yl(h,A,h,A,N)|0,w|0?(D=w,K=U,D|0):(h=yl(h,A,g,x,D)|0,h|0?(D=h,K=U,D|0):(N=zh(N,D)|0,D=b,d[D>>2]=N,d[D+4>>2]=((N|0)<0)<<31>>31,D=0,K=U,D|0))}function mo(h,A,g,x,b){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0;var w=0,N=0,D=0,U=0;return U=K,K=K+32|0,N=U+12|0,D=U,w=yl(h,A,h,A,N)|0,!w&&(w=yl(h,A,g,x,D)|0,!w)?(x=zh(N,D)|0,x=An(x|0,((x|0)<0)<<31>>31|0,1,0)|0,N=te()|0,D=b,d[D>>2]=x,d[D+4>>2]=N,D=0,K=U,D|0):(D=w,K=U,D|0)}function Qm(h,A,g,x,b){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0;var w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0,ke=0,Ue=0,De=0,Te=0,_t=0,rn=0,Ht=0,Nn=0;if(Ht=K,K=K+48|0,_t=Ht+24|0,N=Ht+12|0,rn=Ht,w=yl(h,A,h,A,_t)|0,!w&&(w=yl(h,A,g,x,N)|0,!w)){De=zh(_t,N)|0,Te=((De|0)<0)<<31>>31,d[_t>>2]=0,d[_t+4>>2]=0,d[_t+8>>2]=0,d[N>>2]=0,d[N+4>>2]=0,d[N+8>>2]=0,yl(h,A,h,A,_t)|0&&Et(27795,27538,692,27747),yl(h,A,g,x,N)|0&&Et(27795,27538,697,27747),q8(_t),q8(N),X=De|0?1/+(De|0):0,g=d[_t>>2]|0,_e=X*+((d[N>>2]|0)-g|0),Ne=_t+4|0,x=d[Ne>>2]|0,ke=X*+((d[N+4>>2]|0)-x|0),Ue=_t+8|0,w=d[Ue>>2]|0,X=X*+((d[N+8>>2]|0)-w|0),d[rn>>2]=g,se=rn+4|0,d[se>>2]=x,pe=rn+8|0,d[pe>>2]=w;e:do if((De|0)<0)w=0;else for(Ae=0,he=0;;){U=+(he>>>0)+4294967296*+(Ae|0),Nn=_e*U+ +(g|0),D=ke*U+ +(x|0),U=X*U+ +(w|0),g=~~+s5(+Nn),N=~~+s5(+D),w=~~+s5(+U),Nn=+Pn(+(+(g|0)-Nn)),D=+Pn(+(+(N|0)-D)),U=+Pn(+(+(w|0)-U));do if(Nn>D&Nn>U)g=0-(N+w)|0,x=N;else if(G=0-g|0,D>U){x=G-w|0;break}else{x=N,w=G-N|0;break}while(!1);if(d[rn>>2]=g,d[se>>2]=x,d[pe>>2]=w,H8(rn),w=$h(h,A,rn,b+(he<<3)|0)|0,w|0)break e;if(!((Ae|0)<(Te|0)|(Ae|0)==(Te|0)&he>>>0<De>>>0)){w=0;break e}g=An(he|0,Ae|0,1,0)|0,x=te()|0,Ae=x,he=g,g=d[_t>>2]|0,x=d[Ne>>2]|0,w=d[Ue>>2]|0}while(!1);return rn=w,K=Ht,rn|0}return rn=w,K=Ht,rn|0}function Vr(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0;if((g|0)==0&(x|0)==0)return b=0,w=1,dt(b|0),w|0;w=h,b=A,h=1,A=0;do N=(g&1|0)==0&!0,h=fa((N?1:w)|0,(N?0:b)|0,h|0,A|0)|0,A=te()|0,g=ug(g|0,x|0,1)|0,x=te()|0,w=fa(w|0,b|0,w|0,b|0)|0,b=te()|0;while(!((g|0)==0&(x|0)==0));return dt(A|0),h|0}function Kh(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0,G=0,X=0;D=K,K=K+16|0,w=D,N=ht(h|0,A|0,52)|0,te()|0,N=N&15;do if(N){if(b=vs(h,A,w)|0,!b){G=+J[w>>3],U=1/+yi(+G),X=+J[25968+(N<<3)>>3],J[g>>3]=G+X,J[g+8>>3]=G-X,G=+J[w+8>>3],U=X*U,J[g+16>>3]=U+G,J[g+24>>3]=G-U;break}return N=b,K=D,N|0}else{if(b=ht(h|0,A|0,45)|0,te()|0,b=b&127,b>>>0>121)return N=5,K=D,N|0;w=22064+(b<<5)|0,d[g>>2]=d[w>>2],d[g+4>>2]=d[w+4>>2],d[g+8>>2]=d[w+8>>2],d[g+12>>2]=d[w+12>>2],d[g+16>>2]=d[w+16>>2],d[g+20>>2]=d[w+20>>2],d[g+24>>2]=d[w+24>>2],d[g+28>>2]=d[w+28>>2];break}while(!1);return Bm(g,x?1.4:1.1),x=26096+(N<<3)|0,(d[x>>2]|0)==(h|0)&&(d[x+4>>2]|0)==(A|0)&&(J[g>>3]=1.5707963267948966),N=26224+(N<<3)|0,(d[N>>2]|0)==(h|0)&&(d[N+4>>2]|0)==(A|0)&&(J[g+8>>3]=-1.5707963267948966),+J[g>>3]!=1.5707963267948966&&+J[g+8>>3]!=-1.5707963267948966?(N=0,K=D,N|0):(J[g+16>>3]=3.141592653589793,J[g+24>>3]=-3.141592653589793,N=0,K=D,N|0)}function h7(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0,G=0,X=0;G=K,K=K+48|0,N=G+32|0,w=G+40|0,D=G,a2(N,0,0,0),U=d[N>>2]|0,N=d[N+4>>2]|0;do if(g>>>0<=15){if(b=u2(x)|0,b|0){x=D,d[x>>2]=0,d[x+4>>2]=0,d[D+8>>2]=b,d[D+12>>2]=-1,x=D+16|0,U=D+29|0,d[x>>2]=0,d[x+4>>2]=0,d[x+8>>2]=0,nt[x+12>>0]=0,nt[U>>0]=nt[w>>0]|0,nt[U+1>>0]=nt[w+1>>0]|0,nt[U+2>>0]=nt[w+2>>0]|0;break}if(b=go((d[A+8>>2]|0)+1|0,32)|0,b){Zh(A,b),X=D,d[X>>2]=U,d[X+4>>2]=N,d[D+8>>2]=0,d[D+12>>2]=g,d[D+16>>2]=x,d[D+20>>2]=A,d[D+24>>2]=b,nt[D+28>>0]=0,U=D+29|0,nt[U>>0]=nt[w>>0]|0,nt[U+1>>0]=nt[w+1>>0]|0,nt[U+2>>0]=nt[w+2>>0]|0;break}else{x=D,d[x>>2]=0,d[x+4>>2]=0,d[D+8>>2]=13,d[D+12>>2]=-1,x=D+16|0,U=D+29|0,d[x>>2]=0,d[x+4>>2]=0,d[x+8>>2]=0,nt[x+12>>0]=0,nt[U>>0]=nt[w>>0]|0,nt[U+1>>0]=nt[w+1>>0]|0,nt[U+2>>0]=nt[w+2>>0]|0;break}}else U=D,d[U>>2]=0,d[U+4>>2]=0,d[D+8>>2]=4,d[D+12>>2]=-1,U=D+16|0,X=D+29|0,d[U>>2]=0,d[U+4>>2]=0,d[U+8>>2]=0,nt[U+12>>0]=0,nt[X>>0]=nt[w>>0]|0,nt[X+1>>0]=nt[w+1>>0]|0,nt[X+2>>0]=nt[w+2>>0]|0;while(!1);n4(D),d[h>>2]=d[D>>2],d[h+4>>2]=d[D+4>>2],d[h+8>>2]=d[D+8>>2],d[h+12>>2]=d[D+12>>2],d[h+16>>2]=d[D+16>>2],d[h+20>>2]=d[D+20>>2],d[h+24>>2]=d[D+24>>2],d[h+28>>2]=d[D+28>>2],K=G}function n4(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0,ke=0,Ue=0,De=0,Te=0;if(Te=K,K=K+336|0,Ae=Te+168|0,he=Te,x=h,g=d[x>>2]|0,x=d[x+4>>2]|0,(g|0)==0&(x|0)==0){K=Te;return}if(A=h+28|0,nt[A>>0]|0?(g=$m(g,x)|0,x=te()|0):nt[A>>0]=1,De=h+20|0,!(d[d[De>>2]>>2]|0)){A=h+24|0,g=d[A>>2]|0,g|0&&_n(g),Ue=h,d[Ue>>2]=0,d[Ue+4>>2]=0,d[h+8>>2]=0,d[De>>2]=0,d[h+12>>2]=-1,d[h+16>>2]=0,d[A>>2]=0,K=Te;return}Ue=h+16|0,A=d[Ue>>2]|0,b=A&15;e:do if((g|0)==0&(x|0)==0)ke=h+24|0;else{_e=h+12|0,se=(b|0)==3,X=A&255,U=(b|1|0)==3,pe=h+24|0,G=(b+-1|0)>>>0<3,N=(b|2|0)==3,D=he+8|0;t:for(;;){if(w=ht(g|0,x|0,52)|0,te()|0,w=w&15,(w|0)==(d[_e>>2]|0)){switch(X&15){case 0:case 2:case 3:{if(b=vs(g,x,Ae)|0,b|0){Ne=15;break t}if(Jh(d[De>>2]|0,d[pe>>2]|0,Ae)|0){Ne=19;break t}break}}if(U&&(b=d[(d[De>>2]|0)+4>>2]|0,d[Ae>>2]=d[b>>2],d[Ae+4>>2]=d[b+4>>2],d[Ae+8>>2]=d[b+8>>2],d[Ae+12>>2]=d[b+12>>2],Oh(26832,Ae)|0)){if(Hh(d[(d[De>>2]|0)+4>>2]|0,w,he)|0){Ne=25;break}if(b=he,(d[b>>2]|0)==(g|0)&&(d[b+4>>2]|0)==(x|0)){Ne=29;break}}if(G){if(b=F1(g,x,Ae)|0,b|0){Ne=32;break}if(Kh(g,x,he,0)|0){Ne=36;break}if(N&&d7(d[De>>2]|0,d[pe>>2]|0,Ae,he)|0){Ne=42;break}if(U&&e5(d[De>>2]|0,d[pe>>2]|0,Ae,he)|0){Ne=42;break}}if(se){if(A=Kh(g,x,Ae,1)|0,b=d[pe>>2]|0,A|0){Ne=45;break}if(L8(b,Ae)|0){if(t2(he,Ae),B8(Ae,d[pe>>2]|0)|0){Ne=53;break}if(Jh(d[De>>2]|0,d[pe>>2]|0,D)|0){Ne=53;break}if(e5(d[De>>2]|0,d[pe>>2]|0,he,Ae)|0){Ne=53;break}}}}do if((w|0)<(d[_e>>2]|0)){if(A=Kh(g,x,Ae,1)|0,b=d[pe>>2]|0,A|0){Ne=58;break t}if(!(L8(b,Ae)|0)){Ne=73;break}if(B8(d[pe>>2]|0,Ae)|0&&(t2(he,Ae),d7(d[De>>2]|0,d[pe>>2]|0,he,Ae)|0)){Ne=65;break t}if(g=e7(g,x,w+1|0,he)|0,g|0){Ne=67;break t}x=he,g=d[x>>2]|0,x=d[x+4>>2]|0}else Ne=73;while(!1);if((Ne|0)==73&&(Ne=0,g=$m(g,x)|0,x=te()|0),(g|0)==0&(x|0)==0){ke=pe;break e}}switch(Ne|0){case 15:{A=d[pe>>2]|0,A|0&&_n(A),Ne=h,d[Ne>>2]=0,d[Ne+4>>2]=0,d[De>>2]=0,d[_e>>2]=-1,d[Ue>>2]=0,d[pe>>2]=0,d[h+8>>2]=b,Ne=20;break}case 19:{d[h>>2]=g,d[h+4>>2]=x,Ne=20;break}case 25:{Et(27795,27761,470,27772);break}case 29:{d[h>>2]=g,d[h+4>>2]=x,K=Te;return}case 32:{A=d[pe>>2]|0,A|0&&_n(A),ke=h,d[ke>>2]=0,d[ke+4>>2]=0,d[De>>2]=0,d[_e>>2]=-1,d[Ue>>2]=0,d[pe>>2]=0,d[h+8>>2]=b,K=Te;return}case 36:{Et(27795,27761,493,27772);break}case 42:{d[h>>2]=g,d[h+4>>2]=x,K=Te;return}case 45:{b|0&&_n(b),Ne=h,d[Ne>>2]=0,d[Ne+4>>2]=0,d[De>>2]=0,d[_e>>2]=-1,d[Ue>>2]=0,d[pe>>2]=0,d[h+8>>2]=A,Ne=55;break}case 53:{d[h>>2]=g,d[h+4>>2]=x,Ne=55;break}case 58:{b|0&&_n(b),Ne=h,d[Ne>>2]=0,d[Ne+4>>2]=0,d[De>>2]=0,d[_e>>2]=-1,d[Ue>>2]=0,d[pe>>2]=0,d[h+8>>2]=A,Ne=71;break}case 65:{d[h>>2]=g,d[h+4>>2]=x,Ne=71;break}case 67:{A=d[pe>>2]|0,A|0&&_n(A),ke=h,d[ke>>2]=0,d[ke+4>>2]=0,d[De>>2]=0,d[_e>>2]=-1,d[Ue>>2]=0,d[pe>>2]=0,d[h+8>>2]=g,K=Te;return}}if((Ne|0)==20){K=Te;return}else if((Ne|0)==55){K=Te;return}else if((Ne|0)==71){K=Te;return}}while(!1);A=d[ke>>2]|0,A|0&&_n(A),Ne=h,d[Ne>>2]=0,d[Ne+4>>2]=0,d[h+8>>2]=0,d[De>>2]=0,d[h+12>>2]=-1,d[Ue>>2]=0,d[ke>>2]=0,K=Te}function $m(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0;se=K,K=K+16|0,X=se,x=ht(h|0,A|0,52)|0,te()|0,x=x&15,g=ht(h|0,A|0,45)|0,te()|0;do if(x){for(;g=xt(x+4095|0,0,52)|0,b=te()|0|A&-15728641,w=(15-x|0)*3|0,N=xt(7,0,w|0)|0,D=te()|0,g=g|h|N,b=b|D,U=ht(h|0,A|0,w|0)|0,te()|0,U=U&7,x=x+-1|0,!(U>>>0<6);)if(x)A=b,h=g;else{G=4;break}if((G|0)==4){g=ht(g|0,b|0,45)|0,te()|0;break}return X=(U|0)==0&(Fi(g,b)|0)!=0,X=xt((X?2:1)+U|0,0,w|0)|0,G=te()|0|A&~D,X=X|h&~N,dt(G|0),K=se,X|0}while(!1);return g=g&127,g>>>0>120?(G=0,X=0,dt(G|0),K=se,X|0):(a2(X,0,g+1|0,0),G=d[X+4>>2]|0,X=d[X>>2]|0,dt(G|0),K=se,X|0)}function $0(h,A,g,x,b,w){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0,w=w|0;var N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0;Ne=K,K=K+160|0,se=Ne+80|0,D=Ne+64|0,pe=Ne+112|0,_e=Ne,h7(se,h,A,g),G=se,s7(D,d[G>>2]|0,d[G+4>>2]|0,A),G=D,U=d[G>>2]|0,G=d[G+4>>2]|0,N=d[se+8>>2]|0,Ae=pe+4|0,d[Ae>>2]=d[se>>2],d[Ae+4>>2]=d[se+4>>2],d[Ae+8>>2]=d[se+8>>2],d[Ae+12>>2]=d[se+12>>2],d[Ae+16>>2]=d[se+16>>2],d[Ae+20>>2]=d[se+20>>2],d[Ae+24>>2]=d[se+24>>2],d[Ae+28>>2]=d[se+28>>2],Ae=_e,d[Ae>>2]=U,d[Ae+4>>2]=G,Ae=_e+8|0,d[Ae>>2]=N,h=_e+12|0,A=pe,g=h+36|0;do d[h>>2]=d[A>>2],h=h+4|0,A=A+4|0;while((h|0)<(g|0));if(pe=_e+48|0,d[pe>>2]=d[D>>2],d[pe+4>>2]=d[D+4>>2],d[pe+8>>2]=d[D+8>>2],d[pe+12>>2]=d[D+12>>2],(U|0)==0&(G|0)==0)return _e=N,K=Ne,_e|0;g=_e+16|0,X=_e+24|0,se=_e+28|0,N=0,D=0,A=U,h=G;do{if(!((N|0)<(b|0)|(N|0)==(b|0)&D>>>0<x>>>0)){he=4;break}if(G=D,D=An(D|0,N|0,1,0)|0,N=te()|0,G=w+(G<<3)|0,d[G>>2]=A,d[G+4>>2]=h,Xh(pe),h=pe,A=d[h>>2]|0,h=d[h+4>>2]|0,(A|0)==0&(h|0)==0){if(n4(g),A=g,h=d[A>>2]|0,A=d[A+4>>2]|0,(h|0)==0&(A|0)==0){he=10;break}a7(h,A,d[se>>2]|0,pe),h=pe,A=d[h>>2]|0,h=d[h+4>>2]|0}G=_e,d[G>>2]=A,d[G+4>>2]=h}while(!((A|0)==0&(h|0)==0));return(he|0)==4?(h=_e+40|0,A=d[h>>2]|0,A|0&&_n(A),he=_e+16|0,d[he>>2]=0,d[he+4>>2]=0,d[X>>2]=0,d[_e+36>>2]=0,d[se>>2]=-1,d[_e+32>>2]=0,d[h>>2]=0,a7(0,0,0,pe),d[_e>>2]=0,d[_e+4>>2]=0,d[Ae>>2]=0,_e=14,K=Ne,_e|0):((he|0)==10&&(d[_e>>2]=0,d[_e+4>>2]=0,d[Ae>>2]=d[X>>2]),_e=d[Ae>>2]|0,K=Ne,_e|0)}function Km(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0;if(se=K,K=K+48|0,U=se+32|0,D=se+40|0,G=se,!(d[h>>2]|0))return X=x,d[X>>2]=0,d[X+4>>2]=0,X=0,K=se,X|0;a2(U,0,0,0),N=U,b=d[N>>2]|0,N=d[N+4>>2]|0;do if(A>>>0>15)X=G,d[X>>2]=0,d[X+4>>2]=0,d[G+8>>2]=4,d[G+12>>2]=-1,X=G+16|0,g=G+29|0,d[X>>2]=0,d[X+4>>2]=0,d[X+8>>2]=0,nt[X+12>>0]=0,nt[g>>0]=nt[D>>0]|0,nt[g+1>>0]=nt[D+1>>0]|0,nt[g+2>>0]=nt[D+2>>0]|0,g=4,X=9;else{if(g=u2(g)|0,g|0){U=G,d[U>>2]=0,d[U+4>>2]=0,d[G+8>>2]=g,d[G+12>>2]=-1,U=G+16|0,X=G+29|0,d[U>>2]=0,d[U+4>>2]=0,d[U+8>>2]=0,nt[U+12>>0]=0,nt[X>>0]=nt[D>>0]|0,nt[X+1>>0]=nt[D+1>>0]|0,nt[X+2>>0]=nt[D+2>>0]|0,X=9;break}if(g=go((d[h+8>>2]|0)+1|0,32)|0,!g){X=G,d[X>>2]=0,d[X+4>>2]=0,d[G+8>>2]=13,d[G+12>>2]=-1,X=G+16|0,g=G+29|0,d[X>>2]=0,d[X+4>>2]=0,d[X+8>>2]=0,nt[X+12>>0]=0,nt[g>>0]=nt[D>>0]|0,nt[g+1>>0]=nt[D+1>>0]|0,nt[g+2>>0]=nt[D+2>>0]|0,g=13,X=9;break}Zh(h,g),Ae=G,d[Ae>>2]=b,d[Ae+4>>2]=N,N=G+8|0,d[N>>2]=0,d[G+12>>2]=A,d[G+20>>2]=h,d[G+24>>2]=g,nt[G+28>>0]=0,b=G+29|0,nt[b>>0]=nt[D>>0]|0,nt[b+1>>0]=nt[D+1>>0]|0,nt[b+2>>0]=nt[D+2>>0]|0,d[G+16>>2]=3,pe=+Lm(g),pe=pe*+Pm(g),w=+Pn(+ +J[g>>3]),w=pe/+yi(+ +h2(+w,+ +Pn(+ +J[g+8>>3])))*6371.007180918475*6371.007180918475,b=G+12|0,g=d[b>>2]|0;e:do if((g|0)>0)do{if(o7(g+-1|0,U)|0,!(w/+J[U>>3]>10))break e;Ae=d[b>>2]|0,g=Ae+-1|0,d[b>>2]=g}while((Ae|0)>1);while(!1);if(n4(G),b=x,d[b>>2]=0,d[b+4>>2]=0,b=G,g=d[b>>2]|0,b=d[b+4>>2]|0,!((g|0)==0&(b|0)==0))do Qs(g,b,A,U)|0,D=U,h=x,D=An(d[h>>2]|0,d[h+4>>2]|0,d[D>>2]|0,d[D+4>>2]|0)|0,h=te()|0,Ae=x,d[Ae>>2]=D,d[Ae+4>>2]=h,n4(G),Ae=G,g=d[Ae>>2]|0,b=d[Ae+4>>2]|0;while(!((g|0)==0&(b|0)==0));g=d[N>>2]|0}while(!1);return Ae=g,K=se,Ae|0}function k1(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0;if(!(Oh(A,g)|0)||(A=Uh(A)|0,x=+J[g>>3],b=+J[g+8>>3],b=A&b<0?b+6.283185307179586:b,pe=d[h>>2]|0,(pe|0)<=0))return pe=0,pe|0;if(se=d[h+4>>2]|0,A){A=0,X=b,g=-1,h=0;e:for(;;){for(G=h;N=+J[se+(G<<4)>>3],b=+J[se+(G<<4)+8>>3],h=(g+2|0)%(pe|0)|0,w=+J[se+(h<<4)>>3],D=+J[se+(h<<4)+8>>3],N>w?(U=N,N=D):(U=w,w=N,N=b,b=D),x=x==w|x==U?x+2220446049250313e-31:x,!!(x<w|x>U);)if(g=G+1|0,(g|0)>=(pe|0)){g=22;break e}else h=G,G=g,g=h;if(D=N<0?N+6.283185307179586:N,N=b<0?b+6.283185307179586:b,X=D==X|N==X?X+-2220446049250313e-31:X,U=D+(N-D)*((x-w)/(U-w)),(U<0?U+6.283185307179586:U)>X&&(A=A^1),h=G+1|0,(h|0)>=(pe|0)){g=22;break}else g=G}if((g|0)==22)return A|0}else{A=0,X=b,g=-1,h=0;e:for(;;){for(G=h;N=+J[se+(G<<4)>>3],b=+J[se+(G<<4)+8>>3],h=(g+2|0)%(pe|0)|0,w=+J[se+(h<<4)>>3],D=+J[se+(h<<4)+8>>3],N>w?(U=N,N=D):(U=w,w=N,N=b,b=D),x=x==w|x==U?x+2220446049250313e-31:x,!!(x<w|x>U);)if(g=G+1|0,(g|0)>=(pe|0)){g=22;break e}else h=G,G=g,g=h;if(X=N==X|b==X?X+-2220446049250313e-31:X,N+(b-N)*((x-w)/(U-w))>X&&(A=A^1),h=G+1|0,(h|0)>=(pe|0)){g=22;break}else g=G}if((g|0)==22)return A|0}return 0}function G1(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0,ke=0,Ue=0;if(he=d[h>>2]|0,!he){d[A>>2]=0,d[A+4>>2]=0,d[A+8>>2]=0,d[A+12>>2]=0,d[A+16>>2]=0,d[A+20>>2]=0,d[A+24>>2]=0,d[A+28>>2]=0;return}if(_e=A+8|0,J[_e>>3]=17976931348623157e292,Ne=A+24|0,J[Ne>>3]=17976931348623157e292,J[A>>3]=-17976931348623157e292,ke=A+16|0,J[ke>>3]=-17976931348623157e292,!((he|0)<=0)){for(pe=d[h+4>>2]|0,G=17976931348623157e292,X=-17976931348623157e292,se=0,h=-1,w=17976931348623157e292,N=17976931348623157e292,U=-17976931348623157e292,x=-17976931348623157e292,Ae=0;g=+J[pe+(Ae<<4)>>3],D=+J[pe+(Ae<<4)+8>>3],h=h+2|0,b=+J[pe+(((h|0)==(he|0)?0:h)<<4)+8>>3],g<w&&(J[_e>>3]=g,w=g),D<N&&(J[Ne>>3]=D,N=D),g>U?J[A>>3]=g:g=U,D>x&&(J[ke>>3]=D,x=D),G=D>0&D<G?D:G,X=D<0&D>X?D:X,se=se|+Pn(+(D-b))>3.141592653589793,h=Ae+1|0,(h|0)!=(he|0);)Ue=Ae,U=g,Ae=h,h=Ue;se&&(J[ke>>3]=X,J[Ne>>3]=G)}}function u2(h){return h=h|0,(h>>>0<4?0:15)|0}function Zh(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0,ke=0,Ue=0,De=0,Te=0,_t=0,rn=0,Ht=0;if(he=d[h>>2]|0,he){if(_e=A+8|0,J[_e>>3]=17976931348623157e292,Ne=A+24|0,J[Ne>>3]=17976931348623157e292,J[A>>3]=-17976931348623157e292,ke=A+16|0,J[ke>>3]=-17976931348623157e292,(he|0)>0){for(b=d[h+4>>2]|0,pe=17976931348623157e292,Ae=-17976931348623157e292,x=0,g=-1,U=17976931348623157e292,G=17976931348623157e292,se=-17976931348623157e292,N=-17976931348623157e292,Ue=0;w=+J[b+(Ue<<4)>>3],X=+J[b+(Ue<<4)+8>>3],rn=g+2|0,D=+J[b+(((rn|0)==(he|0)?0:rn)<<4)+8>>3],w<U&&(J[_e>>3]=w,U=w),X<G&&(J[Ne>>3]=X,G=X),w>se?J[A>>3]=w:w=se,X>N&&(J[ke>>3]=X,N=X),pe=X>0&X<pe?X:pe,Ae=X<0&X>Ae?X:Ae,x=x|+Pn(+(X-D))>3.141592653589793,g=Ue+1|0,(g|0)!=(he|0);)rn=Ue,se=w,Ue=g,g=rn;x&&(J[ke>>3]=Ae,J[Ne>>3]=pe)}}else d[A>>2]=0,d[A+4>>2]=0,d[A+8>>2]=0,d[A+12>>2]=0,d[A+16>>2]=0,d[A+20>>2]=0,d[A+24>>2]=0,d[A+28>>2]=0;if(rn=h+8|0,g=d[rn>>2]|0,!((g|0)<=0)){_t=h+12|0,Te=0;do if(b=d[_t>>2]|0,x=Te,Te=Te+1|0,Ne=A+(Te<<5)|0,ke=d[b+(x<<3)>>2]|0,ke){if(Ue=A+(Te<<5)+8|0,J[Ue>>3]=17976931348623157e292,h=A+(Te<<5)+24|0,J[h>>3]=17976931348623157e292,J[Ne>>3]=-17976931348623157e292,De=A+(Te<<5)+16|0,J[De>>3]=-17976931348623157e292,(ke|0)>0){for(he=d[b+(x<<3)+4>>2]|0,pe=17976931348623157e292,Ae=-17976931348623157e292,b=0,x=-1,_e=0,U=17976931348623157e292,G=17976931348623157e292,X=-17976931348623157e292,N=-17976931348623157e292;w=+J[he+(_e<<4)>>3],se=+J[he+(_e<<4)+8>>3],x=x+2|0,D=+J[he+(((x|0)==(ke|0)?0:x)<<4)+8>>3],w<U&&(J[Ue>>3]=w,U=w),se<G&&(J[h>>3]=se,G=se),w>X?J[Ne>>3]=w:w=X,se>N&&(J[De>>3]=se,N=se),pe=se>0&se<pe?se:pe,Ae=se<0&se>Ae?se:Ae,b=b|+Pn(+(se-D))>3.141592653589793,x=_e+1|0,(x|0)!=(ke|0);)Ht=_e,_e=x,X=w,x=Ht;b&&(J[De>>3]=Ae,J[h>>3]=pe)}}else d[Ne>>2]=0,d[Ne+4>>2]=0,d[Ne+8>>2]=0,d[Ne+12>>2]=0,d[Ne+16>>2]=0,d[Ne+20>>2]=0,d[Ne+24>>2]=0,d[Ne+28>>2]=0,g=d[rn>>2]|0;while((Te|0)<(g|0))}}function Jh(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0;if(!(k1(h,A,g)|0))return b=0,b|0;if(b=h+8|0,(d[b>>2]|0)<=0)return b=1,b|0;for(x=h+12|0,h=0;;){if(w=h,h=h+1|0,k1((d[x>>2]|0)+(w<<3)|0,A+(h<<5)|0,g)|0){h=0,x=6;break}if((h|0)>=(d[b>>2]|0)){h=1,x=6;break}}return(x|0)==6?h|0:0}function d7(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0,G=0,X=0;if(G=K,K=K+16|0,D=G,N=g+8|0,!(k1(h,A,N)|0))return U=0,K=G,U|0;U=h+8|0;e:do if((d[U>>2]|0)>0){for(w=h+12|0,b=0;;){if(X=b,b=b+1|0,k1((d[w>>2]|0)+(X<<3)|0,A+(b<<5)|0,N)|0){b=0;break}if((b|0)>=(d[U>>2]|0))break e}return K=G,b|0}while(!1);if(c2(h,A,g,x)|0)return X=0,K=G,X|0;d[D>>2]=d[g>>2],d[D+4>>2]=N,b=d[U>>2]|0;e:do if((b|0)>0)for(h=h+12|0,N=0,w=b;;){if(b=d[h>>2]|0,(d[b+(N<<3)>>2]|0)>0){if(k1(D,x,d[b+(N<<3)+4>>2]|0)|0){b=0;break e}if(b=N+1|0,c2((d[h>>2]|0)+(N<<3)|0,A+(b<<5)|0,g,x)|0){b=0;break e}w=d[U>>2]|0}else b=N+1|0;if((b|0)<(w|0))N=b;else{b=1;break}}else b=1;while(!1);return X=b,K=G,X|0}function c2(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0,ke=0,Ue=0,De=0,Te=0,_t=0,rn=0,Ht=0,Nn=0;if(rn=K,K=K+176|0,Ue=rn+172|0,b=rn+168|0,De=rn,!(L8(A,x)|0))return h=0,K=rn,h|0;if(fT(A,x,Ue,b),W1(De|0,g|0,168)|0,(d[g>>2]|0)>0){A=0;do Ht=De+8+(A<<4)+8|0,ke=+Wa(+J[Ht>>3],d[b>>2]|0),J[Ht>>3]=ke,A=A+1|0;while((A|0)<(d[g>>2]|0))}_e=+J[x>>3],Ne=+J[x+8>>3],ke=+Wa(+J[x+16>>3],d[b>>2]|0),Ae=+Wa(+J[x+24>>3],d[b>>2]|0);e:do if((d[h>>2]|0)>0){if(x=h+4|0,b=d[De>>2]|0,(b|0)<=0){for(A=0;;)if(A=A+1|0,(A|0)>=(d[h>>2]|0)){A=0;break e}}for(g=0;;){if(A=d[x>>2]|0,pe=+J[A+(g<<4)>>3],he=+Wa(+J[A+(g<<4)+8>>3],d[Ue>>2]|0),A=d[x>>2]|0,g=g+1|0,Ht=(g|0)%(d[h>>2]|0)|0,w=+J[A+(Ht<<4)>>3],N=+Wa(+J[A+(Ht<<4)+8>>3],d[Ue>>2]|0),!(pe>=_e)|!(w>=_e)&&!(pe<=Ne)|!(w<=Ne)&&!(he<=Ae)|!(N<=Ae)&&!(he>=ke)|!(N>=ke)){se=w-pe,G=N-he,A=0;do if(Nn=A,A=A+1|0,Ht=(A|0)==(b|0)?0:A,w=+J[De+8+(Nn<<4)+8>>3],N=+J[De+8+(Ht<<4)+8>>3]-w,D=+J[De+8+(Nn<<4)>>3],U=+J[De+8+(Ht<<4)>>3]-D,X=se*N-G*U,X!=0&&(Te=he-w,_t=pe-D,U=(Te*U-N*_t)/X,!(U<0|U>1))&&(X=(se*Te-G*_t)/X,X>=0&X<=1)){A=1;break e}while((A|0)<(b|0))}if((g|0)>=(d[h>>2]|0)){A=0;break}}}else A=0;while(!1);return Nn=A,K=rn,Nn|0}function e5(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0;if(c2(h,A,g,x)|0)return w=1,w|0;if(w=h+8|0,(d[w>>2]|0)<=0)return w=0,w|0;for(b=h+12|0,h=0;;){if(N=h,h=h+1|0,c2((d[b>>2]|0)+(N<<3)|0,A+(h<<5)|0,g,x)|0){h=1,b=6;break}if((h|0)>=(d[w>>2]|0)){h=0,b=6;break}}return(b|0)==6?h|0:0}function pT(){return 8}function mT(){return 16}function gT(){return 168}function Zm(){return 8}function Jm(){return 16}function f2(){return 12}function t5(){return 8}function eg(h){return h=h|0,+(+((d[h>>2]|0)>>>0)+4294967296*+(d[h+4>>2]|0))}function tg(h){h=h|0;var A=0,g=0;return g=+J[h>>3],A=+J[h+8>>3],+ +ri(+(g*g+A*A))}function ng(h,A,g,x,b){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0;var w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0;G=+J[h>>3],U=+J[A>>3]-G,D=+J[h+8>>3],N=+J[A+8>>3]-D,se=+J[g>>3],w=+J[x>>3]-se,pe=+J[g+8>>3],X=+J[x+8>>3]-pe,w=(w*(D-pe)-(G-se)*X)/(U*X-N*w),J[b>>3]=G+U*w,J[b+8>>3]=D+N*w}function A7(h,A){return h=h|0,A=A|0,+Pn(+(+J[h>>3]-+J[A>>3]))<11920928955078125e-23?(A=+Pn(+(+J[h+8>>3]-+J[A+8>>3]))<11920928955078125e-23,A|0):(A=0,A|0)}function sr(h,A){h=h|0,A=A|0;var g=0,x=0,b=0;return b=+J[h>>3]-+J[A>>3],x=+J[h+8>>3]-+J[A+8>>3],g=+J[h+16>>3]-+J[A+16>>3],+(b*b+x*x+g*g)}function ig(h,A){h=h|0,A=A|0;var g=0,x=0,b=0;g=+J[h>>3],x=+yi(+g),g=+qn(+g),J[A+16>>3]=g,g=+J[h+8>>3],b=x*+yi(+g),J[A>>3]=b,g=x*+qn(+g),J[A+8>>3]=g}function zi(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0;if(w=K,K=K+16|0,b=w,x=Fi(h,A)|0,(g+-1|0)>>>0>5||(x=(x|0)!=0,(g|0)==1&x))return b=-1,K=w,b|0;do if(q1(h,A,b)|0)x=-1;else if(x){x=((d[26352+(g<<2)>>2]|0)+5-(d[b>>2]|0)|0)%5|0;break}else{x=((d[26384+(g<<2)>>2]|0)+6-(d[b>>2]|0)|0)%6|0;break}while(!1);return b=x,K=w,b|0}function q1(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0,D=0,U=0,G=0;if(G=K,K=K+32|0,N=G+16|0,D=G,x=zo(h,A,N)|0,x|0)return g=x,K=G,g|0;w=s2(h,A)|0,U=Es(h,A)|0,Cm(w,D),x=D8(w,d[N>>2]|0)|0;e:do if(Ji(w)|0){do switch(w|0){case 4:{h=0;break}case 14:{h=1;break}case 24:{h=2;break}case 38:{h=3;break}case 49:{h=4;break}case 58:{h=5;break}case 63:{h=6;break}case 72:{h=7;break}case 83:{h=8;break}case 97:{h=9;break}case 107:{h=10;break}case 117:{h=11;break}default:{x=1;break e}}while(!1);if(b=d[26416+(h*24|0)+8>>2]|0,A=d[26416+(h*24|0)+16>>2]|0,h=d[N>>2]|0,(h|0)!=(d[D>>2]|0)&&(D=Lh(w)|0,h=d[N>>2]|0,D|(h|0)==(A|0)&&(x=(x+1|0)%6|0)),(U|0)==3&(h|0)==(A|0)){x=(x+5|0)%6|0,b=22;break}(U|0)==5&(h|0)==(b|0)&&(x=(x+1|0)%6|0),b=22}else b=22;while(!1);return(b|0)==22&&(d[g>>2]=x,x=0),g=x,K=G,g|0}function Vo(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0,ke=0,Ue=0,De=0;if(De=K,K=K+32|0,Ue=De+24|0,Ne=De+20|0,he=De+8|0,Ae=De+16|0,pe=De,U=(Fi(h,A)|0)==0,U=U?6:5,X=ht(h|0,A|0,52)|0,te()|0,X=X&15,U>>>0<=g>>>0)return x=2,K=De,x|0;se=(X|0)==0,!se&&(_e=xt(7,0,(X^15)*3|0)|0,(_e&h|0)==0&((te()|0)&A|0)==0)?b=g:w=4;e:do if((w|0)==4){if(b=(Fi(h,A)|0)!=0,((b?4:5)|0)<(g|0)||q1(h,A,Ue)|0||(w=(d[Ue>>2]|0)+g|0,b?b=26704+(((w|0)%5|0)<<2)|0:b=26736+(((w|0)%6|0)<<2)|0,_e=d[b>>2]|0,(_e|0)==7))return x=1,K=De,x|0;d[Ne>>2]=0,b=wi(h,A,_e,Ne,he)|0;do if(!b){if(D=he,G=d[D>>2]|0,D=d[D+4>>2]|0,N=D>>>0<A>>>0|(D|0)==(A|0)&G>>>0<h>>>0,w=N?G:h,N=N?D:A,!se&&(se=xt(7,0,(X^15)*3|0)|0,(G&se|0)==0&(D&(te()|0)|0)==0))b=g;else{if(D=(g+-1+U|0)%(U|0)|0,b=Fi(h,A)|0,(D|0)<0&&Et(27795,27797,246,27806),U=(b|0)!=0,((U?4:5)|0)<(D|0)&&Et(27795,27797,246,27806),q1(h,A,Ue)|0&&Et(27795,27797,246,27806),b=(d[Ue>>2]|0)+D|0,U?b=26704+(((b|0)%5|0)<<2)|0:b=26736+(((b|0)%6|0)<<2)|0,D=d[b>>2]|0,(D|0)==7&&Et(27795,27797,246,27806),d[Ae>>2]=0,b=wi(h,A,D,Ae,pe)|0,b|0)break;G=pe,U=d[G>>2]|0,G=d[G+4>>2]|0;do if(G>>>0<N>>>0|(G|0)==(N|0)&U>>>0<w>>>0){if(Fi(U,G)|0?w=gs(U,G,h,A)|0:w=d[26800+((((d[Ae>>2]|0)+(d[26768+(D<<2)>>2]|0)|0)%6|0)<<2)>>2]|0,b=Fi(U,G)|0,(w+-1|0)>>>0>5){b=-1,w=U,N=G;break}if(b=(b|0)!=0,(w|0)==1&b){b=-1,w=U,N=G;break}do if(q1(U,G,Ue)|0)b=-1;else if(b){b=((d[26352+(w<<2)>>2]|0)+5-(d[Ue>>2]|0)|0)%5|0;break}else{b=((d[26384+(w<<2)>>2]|0)+6-(d[Ue>>2]|0)|0)%6|0;break}while(!1);w=U,N=G}else b=g;while(!1);D=he,G=d[D>>2]|0,D=d[D+4>>2]|0}if((w|0)==(G|0)&(N|0)==(D|0)){if(U=(Fi(G,D)|0)!=0,U?h=gs(G,D,h,A)|0:h=d[26800+((((d[Ne>>2]|0)+(d[26768+(_e<<2)>>2]|0)|0)%6|0)<<2)>>2]|0,b=Fi(G,D)|0,(h+-1|0)>>>0<=5&&(ke=(b|0)!=0,!((h|0)==1&ke)))do if(q1(G,D,Ue)|0)b=-1;else if(ke){b=((d[26352+(h<<2)>>2]|0)+5-(d[Ue>>2]|0)|0)%5|0;break}else{b=((d[26384+(h<<2)>>2]|0)+6-(d[Ue>>2]|0)|0)%6|0;break}while(!1);else b=-1;b=b+1|0,b=(b|0)==6|U&(b|0)==5?0:b}A=N,h=w;break e}while(!1);return x=b,K=De,x|0}while(!1);return ke=xt(b|0,0,56)|0,Ue=te()|0|A&-2130706433|536870912,d[x>>2]=ke|h,d[x+4>>2]=Ue,x=0,K=De,x|0}function rg(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0;return w=(Fi(h,A)|0)==0,x=Vo(h,A,0,g)|0,b=(x|0)==0,w?!b||(x=Vo(h,A,1,g+8|0)|0,x|0)||(x=Vo(h,A,2,g+16|0)|0,x|0)||(x=Vo(h,A,3,g+24|0)|0,x|0)||(x=Vo(h,A,4,g+32|0)|0,x)?(w=x,w|0):Vo(h,A,5,g+40|0)|0:!b||(x=Vo(h,A,1,g+8|0)|0,x|0)||(x=Vo(h,A,2,g+16|0)|0,x|0)||(x=Vo(h,A,3,g+24|0)|0,x|0)||(x=Vo(h,A,4,g+32|0)|0,x|0)?(w=x,w|0):(w=g+40|0,d[w>>2]=0,d[w+4>>2]=0,w=0,w|0)}function yT(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0,D=0,U=0;return U=K,K=K+192|0,b=U,w=U+168|0,N=ht(h|0,A|0,56)|0,te()|0,N=N&7,D=A&-2130706433|134217728,x=zo(h,D,w)|0,x|0?(D=x,K=U,D|0):(A=ht(h|0,A|0,52)|0,te()|0,A=A&15,Fi(h,D)|0?O1(w,A,N,1,b):r2(w,A,N,1,b),D=b+8|0,d[g>>2]=d[D>>2],d[g+4>>2]=d[D+4>>2],d[g+8>>2]=d[D+8>>2],d[g+12>>2]=d[D+12>>2],D=0,K=U,D|0)}function vT(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0;return b=K,K=K+16|0,g=b,!(!0&(A&2013265920|0)==536870912)||(x=A&-2130706433|134217728,!($3(h,x)|0))?(x=0,K=b,x|0):(w=ht(h|0,A|0,56)|0,te()|0,w=(Vo(h,x,w&7,g)|0)==0,x=g,x=w&((d[x>>2]|0)==(h|0)?(d[x+4>>2]|0)==(A|0):0)&1,K=b,x|0)}function sg(h,A,g){h=h|0,A=A|0,g=g|0;var x=0;(A|0)>0?(x=go(A,4)|0,d[h>>2]=x,x||Et(27819,27842,40,27856)):d[h>>2]=0,d[h+4>>2]=A,d[h+8>>2]=0,d[h+12>>2]=g}function ag(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0,D=0;b=h+4|0,w=h+12|0,N=h+8|0;e:for(;;){for(g=d[b>>2]|0,A=0;;){if((A|0)>=(g|0))break e;if(x=d[h>>2]|0,D=d[x+(A<<2)>>2]|0,!D)A=A+1|0;else break}A=x+(~~(+Pn(+(+pl(10,+ +(15-(d[w>>2]|0)|0))*(+J[D>>3]+ +J[D+8>>3])))%+(g|0))>>>0<<2)|0,g=d[A>>2]|0;t:do if(g|0){if(x=D+32|0,(g|0)==(D|0))d[A>>2]=d[x>>2];else{if(g=g+32|0,A=d[g>>2]|0,!A)break;for(;(A|0)!=(D|0);)if(g=A+32|0,A=d[g>>2]|0,!A)break t;d[g>>2]=d[x>>2]}_n(D),d[N>>2]=(d[N>>2]|0)+-1}while(!1)}_n(d[h>>2]|0)}function n5(h){h=h|0;var A=0,g=0,x=0;for(x=d[h+4>>2]|0,g=0;;){if((g|0)>=(x|0)){A=0,g=4;break}if(A=d[(d[h>>2]|0)+(g<<2)>>2]|0,!A)g=g+1|0;else{g=4;break}}return(g|0)==4?A|0:0}function K0(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0;if(g=~~(+Pn(+(+pl(10,+ +(15-(d[h+12>>2]|0)|0))*(+J[A>>3]+ +J[A+8>>3])))%+(d[h+4>>2]|0))>>>0,g=(d[h>>2]|0)+(g<<2)|0,x=d[g>>2]|0,!x)return w=1,w|0;w=A+32|0;do if((x|0)!=(A|0)){if(g=d[x+32>>2]|0,!g)return w=1,w|0;for(b=g;;){if((b|0)==(A|0)){b=8;break}if(g=d[b+32>>2]|0,g)x=b,b=g;else{g=1,b=10;break}}if((b|0)==8){d[x+32>>2]=d[w>>2];break}else if((b|0)==10)return g|0}else d[g>>2]=d[w>>2];while(!1);return _n(A),w=h+8|0,d[w>>2]=(d[w>>2]|0)+-1,w=0,w|0}function og(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0;w=ko(40)|0,w||Et(27872,27842,98,27885),d[w>>2]=d[A>>2],d[w+4>>2]=d[A+4>>2],d[w+8>>2]=d[A+8>>2],d[w+12>>2]=d[A+12>>2],b=w+16|0,d[b>>2]=d[g>>2],d[b+4>>2]=d[g+4>>2],d[b+8>>2]=d[g+8>>2],d[b+12>>2]=d[g+12>>2],d[w+32>>2]=0,b=~~(+Pn(+(+pl(10,+ +(15-(d[h+12>>2]|0)|0))*(+J[A>>3]+ +J[A+8>>3])))%+(d[h+4>>2]|0))>>>0,b=(d[h>>2]|0)+(b<<2)|0,x=d[b>>2]|0;do if(!x)d[b>>2]=w;else{for(;!(Lu(x,A)|0&&Lu(x+16|0,g)|0);)if(b=d[x+32>>2]|0,x=b|0?b:x,!(d[x+32>>2]|0)){N=10;break}if((N|0)==10){d[x+32>>2]=w;break}return _n(w),N=x,N|0}while(!1);return N=h+8|0,d[N>>2]=(d[N>>2]|0)+1,N=w,N|0}function i5(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0;if(b=~~(+Pn(+(+pl(10,+ +(15-(d[h+12>>2]|0)|0))*(+J[A>>3]+ +J[A+8>>3])))%+(d[h+4>>2]|0))>>>0,b=d[(d[h>>2]|0)+(b<<2)>>2]|0,!b)return g=0,g|0;if(!g){for(h=b;;){if(Lu(h,A)|0){x=10;break}if(h=d[h+32>>2]|0,!h){h=0,x=10;break}}if((x|0)==10)return h|0}for(h=b;;){if(Lu(h,A)|0&&Lu(h+16|0,g)|0){x=10;break}if(h=d[h+32>>2]|0,!h){h=0,x=10;break}}return(x|0)==10?h|0:0}function H1(h,A){h=h|0,A=A|0;var g=0;if(g=~~(+Pn(+(+pl(10,+ +(15-(d[h+12>>2]|0)|0))*(+J[A>>3]+ +J[A+8>>3])))%+(d[h+4>>2]|0))>>>0,h=d[(d[h>>2]|0)+(g<<2)>>2]|0,!h)return g=0,g|0;for(;;){if(Lu(h,A)|0){A=5;break}if(h=d[h+32>>2]|0,!h){h=0,A=5;break}}return(A|0)==5?h|0:0}function lg(){return 27904}function t0(h){return h=+h,~~+a5(+h)|0}function ko(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0,_e=0,Ne=0,ke=0,Ue=0,De=0,Te=0,_t=0;_t=K,K=K+16|0,pe=_t;do if(h>>>0<245){if(G=h>>>0<11?16:h+11&-8,h=G>>>3,se=d[6977]|0,g=se>>>h,g&3|0)return A=(g&1^1)+h|0,h=27948+(A<<1<<2)|0,g=h+8|0,x=d[g>>2]|0,b=x+8|0,w=d[b>>2]|0,(w|0)==(h|0)?d[6977]=se&~(1<<A):(d[w+12>>2]=h,d[g>>2]=w),Te=A<<3,d[x+4>>2]=Te|3,Te=x+Te+4|0,d[Te>>2]=d[Te>>2]|1,Te=b,K=_t,Te|0;if(X=d[6979]|0,G>>>0>X>>>0){if(g|0)return A=2<<h,A=g<<h&(A|0-A),A=(A&0-A)+-1|0,D=A>>>12&16,A=A>>>D,g=A>>>5&8,A=A>>>g,w=A>>>2&4,A=A>>>w,h=A>>>1&2,A=A>>>h,x=A>>>1&1,x=(g|D|w|h|x)+(A>>>x)|0,A=27948+(x<<1<<2)|0,h=A+8|0,w=d[h>>2]|0,D=w+8|0,g=d[D>>2]|0,(g|0)==(A|0)?(h=se&~(1<<x),d[6977]=h):(d[g+12>>2]=A,d[h>>2]=g,h=se),Te=x<<3,N=Te-G|0,d[w+4>>2]=G|3,b=w+G|0,d[b+4>>2]=N|1,d[w+Te>>2]=N,X|0&&(x=d[6982]|0,A=X>>>3,g=27948+(A<<1<<2)|0,A=1<<A,h&A?(h=g+8|0,A=d[h>>2]|0):(d[6977]=h|A,A=g,h=g+8|0),d[h>>2]=x,d[A+12>>2]=x,d[x+8>>2]=A,d[x+12>>2]=g),d[6979]=N,d[6982]=b,Te=D,K=_t,Te|0;if(w=d[6978]|0,w){for(g=(w&0-w)+-1|0,b=g>>>12&16,g=g>>>b,x=g>>>5&8,g=g>>>x,N=g>>>2&4,g=g>>>N,D=g>>>1&2,g=g>>>D,U=g>>>1&1,U=d[28212+((x|b|N|D|U)+(g>>>U)<<2)>>2]|0,g=U,D=U,U=(d[U+4>>2]&-8)-G|0;h=d[g+16>>2]|0,!(!h&&(h=d[g+20>>2]|0,!h));)N=(d[h+4>>2]&-8)-G|0,b=N>>>0<U>>>0,g=h,D=b?h:D,U=b?N:U;if(N=D+G|0,N>>>0>D>>>0){b=d[D+24>>2]|0,A=d[D+12>>2]|0;do if((A|0)==(D|0)){if(h=D+20|0,A=d[h>>2]|0,!A&&(h=D+16|0,A=d[h>>2]|0,!A)){g=0;break}for(;;)if(x=A+20|0,g=d[x>>2]|0,g)A=g,h=x;else if(x=A+16|0,g=d[x>>2]|0,g)A=g,h=x;else break;d[h>>2]=0,g=A}else g=d[D+8>>2]|0,d[g+12>>2]=A,d[A+8>>2]=g,g=A;while(!1);do if(b|0){if(A=d[D+28>>2]|0,h=28212+(A<<2)|0,(D|0)==(d[h>>2]|0)){if(d[h>>2]=g,!g){d[6978]=w&~(1<<A);break}}else if(Te=b+16|0,d[((d[Te>>2]|0)==(D|0)?Te:b+20|0)>>2]=g,!g)break;d[g+24>>2]=b,A=d[D+16>>2]|0,A|0&&(d[g+16>>2]=A,d[A+24>>2]=g),A=d[D+20>>2]|0,A|0&&(d[g+20>>2]=A,d[A+24>>2]=g)}while(!1);return U>>>0<16?(Te=U+G|0,d[D+4>>2]=Te|3,Te=D+Te+4|0,d[Te>>2]=d[Te>>2]|1):(d[D+4>>2]=G|3,d[N+4>>2]=U|1,d[N+U>>2]=U,X|0&&(x=d[6982]|0,A=X>>>3,g=27948+(A<<1<<2)|0,A=1<<A,A&se?(h=g+8|0,A=d[h>>2]|0):(d[6977]=A|se,A=g,h=g+8|0),d[h>>2]=x,d[A+12>>2]=x,d[x+8>>2]=A,d[x+12>>2]=g),d[6979]=U,d[6982]=N),Te=D+8|0,K=_t,Te|0}else se=G}else se=G}else se=G}else if(h>>>0<=4294967231)if(h=h+11|0,G=h&-8,x=d[6978]|0,x){b=0-G|0,h=h>>>8,h?G>>>0>16777215?U=31:(se=(h+1048320|0)>>>16&8,_e=h<<se,D=(_e+520192|0)>>>16&4,_e=_e<<D,U=(_e+245760|0)>>>16&2,U=14-(D|se|U)+(_e<<U>>>15)|0,U=G>>>(U+7|0)&1|U<<1):U=0,g=d[28212+(U<<2)>>2]|0;e:do if(!g)g=0,h=0,_e=61;else for(h=0,D=G<<((U|0)==31?0:25-(U>>>1)|0),w=0;;){if(N=(d[g+4>>2]&-8)-G|0,N>>>0<b>>>0)if(N)h=g,b=N;else{h=g,b=0,_e=65;break e}if(_e=d[g+20>>2]|0,g=d[g+16+(D>>>31<<2)>>2]|0,w=(_e|0)==0|(_e|0)==(g|0)?w:_e,g)D=D<<1;else{g=w,_e=61;break}}while(!1);if((_e|0)==61){if((g|0)==0&(h|0)==0){if(h=2<<U,h=(h|0-h)&x,!h){se=G;break}se=(h&0-h)+-1|0,N=se>>>12&16,se=se>>>N,w=se>>>5&8,se=se>>>w,D=se>>>2&4,se=se>>>D,U=se>>>1&2,se=se>>>U,g=se>>>1&1,h=0,g=d[28212+((w|N|D|U|g)+(se>>>g)<<2)>>2]|0}g?_e=65:(D=h,N=b)}if((_e|0)==65)for(w=g;;)if(se=(d[w+4>>2]&-8)-G|0,g=se>>>0<b>>>0,b=g?se:b,h=g?w:h,g=d[w+16>>2]|0,g||(g=d[w+20>>2]|0),g)w=g;else{D=h,N=b;break}if(D|0&&N>>>0<((d[6979]|0)-G|0)>>>0&&(X=D+G|0,X>>>0>D>>>0)){w=d[D+24>>2]|0,A=d[D+12>>2]|0;do if((A|0)==(D|0)){if(h=D+20|0,A=d[h>>2]|0,!A&&(h=D+16|0,A=d[h>>2]|0,!A)){A=0;break}for(;;)if(b=A+20|0,g=d[b>>2]|0,g)A=g,h=b;else if(b=A+16|0,g=d[b>>2]|0,g)A=g,h=b;else break;d[h>>2]=0}else Te=d[D+8>>2]|0,d[Te+12>>2]=A,d[A+8>>2]=Te;while(!1);do if(w){if(h=d[D+28>>2]|0,g=28212+(h<<2)|0,(D|0)==(d[g>>2]|0)){if(d[g>>2]=A,!A){x=x&~(1<<h),d[6978]=x;break}}else if(Te=w+16|0,d[((d[Te>>2]|0)==(D|0)?Te:w+20|0)>>2]=A,!A)break;d[A+24>>2]=w,h=d[D+16>>2]|0,h|0&&(d[A+16>>2]=h,d[h+24>>2]=A),h=d[D+20>>2]|0,h&&(d[A+20>>2]=h,d[h+24>>2]=A)}while(!1);e:do if(N>>>0<16)Te=N+G|0,d[D+4>>2]=Te|3,Te=D+Te+4|0,d[Te>>2]=d[Te>>2]|1;else{if(d[D+4>>2]=G|3,d[X+4>>2]=N|1,d[X+N>>2]=N,A=N>>>3,N>>>0<256){g=27948+(A<<1<<2)|0,h=d[6977]|0,A=1<<A,h&A?(h=g+8|0,A=d[h>>2]|0):(d[6977]=h|A,A=g,h=g+8|0),d[h>>2]=X,d[A+12>>2]=X,d[X+8>>2]=A,d[X+12>>2]=g;break}if(A=N>>>8,A?N>>>0>16777215?g=31:(De=(A+1048320|0)>>>16&8,Te=A<<De,Ue=(Te+520192|0)>>>16&4,Te=Te<<Ue,g=(Te+245760|0)>>>16&2,g=14-(Ue|De|g)+(Te<<g>>>15)|0,g=N>>>(g+7|0)&1|g<<1):g=0,A=28212+(g<<2)|0,d[X+28>>2]=g,h=X+16|0,d[h+4>>2]=0,d[h>>2]=0,h=1<<g,!(x&h)){d[6978]=x|h,d[A>>2]=X,d[X+24>>2]=A,d[X+12>>2]=X,d[X+8>>2]=X;break}A=d[A>>2]|0;t:do if((d[A+4>>2]&-8|0)!=(N|0)){for(x=N<<((g|0)==31?0:25-(g>>>1)|0);g=A+16+(x>>>31<<2)|0,h=d[g>>2]|0,!!h;)if((d[h+4>>2]&-8|0)==(N|0)){A=h;break t}else x=x<<1,A=h;d[g>>2]=X,d[X+24>>2]=A,d[X+12>>2]=X,d[X+8>>2]=X;break e}while(!1);De=A+8|0,Te=d[De>>2]|0,d[Te+12>>2]=X,d[De>>2]=X,d[X+8>>2]=Te,d[X+12>>2]=A,d[X+24>>2]=0}while(!1);return Te=D+8|0,K=_t,Te|0}else se=G}else se=G;else se=-1;while(!1);if(g=d[6979]|0,g>>>0>=se>>>0)return A=g-se|0,h=d[6982]|0,A>>>0>15?(Te=h+se|0,d[6982]=Te,d[6979]=A,d[Te+4>>2]=A|1,d[h+g>>2]=A,d[h+4>>2]=se|3):(d[6979]=0,d[6982]=0,d[h+4>>2]=g|3,Te=h+g+4|0,d[Te>>2]=d[Te>>2]|1),Te=h+8|0,K=_t,Te|0;if(N=d[6980]|0,N>>>0>se>>>0)return Ue=N-se|0,d[6980]=Ue,Te=d[6983]|0,De=Te+se|0,d[6983]=De,d[De+4>>2]=Ue|1,d[Te+4>>2]=se|3,Te=Te+8|0,K=_t,Te|0;if(d[7095]|0?h=d[7097]|0:(d[7097]=4096,d[7096]=4096,d[7098]=-1,d[7099]=-1,d[7100]=0,d[7088]=0,d[7095]=pe&-16^1431655768,h=4096),D=se+48|0,U=se+47|0,w=h+U|0,b=0-h|0,G=w&b,G>>>0<=se>>>0||(h=d[7087]|0,h|0&&(X=d[7085]|0,pe=X+G|0,pe>>>0<=X>>>0|pe>>>0>h>>>0)))return Te=0,K=_t,Te|0;e:do if(d[7088]&4)A=0,_e=143;else{g=d[6983]|0;t:do if(g){for(x=28356;pe=d[x>>2]|0,!(pe>>>0<=g>>>0&&(pe+(d[x+4>>2]|0)|0)>>>0>g>>>0);)if(h=d[x+8>>2]|0,h)x=h;else{_e=128;break t}if(A=w-N&b,A>>>0<2147483647)if(h=i0(A|0)|0,(h|0)==((d[x>>2]|0)+(d[x+4>>2]|0)|0)){if((h|0)!=-1){N=A,w=h,_e=145;break e}}else x=h,_e=136;else A=0}else _e=128;while(!1);do if((_e|0)==128)if(g=i0(0)|0,(g|0)!=-1&&(A=g,Ae=d[7096]|0,he=Ae+-1|0,A=(he&A|0?(he+A&0-Ae)-A|0:0)+G|0,Ae=d[7085]|0,he=A+Ae|0,A>>>0>se>>>0&A>>>0<2147483647)){if(pe=d[7087]|0,pe|0&&he>>>0<=Ae>>>0|he>>>0>pe>>>0){A=0;break}if(h=i0(A|0)|0,(h|0)==(g|0)){N=A,w=g,_e=145;break e}else x=h,_e=136}else A=0;while(!1);do if((_e|0)==136){if(g=0-A|0,!(D>>>0>A>>>0&(A>>>0<2147483647&(x|0)!=-1)))if((x|0)==-1){A=0;break}else{N=A,w=x,_e=145;break e}if(h=d[7097]|0,h=U-A+h&0-h,h>>>0>=2147483647){N=A,w=x,_e=145;break e}if((i0(h|0)|0)==-1){i0(g|0)|0,A=0;break}else{N=h+A|0,w=x,_e=145;break e}}while(!1);d[7088]=d[7088]|4,_e=143}while(!1);if((_e|0)==143&&G>>>0<2147483647&&(Ue=i0(G|0)|0,he=i0(0)|0,Ne=he-Ue|0,ke=Ne>>>0>(se+40|0)>>>0,!((Ue|0)==-1|ke^1|Ue>>>0<he>>>0&((Ue|0)!=-1&(he|0)!=-1)^1))&&(N=ke?Ne:A,w=Ue,_e=145),(_e|0)==145){A=(d[7085]|0)+N|0,d[7085]=A,A>>>0>(d[7086]|0)>>>0&&(d[7086]=A),U=d[6983]|0;e:do if(U){for(A=28356;;){if(h=d[A>>2]|0,g=d[A+4>>2]|0,(w|0)==(h+g|0)){_e=154;break}if(x=d[A+8>>2]|0,x)A=x;else break}if((_e|0)==154&&(De=A+4|0,(d[A+12>>2]&8|0)==0)&&w>>>0>U>>>0&h>>>0<=U>>>0){d[De>>2]=g+N,Te=(d[6980]|0)+N|0,Ue=U+8|0,Ue=Ue&7|0?0-Ue&7:0,De=U+Ue|0,Ue=Te-Ue|0,d[6983]=De,d[6980]=Ue,d[De+4>>2]=Ue|1,d[U+Te+4>>2]=40,d[6984]=d[7099];break}for(w>>>0<(d[6981]|0)>>>0&&(d[6981]=w),g=w+N|0,A=28356;;){if((d[A>>2]|0)==(g|0)){_e=162;break}if(h=d[A+8>>2]|0,h)A=h;else break}if((_e|0)==162&&!(d[A+12>>2]&8|0)){d[A>>2]=w,X=A+4|0,d[X>>2]=(d[X>>2]|0)+N,X=w+8|0,X=w+(X&7|0?0-X&7:0)|0,A=g+8|0,A=g+(A&7|0?0-A&7:0)|0,G=X+se|0,D=A-X-se|0,d[X+4>>2]=se|3;t:do if((U|0)==(A|0))Te=(d[6980]|0)+D|0,d[6980]=Te,d[6983]=G,d[G+4>>2]=Te|1;else{if((d[6982]|0)==(A|0)){Te=(d[6979]|0)+D|0,d[6979]=Te,d[6982]=G,d[G+4>>2]=Te|1,d[G+Te>>2]=Te;break}if(h=d[A+4>>2]|0,(h&3|0)==1){N=h&-8,x=h>>>3;n:do if(h>>>0<256)if(h=d[A+8>>2]|0,g=d[A+12>>2]|0,(g|0)==(h|0)){d[6977]=d[6977]&~(1<<x);break}else{d[h+12>>2]=g,d[g+8>>2]=h;break}else{w=d[A+24>>2]|0,h=d[A+12>>2]|0;do if((h|0)==(A|0)){if(g=A+16|0,x=g+4|0,h=d[x>>2]|0,h)g=x;else if(h=d[g>>2]|0,!h){h=0;break}for(;;)if(b=h+20|0,x=d[b>>2]|0,x)h=x,g=b;else if(b=h+16|0,x=d[b>>2]|0,x)h=x,g=b;else break;d[g>>2]=0}else Te=d[A+8>>2]|0,d[Te+12>>2]=h,d[h+8>>2]=Te;while(!1);if(!w)break;g=d[A+28>>2]|0,x=28212+(g<<2)|0;do if((d[x>>2]|0)!=(A|0)){if(Te=w+16|0,d[((d[Te>>2]|0)==(A|0)?Te:w+20|0)>>2]=h,!h)break n}else{if(d[x>>2]=h,h|0)break;d[6978]=d[6978]&~(1<<g);break n}while(!1);if(d[h+24>>2]=w,g=A+16|0,x=d[g>>2]|0,x|0&&(d[h+16>>2]=x,d[x+24>>2]=h),g=d[g+4>>2]|0,!g)break;d[h+20>>2]=g,d[g+24>>2]=h}while(!1);A=A+N|0,b=N+D|0}else b=D;if(A=A+4|0,d[A>>2]=d[A>>2]&-2,d[G+4>>2]=b|1,d[G+b>>2]=b,A=b>>>3,b>>>0<256){g=27948+(A<<1<<2)|0,h=d[6977]|0,A=1<<A,h&A?(h=g+8|0,A=d[h>>2]|0):(d[6977]=h|A,A=g,h=g+8|0),d[h>>2]=G,d[A+12>>2]=G,d[G+8>>2]=A,d[G+12>>2]=g;break}A=b>>>8;do if(!A)x=0;else{if(b>>>0>16777215){x=31;break}De=(A+1048320|0)>>>16&8,Te=A<<De,Ue=(Te+520192|0)>>>16&4,Te=Te<<Ue,x=(Te+245760|0)>>>16&2,x=14-(Ue|De|x)+(Te<<x>>>15)|0,x=b>>>(x+7|0)&1|x<<1}while(!1);if(A=28212+(x<<2)|0,d[G+28>>2]=x,h=G+16|0,d[h+4>>2]=0,d[h>>2]=0,h=d[6978]|0,g=1<<x,!(h&g)){d[6978]=h|g,d[A>>2]=G,d[G+24>>2]=A,d[G+12>>2]=G,d[G+8>>2]=G;break}A=d[A>>2]|0;n:do if((d[A+4>>2]&-8|0)!=(b|0)){for(x=b<<((x|0)==31?0:25-(x>>>1)|0);g=A+16+(x>>>31<<2)|0,h=d[g>>2]|0,!!h;)if((d[h+4>>2]&-8|0)==(b|0)){A=h;break n}else x=x<<1,A=h;d[g>>2]=G,d[G+24>>2]=A,d[G+12>>2]=G,d[G+8>>2]=G;break t}while(!1);De=A+8|0,Te=d[De>>2]|0,d[Te+12>>2]=G,d[De>>2]=G,d[G+8>>2]=Te,d[G+12>>2]=A,d[G+24>>2]=0}while(!1);return Te=X+8|0,K=_t,Te|0}for(A=28356;h=d[A>>2]|0,!(h>>>0<=U>>>0&&(Te=h+(d[A+4>>2]|0)|0,Te>>>0>U>>>0));)A=d[A+8>>2]|0;b=Te+-47|0,h=b+8|0,h=b+(h&7|0?0-h&7:0)|0,b=U+16|0,h=h>>>0<b>>>0?U:h,A=h+8|0,g=N+-40|0,Ue=w+8|0,Ue=Ue&7|0?0-Ue&7:0,De=w+Ue|0,Ue=g-Ue|0,d[6983]=De,d[6980]=Ue,d[De+4>>2]=Ue|1,d[w+g+4>>2]=40,d[6984]=d[7099],g=h+4|0,d[g>>2]=27,d[A>>2]=d[7089],d[A+4>>2]=d[7090],d[A+8>>2]=d[7091],d[A+12>>2]=d[7092],d[7089]=w,d[7090]=N,d[7092]=0,d[7091]=A,A=h+24|0;do De=A,A=A+4|0,d[A>>2]=7;while((De+8|0)>>>0<Te>>>0);if((h|0)!=(U|0)){if(w=h-U|0,d[g>>2]=d[g>>2]&-2,d[U+4>>2]=w|1,d[h>>2]=w,A=w>>>3,w>>>0<256){g=27948+(A<<1<<2)|0,h=d[6977]|0,A=1<<A,h&A?(h=g+8|0,A=d[h>>2]|0):(d[6977]=h|A,A=g,h=g+8|0),d[h>>2]=U,d[A+12>>2]=U,d[U+8>>2]=A,d[U+12>>2]=g;break}if(A=w>>>8,A?w>>>0>16777215?x=31:(De=(A+1048320|0)>>>16&8,Te=A<<De,Ue=(Te+520192|0)>>>16&4,Te=Te<<Ue,x=(Te+245760|0)>>>16&2,x=14-(Ue|De|x)+(Te<<x>>>15)|0,x=w>>>(x+7|0)&1|x<<1):x=0,g=28212+(x<<2)|0,d[U+28>>2]=x,d[U+20>>2]=0,d[b>>2]=0,A=d[6978]|0,h=1<<x,!(A&h)){d[6978]=A|h,d[g>>2]=U,d[U+24>>2]=g,d[U+12>>2]=U,d[U+8>>2]=U;break}A=d[g>>2]|0;t:do if((d[A+4>>2]&-8|0)!=(w|0)){for(x=w<<((x|0)==31?0:25-(x>>>1)|0);g=A+16+(x>>>31<<2)|0,h=d[g>>2]|0,!!h;)if((d[h+4>>2]&-8|0)==(w|0)){A=h;break t}else x=x<<1,A=h;d[g>>2]=U,d[U+24>>2]=A,d[U+12>>2]=U,d[U+8>>2]=U;break e}while(!1);De=A+8|0,Te=d[De>>2]|0,d[Te+12>>2]=U,d[De>>2]=U,d[U+8>>2]=Te,d[U+12>>2]=A,d[U+24>>2]=0}}else Te=d[6981]|0,(Te|0)==0|w>>>0<Te>>>0&&(d[6981]=w),d[7089]=w,d[7090]=N,d[7092]=0,d[6986]=d[7095],d[6985]=-1,d[6990]=27948,d[6989]=27948,d[6992]=27956,d[6991]=27956,d[6994]=27964,d[6993]=27964,d[6996]=27972,d[6995]=27972,d[6998]=27980,d[6997]=27980,d[7e3]=27988,d[6999]=27988,d[7002]=27996,d[7001]=27996,d[7004]=28004,d[7003]=28004,d[7006]=28012,d[7005]=28012,d[7008]=28020,d[7007]=28020,d[7010]=28028,d[7009]=28028,d[7012]=28036,d[7011]=28036,d[7014]=28044,d[7013]=28044,d[7016]=28052,d[7015]=28052,d[7018]=28060,d[7017]=28060,d[7020]=28068,d[7019]=28068,d[7022]=28076,d[7021]=28076,d[7024]=28084,d[7023]=28084,d[7026]=28092,d[7025]=28092,d[7028]=28100,d[7027]=28100,d[7030]=28108,d[7029]=28108,d[7032]=28116,d[7031]=28116,d[7034]=28124,d[7033]=28124,d[7036]=28132,d[7035]=28132,d[7038]=28140,d[7037]=28140,d[7040]=28148,d[7039]=28148,d[7042]=28156,d[7041]=28156,d[7044]=28164,d[7043]=28164,d[7046]=28172,d[7045]=28172,d[7048]=28180,d[7047]=28180,d[7050]=28188,d[7049]=28188,d[7052]=28196,d[7051]=28196,Te=N+-40|0,Ue=w+8|0,Ue=Ue&7|0?0-Ue&7:0,De=w+Ue|0,Ue=Te-Ue|0,d[6983]=De,d[6980]=Ue,d[De+4>>2]=Ue|1,d[w+Te+4>>2]=40,d[6984]=d[7099];while(!1);if(A=d[6980]|0,A>>>0>se>>>0)return Ue=A-se|0,d[6980]=Ue,Te=d[6983]|0,De=Te+se|0,d[6983]=De,d[De+4>>2]=Ue|1,d[Te+4>>2]=se|3,Te=Te+8|0,K=_t,Te|0}return Te=lg()|0,d[Te>>2]=12,Te=0,K=_t,Te|0}function _n(h){h=h|0;var A=0,g=0,x=0,b=0,w=0,N=0,D=0,U=0;if(h){g=h+-8|0,b=d[6981]|0,h=d[h+-4>>2]|0,A=h&-8,U=g+A|0;do if(h&1)D=g,N=g;else{if(x=d[g>>2]|0,!(h&3)||(N=g+(0-x)|0,w=x+A|0,N>>>0<b>>>0))return;if((d[6982]|0)==(N|0)){if(h=U+4|0,A=d[h>>2]|0,(A&3|0)!=3){D=N,A=w;break}d[6979]=w,d[h>>2]=A&-2,d[N+4>>2]=w|1,d[N+w>>2]=w;return}if(g=x>>>3,x>>>0<256)if(h=d[N+8>>2]|0,A=d[N+12>>2]|0,(A|0)==(h|0)){d[6977]=d[6977]&~(1<<g),D=N,A=w;break}else{d[h+12>>2]=A,d[A+8>>2]=h,D=N,A=w;break}b=d[N+24>>2]|0,h=d[N+12>>2]|0;do if((h|0)==(N|0)){if(A=N+16|0,g=A+4|0,h=d[g>>2]|0,h)A=g;else if(h=d[A>>2]|0,!h){h=0;break}for(;;)if(x=h+20|0,g=d[x>>2]|0,g)h=g,A=x;else if(x=h+16|0,g=d[x>>2]|0,g)h=g,A=x;else break;d[A>>2]=0}else D=d[N+8>>2]|0,d[D+12>>2]=h,d[h+8>>2]=D;while(!1);if(b){if(A=d[N+28>>2]|0,g=28212+(A<<2)|0,(d[g>>2]|0)==(N|0)){if(d[g>>2]=h,!h){d[6978]=d[6978]&~(1<<A),D=N,A=w;break}}else if(D=b+16|0,d[((d[D>>2]|0)==(N|0)?D:b+20|0)>>2]=h,!h){D=N,A=w;break}d[h+24>>2]=b,A=N+16|0,g=d[A>>2]|0,g|0&&(d[h+16>>2]=g,d[g+24>>2]=h),A=d[A+4>>2]|0,A?(d[h+20>>2]=A,d[A+24>>2]=h,D=N,A=w):(D=N,A=w)}else D=N,A=w}while(!1);if(!(N>>>0>=U>>>0)&&(h=U+4|0,x=d[h>>2]|0,!!(x&1))){if(x&2)d[h>>2]=x&-2,d[D+4>>2]=A|1,d[N+A>>2]=A,b=A;else{if((d[6983]|0)==(U|0)){if(U=(d[6980]|0)+A|0,d[6980]=U,d[6983]=D,d[D+4>>2]=U|1,(D|0)!=(d[6982]|0))return;d[6982]=0,d[6979]=0;return}if((d[6982]|0)==(U|0)){U=(d[6979]|0)+A|0,d[6979]=U,d[6982]=N,d[D+4>>2]=U|1,d[N+U>>2]=U;return}b=(x&-8)+A|0,g=x>>>3;do if(x>>>0<256)if(A=d[U+8>>2]|0,h=d[U+12>>2]|0,(h|0)==(A|0)){d[6977]=d[6977]&~(1<<g);break}else{d[A+12>>2]=h,d[h+8>>2]=A;break}else{w=d[U+24>>2]|0,h=d[U+12>>2]|0;do if((h|0)==(U|0)){if(A=U+16|0,g=A+4|0,h=d[g>>2]|0,h)A=g;else if(h=d[A>>2]|0,!h){g=0;break}for(;;)if(x=h+20|0,g=d[x>>2]|0,g)h=g,A=x;else if(x=h+16|0,g=d[x>>2]|0,g)h=g,A=x;else break;d[A>>2]=0,g=h}else g=d[U+8>>2]|0,d[g+12>>2]=h,d[h+8>>2]=g,g=h;while(!1);if(w|0){if(h=d[U+28>>2]|0,A=28212+(h<<2)|0,(d[A>>2]|0)==(U|0)){if(d[A>>2]=g,!g){d[6978]=d[6978]&~(1<<h);break}}else if(x=w+16|0,d[((d[x>>2]|0)==(U|0)?x:w+20|0)>>2]=g,!g)break;d[g+24>>2]=w,h=U+16|0,A=d[h>>2]|0,A|0&&(d[g+16>>2]=A,d[A+24>>2]=g),h=d[h+4>>2]|0,h|0&&(d[g+20>>2]=h,d[h+24>>2]=g)}}while(!1);if(d[D+4>>2]=b|1,d[N+b>>2]=b,(D|0)==(d[6982]|0)){d[6979]=b;return}}if(h=b>>>3,b>>>0<256){g=27948+(h<<1<<2)|0,A=d[6977]|0,h=1<<h,A&h?(A=g+8|0,h=d[A>>2]|0):(d[6977]=A|h,h=g,A=g+8|0),d[A>>2]=D,d[h+12>>2]=D,d[D+8>>2]=h,d[D+12>>2]=g;return}h=b>>>8,h?b>>>0>16777215?x=31:(N=(h+1048320|0)>>>16&8,U=h<<N,w=(U+520192|0)>>>16&4,U=U<<w,x=(U+245760|0)>>>16&2,x=14-(w|N|x)+(U<<x>>>15)|0,x=b>>>(x+7|0)&1|x<<1):x=0,h=28212+(x<<2)|0,d[D+28>>2]=x,d[D+20>>2]=0,d[D+16>>2]=0,A=d[6978]|0,g=1<<x;e:do if(!(A&g))d[6978]=A|g,d[h>>2]=D,d[D+24>>2]=h,d[D+12>>2]=D,d[D+8>>2]=D;else{h=d[h>>2]|0;t:do if((d[h+4>>2]&-8|0)!=(b|0)){for(x=b<<((x|0)==31?0:25-(x>>>1)|0);g=h+16+(x>>>31<<2)|0,A=d[g>>2]|0,!!A;)if((d[A+4>>2]&-8|0)==(b|0)){h=A;break t}else x=x<<1,h=A;d[g>>2]=D,d[D+24>>2]=h,d[D+12>>2]=D,d[D+8>>2]=D;break e}while(!1);N=h+8|0,U=d[N>>2]|0,d[U+12>>2]=D,d[N>>2]=D,d[D+8>>2]=U,d[D+12>>2]=h,d[D+24>>2]=0}while(!1);if(U=(d[6985]|0)+-1|0,d[6985]=U,!(U|0)){for(h=28364;h=d[h>>2]|0,h;)h=h+8|0;d[6985]=-1}}}}function go(h,A){h=h|0,A=A|0;var g=0;return h?(g=ze(A,h)|0,(A|h)>>>0>65535&&(g=((g>>>0)/(h>>>0)|0|0)==(A|0)?g:-1)):g=0,h=ko(g)|0,!h||!(d[h+-4>>2]&3)||Ya(h|0,0,g|0)|0,h|0}function An(h,A,g,x){return h=h|0,A=A|0,g=g|0,x=x|0,g=h+g>>>0,dt(A+x+(g>>>0<h>>>0|0)>>>0|0),g|0|0}function ws(h,A,g,x){return h=h|0,A=A|0,g=g|0,x=x|0,x=A-x-(g>>>0>h>>>0|0)>>>0,dt(x|0),h-g>>>0|0|0}function p7(h){return h=h|0,(h?31-(Bt(h^h-1)|0)|0:32)|0}function r5(h,A,g,x,b){h=h|0,A=A|0,g=g|0,x=x|0,b=b|0;var w=0,N=0,D=0,U=0,G=0,X=0,se=0,pe=0,Ae=0,he=0;if(X=h,U=A,G=U,N=g,pe=x,D=pe,!G)return w=(b|0)!=0,D?w?(d[b>>2]=h|0,d[b+4>>2]=A&0,pe=0,b=0,dt(pe|0),b|0):(pe=0,b=0,dt(pe|0),b|0):(w&&(d[b>>2]=(X>>>0)%(N>>>0),d[b+4>>2]=0),pe=0,b=(X>>>0)/(N>>>0)>>>0,dt(pe|0),b|0);w=(D|0)==0;do if(N){if(!w){if(w=(Bt(D|0)|0)-(Bt(G|0)|0)|0,w>>>0<=31){se=w+1|0,D=31-w|0,A=w-31>>31,N=se,h=X>>>(se>>>0)&A|G<<D,A=G>>>(se>>>0)&A,w=0,D=X<<D;break}return b?(d[b>>2]=h|0,d[b+4>>2]=U|A&0,pe=0,b=0,dt(pe|0),b|0):(pe=0,b=0,dt(pe|0),b|0)}if(w=N-1|0,w&N|0){D=(Bt(N|0)|0)+33-(Bt(G|0)|0)|0,he=64-D|0,se=32-D|0,U=se>>31,Ae=D-32|0,A=Ae>>31,N=D,h=se-1>>31&G>>>(Ae>>>0)|(G<<se|X>>>(D>>>0))&A,A=A&G>>>(D>>>0),w=X<<he&U,D=(G<<he|X>>>(Ae>>>0))&U|X<<se&D-33>>31;break}return b|0&&(d[b>>2]=w&X,d[b+4>>2]=0),(N|0)==1?(Ae=U|A&0,he=h|0|0,dt(Ae|0),he|0):(he=p7(N|0)|0,Ae=G>>>(he>>>0)|0,he=G<<32-he|X>>>(he>>>0)|0,dt(Ae|0),he|0)}else{if(w)return b|0&&(d[b>>2]=(G>>>0)%(N>>>0),d[b+4>>2]=0),Ae=0,he=(G>>>0)/(N>>>0)>>>0,dt(Ae|0),he|0;if(!X)return b|0&&(d[b>>2]=0,d[b+4>>2]=(G>>>0)%(D>>>0)),Ae=0,he=(G>>>0)/(D>>>0)>>>0,dt(Ae|0),he|0;if(w=D-1|0,!(w&D))return b|0&&(d[b>>2]=h|0,d[b+4>>2]=w&G|A&0),Ae=0,he=G>>>((p7(D|0)|0)>>>0),dt(Ae|0),he|0;if(w=(Bt(D|0)|0)-(Bt(G|0)|0)|0,w>>>0<=30){A=w+1|0,D=31-w|0,N=A,h=G<<D|X>>>(A>>>0),A=G>>>(A>>>0),w=0,D=X<<D;break}return b?(d[b>>2]=h|0,d[b+4>>2]=U|A&0,Ae=0,he=0,dt(Ae|0),he|0):(Ae=0,he=0,dt(Ae|0),he|0)}while(!1);if(!N)G=D,U=0,D=0;else{se=g|0|0,X=pe|x&0,G=An(se|0,X|0,-1,-1)|0,g=te()|0,U=D,D=0;do x=U,U=w>>>31|U<<1,w=D|w<<1,x=h<<1|x>>>31|0,pe=h>>>31|A<<1|0,ws(G|0,g|0,x|0,pe|0)|0,he=te()|0,Ae=he>>31|((he|0)<0?-1:0)<<1,D=Ae&1,h=ws(x|0,pe|0,Ae&se|0,(((he|0)<0?-1:0)>>31|((he|0)<0?-1:0)<<1)&X|0)|0,A=te()|0,N=N-1|0;while(N|0);G=U,U=0}return N=0,b|0&&(d[b>>2]=h,d[b+4>>2]=A),Ae=(w|0)>>>31|(G|N)<<1|(N<<1|w>>>31)&0|U,he=(w<<1|0)&-2|D,dt(Ae|0),he|0}function n0(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0,G=0;return G=A>>31|((A|0)<0?-1:0)<<1,U=((A|0)<0?-1:0)>>31|((A|0)<0?-1:0)<<1,w=x>>31|((x|0)<0?-1:0)<<1,b=((x|0)<0?-1:0)>>31|((x|0)<0?-1:0)<<1,D=ws(G^h|0,U^A|0,G|0,U|0)|0,N=te()|0,h=w^G,A=b^U,ws((r5(D,N,ws(w^g|0,b^x|0,w|0,b|0)|0,te()|0,0)|0)^h|0,(te()|0)^A|0,h|0,A|0)|0}function ui(h,A){h=h|0,A=A|0;var g=0,x=0,b=0,w=0;return w=h&65535,b=A&65535,g=ze(b,w)|0,x=h>>>16,h=(g>>>16)+(ze(b,x)|0)|0,b=A>>>16,A=ze(b,w)|0,dt((h>>>16)+(ze(b,x)|0)+(((h&65535)+A|0)>>>16)|0),h+A<<16|g&65535|0|0}function fa(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0;return b=h,w=g,g=ui(b,w)|0,h=te()|0,dt((ze(A,w)|0)+(ze(x,b)|0)+h|h&0|0),g|0|0|0}function Rs(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0,N=0,D=0,U=0,G=0;return b=K,K=K+16|0,D=b|0,N=A>>31|((A|0)<0?-1:0)<<1,w=((A|0)<0?-1:0)>>31|((A|0)<0?-1:0)<<1,G=x>>31|((x|0)<0?-1:0)<<1,U=((x|0)<0?-1:0)>>31|((x|0)<0?-1:0)<<1,h=ws(N^h|0,w^A|0,N|0,w|0)|0,A=te()|0,r5(h,A,ws(G^g|0,U^x|0,G|0,U|0)|0,te()|0,D)|0,x=ws(d[D>>2]^N|0,d[D+4>>2]^w|0,N|0,w|0)|0,g=te()|0,K=b,dt(g|0),x|0}function Uu(h,A,g,x){h=h|0,A=A|0,g=g|0,x=x|0;var b=0,w=0;return w=K,K=K+16|0,b=w|0,r5(h,A,g,x,b)|0,K=w,dt(d[b+4>>2]|0),d[b>>2]|0|0}function ug(h,A,g){return h=h|0,A=A|0,g=g|0,(g|0)<32?(dt(A>>g|0),h>>>g|(A&(1<<g)-1)<<32-g):(dt(((A|0)<0?-1:0)|0),A>>g-32|0)}function ht(h,A,g){return h=h|0,A=A|0,g=g|0,(g|0)<32?(dt(A>>>g|0),h>>>g|(A&(1<<g)-1)<<32-g):(dt(0),A>>>g-32|0)}function xt(h,A,g){return h=h|0,A=A|0,g=g|0,(g|0)<32?(dt(A<<g|(h&(1<<g)-1<<32-g)>>>32-g|0),h<<g):(dt(h<<g-32|0),0)}function j1(h,A,g){return h=h|0,A=A|0,A=Bt(A)|0,(A|0)==32&&(A=A+(Bt(h)|0)|0),dt(0),A|0}function m7(h,A){return h=+h,A=+A,h!=h?+A:A!=A?+h:+vt(+h,+A)}function h2(h,A){return h=+h,A=+A,h!=h?+A:A!=A?+h:+Pe(+h,+A)}function s5(h){return h=+h,h>=0?+Qn(h+.5):+Ve(h-.5)}function W1(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0;if((g|0)>=8192)return si(h|0,A|0,g|0)|0,h|0;if(w=h|0,b=h+g|0,(h&3)==(A&3)){for(;h&3;){if(!g)return w|0;nt[h>>0]=nt[A>>0]|0,h=h+1|0,A=A+1|0,g=g-1|0}for(g=b&-4|0,x=g-64|0;(h|0)<=(x|0);)d[h>>2]=d[A>>2],d[h+4>>2]=d[A+4>>2],d[h+8>>2]=d[A+8>>2],d[h+12>>2]=d[A+12>>2],d[h+16>>2]=d[A+16>>2],d[h+20>>2]=d[A+20>>2],d[h+24>>2]=d[A+24>>2],d[h+28>>2]=d[A+28>>2],d[h+32>>2]=d[A+32>>2],d[h+36>>2]=d[A+36>>2],d[h+40>>2]=d[A+40>>2],d[h+44>>2]=d[A+44>>2],d[h+48>>2]=d[A+48>>2],d[h+52>>2]=d[A+52>>2],d[h+56>>2]=d[A+56>>2],d[h+60>>2]=d[A+60>>2],h=h+64|0,A=A+64|0;for(;(h|0)<(g|0);)d[h>>2]=d[A>>2],h=h+4|0,A=A+4|0}else for(g=b-4|0;(h|0)<(g|0);)nt[h>>0]=nt[A>>0]|0,nt[h+1>>0]=nt[A+1>>0]|0,nt[h+2>>0]=nt[A+2>>0]|0,nt[h+3>>0]=nt[A+3>>0]|0,h=h+4|0,A=A+4|0;for(;(h|0)<(b|0);)nt[h>>0]=nt[A>>0]|0,h=h+1|0,A=A+1|0;return w|0}function Ya(h,A,g){h=h|0,A=A|0,g=g|0;var x=0,b=0,w=0,N=0;if(w=h+g|0,A=A&255,(g|0)>=67){for(;h&3;)nt[h>>0]=A,h=h+1|0;for(x=w&-4|0,N=A|A<<8|A<<16|A<<24,b=x-64|0;(h|0)<=(b|0);)d[h>>2]=N,d[h+4>>2]=N,d[h+8>>2]=N,d[h+12>>2]=N,d[h+16>>2]=N,d[h+20>>2]=N,d[h+24>>2]=N,d[h+28>>2]=N,d[h+32>>2]=N,d[h+36>>2]=N,d[h+40>>2]=N,d[h+44>>2]=N,d[h+48>>2]=N,d[h+52>>2]=N,d[h+56>>2]=N,d[h+60>>2]=N,h=h+64|0;for(;(h|0)<(x|0);)d[h>>2]=N,h=h+4|0}for(;(h|0)<(w|0);)nt[h>>0]=A,h=h+1|0;return w-g|0}function a5(h){return h=+h,h>=0?+Qn(h+.5):+Ve(h-.5)}function i0(h){h=h|0;var A=0,g=0,x=0;return x=dn()|0,g=d[Ai>>2]|0,A=g+h|0,(h|0)>0&(A|0)<(g|0)|(A|0)<0?(pr(A|0)|0,Rn(12),-1):(A|0)>(x|0)&&!(Ni(A|0)|0)?(Rn(12),-1):(d[Ai>>2]=A,g|0)}return{___divdi3:n0,___muldi3:fa,___remdi3:Rs,___uremdi3:Uu,_areNeighborCells:j8,_bitshift64Ashr:ug,_bitshift64Lshr:ht,_bitshift64Shl:xt,_calloc:go,_cellAreaKm2:jm,_cellAreaM2:l2,_cellAreaRads2:e0,_cellToBoundary:F1,_cellToCenterChild:e7,_cellToChildPos:Wh,_cellToChildren:Z8,_cellToChildrenSize:Qs,_cellToLatLng:vs,_cellToLocalIj:c7,_cellToParent:kh,_cellToVertex:Vo,_cellToVertexes:rg,_cellsToDirectedEdge:W8,_cellsToLinkedMultiPolygon:wm,_childPosToCell:qm,_compactCells:t7,_destroyLinkedMultiPolygon:l7,_directedEdgeToBoundary:Vh,_directedEdgeToCells:X0,_edgeLengthKm:V1,_edgeLengthM:Wm,_edgeLengthRads:e4,_emscripten_replace_memory:Bi,_free:_n,_getBaseCellNumber:s2,_getDirectedEdgeDestination:X8,_getDirectedEdgeOrigin:Fm,_getHexagonAreaAvgKm2:o7,_getHexagonAreaAvgM2:Q0,_getHexagonEdgeLengthAvgKm:o2,_getHexagonEdgeLengthAvgM:Bu,_getIcosahedronFaces:i7,_getNumCells:J3,_getPentagons:Z3,_getRes0Cells:Dm,_getResolution:K8,_greatCircleDistanceKm:z1,_greatCircleDistanceM:Xa,_greatCircleDistanceRads:AT,_gridDisk:Ws,_gridDiskDistances:W0,_gridDistance:f7,_gridPathCells:Qm,_gridPathCellsSize:mo,_gridRingUnsafe:Xs,_i64Add:An,_i64Subtract:ws,_isPentagon:Fi,_isResClassIII:Gh,_isValidCell:$3,_isValidDirectedEdge:zm,_isValidVertex:vT,_latLngToCell:Hh,_llvm_ctlz_i64:j1,_llvm_maxnum_f64:m7,_llvm_minnum_f64:h2,_llvm_round_f64:s5,_localIjToCell:Ym,_malloc:ko,_maxFaceCount:Gm,_maxGridDiskSize:Kl,_maxPolygonToCellsSize:Zl,_maxPolygonToCellsSizeExperimental:Km,_memcpy:W1,_memset:Ya,_originToDirectedEdges:Y8,_pentagonCount:r7,_polygonToCells:Dh,_polygonToCellsExperimental:$0,_readInt64AsDoubleFromPointer:eg,_res0CellCount:Nm,_round:a5,_sbrk:i0,_sizeOfCellBoundary:gT,_sizeOfCoordIJ:t5,_sizeOfGeoLoop:Zm,_sizeOfGeoPolygon:Jm,_sizeOfH3Index:pT,_sizeOfLatLng:mT,_sizeOfLinkedGeoPolygon:f2,_uncompactCells:n7,_uncompactCellsSize:km,_vertexToLatLng:yT,establishStackSpace:ua,stackAlloc:yn,stackRestore:vi,stackSave:rr}}(Fe,Tt,H);e.___divdi3=le.___divdi3,e.___muldi3=le.___muldi3,e.___remdi3=le.___remdi3,e.___uremdi3=le.___uremdi3,e._areNeighborCells=le._areNeighborCells,e._bitshift64Ashr=le._bitshift64Ashr,e._bitshift64Lshr=le._bitshift64Lshr,e._bitshift64Shl=le._bitshift64Shl,e._calloc=le._calloc,e._cellAreaKm2=le._cellAreaKm2,e._cellAreaM2=le._cellAreaM2,e._cellAreaRads2=le._cellAreaRads2,e._cellToBoundary=le._cellToBoundary,e._cellToCenterChild=le._cellToCenterChild,e._cellToChildPos=le._cellToChildPos,e._cellToChildren=le._cellToChildren,e._cellToChildrenSize=le._cellToChildrenSize,e._cellToLatLng=le._cellToLatLng,e._cellToLocalIj=le._cellToLocalIj,e._cellToParent=le._cellToParent,e._cellToVertex=le._cellToVertex,e._cellToVertexes=le._cellToVertexes,e._cellsToDirectedEdge=le._cellsToDirectedEdge,e._cellsToLinkedMultiPolygon=le._cellsToLinkedMultiPolygon,e._childPosToCell=le._childPosToCell,e._compactCells=le._compactCells,e._destroyLinkedMultiPolygon=le._destroyLinkedMultiPolygon,e._directedEdgeToBoundary=le._directedEdgeToBoundary,e._directedEdgeToCells=le._directedEdgeToCells,e._edgeLengthKm=le._edgeLengthKm,e._edgeLengthM=le._edgeLengthM,e._edgeLengthRads=le._edgeLengthRads;var wt=e._emscripten_replace_memory=le._emscripten_replace_memory;e._free=le._free,e._getBaseCellNumber=le._getBaseCellNumber,e._getDirectedEdgeDestination=le._getDirectedEdgeDestination,e._getDirectedEdgeOrigin=le._getDirectedEdgeOrigin,e._getHexagonAreaAvgKm2=le._getHexagonAreaAvgKm2,e._getHexagonAreaAvgM2=le._getHexagonAreaAvgM2,e._getHexagonEdgeLengthAvgKm=le._getHexagonEdgeLengthAvgKm,e._getHexagonEdgeLengthAvgM=le._getHexagonEdgeLengthAvgM,e._getIcosahedronFaces=le._getIcosahedronFaces,e._getNumCells=le._getNumCells,e._getPentagons=le._getPentagons,e._getRes0Cells=le._getRes0Cells,e._getResolution=le._getResolution,e._greatCircleDistanceKm=le._greatCircleDistanceKm,e._greatCircleDistanceM=le._greatCircleDistanceM,e._greatCircleDistanceRads=le._greatCircleDistanceRads,e._gridDisk=le._gridDisk,e._gridDiskDistances=le._gridDiskDistances,e._gridDistance=le._gridDistance,e._gridPathCells=le._gridPathCells,e._gridPathCellsSize=le._gridPathCellsSize,e._gridRingUnsafe=le._gridRingUnsafe,e._i64Add=le._i64Add,e._i64Subtract=le._i64Subtract,e._isPentagon=le._isPentagon,e._isResClassIII=le._isResClassIII,e._isValidCell=le._isValidCell,e._isValidDirectedEdge=le._isValidDirectedEdge,e._isValidVertex=le._isValidVertex,e._latLngToCell=le._latLngToCell,e._llvm_ctlz_i64=le._llvm_ctlz_i64,e._llvm_maxnum_f64=le._llvm_maxnum_f64,e._llvm_minnum_f64=le._llvm_minnum_f64,e._llvm_round_f64=le._llvm_round_f64,e._localIjToCell=le._localIjToCell,e._malloc=le._malloc,e._maxFaceCount=le._maxFaceCount,e._maxGridDiskSize=le._maxGridDiskSize,e._maxPolygonToCellsSize=le._maxPolygonToCellsSize,e._maxPolygonToCellsSizeExperimental=le._maxPolygonToCellsSizeExperimental,e._memcpy=le._memcpy,e._memset=le._memset,e._originToDirectedEdges=le._originToDirectedEdges,e._pentagonCount=le._pentagonCount,e._polygonToCells=le._polygonToCells,e._polygonToCellsExperimental=le._polygonToCellsExperimental,e._readInt64AsDoubleFromPointer=le._readInt64AsDoubleFromPointer,e._res0CellCount=le._res0CellCount,e._round=le._round,e._sbrk=le._sbrk,e._sizeOfCellBoundary=le._sizeOfCellBoundary,e._sizeOfCoordIJ=le._sizeOfCoordIJ,e._sizeOfGeoLoop=le._sizeOfGeoLoop,e._sizeOfGeoPolygon=le._sizeOfGeoPolygon,e._sizeOfH3Index=le._sizeOfH3Index,e._sizeOfLatLng=le._sizeOfLatLng,e._sizeOfLinkedGeoPolygon=le._sizeOfLinkedGeoPolygon,e._uncompactCells=le._uncompactCells,e._uncompactCellsSize=le._uncompactCellsSize,e._vertexToLatLng=le._vertexToLatLng,e.establishStackSpace=le.establishStackSpace;var ft=e.stackAlloc=le.stackAlloc,Gt=e.stackRestore=le.stackRestore,Mt=e.stackSave=le.stackSave;if(e.asm=le,e.cwrap=C,e.setValue=v,e.getValue=_,Ut){me(Ut)||(Ut=s(Ut));{Ft();var rt=function(He){He.byteLength&&(He=new Uint8Array(He)),$.set(He,m),e.memoryInitializerRequest&&delete e.memoryInitializerRequest.response,gt()},qt=function(){a(Ut,rt,function(){throw"could not load memory initializer "+Ut})},cn=ve(Ut);if(cn)rt(cn.buffer);else if(e.memoryInitializerRequest){var ai=function(){var He=e.memoryInitializerRequest,st=He.response;if(He.status!==200&&He.status!==0){var Pt=ve(e.memoryInitializerRequestURL);if(Pt)st=Pt.buffer;else{console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+He.status+", retrying "+Ut),qt();return}}rt(st)};e.memoryInitializerRequest.response?setTimeout(ai,0):e.memoryInitializerRequest.addEventListener("load",ai)}else qt()}}var Yn;et=function He(){Yn||Fr(),Yn||(et=He)};function Fr(He){if(mt>0||(at(),mt>0))return;function st(){Yn||(Yn=!0,!T&&(Ct(),Jt(),e.onRuntimeInitialized&&e.onRuntimeInitialized(),It()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),st()},1)):st()}e.run=Fr;function zr(He){throw e.onAbort&&e.onAbort(He),He+="",o(He),l(He),T=!0,"abort("+He+"). Build with -s ASSERTIONS=1 for more info."}if(e.abort=zr,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return Fr(),n}(typeof Ei=="object"?Ei:{}),Gn="number",Cn=Gn,r9=Gn,Vn=Gn,kn=Gn,ma=Gn,en=Gn,Lve=[["sizeOfH3Index",Gn],["sizeOfLatLng",Gn],["sizeOfCellBoundary",Gn],["sizeOfGeoLoop",Gn],["sizeOfGeoPolygon",Gn],["sizeOfLinkedGeoPolygon",Gn],["sizeOfCoordIJ",Gn],["readInt64AsDoubleFromPointer",Gn],["isValidCell",r9,[Vn,kn]],["latLngToCell",Cn,[Gn,Gn,ma,en]],["cellToLatLng",Cn,[Vn,kn,en]],["cellToBoundary",Cn,[Vn,kn,en]],["maxGridDiskSize",Cn,[Gn,en]],["gridDisk",Cn,[Vn,kn,Gn,en]],["gridDiskDistances",Cn,[Vn,kn,Gn,en,en]],["gridRingUnsafe",Cn,[Vn,kn,Gn,en]],["maxPolygonToCellsSize",Cn,[en,ma,Gn,en]],["polygonToCells",Cn,[en,ma,Gn,en]],["maxPolygonToCellsSizeExperimental",Cn,[en,ma,Gn,en]],["polygonToCellsExperimental",Cn,[en,ma,Gn,Gn,Gn,en]],["cellsToLinkedMultiPolygon",Cn,[en,Gn,en]],["destroyLinkedMultiPolygon",null,[en]],["compactCells",Cn,[en,en,Gn,Gn]],["uncompactCells",Cn,[en,Gn,Gn,en,Gn,ma]],["uncompactCellsSize",Cn,[en,Gn,Gn,ma,en]],["isPentagon",r9,[Vn,kn]],["isResClassIII",r9,[Vn,kn]],["getBaseCellNumber",Gn,[Vn,kn]],["getResolution",Gn,[Vn,kn]],["maxFaceCount",Cn,[Vn,kn,en]],["getIcosahedronFaces",Cn,[Vn,kn,en]],["cellToParent",Cn,[Vn,kn,ma,en]],["cellToChildren",Cn,[Vn,kn,ma,en]],["cellToCenterChild",Cn,[Vn,kn,ma,en]],["cellToChildrenSize",Cn,[Vn,kn,ma,en]],["cellToChildPos",Cn,[Vn,kn,ma,en]],["childPosToCell",Cn,[Gn,Gn,Vn,kn,ma,en]],["areNeighborCells",Cn,[Vn,kn,Vn,kn,en]],["cellsToDirectedEdge",Cn,[Vn,kn,Vn,kn,en]],["getDirectedEdgeOrigin",Cn,[Vn,kn,en]],["getDirectedEdgeDestination",Cn,[Vn,kn,en]],["isValidDirectedEdge",r9,[Vn,kn]],["directedEdgeToCells",Cn,[Vn,kn,en]],["originToDirectedEdges",Cn,[Vn,kn,en]],["directedEdgeToBoundary",Cn,[Vn,kn,en]],["gridDistance",Cn,[Vn,kn,Vn,kn,en]],["gridPathCells",Cn,[Vn,kn,Vn,kn,en]],["gridPathCellsSize",Cn,[Vn,kn,Vn,kn,en]],["cellToLocalIj",Cn,[Vn,kn,Vn,kn,Gn,en]],["localIjToCell",Cn,[Vn,kn,en,Gn,en]],["getHexagonAreaAvgM2",Cn,[ma,en]],["getHexagonAreaAvgKm2",Cn,[ma,en]],["getHexagonEdgeLengthAvgM",Cn,[ma,en]],["getHexagonEdgeLengthAvgKm",Cn,[ma,en]],["greatCircleDistanceM",Gn,[en,en]],["greatCircleDistanceKm",Gn,[en,en]],["greatCircleDistanceRads",Gn,[en,en]],["cellAreaM2",Cn,[Vn,kn,en]],["cellAreaKm2",Cn,[Vn,kn,en]],["cellAreaRads2",Cn,[Vn,kn,en]],["edgeLengthM",Cn,[Vn,kn,en]],["edgeLengthKm",Cn,[Vn,kn,en]],["edgeLengthRads",Cn,[Vn,kn,en]],["getNumCells",Cn,[ma,en]],["getRes0Cells",Cn,[en]],["res0CellCount",Gn],["getPentagons",Cn,[Gn,en]],["pentagonCount",Gn],["cellToVertex",Cn,[Vn,kn,Gn,en]],["cellToVertexes",Cn,[Vn,kn,en]],["vertexToLatLng",Cn,[Vn,kn,en]],["isValidVertex",r9,[Vn,kn]]],Bve=0,Uve=1,Ove=2,Ive=3,IK=4,Fve=5,zve=6,Vve=7,kve=8,Gve=9,qve=10,Hve=11,jve=12,Wve=13,Xve=14,Yve=15,Ha={};Ha[Bve]="Success";Ha[Uve]="The operation failed but a more specific error is not available";Ha[Ove]="Argument was outside of acceptable range";Ha[Ive]="Latitude or longitude arguments were outside of acceptable range";Ha[IK]="Resolution argument was outside of acceptable range";Ha[Fve]="Cell argument was not valid";Ha[zve]="Directed edge argument was not valid";Ha[Vve]="Undirected edge argument was not valid";Ha[kve]="Vertex argument was not valid";Ha[Gve]="Pentagon distortion was encountered";Ha[qve]="Duplicate input";Ha[Hve]="Cell arguments were not neighbors";Ha[jve]="Cell arguments had incompatible resolutions";Ha[Wve]="Memory allocation failed";Ha[Xve]="Bounds of provided memory were insufficient";Ha[Yve]="Mode or flags argument was not valid";var Qve=1e3,FK=1001,zK=1002,CS={};CS[Qve]="Unknown unit";CS[FK]="Array length out of bounds";CS[zK]="Got unexpected null value for H3 index";var $ve="Unknown error";function VK(n,e,t){var i=t&&"value"in t,r=new Error((n[e]||$ve)+" (code: "+e+(i?", value: "+t.value:"")+")");return r.code=e,r}function kK(n,e){var t=arguments.length===2?{value:e}:{};return VK(Ha,n,t)}function GK(n,e){var t=arguments.length===2?{value:e}:{};return VK(CS,n,t)}function hp(n){if(n!==0)throw kK(n)}var ul={};Lve.forEach(function(e){ul[e[0]]=Ei.cwrap.apply(Ei,e)});var k6=16,dp=4,$d=8,Kve=8,W_=ul.sizeOfH3Index(),$L=ul.sizeOfLatLng(),Zve=ul.sizeOfCellBoundary(),Jve=ul.sizeOfGeoPolygon(),pA=ul.sizeOfGeoLoop();ul.sizeOfLinkedGeoPolygon();ul.sizeOfCoordIJ();function exe(n){if(typeof n!="number"||n<0||n>15||Math.floor(n)!==n)throw kK(IK,n);return n}function txe(n){if(!n)throw GK(zK);return n}var nxe=Math.pow(2,32)-1;function ixe(n){if(n>nxe)throw GK(FK,n);return n}var rxe=/[^0-9a-fA-F]/;function qK(n){if(Array.isArray(n)&&n.length===2&&Number.isInteger(n[0])&&Number.isInteger(n[1]))return n;if(typeof n!="string"||rxe.test(n))return[0,0];var e=parseInt(n.substring(0,n.length-8),k6),t=parseInt(n.substring(n.length-8),k6);return[t,e]}function Kk(n){if(n>=0)return n.toString(k6);n=n&2147483647;var e=HK(8,n.toString(k6)),t=(parseInt(e[0],k6)+8).toString(k6);return e=t+e.substring(1),e}function sxe(n,e){return Kk(e)+HK(8,Kk(n))}function HK(n,e){for(var t=n-e.length,i="",r=0;r<t;r++)i+="0";return i=i+e,i}function Zk(n,e,t){for(var i=n.length,r=Ei._calloc(i,$L),s=t?1:0,a=t?0:1,o=0;o<i*2;o+=2)Ei.HEAPF64.set([n[o/2][s],n[o/2][a]].map(YK),r/$d+o);return Ei.HEAPU32.set([i,r],e/dp),e}function axe(n,e){var t=n.length-1,i=Ei._calloc(Jve),r=0,s=r+pA,a=s+dp;Zk(n[0],i+r,e);var o;if(t>0){o=Ei._calloc(t,pA);for(var l=0;l<t;l++)Zk(n[l+1],o+pA*l,e)}return Ei.setValue(i+s,t,"i32"),Ei.setValue(i+a,o,"i32"),i}function oxe(n){var e=0,t=e+pA,i=t+dp,r=dp;Ei._free(Ei.getValue(n+e+r,"i8*"));var s=Ei.getValue(n+t,"i32");if(s>0){for(var a=Ei.getValue(n+i,"i32"),o=0;o<s;o++)Ei._free(Ei.getValue(a+pA*o+r,"i8*"));Ei._free(a)}Ei._free(n)}function jK(n,e){e===void 0&&(e=0);var t=Ei.getValue(n+W_*e,"i32"),i=Ei.getValue(n+W_*e+dp,"i32");return i?sxe(t,i):null}function lxe(n){return ul.readInt64AsDoubleFromPointer(n)}function uxe(n,e){for(var t=[],i=0;i<e;i++){var r=jK(n,i);r!==null&&t.push(r)}return t}function X_(n){return Axe(Ei.getValue(n,"double"))}function cxe(n){return[X_(n),X_(n+$d)]}function fxe(n){return[X_(n+$d),X_(n)]}function hxe(n,e,t){for(var i=Ei.getValue(n,"i32"),r=n+$d,s=[],a=fxe,o=0;o<i*2;o+=2)s.push(a(r+$d*o));return s.push(s[0]),s}function dxe(n,e,t){var i=Ei._malloc($L);Ei.HEAPF64.set([n,e].map(YK),i/$d);var r=Ei._malloc(W_);try{return hp(ul.latLngToCell(i,t,r)),txe(jK(r))}finally{Ei._free(r),Ei._free(i)}}function WK(n){var e=Ei._malloc($L),t=qK(n),i=t[0],r=t[1];try{return hp(ul.cellToLatLng(i,r,e)),cxe(e)}finally{Ei._free(e)}}function XK(n,e){var t=Ei._malloc(Zve),i=qK(n),r=i[0],s=i[1];try{return hp(ul.cellToBoundary(r,s,t)),hxe(t,e,e)}finally{Ei._free(t)}}function Jk(n,e,t){if(exe(e),t=!!t,n.length===0||n[0].length===0)return[];var i=typeof n[0][0]=="number"?[n]:n,r=axe(i,t),s=Ei._malloc(Kve);try{hp(ul.maxPolygonToCellsSize(r,e,0,s));var a=ixe(lxe(s)),o=Ei._calloc(a,W_);try{return hp(ul.polygonToCells(r,e,0,o)),uxe(o,a)}finally{Ei._free(o)}}finally{Ei._free(s),oxe(r)}}function YK(n){return n*Math.PI/180}function Axe(n){return n*180/Math.PI}function pxe(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+n*(1172.33-n*(10793.56-n*(33300.12-n*(38394.49-n*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+n*(557.33+n*(1225.33-n*(3574.96-n*(1073.77+n*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+n*(3211.1-n*(15327.97-n*(27814-n*(22569.18-n*6838.66)))))))+")"}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const mxe=["alphaMap","alphaTest","anisotropy","anisotropyMap","anisotropyRotation","aoMap","aoMapIntensity","attenuationColor","attenuationDistance","bumpMap","clearcoat","clearcoatMap","clearcoatNormalMap","clearcoatNormalScale","clearcoatRoughness","color","dispersion","displacementMap","emissive","emissiveIntensity","emissiveMap","envMap","envMapIntensity","gradientMap","ior","iridescence","iridescenceIOR","iridescenceMap","iridescenceThicknessMap","lightMap","lightMapIntensity","map","matcap","metalness","metalnessMap","normalMap","normalScale","opacity","roughness","roughnessMap","sheen","sheenColor","sheenColorMap","sheenRoughnessMap","shininess","specular","specularColor","specularColorMap","specularIntensity","specularIntensityMap","specularMap","thickness","transmission","transmissionMap"];class gxe{constructor(e){this.renderObjects=new WeakMap,this.hasNode=this.containsNode(e),this.hasAnimation=e.object.isSkinnedMesh===!0,this.refreshUniforms=mxe,this.renderId=0}firstInitialization(e){return this.renderObjects.has(e)===!1?(this.getRenderObjectData(e),!0):!1}needsVelocity(e){const t=e.getMRT();return t!==null&&t.has("velocity")}getRenderObjectData(e){let t=this.renderObjects.get(e);if(t===void 0){const{geometry:i,material:r,object:s}=e;if(t={material:this.getMaterialData(r),geometry:{id:i.id,attributes:this.getAttributesData(i.attributes),indexVersion:i.index?i.index.version:null,drawRange:{start:i.drawRange.start,count:i.drawRange.count}},worldMatrix:s.matrixWorld.clone()},s.center&&(t.center=s.center.clone()),s.morphTargetInfluences&&(t.morphTargetInfluences=s.morphTargetInfluences.slice()),e.bundle!==null&&(t.version=e.bundle.version),t.material.transmission>0){const{width:a,height:o}=e.context;t.bufferWidth=a,t.bufferHeight=o}this.renderObjects.set(e,t)}return t}getAttributesData(e){const t={};for(const i in e){const r=e[i];t[i]={version:r.version}}return t}containsNode(e){const t=e.material;for(const i in t)if(t[i]&&t[i].isNode)return!0;return e.renderer.overrideNodes.modelViewMatrix!==null||e.renderer.overrideNodes.modelNormalViewMatrix!==null}getMaterialData(e){const t={};for(const i of this.refreshUniforms){const r=e[i];r!=null&&(typeof r=="object"&&r.clone!==void 0?r.isTexture===!0?t[i]={id:r.id,version:r.version}:t[i]=r.clone():t[i]=r)}return t}equals(e){const{object:t,material:i,geometry:r}=e,s=this.getRenderObjectData(e);if(s.worldMatrix.equals(t.matrixWorld)!==!0)return s.worldMatrix.copy(t.matrixWorld),!1;const a=s.material;for(const T in a){const M=a[T],S=i[T];if(M.equals!==void 0){if(M.equals(S)===!1)return M.copy(S),!1}else if(S.isTexture===!0){if(M.id!==S.id||M.version!==S.version)return M.id=S.id,M.version=S.version,!1}else if(M!==S)return a[T]=S,!1}if(a.transmission>0){const{width:T,height:M}=e.context;if(s.bufferWidth!==T||s.bufferHeight!==M)return s.bufferWidth=T,s.bufferHeight=M,!1}const o=s.geometry,l=r.attributes,u=o.attributes,c=Object.keys(u),f=Object.keys(l);if(o.id!==r.id)return o.id=r.id,!1;if(c.length!==f.length)return s.geometry.attributes=this.getAttributesData(l),!1;for(const T of c){const M=u[T],S=l[T];if(S===void 0)return delete u[T],!1;if(M.version!==S.version)return M.version=S.version,!1}const m=r.index,v=o.indexVersion,_=m?m.version:null;if(v!==_)return o.indexVersion=_,!1;if(o.drawRange.start!==r.drawRange.start||o.drawRange.count!==r.drawRange.count)return o.drawRange.start=r.drawRange.start,o.drawRange.count=r.drawRange.count,!1;if(s.morphTargetInfluences){let T=!1;for(let M=0;M<s.morphTargetInfluences.length;M++)s.morphTargetInfluences[M]!==t.morphTargetInfluences[M]&&(T=!0);if(T)return!0}return s.center&&s.center.equals(t.center)===!1?(s.center.copy(t.center),!0):(e.bundle!==null&&(s.version=e.bundle.version),!0)}needsRefresh(e,t){if(this.hasNode||this.hasAnimation||this.firstInitialization(e)||this.needsVelocity(t.renderer))return!0;const{renderId:i}=t;if(this.renderId!==i)return this.renderId=i,!0;const r=e.object.static===!0,s=e.bundle!==null&&e.bundle.static===!0&&this.getRenderObjectData(e).version===e.bundle.version;return r||s?!1:this.equals(e)!==!0}}function Ap(n,e=0){let t=3735928559^e,i=1103547991^e;if(n instanceof Array)for(let r=0,s;r<n.length;r++)s=n[r],t=Math.imul(t^s,2654435761),i=Math.imul(i^s,1597334677);else for(let r=0,s;r<n.length;r++)s=n.charCodeAt(r),t=Math.imul(t^s,2654435761),i=Math.imul(i^s,1597334677);return t=Math.imul(t^t>>>16,2246822507),t^=Math.imul(i^i>>>13,3266489909),i=Math.imul(i^i>>>16,2246822507),i^=Math.imul(t^t>>>13,3266489909),4294967296*(2097151&i)+(t>>>0)}const QK=n=>Ap(n),NS=n=>Ap(n),Y_=(...n)=>Ap(n);function $K(n,e=!1){const t=[];n.isNode===!0&&(t.push(n.id),n=n.getSelf());for(const{property:i,childNode:r}of Q_(n))t.push(Ap(i.slice(0,-4)),r.getCacheKey(e));return Ap(t)}function*Q_(n,e=!1){for(const t in n){if(t.startsWith("_")===!0)continue;const i=n[t];if(Array.isArray(i)===!0)for(let r=0;r<i.length;r++){const s=i[r];s&&(s.isNode===!0||e&&typeof s.toJSON=="function")&&(yield{property:t,index:r,childNode:s})}else if(i&&i.isNode===!0)yield{property:t,childNode:i};else if(typeof i=="object")for(const r in i){const s=i[r];s&&(s.isNode===!0||e&&typeof s.toJSON=="function")&&(yield{property:t,index:r,childNode:s})}}}const yxe=new Map([[1,"float"],[2,"vec2"],[3,"vec3"],[4,"vec4"],[9,"mat3"],[16,"mat4"]]),eG=new WeakMap;function KK(n){return yxe.get(n)}function $_(n){if(/[iu]?vec\d/.test(n))return n.startsWith("ivec")?Int32Array:n.startsWith("uvec")?Uint32Array:Float32Array;if(/mat\d/.test(n)||/float/.test(n))return Float32Array;if(/uint/.test(n))return Uint32Array;if(/int/.test(n))return Int32Array;throw new Error(`THREE.NodeUtils: Unsupported type: ${n}`)}function ZK(n){if(/float|int|uint/.test(n))return 1;if(/vec2/.test(n))return 2;if(/vec3/.test(n))return 3;if(/vec4/.test(n)||/mat2/.test(n))return 4;if(/mat3/.test(n))return 9;if(/mat4/.test(n))return 16;console.error("THREE.TSL: Unsupported type:",n)}function vxe(n){if(/float|int|uint/.test(n))return 1;if(/vec2/.test(n))return 2;if(/vec3/.test(n))return 3;if(/vec4/.test(n)||/mat2/.test(n))return 4;if(/mat3/.test(n))return 12;if(/mat4/.test(n))return 16;console.error("THREE.TSL: Unsupported type:",n)}function xxe(n){if(/float|int|uint/.test(n))return 4;if(/vec2/.test(n))return 8;if(/vec3/.test(n)||/vec4/.test(n))return 16;if(/mat2/.test(n))return 8;if(/mat3/.test(n))return 48;if(/mat4/.test(n))return 64;console.error("THREE.TSL: Unsupported type:",n)}function r3(n){if(n==null)return null;const e=typeof n;return n.isNode===!0?"node":e==="number"?"float":e==="boolean"?"bool":e==="string"?"string":e==="function"?"shader":n.isVector2===!0?"vec2":n.isVector3===!0?"vec3":n.isVector4===!0?"vec4":n.isMatrix2===!0?"mat2":n.isMatrix3===!0?"mat3":n.isMatrix4===!0?"mat4":n.isColor===!0?"color":n instanceof ArrayBuffer?"ArrayBuffer":null}function JK(n,...e){const t=n?n.slice(-4):void 0;return e.length===1&&(t==="vec2"?e=[e[0],e[0]]:t==="vec3"?e=[e[0],e[0],e[0]]:t==="vec4"&&(e=[e[0],e[0],e[0],e[0]])),n==="color"?new Nt(...e):t==="vec2"?new Ye(...e):t==="vec3"?new re(...e):t==="vec4"?new ln(...e):t==="mat2"?new hm(...e):t==="mat3"?new On(...e):t==="mat4"?new Yt(...e):n==="bool"?e[0]||!1:n==="float"||n==="int"||n==="uint"?e[0]||0:n==="string"?e[0]||"":n==="ArrayBuffer"?nZ(e[0]):null}function eZ(n){let e=eG.get(n);return e===void 0&&(e={},eG.set(n,e)),e}function tZ(n){let e="";const t=new Uint8Array(n);for(let i=0;i<t.length;i++)e+=String.fromCharCode(t[i]);return btoa(e)}function nZ(n){return Uint8Array.from(atob(n),e=>e.charCodeAt(0)).buffer}const I9={VERTEX:"vertex",FRAGMENT:"fragment"},$n={NONE:"none",FRAME:"frame",RENDER:"render",OBJECT:"object"},_xe={BOOLEAN:"bool",INTEGER:"int",FLOAT:"float",VECTOR2:"vec2",VECTOR3:"vec3",VECTOR4:"vec4",MATRIX2:"mat2",MATRIX3:"mat3",MATRIX4:"mat4"},lo={READ_ONLY:"readOnly",WRITE_ONLY:"writeOnly",READ_WRITE:"readWrite"},iZ=["fragment","vertex"],dN=["setup","analyze","generate"],AN=[...iZ,"compute"],Mh=["x","y","z","w"],bxe={analyze:"setup",generate:"analyze"};let Sxe=0;class pn extends $l{static get type(){return"Node"}constructor(e=null){super(),this.nodeType=e,this.updateType=$n.NONE,this.updateBeforeType=$n.NONE,this.updateAfterType=$n.NONE,this.uuid=rS.generateUUID(),this.version=0,this.global=!1,this.parents=!1,this.isNode=!0,this._cacheKey=null,this._cacheKeyVersion=0,Object.defineProperty(this,"id",{value:Sxe++})}set needsUpdate(e){e===!0&&this.version++}get type(){return this.constructor.type}onUpdate(e,t){return this.updateType=t,this.update=e.bind(this.getSelf()),this}onFrameUpdate(e){return this.onUpdate(e,$n.FRAME)}onRenderUpdate(e){return this.onUpdate(e,$n.RENDER)}onObjectUpdate(e){return this.onUpdate(e,$n.OBJECT)}onReference(e){return this.updateReference=e.bind(this.getSelf()),this}getSelf(){return this.self||this}updateReference(){return this}isGlobal(){return this.global}*getChildren(){for(const{childNode:e}of Q_(this))yield e}dispose(){this.dispatchEvent({type:"dispose"})}traverse(e){e(this);for(const t of this.getChildren())t.traverse(e)}getCacheKey(e=!1){return e=e||this.version!==this._cacheKeyVersion,(e===!0||this._cacheKey===null)&&(this._cacheKey=Y_($K(this,e),this.customCacheKey()),this._cacheKeyVersion=this.version),this._cacheKey}customCacheKey(){return 0}getScope(){return this}getHash(){return this.uuid}getUpdateType(){return this.updateType}getUpdateBeforeType(){return this.updateBeforeType}getUpdateAfterType(){return this.updateAfterType}getElementType(e){const t=this.getNodeType(e);return e.getElementType(t)}getMemberType(){return"void"}getNodeType(e){const t=e.getNodeProperties(this);return t.outputNode?t.outputNode.getNodeType(e):this.nodeType}getShared(e){const t=this.getHash(e);return e.getNodeFromHash(t)||this}setup(e){const t=e.getNodeProperties(this);let i=0;for(const r of this.getChildren())t["node"+i++]=r;return t.outputNode||null}analyze(e,t=null){const i=e.increaseUsage(this);if(this.parents===!0){const r=e.getDataFromNode(this,"any");r.stages=r.stages||{},r.stages[e.shaderStage]=r.stages[e.shaderStage]||[],r.stages[e.shaderStage].push(t)}if(i===1){const r=e.getNodeProperties(this);for(const s of Object.values(r))s&&s.isNode===!0&&s.build(e,this)}}generate(e,t){const{outputNode:i}=e.getNodeProperties(this);if(i&&i.isNode===!0)return i.build(e,t)}updateBefore(){console.warn("Abstract function.")}updateAfter(){console.warn("Abstract function.")}update(){console.warn("Abstract function.")}build(e,t=null){const i=this.getShared(e);if(this!==i)return i.build(e,t);const r=e.getDataFromNode(this);r.buildStages=r.buildStages||{},r.buildStages[e.buildStage]=!0;const s=bxe[e.buildStage];if(s&&r.buildStages[s]!==!0){const l=e.getBuildStage();e.setBuildStage(s),this.build(e),e.setBuildStage(l)}e.addNode(this),e.addChain(this);let a=null;const o=e.getBuildStage();if(o==="setup"){this.updateReference(e);const l=e.getNodeProperties(this);if(l.initialized!==!0){l.initialized=!0,l.outputNode=this.setup(e)||l.outputNode||null;for(const u of Object.values(l))if(u&&u.isNode===!0){if(u.parents===!0){const c=e.getNodeProperties(u);c.parents=c.parents||[],c.parents.push(this)}u.build(e)}}a=l.outputNode}else if(o==="analyze")this.analyze(e,t);else if(o==="generate")if(this.generate.length===1){const u=this.getNodeType(e),c=e.getDataFromNode(this);a=c.snippet,a===void 0?c.generated===void 0?(c.generated=!0,a=this.generate(e)||"",c.snippet=a):(console.warn("THREE.Node: Recursion detected.",this),a="/* Recursion detected. */"):c.flowCodes!==void 0&&e.context.nodeBlock!==void 0&&e.addFlowCodeHierarchy(this,e.context.nodeBlock),a=e.format(a,u,t)}else a=this.generate(e,t)||"";return e.removeChain(this),e.addSequentialNode(this),a}getSerializeChildren(){return Q_(this)}serialize(e){const t=this.getSerializeChildren(),i={};for(const{property:r,index:s,childNode:a}of t)s!==void 0?(i[r]===void 0&&(i[r]=Number.isInteger(s)?[]:{}),i[r][s]=a.toJSON(e.meta).uuid):i[r]=a.toJSON(e.meta).uuid;Object.keys(i).length>0&&(e.inputNodes=i)}deserialize(e){if(e.inputNodes!==void 0){const t=e.meta.nodes;for(const i in e.inputNodes)if(Array.isArray(e.inputNodes[i])){const r=[];for(const s of e.inputNodes[i])r.push(t[s]);this[i]=r}else if(typeof e.inputNodes[i]=="object"){const r={};for(const s in e.inputNodes[i]){const a=e.inputNodes[i][s];r[s]=t[a]}this[i]=r}else{const r=e.inputNodes[i];this[i]=t[r]}}}toJSON(e){const{uuid:t,type:i}=this,r=e===void 0||typeof e=="string";r&&(e={textures:{},images:{},nodes:{}});let s=e.nodes[t];s===void 0&&(s={uuid:t,type:i,meta:e,metadata:{version:4.7,type:"Node",generator:"Node.toJSON"}},r!==!0&&(e.nodes[s.uuid]=s),this.serialize(s),delete s.meta);function a(o){const l=[];for(const u in o){const c=o[u];delete c.metadata,l.push(c)}return l}if(r){const o=a(e.textures),l=a(e.images),u=a(e.nodes);o.length>0&&(s.textures=o),l.length>0&&(s.images=l),u.length>0&&(s.nodes=u)}return s}}class Eh extends pn{static get type(){return"ArrayElementNode"}constructor(e,t){super(),this.node=e,this.indexNode=t,this.isArrayElementNode=!0}getNodeType(e){return this.node.getElementType(e)}generate(e){const t=this.indexNode.getNodeType(e),i=this.node.build(e),r=this.indexNode.build(e,!e.isVector(t)&&e.isInteger(t)?t:"uint");return`${i}[ ${r} ]`}}class rZ extends pn{static get type(){return"ConvertNode"}constructor(e,t){super(),this.node=e,this.convertTo=t}getNodeType(e){const t=this.node.getNodeType(e);let i=null;for(const r of this.convertTo.split("|"))(i===null||e.getTypeLength(t)===e.getTypeLength(r))&&(i=r);return i}serialize(e){super.serialize(e),e.convertTo=this.convertTo}deserialize(e){super.deserialize(e),this.convertTo=e.convertTo}generate(e,t){const i=this.node,r=this.getNodeType(e),s=i.build(e,r);return e.format(s,r,t)}}class Gs extends pn{static get type(){return"TempNode"}constructor(e=null){super(e),this.isTempNode=!0}hasDependencies(e){return e.getDataFromNode(this).usageCount>1}build(e,t){if(e.getBuildStage()==="generate"){const r=e.getVectorType(this.getNodeType(e,t)),s=e.getDataFromNode(this);if(s.propertyName!==void 0)return e.format(s.propertyName,r,t);if(r!=="void"&&t!=="void"&&this.hasDependencies(e)){const a=super.build(e,r),o=e.getVarFromNode(this,null,r),l=e.getPropertyName(o);return e.addLineFlowCode(`${l} = ${a}`,this),s.snippet=a,s.propertyName=l,e.format(s.propertyName,r,t)}}return super.build(e,t)}}class Txe extends Gs{static get type(){return"JoinNode"}constructor(e=[],t=null){super(t),this.nodes=e}getNodeType(e){return this.nodeType!==null?e.getVectorType(this.nodeType):e.getTypeFromLength(this.nodes.reduce((t,i)=>t+e.getTypeLength(i.getNodeType(e)),0))}generate(e,t){const i=this.getNodeType(e),r=e.getTypeLength(i),s=this.nodes,a=e.getComponentType(i),o=[];let l=0;for(const c of s){if(l>=r){console.error(`THREE.TSL: Length of parameters exceeds maximum length of function '${i}()' type.`);break}let f=c.getNodeType(e),m=e.getTypeLength(f),v;l+m>r&&(console.error(`THREE.TSL: Length of '${i}()' data exceeds maximum length of output type.`),m=r-l,f=e.getTypeFromLength(m)),l+=m,v=c.build(e,f);const _=e.getComponentType(f);_!==a&&(v=e.format(v,_,a)),o.push(v)}const u=`${e.getType(i)}( ${o.join(", ")} )`;return e.format(u,i,t)}}const Mxe=Mh.join("");class pN extends pn{static get type(){return"SplitNode"}constructor(e,t="x"){super(),this.node=e,this.components=t,this.isSplitNode=!0}getVectorLength(){let e=this.components.length;for(const t of this.components)e=Math.max(Mh.indexOf(t)+1,e);return e}getComponentType(e){return e.getComponentType(this.node.getNodeType(e))}getNodeType(e){return e.getTypeFromLength(this.components.length,this.getComponentType(e))}generate(e,t){const i=this.node,r=e.getTypeLength(i.getNodeType(e));let s=null;if(r>1){let a=null;this.getVectorLength()>=r&&(a=e.getTypeFromLength(this.getVectorLength(),this.getComponentType(e)));const l=i.build(e,a);this.components.length===r&&this.components===Mxe.slice(0,this.components.length)?s=e.format(l,a,t):s=e.format(`${l}.${this.components}`,this.getNodeType(e),t)}else s=i.build(e,t);return s}serialize(e){super.serialize(e),e.components=this.components}deserialize(e){super.deserialize(e),this.components=e.components}}class Exe extends Gs{static get type(){return"SetNode"}constructor(e,t,i){super(),this.sourceNode=e,this.components=t,this.targetNode=i}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{sourceNode:t,components:i,targetNode:r}=this,s=this.getNodeType(e),a=e.getComponentType(r.getNodeType(e)),o=e.getTypeFromLength(i.length,a),l=r.build(e,o),u=t.build(e,s),c=e.getTypeLength(s),f=[];for(let m=0;m<c;m++){const v=Mh[m];v===i[0]?(f.push(l),m+=i.length-1):f.push(u+"."+v)}return`${e.getType(s)}( ${f.join(", ")} )`}}class wxe extends Gs{static get type(){return"FlipNode"}constructor(e,t){super(),this.sourceNode=e,this.components=t}getNodeType(e){return this.sourceNode.getNodeType(e)}generate(e){const{components:t,sourceNode:i}=this,r=this.getNodeType(e),s=i.build(e),a=e.getVarFromNode(this),o=e.getPropertyName(a);e.addLineFlowCode(o+" = "+s,this);const l=e.getTypeLength(r),u=[];let c=0;for(let f=0;f<l;f++){const m=Mh[f];m===t[c]?(u.push("1.0 - "+(o+"."+m)),c++):u.push(o+"."+m)}return`${e.getType(r)}( ${u.join(", ")} )`}}class KL extends pn{static get type(){return"InputNode"}constructor(e,t=null){super(t),this.isInputNode=!0,this.value=e,this.precision=null}getNodeType(){return this.nodeType===null?r3(this.value):this.nodeType}getInputType(e){return this.getNodeType(e)}setPrecision(e){return this.precision=e,this}serialize(e){super.serialize(e),e.value=this.value,this.value&&this.value.toArray&&(e.value=this.value.toArray()),e.valueType=r3(this.value),e.nodeType=this.nodeType,e.valueType==="ArrayBuffer"&&(e.value=tZ(e.value)),e.precision=this.precision}deserialize(e){super.deserialize(e),this.nodeType=e.nodeType,this.value=Array.isArray(e.value)?JK(e.valueType,...e.value):e.value,this.precision=e.precision||null,this.value&&this.value.fromArray&&(this.value=this.value.fromArray(e.value))}generate(){console.warn("Abstract function.")}}const tG=/float|u?int/;class Ru extends KL{static get type(){return"ConstNode"}constructor(e,t=null){super(e,t),this.isConstNode=!0}generateConst(e){return e.generateConst(this.getNodeType(e),this.value)}generate(e,t){const i=this.getNodeType(e);return tG.test(i)&&tG.test(t)?e.generateConst(t,this.value):e.format(this.generateConst(e),i,t)}}class Rxe extends pn{static get type(){return"MemberNode"}constructor(e,t){super(),this.node=e,this.property=t,this.isMemberNode=!0}getNodeType(e){return this.node.getMemberType(e,this.property)}generate(e){return this.node.build(e)+"."+this.property}}let ah=null;const G6=new Map;function Je(n,e){if(G6.has(n)){console.warn(`THREE.TSL: Redefinition of method chaining '${n}'.`);return}if(typeof e!="function")throw new Error(`THREE.TSL: Node element ${n} is not a function`);G6.set(n,e)}const sZ=n=>n.replace(/r|s/g,"x").replace(/g|t/g,"y").replace(/b|p/g,"z").replace(/a|q/g,"w"),nG=n=>sZ(n).split("").sort().join(""),aZ={setup(n,e){const t=e.shift();return n(mm(t),...e)},get(n,e,t){if(typeof e=="string"&&n[e]===void 0){if(n.isStackNode!==!0&&e==="assign")return(...i)=>(ah.assign(t,...i),t);if(G6.has(e)){const i=G6.get(e);return n.isStackNode?(...r)=>t.add(i(...r)):(...r)=>i(t,...r)}else{if(e==="self")return n;if(e.endsWith("Assign")&&G6.has(e.slice(0,e.length-6))){const i=G6.get(e.slice(0,e.length-6));return n.isStackNode?(...r)=>t.assign(r[0],i(...r)):(...r)=>t.assign(i(t,...r))}else{if(/^[xyzwrgbastpq]{1,4}$/.test(e)===!0)return e=sZ(e),Qe(new pN(t,e));if(/^set[XYZWRGBASTPQ]{1,4}$/.test(e)===!0)return e=nG(e.slice(3).toLowerCase()),i=>Qe(new Exe(n,e,Qe(i)));if(/^flip[XYZWRGBASTPQ]{1,4}$/.test(e)===!0)return e=nG(e.slice(4).toLowerCase()),()=>Qe(new wxe(Qe(n),e));if(e==="width"||e==="height"||e==="depth")return e==="width"?e="x":e==="height"?e="y":e==="depth"&&(e="z"),Qe(new pN(n,e));if(/^\d+$/.test(e)===!0)return Qe(new Eh(t,new Ru(Number(e),"uint")));if(/^get$/.test(e)===!0)return i=>Qe(new Rxe(t,i))}}}return Reflect.get(n,e,t)},set(n,e,t,i){return typeof e=="string"&&n[e]===void 0&&(/^[xyzwrgbastpq]{1,4}$/.test(e)===!0||e==="width"||e==="height"||e==="depth"||/^\d+$/.test(e)===!0)?(i[e].assign(t),!0):Reflect.set(n,e,t,i)}},jE=new WeakMap,iG=new WeakMap,Cxe=function(n,e=null){const t=r3(n);if(t==="node"){let i=jE.get(n);return i===void 0&&(i=new Proxy(n,aZ),jE.set(n,i),jE.set(i,i)),i}else{if(e===null&&(t==="float"||t==="boolean")||t&&t!=="shader"&&t!=="string")return Qe(mN(n,e));if(t==="shader")return n.isFn?n:Ce(n)}return n},Nxe=function(n,e=null){for(const t in n)n[t]=Qe(n[t],e);return n},Dxe=function(n,e=null){const t=n.length;for(let i=0;i<t;i++)n[i]=Qe(n[i],e);return n},Pxe=function(n,e=null,t=null,i=null){const r=c=>Qe(i!==null?Object.assign(c,i):c);let s,a=e,o,l;function u(c){let f;return a?f=/[a-z]/i.test(a)?a+"()":a:f=n.type,o!==void 0&&c.length<o?(console.error(`THREE.TSL: "${f}" parameter length is less than minimum required.`),c.concat(new Array(o-c.length).fill(0))):l!==void 0&&c.length>l?(console.error(`THREE.TSL: "${f}" parameter length exceeds limit.`),c.slice(0,l)):c}return e===null?s=(...c)=>r(new n(...Ef(u(c)))):t!==null?(t=Qe(t),s=(...c)=>r(new n(e,...Ef(u(c)),t))):s=(...c)=>r(new n(e,...Ef(u(c)))),s.setParameterLength=(...c)=>(c.length===1?o=l=c[0]:c.length===2&&([o,l]=c),s),s.setName=c=>(a=c,s),s},Lxe=function(n,...e){return Qe(new n(...Ef(e)))};class Bxe extends pn{constructor(e,t){super(),this.shaderNode=e,this.inputNodes=t,this.isShaderCallNodeInternal=!0}getNodeType(e){return this.shaderNode.nodeType||this.getOutputNode(e).getNodeType(e)}getMemberType(e,t){return this.getOutputNode(e).getMemberType(e,t)}call(e){const{shaderNode:t,inputNodes:i}=this,r=e.getNodeProperties(t),s=e.getClosestSubBuild(t.subBuilds)||"",a=s||"default";if(r[a])return r[a];const o=e.subBuildFn;e.subBuildFn=s;let l=null;if(t.layout){let u=iG.get(e.constructor);u===void 0&&(u=new WeakMap,iG.set(e.constructor,u));let c=u.get(t);c===void 0&&(c=Qe(e.buildFunctionNode(t)),u.set(t,c)),e.addInclude(c),l=Qe(c.call(i))}else{const u=t.jsFunc,c=i!==null||u.length>1?u(i||[],e):u(e);l=Qe(c)}return e.subBuildFn=o,t.once&&(r[a]=l),l}setupOutput(e){return e.addStack(),e.stack.outputNode=this.call(e),e.removeStack()}getOutputNode(e){const t=e.getNodeProperties(this),i=e.getSubBuildOutput(this);return t[i]=t[i]||this.setupOutput(e),t[i].subBuild=e.getClosestSubBuild(this),t[i]}build(e,t=null){let i=null;const r=e.getBuildStage(),s=e.getNodeProperties(this),a=e.getSubBuildOutput(this),o=this.getOutputNode(e);if(r==="setup"){const l=e.getSubBuildProperty("initialized",this);if(s[l]!==!0&&(s[l]=!0,s[a]=this.getOutputNode(e),s[a].build(e),this.shaderNode.subBuilds))for(const u of e.chaining){const c=e.getDataFromNode(u,"any");c.subBuilds=c.subBuilds||new Set;for(const f of this.shaderNode.subBuilds)c.subBuilds.add(f)}i=s[a]}else r==="analyze"?o.build(e,t):r==="generate"&&(i=o.build(e,t)||"");return i}}class Uxe extends pn{constructor(e,t){super(t),this.jsFunc=e,this.layout=null,this.global=!0,this.once=!1}setLayout(e){return this.layout=e,this}call(e=null){return mm(e),Qe(new Bxe(this,e))}setup(){return this.call()}}const Oxe=[!1,!0],Ixe=[0,1,2,3],Fxe=[-1,-2],oZ=[.5,1.5,1/3,1e-6,1e6,Math.PI,Math.PI*2,1/Math.PI,2/Math.PI,1/(Math.PI*2),Math.PI/2],ZL=new Map;for(const n of Oxe)ZL.set(n,new Ru(n));const JL=new Map;for(const n of Ixe)JL.set(n,new Ru(n,"uint"));const eB=new Map([...JL].map(n=>new Ru(n.value,"int")));for(const n of Fxe)eB.set(n,new Ru(n,"int"));const DS=new Map([...eB].map(n=>new Ru(n.value)));for(const n of oZ)DS.set(n,new Ru(n));for(const n of oZ)DS.set(-n,new Ru(-n));const PS={bool:ZL,uint:JL,ints:eB,float:DS},rG=new Map([...ZL,...DS]),mN=(n,e)=>rG.has(n)?rG.get(n):n.isNode===!0?n:new Ru(n,e),qs=function(n,e=null){return(...t)=>{if((t.length===0||!["bool","float","int","uint"].includes(n)&&t.every(r=>typeof r!="object"))&&(t=[JK(n,...t)]),t.length===1&&e!==null&&e.has(t[0]))return Qe(e.get(t[0]));if(t.length===1){const r=mN(t[0],n);return r.nodeType===n?Qe(r):Qe(new rZ(r,n))}const i=t.map(r=>mN(r));return Qe(new Txe(i,n))}},pp=n=>typeof n=="object"&&n!==null?n.value:n,lZ=n=>n!=null?n.nodeType||n.convertTo||(typeof n=="string"?n:null):null;function q6(n,e){return new Proxy(new Uxe(n,e),aZ)}const Qe=(n,e=null)=>Cxe(n,e),mm=(n,e=null)=>new Nxe(n,e),Ef=(n,e=null)=>new Dxe(n,e),tt=(...n)=>new Pxe(...n),Dt=(...n)=>new Lxe(...n);let zxe=0;const Ce=(n,e=null)=>{let t=null;e!==null&&(typeof e=="object"?t=e.return:(typeof e=="string"?t=e:console.error("THREE.TSL: Invalid layout type."),e=null));const i=new q6(n,t),r=(...s)=>{let a;mm(s),s[0]&&(s[0].isNode||Object.getPrototypeOf(s[0])!==Object.prototype)?a=[...s]:a=s[0];const l=i.call(a);return t==="void"&&l.toStack(),l};if(r.shaderNode=i,r.id=i.id,r.isFn=!0,r.getNodeType=(...s)=>i.getNodeType(...s),r.getCacheKey=(...s)=>i.getCacheKey(...s),r.setLayout=s=>(i.setLayout(s),r),r.once=(s=null)=>(i.once=!0,i.subBuilds=s,r),e!==null){if(typeof e.inputs!="object"){const s={name:"fn"+zxe++,type:t,inputs:[]};for(const a in e)a!=="return"&&s.inputs.push({name:a,type:e[a]});e=s}r.setLayout(e)}return r},mp=n=>{ah=n},tB=()=>ah,Xn=(...n)=>ah.If(...n),Vxe=(...n)=>ah.Switch(...n);function LS(n){return ah&&ah.add(n),n}Je("toStack",LS);const uZ=new qs("color"),de=new qs("float",PS.float),ye=new qs("int",PS.ints),kt=new qs("uint",PS.uint),b1=new qs("bool",PS.bool),lt=new qs("vec2"),Zs=new qs("ivec2"),cZ=new qs("uvec2"),fZ=new qs("bvec2"),we=new qs("vec3"),hZ=new qs("ivec3"),M8=new qs("uvec3"),nB=new qs("bvec3"),on=new qs("vec4"),dZ=new qs("ivec4"),AZ=new qs("uvec4"),pZ=new qs("bvec4"),BS=new qs("mat2"),ho=new qs("mat3"),wf=new qs("mat4"),kxe=(n="")=>Qe(new Ru(n,"string")),Gxe=n=>Qe(new Ru(n,"ArrayBuffer"));Je("toColor",uZ);Je("toFloat",de);Je("toInt",ye);Je("toUint",kt);Je("toBool",b1);Je("toVec2",lt);Je("toIVec2",Zs);Je("toUVec2",cZ);Je("toBVec2",fZ);Je("toVec3",we);Je("toIVec3",hZ);Je("toUVec3",M8);Je("toBVec3",nB);Je("toVec4",on);Je("toIVec4",dZ);Je("toUVec4",AZ);Je("toBVec4",pZ);Je("toMat2",BS);Je("toMat3",ho);Je("toMat4",wf);const mZ=tt(Eh).setParameterLength(2),gZ=(n,e)=>Qe(new rZ(Qe(n),e)),qxe=(n,e)=>Qe(new pN(Qe(n),e));Je("element",mZ);Je("convert",gZ);const Hxe=n=>(console.warn("THREE.TSL: append() has been renamed to Stack()."),LS(n));Je("append",n=>(console.warn("THREE.TSL: .append() has been renamed to .toStack()."),LS(n)));class ji extends pn{static get type(){return"PropertyNode"}constructor(e,t=null,i=!1){super(e),this.name=t,this.varying=i,this.isPropertyNode=!0,this.global=!0}getHash(e){return this.name||super.getHash(e)}generate(e){let t;return this.varying===!0?(t=e.getVaryingFromNode(this,this.name),t.needsInterpolation=!0):t=e.getVarFromNode(this,this.name),e.getPropertyName(t)}}const Dc=(n,e)=>Qe(new ji(n,e)),gp=(n,e)=>Qe(new ji(n,e,!0)),Li=Dt(ji,"vec4","DiffuseColor"),gN=Dt(ji,"vec3","EmissiveColor"),t1=Dt(ji,"float","Roughness"),yp=Dt(ji,"float","Metalness"),K_=Dt(ji,"float","Clearcoat"),vp=Dt(ji,"float","ClearcoatRoughness"),cf=Dt(ji,"vec3","Sheen"),US=Dt(ji,"float","SheenRoughness"),OS=Dt(ji,"float","Iridescence"),iB=Dt(ji,"float","IridescenceIOR"),rB=Dt(ji,"float","IridescenceThickness"),Z_=Dt(ji,"float","AlphaT"),G2=Dt(ji,"float","Anisotropy"),mA=Dt(ji,"vec3","AnisotropyT"),Rf=Dt(ji,"vec3","AnisotropyB"),Xo=Dt(ji,"color","SpecularColor"),xp=Dt(ji,"float","SpecularF90"),J_=Dt(ji,"float","Shininess"),sd=Dt(ji,"vec4","Output"),ux=Dt(ji,"float","dashSize"),yN=Dt(ji,"float","gapSize"),jxe=Dt(ji,"float","pointWidth"),gA=Dt(ji,"float","IOR"),eb=Dt(ji,"float","Transmission"),sB=Dt(ji,"float","Thickness"),aB=Dt(ji,"float","AttenuationDistance"),oB=Dt(ji,"color","AttenuationColor"),lB=Dt(ji,"float","Dispersion");class yZ extends pn{static get type(){return"UniformGroupNode"}constructor(e,t=!1,i=1){super("string"),this.name=e,this.shared=t,this.order=i,this.isUniformGroup=!0}serialize(e){super.serialize(e),e.name=this.name,e.version=this.version,e.shared=this.shared}deserialize(e){super.deserialize(e),this.name=e.name,this.version=e.version,this.shared=e.shared}}const vZ=n=>new yZ(n),IS=(n,e=0)=>new yZ(n,!0,e),xZ=IS("frame"),mn=IS("render"),uB=vZ("object");class gm extends KL{static get type(){return"UniformNode"}constructor(e,t=null){super(e,t),this.isUniformNode=!0,this.name="",this.groupNode=uB}label(e){return this.name=e,this}setGroup(e){return this.groupNode=e,this}getGroup(){return this.groupNode}getUniformHash(e){return this.getHash(e)}onUpdate(e,t){const i=this.getSelf();return e=e.bind(i),super.onUpdate(r=>{const s=e(r,i);s!==void 0&&(this.value=s)},t)}generate(e,t){const i=this.getNodeType(e),r=this.getUniformHash(e);let s=e.getNodeFromHash(r);s===void 0&&(e.setHashNode(this,r),s=this);const a=s.getInputType(e),o=e.getUniformFromNode(s,a,e.shaderStage,this.name||e.context.label),l=e.getPropertyName(o);return e.context.label!==void 0&&delete e.context.label,e.format(l,i,t)}}const un=(n,e)=>{const t=lZ(e||n),i=n&&n.isNode===!0?n.node&&n.node.value||n.value:n;return Qe(new gm(i,t))};class sG extends Gs{static get type(){return"ArrayNode"}constructor(e,t,i=null){super(e),this.count=t,this.values=i,this.isArrayNode=!0}getNodeType(e){return this.nodeType===null&&(this.nodeType=this.values[0].getNodeType(e)),this.nodeType}getElementType(e){return this.getNodeType(e)}generate(e){const t=this.getNodeType(e);return e.generateArray(t,this.count,this.values)}}const _Z=(...n)=>{let e;if(n.length===1){const t=n[0];e=new sG(null,t.length,t)}else{const t=n[0],i=n[1];e=new sG(t,i)}return Qe(e)};Je("toArray",(n,e)=>_Z(Array(e).fill(n)));class Wxe extends Gs{static get type(){return"AssignNode"}constructor(e,t){super(),this.targetNode=e,this.sourceNode=t,this.isAssignNode=!0}hasDependencies(){return!1}getNodeType(e,t){return t!=="void"?this.targetNode.getNodeType(e):"void"}needsSplitAssign(e){const{targetNode:t}=this;if(e.isAvailable("swizzleAssign")===!1&&t.isSplitNode&&t.components.length>1){const i=e.getTypeLength(t.node.getNodeType(e));return Mh.join("").slice(0,i)!==t.components}return!1}setup(e){const{targetNode:t,sourceNode:i}=this,r=e.getNodeProperties(this);r.sourceNode=i,r.targetNode=t.context({assign:!0})}generate(e,t){const{targetNode:i,sourceNode:r}=e.getNodeProperties(this),s=this.needsSplitAssign(e),a=i.getNodeType(e),o=i.build(e),l=r.build(e,a),u=r.getNodeType(e),c=e.getDataFromNode(this);let f;if(c.initialized===!0)t!=="void"&&(f=o);else if(s){const m=e.getVarFromNode(this,null,a),v=e.getPropertyName(m);e.addLineFlowCode(`${v} = ${l}`,this);const _=i.node,M=_.node.context({assign:!0}).build(e);for(let S=0;S<_.components.length;S++){const R=_.components[S];e.addLineFlowCode(`${M}.${R} = ${v}[ ${S} ]`,this)}t!=="void"&&(f=o)}else f=`${o} = ${l}`,(t==="void"||u==="void")&&(e.addLineFlowCode(f,this),t!=="void"&&(f=o));return c.initialized=!0,e.format(f,a,t)}}const bZ=tt(Wxe).setParameterLength(2);Je("assign",bZ);class Xxe extends Gs{static get type(){return"FunctionCallNode"}constructor(e=null,t={}){super(),this.functionNode=e,this.parameters=t}setParameters(e){return this.parameters=e,this}getParameters(){return this.parameters}getNodeType(e){return this.functionNode.getNodeType(e)}generate(e){const t=[],i=this.functionNode,r=i.getInputs(e),s=this.parameters,a=(l,u)=>{const c=u.type,f=c==="pointer";let m;return f?m="&"+l.build(e):m=l.build(e,c),m};if(Array.isArray(s)){if(s.length>r.length)console.error("THREE.TSL: The number of provided parameters exceeds the expected number of inputs in 'Fn()'."),s.length=r.length;else if(s.length<r.length)for(console.error("THREE.TSL: The number of provided parameters is less than the expected number of inputs in 'Fn()'.");s.length<r.length;)s.push(de(0));for(let l=0;l<s.length;l++)t.push(a(s[l],r[l]))}else for(const l of r){const u=s[l.name];u!==void 0?t.push(a(u,l)):(console.error(`THREE.TSL: Input '${l.name}' not found in 'Fn()'.`),t.push(a(de(0),l)))}return`${i.build(e,"property")}( ${t.join(", ")} )`}}const SZ=(n,...e)=>(e=e.length>1||e[0]&&e[0].isNode===!0?Ef(e):mm(e[0]),Qe(new Xxe(Qe(n),e)));Je("call",SZ);const Yxe={"==":"equal","!=":"notEqual","<":"lessThan",">":"greaterThan","<=":"lessThanEqual",">=":"greaterThanEqual","%":"mod"};class Wr extends Gs{static get type(){return"OperatorNode"}constructor(e,t,i,...r){if(super(),r.length>0){let s=new Wr(e,t,i);for(let a=0;a<r.length-1;a++)s=new Wr(e,s,r[a]);t=s,i=r[r.length-1]}this.op=e,this.aNode=t,this.bNode=i,this.isOperatorNode=!0}getOperatorMethod(e,t){return e.getMethod(Yxe[this.op],t)}getNodeType(e){const t=this.op,i=this.aNode,r=this.bNode,s=i.getNodeType(e),a=r?r.getNodeType(e):null;if(s==="void"||a==="void")return"void";if(t==="%")return s;if(t==="~"||t==="&"||t==="|"||t==="^"||t===">>"||t==="<<")return e.getIntegerType(s);if(t==="!"||t==="&&"||t==="||"||t==="^^")return"bool";if(t==="=="||t==="!="||t==="<"||t===">"||t==="<="||t===">="){const o=Math.max(e.getTypeLength(s),e.getTypeLength(a));return o>1?`bvec${o}`:"bool"}else{if(e.isMatrix(s)){if(a==="float")return s;if(e.isVector(a))return e.getVectorFromMatrix(s);if(e.isMatrix(a))return s}else if(e.isMatrix(a)){if(s==="float")return a;if(e.isVector(s))return e.getVectorFromMatrix(a)}return e.getTypeLength(a)>e.getTypeLength(s)?a:s}}generate(e,t){const i=this.op,{aNode:r,bNode:s}=this,a=this.getNodeType(e);let o=null,l=null;a!=="void"?(o=r.getNodeType(e),l=s?s.getNodeType(e):null,i==="<"||i===">"||i==="<="||i===">="||i==="=="||i==="!="?e.isVector(o)?l=o:e.isVector(l)?o=l:o!==l&&(o=l="float"):i===">>"||i==="<<"?(o=a,l=e.changeComponentType(l,"uint")):i==="%"?(o=a,l=e.isInteger(o)&&e.isInteger(l)?l:o):e.isMatrix(o)?l==="float"?l="float":e.isVector(l)?l=e.getVectorFromMatrix(o):e.isMatrix(l)||(o=l=a):e.isMatrix(l)?o==="float"?o="float":e.isVector(o)?o=e.getVectorFromMatrix(l):o=l=a:o=l=a):o=l=a;const u=r.build(e,o),c=s?s.build(e,l):null,f=e.getFunctionOperator(i);if(t!=="void"){const m=e.renderer.coordinateSystem===za;if(i==="=="||i==="!="||i==="<"||i===">"||i==="<="||i===">=")return m?e.isVector(o)?e.format(`${this.getOperatorMethod(e,t)}( ${u}, ${c} )`,a,t):e.format(`( ${u} ${i} ${c} )`,a,t):e.format(`( ${u} ${i} ${c} )`,a,t);if(i==="%")return e.isInteger(l)?e.format(`( ${u} % ${c} )`,a,t):e.format(`${this.getOperatorMethod(e,a)}( ${u}, ${c} )`,a,t);if(i==="!"||i==="~")return e.format(`(${i}${u})`,o,t);if(f)return e.format(`${f}( ${u}, ${c} )`,a,t);if(e.isMatrix(o)&&l==="float")return e.format(`( ${c} ${i} ${u} )`,a,t);if(o==="float"&&e.isMatrix(l))return e.format(`${u} ${i} ${c}`,a,t);{let v=`( ${u} ${i} ${c} )`;return!m&&a==="bool"&&e.isVector(o)&&e.isVector(l)&&(v=`all${v}`),e.format(v,a,t)}}else if(o!=="void")return f?e.format(`${f}( ${u}, ${c} )`,a,t):e.isMatrix(o)&&l==="float"?e.format(`${c} ${i} ${u}`,a,t):e.format(`${u} ${i} ${c}`,a,t)}serialize(e){super.serialize(e),e.op=this.op}deserialize(e){super.deserialize(e),this.op=e.op}}const ks=tt(Wr,"+").setParameterLength(2,1/0).setName("add"),Ti=tt(Wr,"-").setParameterLength(2,1/0).setName("sub"),Wn=tt(Wr,"*").setParameterLength(2,1/0).setName("mul"),I0=tt(Wr,"/").setParameterLength(2,1/0).setName("div"),FS=tt(Wr,"%").setParameterLength(2).setName("mod"),cB=tt(Wr,"==").setParameterLength(2).setName("equal"),TZ=tt(Wr,"!=").setParameterLength(2).setName("notEqual"),MZ=tt(Wr,"<").setParameterLength(2).setName("lessThan"),fB=tt(Wr,">").setParameterLength(2).setName("greaterThan"),EZ=tt(Wr,"<=").setParameterLength(2).setName("lessThanEqual"),wZ=tt(Wr,">=").setParameterLength(2).setName("greaterThanEqual"),RZ=tt(Wr,"&&").setParameterLength(2,1/0).setName("and"),CZ=tt(Wr,"||").setParameterLength(2,1/0).setName("or"),NZ=tt(Wr,"!").setParameterLength(1).setName("not"),DZ=tt(Wr,"^^").setParameterLength(2).setName("xor"),PZ=tt(Wr,"&").setParameterLength(2).setName("bitAnd"),LZ=tt(Wr,"~").setParameterLength(2).setName("bitNot"),BZ=tt(Wr,"|").setParameterLength(2).setName("bitOr"),UZ=tt(Wr,"^").setParameterLength(2).setName("bitXor"),OZ=tt(Wr,"<<").setParameterLength(2).setName("shiftLeft"),IZ=tt(Wr,">>").setParameterLength(2).setName("shiftRight"),FZ=Ce(([n])=>(n.addAssign(1),n)),zZ=Ce(([n])=>(n.subAssign(1),n)),VZ=Ce(([n])=>{const e=ye(n).toConst();return n.addAssign(1),e}),kZ=Ce(([n])=>{const e=ye(n).toConst();return n.subAssign(1),e});Je("add",ks);Je("sub",Ti);Je("mul",Wn);Je("div",I0);Je("mod",FS);Je("equal",cB);Je("notEqual",TZ);Je("lessThan",MZ);Je("greaterThan",fB);Je("lessThanEqual",EZ);Je("greaterThanEqual",wZ);Je("and",RZ);Je("or",CZ);Je("not",NZ);Je("xor",DZ);Je("bitAnd",PZ);Je("bitNot",LZ);Je("bitOr",BZ);Je("bitXor",UZ);Je("shiftLeft",OZ);Je("shiftRight",IZ);Je("incrementBefore",FZ);Je("decrementBefore",zZ);Je("increment",VZ);Je("decrement",kZ);const GZ=(n,e)=>(console.warn('THREE.TSL: "modInt()" is deprecated. Use "mod( int( ... ) )" instead.'),FS(ye(n),ye(e)));Je("modInt",GZ);class Le extends Gs{static get type(){return"MathNode"}constructor(e,t,i=null,r=null){if(super(),(e===Le.MAX||e===Le.MIN)&&arguments.length>3){let s=new Le(e,t,i);for(let a=2;a<arguments.length-1;a++)s=new Le(e,s,arguments[a]);t=s,i=arguments[arguments.length-1],r=null}this.method=e,this.aNode=t,this.bNode=i,this.cNode=r,this.isMathNode=!0}getInputType(e){const t=this.aNode.getNodeType(e),i=this.bNode?this.bNode.getNodeType(e):null,r=this.cNode?this.cNode.getNodeType(e):null,s=e.isMatrix(t)?0:e.getTypeLength(t),a=e.isMatrix(i)?0:e.getTypeLength(i),o=e.isMatrix(r)?0:e.getTypeLength(r);return s>a&&s>o?t:a>o?i:o>s?r:t}getNodeType(e){const t=this.method;return t===Le.LENGTH||t===Le.DISTANCE||t===Le.DOT?"float":t===Le.CROSS?"vec3":t===Le.ALL||t===Le.ANY?"bool":t===Le.EQUALS?e.changeComponentType(this.aNode.getNodeType(e),"bool"):this.getInputType(e)}setup(e){const{aNode:t,bNode:i,method:r}=this;let s=null;if(r===Le.ONE_MINUS)s=Ti(1,t);else if(r===Le.RECIPROCAL)s=I0(1,t);else if(r===Le.DIFFERENCE)s=vr(Ti(t,i));else if(r===Le.TRANSFORM_DIRECTION){let a=t,o=i;e.isMatrix(a.getNodeType(e))?o=on(we(o),0):a=on(we(a),0);const l=Wn(a,o).xyz;s=$c(l)}return s!==null?s:super.setup(e)}generate(e,t){if(e.getNodeProperties(this).outputNode)return super.generate(e,t);let r=this.method;const s=this.getNodeType(e),a=this.getInputType(e),o=this.aNode,l=this.bNode,u=this.cNode,c=e.renderer.coordinateSystem;if(r===Le.NEGATE)return e.format("( - "+o.build(e,a)+" )",s,t);{const f=[];return r===Le.CROSS?f.push(o.build(e,s),l.build(e,s)):c===za&&r===Le.STEP?f.push(o.build(e,e.getTypeLength(o.getNodeType(e))===1?"float":a),l.build(e,a)):c===za&&(r===Le.MIN||r===Le.MAX)?f.push(o.build(e,a),l.build(e,e.getTypeLength(l.getNodeType(e))===1?"float":a)):r===Le.REFRACT?f.push(o.build(e,a),l.build(e,a),u.build(e,"float")):r===Le.MIX?f.push(o.build(e,a),l.build(e,a),u.build(e,e.getTypeLength(u.getNodeType(e))===1?"float":a)):(c===bu&&r===Le.ATAN&&l!==null&&(r="atan2"),e.shaderStage!=="fragment"&&(r===Le.DFDX||r===Le.DFDY)&&(console.warn(`THREE.TSL: '${r}' is not supported in the ${e.shaderStage} stage.`),r="/*"+r+"*/"),f.push(o.build(e,a)),l!==null&&f.push(l.build(e,a)),u!==null&&f.push(u.build(e,a))),e.format(`${e.getMethod(r,s)}( ${f.join(", ")} )`,s,t)}}serialize(e){super.serialize(e),e.method=this.method}deserialize(e){super.deserialize(e),this.method=e.method}}Le.ALL="all";Le.ANY="any";Le.RADIANS="radians";Le.DEGREES="degrees";Le.EXP="exp";Le.EXP2="exp2";Le.LOG="log";Le.LOG2="log2";Le.SQRT="sqrt";Le.INVERSE_SQRT="inversesqrt";Le.FLOOR="floor";Le.CEIL="ceil";Le.NORMALIZE="normalize";Le.FRACT="fract";Le.SIN="sin";Le.COS="cos";Le.TAN="tan";Le.ASIN="asin";Le.ACOS="acos";Le.ATAN="atan";Le.ABS="abs";Le.SIGN="sign";Le.LENGTH="length";Le.NEGATE="negate";Le.ONE_MINUS="oneMinus";Le.DFDX="dFdx";Le.DFDY="dFdy";Le.ROUND="round";Le.RECIPROCAL="reciprocal";Le.TRUNC="trunc";Le.FWIDTH="fwidth";Le.TRANSPOSE="transpose";Le.BITCAST="bitcast";Le.EQUALS="equals";Le.MIN="min";Le.MAX="max";Le.STEP="step";Le.REFLECT="reflect";Le.DISTANCE="distance";Le.DIFFERENCE="difference";Le.DOT="dot";Le.CROSS="cross";Le.POW="pow";Le.TRANSFORM_DIRECTION="transformDirection";Le.MIX="mix";Le.CLAMP="clamp";Le.REFRACT="refract";Le.SMOOTHSTEP="smoothstep";Le.FACEFORWARD="faceforward";const qZ=de(1e-6),Qxe=de(1e6),tb=de(Math.PI),$xe=de(Math.PI*2),HZ=tt(Le,Le.ALL).setParameterLength(1),jZ=tt(Le,Le.ANY).setParameterLength(1),WZ=tt(Le,Le.RADIANS).setParameterLength(1),XZ=tt(Le,Le.DEGREES).setParameterLength(1),hB=tt(Le,Le.EXP).setParameterLength(1),Kd=tt(Le,Le.EXP2).setParameterLength(1),zS=tt(Le,Le.LOG).setParameterLength(1),p1=tt(Le,Le.LOG2).setParameterLength(1),P1=tt(Le,Le.SQRT).setParameterLength(1),dB=tt(Le,Le.INVERSE_SQRT).setParameterLength(1),m1=tt(Le,Le.FLOOR).setParameterLength(1),VS=tt(Le,Le.CEIL).setParameterLength(1),$c=tt(Le,Le.NORMALIZE).setParameterLength(1),e2=tt(Le,Le.FRACT).setParameterLength(1),Il=tt(Le,Le.SIN).setParameterLength(1),hc=tt(Le,Le.COS).setParameterLength(1),YZ=tt(Le,Le.TAN).setParameterLength(1),QZ=tt(Le,Le.ASIN).setParameterLength(1),AB=tt(Le,Le.ACOS).setParameterLength(1),pB=tt(Le,Le.ATAN).setParameterLength(1,2),vr=tt(Le,Le.ABS).setParameterLength(1),_p=tt(Le,Le.SIGN).setParameterLength(1),g1=tt(Le,Le.LENGTH).setParameterLength(1),$Z=tt(Le,Le.NEGATE).setParameterLength(1),KZ=tt(Le,Le.ONE_MINUS).setParameterLength(1),mB=tt(Le,Le.DFDX).setParameterLength(1),gB=tt(Le,Le.DFDY).setParameterLength(1),ZZ=tt(Le,Le.ROUND).setParameterLength(1),JZ=tt(Le,Le.RECIPROCAL).setParameterLength(1),yB=tt(Le,Le.TRUNC).setParameterLength(1),eJ=tt(Le,Le.FWIDTH).setParameterLength(1),tJ=tt(Le,Le.TRANSPOSE).setParameterLength(1),Kxe=tt(Le,Le.BITCAST).setParameterLength(2),nJ=(n,e)=>(console.warn('THREE.TSL: "equals" is deprecated. Use "equal" inside a vector instead, like: "bvec*( equal( ... ) )"'),cB(n,e)),cl=tt(Le,Le.MIN).setParameterLength(2,1/0),ts=tt(Le,Le.MAX).setParameterLength(2,1/0),kS=tt(Le,Le.STEP).setParameterLength(2),iJ=tt(Le,Le.REFLECT).setParameterLength(2),rJ=tt(Le,Le.DISTANCE).setParameterLength(2),sJ=tt(Le,Le.DIFFERENCE).setParameterLength(2),V3=tt(Le,Le.DOT).setParameterLength(2),GS=tt(Le,Le.CROSS).setParameterLength(2),yu=tt(Le,Le.POW).setParameterLength(2),vB=tt(Le,Le.POW,2).setParameterLength(1),aJ=tt(Le,Le.POW,3).setParameterLength(1),oJ=tt(Le,Le.POW,4).setParameterLength(1),lJ=tt(Le,Le.TRANSFORM_DIRECTION).setParameterLength(2),uJ=n=>Wn(_p(n),yu(vr(n),1/3)),xB=n=>V3(n,n),Gi=tt(Le,Le.MIX).setParameterLength(3),S1=(n,e=0,t=1)=>Qe(new Le(Le.CLAMP,Qe(n),Qe(e),Qe(t))),_B=n=>S1(n),bB=tt(Le,Le.REFRACT).setParameterLength(3),T1=tt(Le,Le.SMOOTHSTEP).setParameterLength(3),SB=tt(Le,Le.FACEFORWARD).setParameterLength(3),cJ=Ce(([n])=>{const i=43758.5453,r=V3(n.xy,lt(12.9898,78.233)),s=FS(r,tb);return e2(Il(s).mul(i))}),fJ=(n,e,t)=>Gi(e,t,n),hJ=(n,e,t)=>T1(e,t,n),dJ=(n,e)=>kS(e,n),AJ=(n,e)=>(console.warn('THREE.TSL: "atan2" is overloaded. Use "atan" instead.'),pB(n,e)),Zxe=SB,Jxe=dB;Je("all",HZ);Je("any",jZ);Je("equals",nJ);Je("radians",WZ);Je("degrees",XZ);Je("exp",hB);Je("exp2",Kd);Je("log",zS);Je("log2",p1);Je("sqrt",P1);Je("inverseSqrt",dB);Je("floor",m1);Je("ceil",VS);Je("normalize",$c);Je("fract",e2);Je("sin",Il);Je("cos",hc);Je("tan",YZ);Je("asin",QZ);Je("acos",AB);Je("atan",pB);Je("abs",vr);Je("sign",_p);Je("length",g1);Je("lengthSq",xB);Je("negate",$Z);Je("oneMinus",KZ);Je("dFdx",mB);Je("dFdy",gB);Je("round",ZZ);Je("reciprocal",JZ);Je("trunc",yB);Je("fwidth",eJ);Je("atan2",AJ);Je("min",cl);Je("max",ts);Je("step",dJ);Je("reflect",iJ);Je("distance",rJ);Je("dot",V3);Je("cross",GS);Je("pow",yu);Je("pow2",vB);Je("pow3",aJ);Je("pow4",oJ);Je("transformDirection",lJ);Je("mix",fJ);Je("clamp",S1);Je("refract",bB);Je("smoothstep",hJ);Je("faceForward",SB);Je("difference",sJ);Je("saturate",_B);Je("cbrt",uJ);Je("transpose",tJ);Je("rand",cJ);class e_e extends pn{static get type(){return"ConditionalNode"}constructor(e,t,i=null){super(),this.condNode=e,this.ifNode=t,this.elseNode=i}getNodeType(e){const{ifNode:t,elseNode:i}=e.getNodeProperties(this);if(t===void 0)return this.setup(e),this.getNodeType(e);const r=t.getNodeType(e);if(i!==null){const s=i.getNodeType(e);if(e.getTypeLength(s)>e.getTypeLength(r))return s}return r}setup(e){const t=this.condNode.cache(),i=this.ifNode.cache(),r=this.elseNode?this.elseNode.cache():null,s=e.context.nodeBlock;e.getDataFromNode(i).parentNodeBlock=s,r!==null&&(e.getDataFromNode(r).parentNodeBlock=s);const a=e.getNodeProperties(this);a.condNode=t,a.ifNode=i.context({nodeBlock:i}),a.elseNode=r?r.context({nodeBlock:r}):null}generate(e,t){const i=this.getNodeType(e),r=e.getDataFromNode(this);if(r.nodeProperty!==void 0)return r.nodeProperty;const{condNode:s,ifNode:a,elseNode:o}=e.getNodeProperties(this),l=e.currentFunctionNode,u=t!=="void",c=u?Dc(i).build(e):"";r.nodeProperty=c;const f=s.build(e,"bool");e.addFlowCode(`
${e.tab}if ( ${f} ) {

`).addFlowTab();let m=a.build(e,i);if(m&&(u?m=c+" = "+m+";":(m="return "+m+";",l===null&&(console.warn("THREE.TSL: Return statement used in an inline 'Fn()'. Define a layout struct to allow return values."),m="// "+m))),e.removeFlowTab().addFlowCode(e.tab+"	"+m+`

`+e.tab+"}"),o!==null){e.addFlowCode(` else {

`).addFlowTab();let v=o.build(e,i);v&&(u?v=c+" = "+v+";":(v="return "+v+";",l===null&&(console.warn("THREE.TSL: Return statement used in an inline 'Fn()'. Define a layout struct to allow return values."),v="// "+v))),e.removeFlowTab().addFlowCode(e.tab+"	"+v+`

`+e.tab+`}

`)}else e.addFlowCode(`

`);return e.format(c,i,t)}}const _a=tt(e_e).setParameterLength(2,3);Je("select",_a);class pJ extends pn{static get type(){return"ContextNode"}constructor(e,t={}){super(),this.isContextNode=!0,this.node=e,this.value=t}getScope(){return this.node.getScope()}getNodeType(e){return this.node.getNodeType(e)}analyze(e){const t=e.getContext();e.setContext({...e.context,...this.value}),this.node.build(e),e.setContext(t)}setup(e){const t=e.getContext();e.setContext({...e.context,...this.value}),this.node.build(e),e.setContext(t)}generate(e,t){const i=e.getContext();e.setContext({...e.context,...this.value});const r=this.node.build(e,t);return e.setContext(i),r}}const qS=tt(pJ).setParameterLength(1,2),mJ=(n,e)=>qS(n,{label:e});Je("context",qS);Je("label",mJ);class cx extends pn{static get type(){return"VarNode"}constructor(e,t=null,i=!1){super(),this.node=e,this.name=t,this.global=!0,this.isVarNode=!0,this.readOnly=i,this.parents=!0}getMemberType(e,t){return this.node.getMemberType(e,t)}getElementType(e){return this.node.getElementType(e)}getNodeType(e){return this.node.getNodeType(e)}generate(e){const{node:t,name:i,readOnly:r}=this,{renderer:s}=e,a=s.backend.isWebGPUBackend===!0;let o=!1,l=!1;r&&(o=e.isDeterministic(t),l=a?r:o);const u=e.getVectorType(this.getNodeType(e)),c=t.build(e,u),f=e.getVarFromNode(this,i,u,void 0,l),m=e.getPropertyName(f);let v=m;if(l)if(a)v=o?`const ${m}`:`let ${m}`;else{const _=e.getArrayCount(t);v=`const ${e.getVar(f.type,m,_)}`}return e.addLineFlowCode(`${v} = ${c}`,this),m}}const TB=tt(cx),gJ=(n,e=null)=>TB(n,e).toStack(),yJ=(n,e=null)=>TB(n,e,!0).toStack();Je("toVar",gJ);Je("toConst",yJ);const vJ=n=>(console.warn('TSL: "temp( node )" is deprecated. Use "Var( node )" or "node.toVar()" instead.'),TB(n));Je("temp",vJ);class t_e extends pn{static get type(){return"SubBuild"}constructor(e,t,i=null){super(i),this.node=e,this.name=t,this.isSubBuildNode=!0}getNodeType(e){if(this.nodeType!==null)return this.nodeType;e.addSubBuild(this.name);const t=this.node.getNodeType(e);return e.removeSubBuild(),t}build(e,...t){e.addSubBuild(this.name);const i=this.node.build(e,...t);return e.removeSubBuild(),i}}const ad=(n,e,t=null)=>Qe(new t_e(Qe(n),e,t));class n_e extends pn{static get type(){return"VaryingNode"}constructor(e,t=null){super(),this.node=e,this.name=t,this.isVaryingNode=!0,this.interpolationType=null,this.interpolationSampling=null,this.global=!0}setInterpolation(e,t=null){return this.interpolationType=e,this.interpolationSampling=t,this}getHash(e){return this.name||super.getHash(e)}getNodeType(e){return this.node.getNodeType(e)}setupVarying(e){const t=e.getNodeProperties(this);let i=t.varying;if(i===void 0){const r=this.name,s=this.getNodeType(e),a=this.interpolationType,o=this.interpolationSampling;t.varying=i=e.getVaryingFromNode(this,r,s,a,o),t.node=ad(this.node,"VERTEX")}return i.needsInterpolation||(i.needsInterpolation=e.shaderStage==="fragment"),i}setup(e){this.setupVarying(e),e.flowNodeFromShaderStage(I9.VERTEX,this.node)}analyze(e){this.setupVarying(e),e.flowNodeFromShaderStage(I9.VERTEX,this.node)}generate(e){const t=e.getSubBuildProperty("property",e.currentStack),i=e.getNodeProperties(this),r=this.setupVarying(e);if(i[t]===void 0){const s=this.getNodeType(e),a=e.getPropertyName(r,I9.VERTEX);e.flowNodeFromShaderStage(I9.VERTEX,i.node,s,a),i[t]=a}return e.getPropertyName(r)}}const L1=tt(n_e).setParameterLength(1,2),xJ=n=>L1(n);Je("toVarying",L1);Je("toVertexStage",xJ);Je("varying",(...n)=>(console.warn("THREE.TSL: .varying() has been renamed to .toVarying()."),L1(...n)));Je("vertexStage",(...n)=>(console.warn("THREE.TSL: .vertexStage() has been renamed to .toVertexStage()."),L1(...n)));const _J=Ce(([n])=>{const e=n.mul(.9478672986).add(.0521327014).pow(2.4),t=n.mul(.0773993808),i=n.lessThanEqual(.04045);return Gi(e,t,i)}).setLayout({name:"sRGBTransferEOTF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),bJ=Ce(([n])=>{const e=n.pow(.41666).mul(1.055).sub(.055),t=n.mul(12.92),i=n.lessThanEqual(.0031308);return Gi(e,t,i)}).setLayout({name:"sRGBTransferOETF",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),MB="WorkingColorSpace",i_e="OutputColorSpace";class EB extends Gs{static get type(){return"ColorSpaceNode"}constructor(e,t,i){super("vec4"),this.colorNode=e,this.source=t,this.target=i}resolveColorSpace(e,t){return t===MB?wn.workingColorSpace:t===i_e?e.context.outputColorSpace||e.renderer.outputColorSpace:t}setup(e){const{colorNode:t}=this,i=this.resolveColorSpace(e,this.source),r=this.resolveColorSpace(e,this.target);let s=t;return wn.enabled===!1||i===r||!i||!r||(wn.getTransfer(i)===Xt&&(s=on(_J(s.rgb),s.a)),wn.getPrimaries(i)!==wn.getPrimaries(r)&&(s=on(ho(wn._getMatrix(new On,i,r)).mul(s.rgb),s.a)),wn.getTransfer(r)===Xt&&(s=on(bJ(s.rgb),s.a))),s}}const SJ=(n,e)=>Qe(new EB(Qe(n),MB,e)),HS=(n,e)=>Qe(new EB(Qe(n),e,MB)),r_e=(n,e,t)=>Qe(new EB(Qe(n),e,t));Je("workingToColorSpace",SJ);Je("colorSpaceToWorking",HS);let s_e=class extends Eh{static get type(){return"ReferenceElementNode"}constructor(e,t){super(e,t),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const t=super.generate(e),i=this.referenceNode.getNodeType(),r=this.getNodeType();return e.format(t,i,r)}};class TJ extends pn{static get type(){return"ReferenceBaseNode"}constructor(e,t,i=null,r=null){super(),this.property=e,this.uniformType=t,this.object=i,this.count=r,this.properties=e.split("."),this.reference=i,this.node=null,this.group=null,this.updateType=$n.OBJECT}setGroup(e){return this.group=e,this}element(e){return Qe(new s_e(this,Qe(e)))}setNodeType(e){const t=un(null,e).getSelf();this.group!==null&&t.setGroup(this.group),this.node=t}getNodeType(e){return this.node===null&&(this.updateReference(e),this.updateValue()),this.node.getNodeType(e)}getValueFromReference(e=this.reference){const{properties:t}=this;let i=e[t[0]];for(let r=1;r<t.length;r++)i=i[t[r]];return i}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}const a_e=(n,e,t)=>Qe(new TJ(n,e,t));class o_e extends TJ{static get type(){return"RendererReferenceNode"}constructor(e,t,i=null){super(e,t,i),this.renderer=i,this.setGroup(mn)}updateReference(e){return this.reference=this.renderer!==null?this.renderer:e.renderer,this.reference}}const MJ=(n,e,t=null)=>Qe(new o_e(n,e,t));class l_e extends Gs{static get type(){return"ToneMappingNode"}constructor(e,t=wJ,i=null){super("vec3"),this.toneMapping=e,this.exposureNode=t,this.colorNode=i}customCacheKey(){return Y_(this.toneMapping)}setup(e){const t=this.colorNode||e.context.color,i=this.toneMapping;if(i===co)return t;let r=null;const s=e.renderer.library.getToneMappingFunction(i);return s!==null?r=on(s(t.rgb,this.exposureNode),t.a):(console.error("ToneMappingNode: Unsupported Tone Mapping configuration.",i),r=t),r}}const EJ=(n,e,t)=>Qe(new l_e(n,Qe(e),Qe(t))),wJ=MJ("toneMappingExposure","float");Je("toneMapping",(n,e,t)=>EJ(e,t,n));class u_e extends KL{static get type(){return"BufferAttributeNode"}constructor(e,t=null,i=0,r=0){super(e,t),this.isBufferNode=!0,this.bufferType=t,this.bufferStride=i,this.bufferOffset=r,this.usage=Vd,this.instanced=!1,this.attribute=null,this.global=!0,e&&e.isBufferAttribute===!0&&(this.attribute=e,this.usage=e.usage,this.instanced=e.isInstancedBufferAttribute)}getHash(e){if(this.bufferStride===0&&this.bufferOffset===0){let t=e.globalCache.getData(this.value);return t===void 0&&(t={node:this},e.globalCache.setData(this.value,t)),t.node.uuid}return this.uuid}getNodeType(e){return this.bufferType===null&&(this.bufferType=e.getTypeFromAttribute(this.attribute)),this.bufferType}setup(e){if(this.attribute!==null)return;const t=this.getNodeType(e),i=this.value,r=e.getTypeLength(t),s=this.bufferStride||r,a=this.bufferOffset,o=i.isInterleavedBuffer===!0?i:new b8(i,s),l=new Lo(o,r,a);o.setUsage(this.usage),this.attribute=l,this.attribute.isInstancedBufferAttribute=this.instanced}generate(e){const t=this.getNodeType(e),i=e.getBufferAttributeFromNode(this,t),r=e.getPropertyName(i);let s=null;return e.shaderStage==="vertex"||e.shaderStage==="compute"?(this.name=r,s=r):s=L1(this).build(e,t),s}getInputType(){return"bufferAttribute"}setUsage(e){return this.usage=e,this.attribute&&this.attribute.isBufferAttribute===!0&&(this.attribute.usage=e),this}setInstanced(e){return this.instanced=e,this}}const ym=(n,e=null,t=0,i=0)=>Qe(new u_e(n,e,t,i)),RJ=(n,e=null,t=0,i=0)=>ym(n,e,t,i).setUsage(af),nb=(n,e=null,t=0,i=0)=>ym(n,e,t,i).setInstanced(!0),vN=(n,e=null,t=0,i=0)=>RJ(n,e,t,i).setInstanced(!0);Je("toAttribute",n=>ym(n.value));class c_e extends pn{static get type(){return"ComputeNode"}constructor(e,t,i=[64]){super("void"),this.isComputeNode=!0,this.computeNode=e,this.count=t,this.workgroupSize=i,this.dispatchCount=0,this.version=1,this.name="",this.updateBeforeType=$n.OBJECT,this.onInitFunction=null,this.updateDispatchCount()}dispose(){this.dispatchEvent({type:"dispose"})}label(e){return this.name=e,this}updateDispatchCount(){const{count:e,workgroupSize:t}=this;let i=t[0];for(let r=1;r<t.length;r++)i*=t[r];this.dispatchCount=Math.ceil(e/i)}onInit(e){return this.onInitFunction=e,this}updateBefore({renderer:e}){e.compute(this)}setup(e){const t=this.computeNode.build(e);if(t){const i=e.getNodeProperties(this);i.outputComputeNode=t.outputNode,t.outputNode=null}return t}generate(e,t){const{shaderStage:i}=e;if(i==="compute"){const r=this.computeNode.build(e,"void");r!==""&&e.addLineFlowCode(r,this)}else{const s=e.getNodeProperties(this).outputComputeNode;if(s)return s.build(e,t)}}}const CJ=(n,e,t)=>Qe(new c_e(Qe(n),e,t));Je("compute",CJ);class f_e extends pn{static get type(){return"CacheNode"}constructor(e,t=!0){super(),this.node=e,this.parent=t,this.isCacheNode=!0}getNodeType(e){const t=e.getCache(),i=e.getCacheFromNode(this,this.parent);e.setCache(i);const r=this.node.getNodeType(e);return e.setCache(t),r}build(e,...t){const i=e.getCache(),r=e.getCacheFromNode(this,this.parent);e.setCache(r);const s=this.node.build(e,...t);return e.setCache(i),s}}const yA=(n,e)=>Qe(new f_e(Qe(n),e));Je("cache",yA);class h_e extends pn{static get type(){return"BypassNode"}constructor(e,t){super(),this.isBypassNode=!0,this.outputNode=e,this.callNode=t}getNodeType(e){return this.outputNode.getNodeType(e)}generate(e){const t=this.callNode.build(e,"void");return t!==""&&e.addLineFlowCode(t,this),this.outputNode.build(e)}}const NJ=tt(h_e).setParameterLength(2);Je("bypass",NJ);class DJ extends pn{static get type(){return"RemapNode"}constructor(e,t,i,r=de(0),s=de(1)){super(),this.node=e,this.inLowNode=t,this.inHighNode=i,this.outLowNode=r,this.outHighNode=s,this.doClamp=!0}setup(){const{node:e,inLowNode:t,inHighNode:i,outLowNode:r,outHighNode:s,doClamp:a}=this;let o=e.sub(t).div(i.sub(t));return a===!0&&(o=o.clamp()),o.mul(s.sub(r)).add(r)}}const PJ=tt(DJ,null,null,{doClamp:!1}).setParameterLength(3,5),LJ=tt(DJ).setParameterLength(3,5);Je("remap",PJ);Je("remapClamp",LJ);class fx extends pn{static get type(){return"ExpressionNode"}constructor(e="",t="void"){super(t),this.snippet=e}generate(e,t){const i=this.getNodeType(e),r=this.snippet;if(i==="void")e.addLineFlowCode(r,this);else return e.format(r,i,t)}}const Kc=tt(fx).setParameterLength(1,2),BJ=n=>(n?_a(n,Kc("discard")):Kc("discard")).toStack(),d_e=()=>Kc("return").toStack();Je("discard",BJ);class A_e extends Gs{static get type(){return"RenderOutputNode"}constructor(e,t,i){super("vec4"),this.colorNode=e,this.toneMapping=t,this.outputColorSpace=i,this.isRenderOutputNode=!0}setup({context:e}){let t=this.colorNode||e.color;const i=(this.toneMapping!==null?this.toneMapping:e.toneMapping)||co,r=(this.outputColorSpace!==null?this.outputColorSpace:e.outputColorSpace)||no;return i!==co&&(t=t.toneMapping(i)),r!==no&&r!==wn.workingColorSpace&&(t=t.workingToColorSpace(r)),t}}const UJ=(n,e=null,t=null)=>Qe(new A_e(Qe(n),e,t));Je("renderOutput",UJ);class p_e extends Gs{static get type(){return"DebugNode"}constructor(e,t=null){super(),this.node=e,this.callback=t}getNodeType(e){return this.node.getNodeType(e)}setup(e){return this.node.build(e)}analyze(e){return this.node.build(e)}generate(e){const t=this.callback,i=this.node.build(e),r="--- TSL debug - "+e.shaderStage+" shader ---",s="-".repeat(r.length);let a="";return a+="// #"+r+`#
`,a+=e.flow.code.replace(/^\t/mg,"")+`
`,a+="/* ... */ "+i+` /* ... */
`,a+="// #"+s+`#
`,t!==null?t(e,a):console.log(a),i}}const OJ=(n,e=null)=>Qe(new p_e(Qe(n),e));Je("debug",OJ);function m_e(n){console.warn("THREE.TSL: AddNodeElement has been removed in favor of tree-shaking. Trying add",n)}class IJ extends pn{static get type(){return"AttributeNode"}constructor(e,t=null){super(t),this.global=!0,this._attributeName=e}getHash(e){return this.getAttributeName(e)}getNodeType(e){let t=this.nodeType;if(t===null){const i=this.getAttributeName(e);if(e.hasGeometryAttribute(i)){const r=e.geometry.getAttribute(i);t=e.getTypeFromAttribute(r)}else t="float"}return t}setAttributeName(e){return this._attributeName=e,this}getAttributeName(){return this._attributeName}generate(e){const t=this.getAttributeName(e),i=this.getNodeType(e);if(e.hasGeometryAttribute(t)===!0){const s=e.geometry.getAttribute(t),a=e.getTypeFromAttribute(s),o=e.getAttribute(t,a);return e.shaderStage==="vertex"?e.format(o.name,a,i):L1(this).build(e,i)}else return console.warn(`AttributeNode: Vertex attribute "${t}" not found on geometry.`),e.generateConst(i)}serialize(e){super.serialize(e),e.global=this.global,e._attributeName=this._attributeName}deserialize(e){super.deserialize(e),this.global=e.global,this._attributeName=e._attributeName}}const Zc=(n,e=null)=>Qe(new IJ(n,e)),Rr=(n=0)=>Zc("uv"+(n>0?n:""),"vec2");class g_e extends pn{static get type(){return"TextureSizeNode"}constructor(e,t=null){super("uvec2"),this.isTextureSizeNode=!0,this.textureNode=e,this.levelNode=t}generate(e,t){const i=this.textureNode.build(e,"property"),r=this.levelNode===null?"0":this.levelNode.build(e,"int");return e.format(`${e.getMethod("textureDimensions")}( ${i}, ${r} )`,this.getNodeType(e),t)}}const x3=tt(g_e).setParameterLength(1,2);class y_e extends gm{static get type(){return"MaxMipLevelNode"}constructor(e){super(0),this._textureNode=e,this.updateType=$n.FRAME}get textureNode(){return this._textureNode}get texture(){return this._textureNode.value}update(){const e=this.texture,t=e.images,i=t&&t.length>0?t[0]&&t[0].image||t[0]:e.image;if(i&&i.width!==void 0){const{width:r,height:s}=i;this.value=Math.log2(Math.max(r,s))}}}const wB=tt(y_e).setParameterLength(1),RB=new Ur;class M1 extends gm{static get type(){return"TextureNode"}constructor(e=RB,t=null,i=null,r=null){super(e),this.isTextureNode=!0,this.uvNode=t,this.levelNode=i,this.biasNode=r,this.compareNode=null,this.depthNode=null,this.gradNode=null,this.sampler=!0,this.updateMatrix=!1,this.updateType=$n.NONE,this.referenceNode=null,this._value=e,this._matrixUniform=null,this.setUpdateMatrix(t===null)}set value(e){this.referenceNode?this.referenceNode.value=e:this._value=e}get value(){return this.referenceNode?this.referenceNode.value:this._value}getUniformHash(){return this.value.uuid}getNodeType(){return this.value.isDepthTexture===!0?"float":this.value.type===tr?"uvec4":this.value.type===ea?"ivec4":"vec4"}getInputType(){return"texture"}getDefaultUV(){return Rr(this.value.channel)}updateReference(){return this.value}getTransformedUV(e){return this._matrixUniform===null&&(this._matrixUniform=un(this.value.matrix)),this._matrixUniform.mul(we(e,1)).xy}setUpdateMatrix(e){return this.updateMatrix=e,this.updateType=e?$n.OBJECT:$n.NONE,this}setupUV(e,t){const i=this.value;return e.isFlipY()&&(i.image instanceof ImageBitmap&&i.flipY===!0||i.isRenderTargetTexture===!0||i.isFramebufferTexture===!0||i.isDepthTexture===!0)&&(this.sampler?t=t.flipY():t=t.setY(ye(x3(this,this.levelNode).y).sub(t.y).sub(1))),t}setup(e){const t=e.getNodeProperties(this);t.referenceNode=this.referenceNode;const i=this.value;if(!i||i.isTexture!==!0)throw new Error("THREE.TSL: `texture( value )` function expects a valid instance of THREE.Texture().");let r=this.uvNode;(r===null||e.context.forceUVContext===!0)&&e.context.getUV&&(r=e.context.getUV(this,e)),r||(r=this.getDefaultUV()),this.updateMatrix===!0&&(r=this.getTransformedUV(r)),r=this.setupUV(e,r);let s=this.levelNode;s===null&&e.context.getTextureLevel&&(s=e.context.getTextureLevel(this)),t.uvNode=r,t.levelNode=s,t.biasNode=this.biasNode,t.compareNode=this.compareNode,t.gradNode=this.gradNode,t.depthNode=this.depthNode}generateUV(e,t){return t.build(e,this.sampler===!0?"vec2":"ivec2")}generateSnippet(e,t,i,r,s,a,o,l){const u=this.value;let c;return r?c=e.generateTextureLevel(u,t,i,r,a):s?c=e.generateTextureBias(u,t,i,s,a):l?c=e.generateTextureGrad(u,t,i,l,a):o?c=e.generateTextureCompare(u,t,i,o,a):this.sampler===!1?c=e.generateTextureLoad(u,t,i,a):c=e.generateTexture(u,t,i,a),c}generate(e,t){const i=this.value,r=e.getNodeProperties(this),s=super.generate(e,"property");if(/^sampler/.test(t))return s+"_sampler";if(e.isReference(t))return s;{const a=e.getDataFromNode(this);let o=a.propertyName;if(o===void 0){const{uvNode:c,levelNode:f,biasNode:m,compareNode:v,depthNode:_,gradNode:T}=r,M=this.generateUV(e,c),S=f?f.build(e,"float"):null,R=m?m.build(e,"float"):null,C=_?_.build(e,"int"):null,P=v?v.build(e,"float"):null,B=T?[T[0].build(e,"vec2"),T[1].build(e,"vec2")]:null,O=e.getVarFromNode(this);o=e.getPropertyName(O);const V=this.generateSnippet(e,s,M,S,R,C,P,B);e.addLineFlowCode(`${o} = ${V}`,this),a.snippet=V,a.propertyName=o}let l=o;const u=this.getNodeType(e);return e.needsToWorkingColorSpace(i)&&(l=HS(Kc(l,u),i.colorSpace).setup(e).build(e,u)),e.format(l,u,t)}}setSampler(e){return this.sampler=e,this}getSampler(){return this.sampler}uv(e){return console.warn("THREE.TextureNode: .uv() has been renamed. Use .sample() instead."),this.sample(e)}sample(e){const t=this.clone();return t.uvNode=Qe(e),t.referenceNode=this.getSelf(),Qe(t)}blur(e){const t=this.clone();t.biasNode=Qe(e).mul(wB(t)),t.referenceNode=this.getSelf();const i=t.value;return t.generateMipmaps===!1&&(i&&i.generateMipmaps===!1||i.minFilter===fr||i.magFilter===fr)&&(console.warn("THREE.TSL: texture().blur() requires mipmaps and sampling. Use .generateMipmaps=true and .minFilter/.magFilter=THREE.LinearFilter in the Texture."),t.biasNode=null),Qe(t)}level(e){const t=this.clone();return t.levelNode=Qe(e),t.referenceNode=this.getSelf(),Qe(t)}size(e){return x3(this,e)}bias(e){const t=this.clone();return t.biasNode=Qe(e),t.referenceNode=this.getSelf(),Qe(t)}compare(e){const t=this.clone();return t.compareNode=Qe(e),t.referenceNode=this.getSelf(),Qe(t)}grad(e,t){const i=this.clone();return i.gradNode=[Qe(e),Qe(t)],i.referenceNode=this.getSelf(),Qe(i)}depth(e){const t=this.clone();return t.depthNode=Qe(e),t.referenceNode=this.getSelf(),Qe(t)}serialize(e){super.serialize(e),e.value=this.value.toJSON(e.meta).uuid,e.sampler=this.sampler,e.updateMatrix=this.updateMatrix,e.updateType=this.updateType}deserialize(e){super.deserialize(e),this.value=e.meta.textures[e.value],this.sampler=e.sampler,this.updateMatrix=e.updateMatrix,this.updateType=e.updateType}update(){const e=this.value,t=this._matrixUniform;t!==null&&(t.value=e.matrix),e.matrixAutoUpdate===!0&&e.updateMatrix()}clone(){const e=new this.constructor(this.value,this.uvNode,this.levelNode,this.biasNode);return e.sampler=this.sampler,e.depthNode=this.depthNode,e.compareNode=this.compareNode,e.gradNode=this.gradNode,e}}const v_e=tt(M1).setParameterLength(1,4).setName("texture"),oi=(n=RB,e=null,t=null,i=null)=>{let r;return n&&n.isTextureNode===!0?(r=Qe(n.clone()),r.referenceNode=n.getSelf(),e!==null&&(r.uvNode=Qe(e)),t!==null&&(r.levelNode=Qe(t)),i!==null&&(r.biasNode=Qe(i))):r=v_e(n,e,t,i),r},x_e=(n=RB)=>oi(n),ls=(...n)=>oi(...n).setSampler(!1),__e=n=>(n.isNode===!0?n:oi(n)).convert("sampler"),b_e=n=>(n.isNode===!0?n:oi(n)).convert("samplerComparison");class CB extends gm{static get type(){return"BufferNode"}constructor(e,t,i=0){super(e,t),this.isBufferNode=!0,this.bufferType=t,this.bufferCount=i}getElementType(e){return this.getNodeType(e)}getInputType(){return"buffer"}}const vm=(n,e,t)=>Qe(new CB(n,e,t));class S_e extends Eh{static get type(){return"UniformArrayElementNode"}constructor(e,t){super(e,t),this.isArrayBufferElementNode=!0}generate(e){const t=super.generate(e),i=this.getNodeType(),r=this.node.getPaddedType();return e.format(t,r,i)}}class T_e extends CB{static get type(){return"UniformArrayNode"}constructor(e,t=null){super(null),this.array=e,this.elementType=t===null?r3(e[0]):t,this.paddedType=this.getPaddedType(),this.updateType=$n.RENDER,this.isArrayBufferNode=!0}getNodeType(){return this.paddedType}getElementType(){return this.elementType}getPaddedType(){const e=this.elementType;let t="vec4";return e==="mat2"?t="mat2":/mat/.test(e)===!0?t="mat4":e.charAt(0)==="i"?t="ivec4":e.charAt(0)==="u"&&(t="uvec4"),t}update(){const{array:e,value:t}=this,i=this.elementType;if(i==="float"||i==="int"||i==="uint")for(let r=0;r<e.length;r++){const s=r*4;t[s]=e[r]}else if(i==="color")for(let r=0;r<e.length;r++){const s=r*4,a=e[r];t[s]=a.r,t[s+1]=a.g,t[s+2]=a.b||0}else if(i==="mat2")for(let r=0;r<e.length;r++){const s=r*4,a=e[r];t[s]=a.elements[0],t[s+1]=a.elements[1],t[s+2]=a.elements[2],t[s+3]=a.elements[3]}else if(i==="mat3")for(let r=0;r<e.length;r++){const s=r*16,a=e[r];t[s]=a.elements[0],t[s+1]=a.elements[1],t[s+2]=a.elements[2],t[s+4]=a.elements[3],t[s+5]=a.elements[4],t[s+6]=a.elements[5],t[s+8]=a.elements[6],t[s+9]=a.elements[7],t[s+10]=a.elements[8],t[s+15]=1}else if(i==="mat4")for(let r=0;r<e.length;r++){const s=r*16,a=e[r];for(let o=0;o<a.elements.length;o++)t[s+o]=a.elements[o]}else for(let r=0;r<e.length;r++){const s=r*4,a=e[r];t[s]=a.x,t[s+1]=a.y,t[s+2]=a.z||0,t[s+3]=a.w||0}}setup(e){const t=this.array.length,i=this.elementType;let r=Float32Array;const s=this.paddedType,a=e.getTypeLength(s);return i.charAt(0)==="i"&&(r=Int32Array),i.charAt(0)==="u"&&(r=Uint32Array),this.value=new r(t*a),this.bufferCount=t,this.bufferType=s,super.setup(e)}element(e){return Qe(new S_e(this,Qe(e)))}}const M0=(n,e)=>Qe(new T_e(n,e));class M_e extends pn{constructor(e){super("float"),this.name=e,this.isBuiltinNode=!0}generate(){return this.name}}const xm=tt(M_e).setParameterLength(1),jS=un(0,"uint").label("u_cameraIndex").setGroup(IS("cameraIndex")).toVarying("v_cameraIndex"),Y2=un("float").label("cameraNear").setGroup(mn).onRenderUpdate(({camera:n})=>n.near),Q2=un("float").label("cameraFar").setGroup(mn).onRenderUpdate(({camera:n})=>n.far),wh=Ce(({camera:n})=>{let e;if(n.isArrayCamera&&n.cameras.length>0){const t=[];for(const r of n.cameras)t.push(r.projectionMatrix);e=M0(t).setGroup(mn).label("cameraProjectionMatrices").element(n.isMultiViewCamera?xm("gl_ViewID_OVR"):jS).toVar("cameraProjectionMatrix")}else e=un("mat4").label("cameraProjectionMatrix").setGroup(mn).onRenderUpdate(({camera:t})=>t.projectionMatrix);return e}).once()(),E_e=Ce(({camera:n})=>{let e;if(n.isArrayCamera&&n.cameras.length>0){const t=[];for(const r of n.cameras)t.push(r.projectionMatrixInverse);e=M0(t).setGroup(mn).label("cameraProjectionMatricesInverse").element(n.isMultiViewCamera?xm("gl_ViewID_OVR"):jS).toVar("cameraProjectionMatrixInverse")}else e=un("mat4").label("cameraProjectionMatrixInverse").setGroup(mn).onRenderUpdate(({camera:t})=>t.projectionMatrixInverse);return e}).once()(),j0=Ce(({camera:n})=>{let e;if(n.isArrayCamera&&n.cameras.length>0){const t=[];for(const r of n.cameras)t.push(r.matrixWorldInverse);e=M0(t).setGroup(mn).label("cameraViewMatrices").element(n.isMultiViewCamera?xm("gl_ViewID_OVR"):jS).toVar("cameraViewMatrix")}else e=un("mat4").label("cameraViewMatrix").setGroup(mn).onRenderUpdate(({camera:t})=>t.matrixWorldInverse);return e}).once()(),w_e=un("mat4").label("cameraWorldMatrix").setGroup(mn).onRenderUpdate(({camera:n})=>n.matrixWorld),R_e=un("mat3").label("cameraNormalMatrix").setGroup(mn).onRenderUpdate(({camera:n})=>n.normalMatrix),FJ=un(new re).label("cameraPosition").setGroup(mn).onRenderUpdate(({camera:n},e)=>e.value.setFromMatrixPosition(n.matrixWorld)),aG=new Vs;class mi extends pn{static get type(){return"Object3DNode"}constructor(e,t=null){super(),this.scope=e,this.object3d=t,this.updateType=$n.OBJECT,this.uniformNode=new gm(null)}getNodeType(){const e=this.scope;if(e===mi.WORLD_MATRIX)return"mat4";if(e===mi.POSITION||e===mi.VIEW_POSITION||e===mi.DIRECTION||e===mi.SCALE)return"vec3";if(e===mi.RADIUS)return"float"}update(e){const t=this.object3d,i=this.uniformNode,r=this.scope;if(r===mi.WORLD_MATRIX)i.value=t.matrixWorld;else if(r===mi.POSITION)i.value=i.value||new re,i.value.setFromMatrixPosition(t.matrixWorld);else if(r===mi.SCALE)i.value=i.value||new re,i.value.setFromMatrixScale(t.matrixWorld);else if(r===mi.DIRECTION)i.value=i.value||new re,t.getWorldDirection(i.value);else if(r===mi.VIEW_POSITION){const s=e.camera;i.value=i.value||new re,i.value.setFromMatrixPosition(t.matrixWorld),i.value.applyMatrix4(s.matrixWorldInverse)}else if(r===mi.RADIUS){const s=e.object.geometry;s.boundingSphere===null&&s.computeBoundingSphere(),aG.copy(s.boundingSphere).applyMatrix4(t.matrixWorld),i.value=aG.radius}}generate(e){const t=this.scope;return t===mi.WORLD_MATRIX?this.uniformNode.nodeType="mat4":t===mi.POSITION||t===mi.VIEW_POSITION||t===mi.DIRECTION||t===mi.SCALE?this.uniformNode.nodeType="vec3":t===mi.RADIUS&&(this.uniformNode.nodeType="float"),this.uniformNode.build(e)}serialize(e){super.serialize(e),e.scope=this.scope}deserialize(e){super.deserialize(e),this.scope=e.scope}}mi.WORLD_MATRIX="worldMatrix";mi.POSITION="position";mi.SCALE="scale";mi.VIEW_POSITION="viewPosition";mi.DIRECTION="direction";mi.RADIUS="radius";const C_e=tt(mi,mi.DIRECTION).setParameterLength(1),N_e=tt(mi,mi.WORLD_MATRIX).setParameterLength(1),zJ=tt(mi,mi.POSITION).setParameterLength(1),D_e=tt(mi,mi.SCALE).setParameterLength(1),P_e=tt(mi,mi.VIEW_POSITION).setParameterLength(1),L_e=tt(mi,mi.RADIUS).setParameterLength(1);class F0 extends mi{static get type(){return"ModelNode"}constructor(e){super(e)}update(e){this.object3d=e.object,super.update(e)}}const B_e=Dt(F0,F0.DIRECTION),R0=Dt(F0,F0.WORLD_MATRIX),U_e=Dt(F0,F0.POSITION),O_e=Dt(F0,F0.SCALE),I_e=Dt(F0,F0.VIEW_POSITION),F_e=Dt(F0,F0.RADIUS),VJ=un(new On).onObjectUpdate(({object:n},e)=>e.value.getNormalMatrix(n.matrixWorld)),z_e=un(new Yt).onObjectUpdate(({object:n},e)=>e.value.copy(n.matrixWorld).invert()),Rh=Ce(n=>n.renderer.overrideNodes.modelViewMatrix||kJ).once()().toVar("modelViewMatrix"),kJ=j0.mul(R0),xN=Ce(n=>(n.context.isHighPrecisionModelViewMatrix=!0,un("mat4").onObjectUpdate(({object:e,camera:t})=>e.modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,e.matrixWorld)))).once()().toVar("highpModelViewMatrix"),_N=Ce(n=>{const e=n.context.isHighPrecisionModelViewMatrix;return un("mat3").onObjectUpdate(({object:t,camera:i})=>(e!==!0&&t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix)))}).once()().toVar("highpModelNormalViewMatrix"),_m=Zc("position","vec3"),ds=_m.toVarying("positionLocal"),ib=_m.toVarying("positionPrevious"),Pc=Ce(n=>R0.mul(ds).xyz.toVarying(n.getSubBuildProperty("v_positionWorld")),"vec3").once(["POSITION"])(),NB=Ce(()=>ds.transformDirection(R0).toVarying("v_positionWorldDirection").normalize().toVar("positionWorldDirection"),"vec3").once(["POSITION"])(),As=Ce(n=>n.context.setupPositionView().toVarying("v_positionView"),"vec3").once(["POSITION"])(),Dr=As.negate().toVarying("v_positionViewDirection").normalize().toVar("positionViewDirection");class V_e extends pn{static get type(){return"FrontFacingNode"}constructor(){super("bool"),this.isFrontFacingNode=!0}generate(e){if(e.shaderStage!=="fragment")return"true";const{renderer:t,material:i}=e;return t.coordinateSystem===za&&i.side===Zi?"false":e.getFrontFacing()}}const GJ=Dt(V_e),DB=de(GJ).mul(2).sub(1),E8=Ce(([n],{material:e})=>{const t=e.side;return t===Zi?n=n.mul(-1):t===hs&&(n=n.mul(DB)),n}),WS=Zc("normal","vec3"),fl=Ce(n=>n.geometry.hasAttribute("normal")===!1?(console.warn('THREE.TSL: Vertex attribute "normal" not found on geometry.'),we(0,1,0)):WS,"vec3").once()().toVar("normalLocal"),qJ=As.dFdx().cross(As.dFdy()).normalize().toVar("normalFlat"),Zd=Ce(n=>{let e;return n.material.flatShading===!0?e=qJ:e=PB(fl).toVarying("v_normalViewGeometry").normalize(),e},"vec3").once()().toVar("normalViewGeometry"),HJ=Ce(n=>{let e=Zd.transformDirection(j0);return n.material.flatShading!==!0&&(e=e.toVarying("v_normalWorldGeometry")),e.normalize().toVar("normalWorldGeometry")},"vec3").once()(),$i=Ce(({subBuildFn:n,material:e,context:t})=>{let i;return n==="NORMAL"||n==="VERTEX"?(i=Zd,e.flatShading!==!0&&(i=E8(i))):i=t.setupNormal().context({getUV:null}),i},"vec3").once(["NORMAL","VERTEX"])().toVar("normalView"),k3=$i.transformDirection(j0).toVar("normalWorld"),ff=Ce(({subBuildFn:n,context:e})=>{let t;return n==="NORMAL"||n==="VERTEX"?t=$i:t=e.setupClearcoatNormal().context({getUV:null}),t},"vec3").once(["NORMAL","VERTEX"])().toVar("clearcoatNormalView"),jJ=Ce(([n,e=R0])=>{const t=ho(e),i=n.div(we(t[0].dot(t[0]),t[1].dot(t[1]),t[2].dot(t[2])));return t.mul(i).xyz}),PB=Ce(([n],e)=>{const t=e.renderer.overrideNodes.modelNormalViewMatrix;if(t!==null)return t.transformDirection(n);const i=VJ.mul(n);return j0.transformDirection(i)}),k_e=Ce(()=>(console.warn('THREE.TSL: "transformedNormalView" is deprecated. Use "normalView" instead.'),$i)).once(["NORMAL","VERTEX"])(),G_e=Ce(()=>(console.warn('THREE.TSL: "transformedNormalWorld" is deprecated. Use "normalWorld" instead.'),k3)).once(["NORMAL","VERTEX"])(),q_e=Ce(()=>(console.warn('THREE.TSL: "transformedClearcoatNormalView" is deprecated. Use "clearcoatNormalView" instead.'),ff)).once(["NORMAL","VERTEX"])(),oG=new Sa,WE=new Yt,WJ=un(0).onReference(({material:n})=>n).onObjectUpdate(({material:n})=>n.refractionRatio),hx=un(1).onReference(({material:n})=>n).onObjectUpdate(function({material:n,scene:e}){return n.envMap?n.envMapIntensity:e.environmentIntensity}),LB=un(new Yt).onReference(function(n){return n.material}).onObjectUpdate(function({material:n,scene:e}){const t=e.environment!==null&&n.envMap===null?e.environmentRotation:n.envMapRotation;return t?(oG.copy(t),WE.makeRotationFromEuler(oG)):WE.identity(),WE}),XJ=Dr.negate().reflect($i),YJ=Dr.negate().refract($i,WJ),QJ=XJ.transformDirection(j0).toVar("reflectVector"),$J=YJ.transformDirection(j0).toVar("reflectVector"),KJ=new O3;class H_e extends M1{static get type(){return"CubeTextureNode"}constructor(e,t=null,i=null,r=null){super(e,t,i,r),this.isCubeTextureNode=!0}getInputType(){return"cubeTexture"}getDefaultUV(){const e=this.value;return e.mapping===Xl?QJ:e.mapping===U0?$J:(console.error('THREE.CubeTextureNode: Mapping "%s" not supported.',e.mapping),we(0,0,0))}setUpdateMatrix(){}setupUV(e,t){const i=this.value;return(e.renderer.coordinateSystem===bu||!i.isRenderTargetTexture)&&(t=we(t.x.negate(),t.yz)),LB.mul(t)}generateUV(e,t){return t.build(e,"vec3")}}const BB=tt(H_e).setParameterLength(1,4).setName("cubeTexture"),Jd=(n=KJ,e=null,t=null,i=null)=>{let r;return n&&n.isCubeTextureNode===!0?(r=Qe(n.clone()),r.referenceNode=n.getSelf(),e!==null&&(r.uvNode=Qe(e)),t!==null&&(r.levelNode=Qe(t)),i!==null&&(r.biasNode=Qe(i))):r=BB(n,e,t,i),r},j_e=(n=KJ)=>BB(n);class W_e extends Eh{static get type(){return"ReferenceElementNode"}constructor(e,t){super(e,t),this.referenceNode=e,this.isReferenceElementNode=!0}getNodeType(){return this.referenceNode.uniformType}generate(e){const t=super.generate(e),i=this.referenceNode.getNodeType(),r=this.getNodeType();return e.format(t,i,r)}}class XS extends pn{static get type(){return"ReferenceNode"}constructor(e,t,i=null,r=null){super(),this.property=e,this.uniformType=t,this.object=i,this.count=r,this.properties=e.split("."),this.reference=i,this.node=null,this.group=null,this.name=null,this.updateType=$n.OBJECT}element(e){return Qe(new W_e(this,Qe(e)))}setGroup(e){return this.group=e,this}label(e){return this.name=e,this}setNodeType(e){let t=null;this.count!==null?t=vm(null,e,this.count):Array.isArray(this.getValueFromReference())?t=M0(null,e):e==="texture"?t=oi(null):e==="cubeTexture"?t=Jd(null):t=un(null,e),this.group!==null&&t.setGroup(this.group),this.name!==null&&t.label(this.name),this.node=t.getSelf()}getNodeType(e){return this.node===null&&(this.updateReference(e),this.updateValue()),this.node.getNodeType(e)}getValueFromReference(e=this.reference){const{properties:t}=this;let i=e[t[0]];for(let r=1;r<t.length;r++)i=i[t[r]];return i}updateReference(e){return this.reference=this.object!==null?this.object:e.object,this.reference}setup(){return this.updateValue(),this.node}update(){this.updateValue()}updateValue(){this.node===null&&this.setNodeType(this.uniformType);const e=this.getValueFromReference();Array.isArray(e)?this.node.array=e:this.node.value=e}}const cr=(n,e,t)=>Qe(new XS(n,e,t)),bN=(n,e,t,i)=>Qe(new XS(n,e,i,t));class X_e extends XS{static get type(){return"MaterialReferenceNode"}constructor(e,t,i=null){super(e,t,i),this.material=i,this.isMaterialReferenceNode=!0}updateReference(e){return this.reference=this.material!==null?this.material:e.material,this.reference}}const mc=(n,e,t=null)=>Qe(new X_e(n,e,t)),ZJ=Rr(),Y_e=As.dFdx(),Q_e=As.dFdy(),JJ=ZJ.dFdx(),eee=ZJ.dFdy(),tee=$i,nee=Q_e.cross(tee),iee=tee.cross(Y_e),SN=nee.mul(JJ.x).add(iee.mul(eee.x)),TN=nee.mul(JJ.y).add(iee.mul(eee.y)),lG=SN.dot(SN).max(TN.dot(TN)),ree=lG.equal(0).select(0,lG.inverseSqrt()),$_e=SN.mul(ree).toVar("tangentViewFrame"),K_e=TN.mul(ree).toVar("bitangentViewFrame"),YS=Ce(n=>(n.geometry.hasAttribute("tangent")===!1&&n.geometry.computeTangents(),Zc("tangent","vec4")))(),bm=YS.xyz.toVar("tangentLocal"),QS=Ce(({subBuildFn:n,geometry:e,material:t})=>{let i;return n==="VERTEX"||e.hasAttribute("tangent")?i=Rh.mul(on(bm,0)).xyz.toVarying("v_tangentView").normalize():i=$_e,t.flatShading!==!0&&(i=E8(i)),i},"vec3").once(["NORMAL","VERTEX"])().toVar("tangentView"),see=QS.transformDirection(j0).toVarying("v_tangentWorld").normalize().toVar("tangentWorld"),$S=Ce(([n,e],{subBuildFn:t,material:i})=>{let r=n.mul(YS.w).xyz;return t==="NORMAL"&&i.flatShading!==!0&&(r=r.toVarying(e)),r}).once(["NORMAL"]),Z_e=$S(WS.cross(YS),"v_bitangentGeometry").normalize().toVar("bitangentGeometry"),J_e=$S(fl.cross(bm),"v_bitangentLocal").normalize().toVar("bitangentLocal"),aee=Ce(({subBuildFn:n,geometry:e,material:t})=>{let i;return n==="VERTEX"||e.hasAttribute("tangent")?i=$S($i.cross(QS),"v_bitangentView").normalize():i=K_e,t.flatShading!==!0&&(i=E8(i)),i},"vec3").once(["NORMAL","VERTEX"])().toVar("bitangentView"),ebe=$S(k3.cross(see),"v_bitangentWorld").normalize().toVar("bitangentWorld"),hf=ho(QS,aee,$i).toVar("TBNViewMatrix"),oee=Dr.mul(hf),tbe=(n,e)=>n.sub(oee.mul(e)),lee=Ce(()=>{let n=Rf.cross(Dr);return n=n.cross(Rf).normalize(),n=Gi(n,$i,G2.mul(t1.oneMinus()).oneMinus().pow2().pow2()).normalize(),n}).once()();class nbe extends Gs{static get type(){return"NormalMapNode"}constructor(e,t=null){super("vec3"),this.node=e,this.scaleNode=t,this.normalMapType=v1}setup({material:e}){const{normalMapType:t,scaleNode:i}=this;let r=this.node.mul(2).sub(1);if(i!==null){let a=i;e.flatShading===!0&&(a=E8(a)),r=we(r.xy.mul(a),r.z)}let s=null;return t===kP?s=PB(r):t===v1?s=hf.mul(r).normalize():(console.error(`THREE.NodeMaterial: Unsupported normal map type: ${t}`),s=$i),s}}const MN=tt(nbe).setParameterLength(1,2),ibe=Ce(({textureNode:n,bumpScale:e})=>{const t=r=>n.cache().context({getUV:s=>r(s.uvNode||Rr()),forceUVContext:!0}),i=de(t(r=>r));return lt(de(t(r=>r.add(r.dFdx()))).sub(i),de(t(r=>r.add(r.dFdy()))).sub(i)).mul(e)}),rbe=Ce(n=>{const{surf_pos:e,surf_norm:t,dHdxy:i}=n,r=e.dFdx().normalize(),s=e.dFdy().normalize(),a=t,o=s.cross(a),l=a.cross(r),u=r.dot(o).mul(DB),c=u.sign().mul(i.x.mul(o).add(i.y.mul(l)));return u.abs().mul(t).sub(c).normalize()});class sbe extends Gs{static get type(){return"BumpMapNode"}constructor(e,t=null){super("vec3"),this.textureNode=e,this.scaleNode=t}setup(){const e=this.scaleNode!==null?this.scaleNode:1,t=ibe({textureNode:this.textureNode,bumpScale:e});return rbe({surf_pos:As,surf_norm:$i,dHdxy:t})}}const uee=tt(sbe).setParameterLength(1,2),uG=new Map;class $e extends pn{static get type(){return"MaterialNode"}constructor(e){super(),this.scope=e}getCache(e,t){let i=uG.get(e);return i===void 0&&(i=mc(e,t),uG.set(e,i)),i}getFloat(e){return this.getCache(e,"float")}getColor(e){return this.getCache(e,"color")}getTexture(e){return this.getCache(e==="map"?"map":e+"Map","texture")}setup(e){const t=e.context.material,i=this.scope;let r=null;if(i===$e.COLOR){const s=t.color!==void 0?this.getColor(i):we();t.map&&t.map.isTexture===!0?r=s.mul(this.getTexture("map")):r=s}else if(i===$e.OPACITY){const s=this.getFloat(i);t.alphaMap&&t.alphaMap.isTexture===!0?r=s.mul(this.getTexture("alpha")):r=s}else if(i===$e.SPECULAR_STRENGTH)t.specularMap&&t.specularMap.isTexture===!0?r=this.getTexture("specular").r:r=de(1);else if(i===$e.SPECULAR_INTENSITY){const s=this.getFloat(i);t.specularIntensityMap&&t.specularIntensityMap.isTexture===!0?r=s.mul(this.getTexture(i).a):r=s}else if(i===$e.SPECULAR_COLOR){const s=this.getColor(i);t.specularColorMap&&t.specularColorMap.isTexture===!0?r=s.mul(this.getTexture(i).rgb):r=s}else if(i===$e.ROUGHNESS){const s=this.getFloat(i);t.roughnessMap&&t.roughnessMap.isTexture===!0?r=s.mul(this.getTexture(i).g):r=s}else if(i===$e.METALNESS){const s=this.getFloat(i);t.metalnessMap&&t.metalnessMap.isTexture===!0?r=s.mul(this.getTexture(i).b):r=s}else if(i===$e.EMISSIVE){const s=this.getFloat("emissiveIntensity"),a=this.getColor(i).mul(s);t.emissiveMap&&t.emissiveMap.isTexture===!0?r=a.mul(this.getTexture(i)):r=a}else if(i===$e.NORMAL)t.normalMap?(r=MN(this.getTexture("normal"),this.getCache("normalScale","vec2")),r.normalMapType=t.normalMapType):t.bumpMap?r=uee(this.getTexture("bump").r,this.getFloat("bumpScale")):r=$i;else if(i===$e.CLEARCOAT){const s=this.getFloat(i);t.clearcoatMap&&t.clearcoatMap.isTexture===!0?r=s.mul(this.getTexture(i).r):r=s}else if(i===$e.CLEARCOAT_ROUGHNESS){const s=this.getFloat(i);t.clearcoatRoughnessMap&&t.clearcoatRoughnessMap.isTexture===!0?r=s.mul(this.getTexture(i).r):r=s}else if(i===$e.CLEARCOAT_NORMAL)t.clearcoatNormalMap?r=MN(this.getTexture(i),this.getCache(i+"Scale","vec2")):r=$i;else if(i===$e.SHEEN){const s=this.getColor("sheenColor").mul(this.getFloat("sheen"));t.sheenColorMap&&t.sheenColorMap.isTexture===!0?r=s.mul(this.getTexture("sheenColor").rgb):r=s}else if(i===$e.SHEEN_ROUGHNESS){const s=this.getFloat(i);t.sheenRoughnessMap&&t.sheenRoughnessMap.isTexture===!0?r=s.mul(this.getTexture(i).a):r=s,r=r.clamp(.07,1)}else if(i===$e.ANISOTROPY)if(t.anisotropyMap&&t.anisotropyMap.isTexture===!0){const s=this.getTexture(i);r=BS(m6.x,m6.y,m6.y.negate(),m6.x).mul(s.rg.mul(2).sub(lt(1)).normalize().mul(s.b))}else r=m6;else if(i===$e.IRIDESCENCE_THICKNESS){const s=cr("1","float",t.iridescenceThicknessRange);if(t.iridescenceThicknessMap){const a=cr("0","float",t.iridescenceThicknessRange);r=s.sub(a).mul(this.getTexture(i).g).add(a)}else r=s}else if(i===$e.TRANSMISSION){const s=this.getFloat(i);t.transmissionMap?r=s.mul(this.getTexture(i).r):r=s}else if(i===$e.THICKNESS){const s=this.getFloat(i);t.thicknessMap?r=s.mul(this.getTexture(i).g):r=s}else if(i===$e.IOR)r=this.getFloat(i);else if(i===$e.LIGHT_MAP)r=this.getTexture(i).rgb.mul(this.getFloat("lightMapIntensity"));else if(i===$e.AO)r=this.getTexture(i).r.sub(1).mul(this.getFloat("aoMapIntensity")).add(1);else if(i===$e.LINE_DASH_OFFSET)r=t.dashOffset?this.getFloat(i):de(0);else{const s=this.getNodeType(e);r=this.getCache(i,s)}return r}}$e.ALPHA_TEST="alphaTest";$e.COLOR="color";$e.OPACITY="opacity";$e.SHININESS="shininess";$e.SPECULAR="specular";$e.SPECULAR_STRENGTH="specularStrength";$e.SPECULAR_INTENSITY="specularIntensity";$e.SPECULAR_COLOR="specularColor";$e.REFLECTIVITY="reflectivity";$e.ROUGHNESS="roughness";$e.METALNESS="metalness";$e.NORMAL="normal";$e.CLEARCOAT="clearcoat";$e.CLEARCOAT_ROUGHNESS="clearcoatRoughness";$e.CLEARCOAT_NORMAL="clearcoatNormal";$e.EMISSIVE="emissive";$e.ROTATION="rotation";$e.SHEEN="sheen";$e.SHEEN_ROUGHNESS="sheenRoughness";$e.ANISOTROPY="anisotropy";$e.IRIDESCENCE="iridescence";$e.IRIDESCENCE_IOR="iridescenceIOR";$e.IRIDESCENCE_THICKNESS="iridescenceThickness";$e.IOR="ior";$e.TRANSMISSION="transmission";$e.THICKNESS="thickness";$e.ATTENUATION_DISTANCE="attenuationDistance";$e.ATTENUATION_COLOR="attenuationColor";$e.LINE_SCALE="scale";$e.LINE_DASH_SIZE="dashSize";$e.LINE_GAP_SIZE="gapSize";$e.LINE_WIDTH="linewidth";$e.LINE_DASH_OFFSET="dashOffset";$e.POINT_SIZE="size";$e.DISPERSION="dispersion";$e.LIGHT_MAP="light";$e.AO="ao";const cee=Dt($e,$e.ALPHA_TEST),fee=Dt($e,$e.COLOR),hee=Dt($e,$e.SHININESS),dee=Dt($e,$e.EMISSIVE),UB=Dt($e,$e.OPACITY),Aee=Dt($e,$e.SPECULAR),EN=Dt($e,$e.SPECULAR_INTENSITY),pee=Dt($e,$e.SPECULAR_COLOR),vA=Dt($e,$e.SPECULAR_STRENGTH),dx=Dt($e,$e.REFLECTIVITY),mee=Dt($e,$e.ROUGHNESS),gee=Dt($e,$e.METALNESS),yee=Dt($e,$e.NORMAL),vee=Dt($e,$e.CLEARCOAT),xee=Dt($e,$e.CLEARCOAT_ROUGHNESS),_ee=Dt($e,$e.CLEARCOAT_NORMAL),bee=Dt($e,$e.ROTATION),See=Dt($e,$e.SHEEN),Tee=Dt($e,$e.SHEEN_ROUGHNESS),Mee=Dt($e,$e.ANISOTROPY),Eee=Dt($e,$e.IRIDESCENCE),wee=Dt($e,$e.IRIDESCENCE_IOR),Ree=Dt($e,$e.IRIDESCENCE_THICKNESS),Cee=Dt($e,$e.TRANSMISSION),Nee=Dt($e,$e.THICKNESS),Dee=Dt($e,$e.IOR),Pee=Dt($e,$e.ATTENUATION_DISTANCE),Lee=Dt($e,$e.ATTENUATION_COLOR),Bee=Dt($e,$e.LINE_SCALE),Uee=Dt($e,$e.LINE_DASH_SIZE),Oee=Dt($e,$e.LINE_GAP_SIZE),abe=Dt($e,$e.LINE_WIDTH),Iee=Dt($e,$e.LINE_DASH_OFFSET),Fee=Dt($e,$e.POINT_SIZE),zee=Dt($e,$e.DISPERSION),OB=Dt($e,$e.LIGHT_MAP),Vee=Dt($e,$e.AO),m6=un(new Ye).onReference(function(n){return n.material}).onRenderUpdate(function({material:n}){this.value.set(n.anisotropy*Math.cos(n.anisotropyRotation),n.anisotropy*Math.sin(n.anisotropyRotation))}),IB=Ce(n=>n.context.setupModelViewProjection(),"vec4").once()().toVarying("v_modelViewProjection");class Pr extends pn{static get type(){return"IndexNode"}constructor(e){super("uint"),this.scope=e,this.isIndexNode=!0}generate(e){const t=this.getNodeType(e),i=this.scope;let r;if(i===Pr.VERTEX)r=e.getVertexIndex();else if(i===Pr.INSTANCE)r=e.getInstanceIndex();else if(i===Pr.DRAW)r=e.getDrawIndex();else if(i===Pr.INVOCATION_LOCAL)r=e.getInvocationLocalIndex();else if(i===Pr.INVOCATION_SUBGROUP)r=e.getInvocationSubgroupIndex();else if(i===Pr.SUBGROUP)r=e.getSubgroupIndex();else throw new Error("THREE.IndexNode: Unknown scope: "+i);let s;return e.shaderStage==="vertex"||e.shaderStage==="compute"?s=r:s=L1(this).build(e,t),s}}Pr.VERTEX="vertex";Pr.INSTANCE="instance";Pr.SUBGROUP="subgroup";Pr.INVOCATION_LOCAL="invocationLocal";Pr.INVOCATION_SUBGROUP="invocationSubgroup";Pr.DRAW="draw";const kee=Dt(Pr,Pr.VERTEX),_3=Dt(Pr,Pr.INSTANCE),obe=Dt(Pr,Pr.SUBGROUP),lbe=Dt(Pr,Pr.INVOCATION_SUBGROUP),ube=Dt(Pr,Pr.INVOCATION_LOCAL),Gee=Dt(Pr,Pr.DRAW);class qee extends pn{static get type(){return"InstanceNode"}constructor(e,t,i=null){super("void"),this.count=e,this.instanceMatrix=t,this.instanceColor=i,this.instanceMatrixNode=null,this.instanceColorNode=null,this.updateType=$n.FRAME,this.buffer=null,this.bufferColor=null}setup(e){const{count:t,instanceMatrix:i,instanceColor:r}=this;let{instanceMatrixNode:s,instanceColorNode:a}=this;if(s===null){if(t<=1e3)s=vm(i.array,"mat4",Math.max(t,1)).element(_3);else{const l=new np(i.array,16,1);this.buffer=l;const u=i.usage===af?vN:nb,c=[u(l,"vec4",16,0),u(l,"vec4",16,4),u(l,"vec4",16,8),u(l,"vec4",16,12)];s=wf(...c)}this.instanceMatrixNode=s}if(r&&a===null){const l=new al(r.array,3),u=r.usage===af?vN:nb;this.bufferColor=l,a=we(u(l,"vec3",3,0)),this.instanceColorNode=a}const o=s.mul(ds).xyz;if(ds.assign(o),e.hasGeometryAttribute("normal")){const l=jJ(fl,s);fl.assign(l)}this.instanceColorNode!==null&&gp("vec3","vInstanceColor").assign(this.instanceColorNode)}update(){this.instanceMatrix.usage!==af&&this.buffer!==null&&this.instanceMatrix.version!==this.buffer.version&&(this.buffer.version=this.instanceMatrix.version),this.instanceColor&&this.instanceColor.usage!==af&&this.bufferColor!==null&&this.instanceColor.version!==this.bufferColor.version&&(this.bufferColor.version=this.instanceColor.version)}}const cbe=tt(qee).setParameterLength(2,3);class fbe extends qee{static get type(){return"InstancedMeshNode"}constructor(e){const{count:t,instanceMatrix:i,instanceColor:r}=e;super(t,i,r),this.instancedMesh=e}}const Hee=tt(fbe).setParameterLength(1);class hbe extends pn{static get type(){return"BatchNode"}constructor(e){super("void"),this.batchMesh=e,this.batchingIdNode=null}setup(e){this.batchingIdNode===null&&(e.getDrawIndex()===null?this.batchingIdNode=_3:this.batchingIdNode=Gee);const i=Ce(([_])=>{const T=ye(x3(ls(this.batchMesh._indirectTexture),0).x),M=ye(_).mod(T),S=ye(_).div(T);return ls(this.batchMesh._indirectTexture,Zs(M,S)).x}).setLayout({name:"getIndirectIndex",type:"uint",inputs:[{name:"id",type:"int"}]})(ye(this.batchingIdNode)),r=this.batchMesh._matricesTexture,s=ye(x3(ls(r),0).x),a=de(i).mul(4).toInt().toVar(),o=a.mod(s),l=a.div(s),u=wf(ls(r,Zs(o,l)),ls(r,Zs(o.add(1),l)),ls(r,Zs(o.add(2),l)),ls(r,Zs(o.add(3),l))),c=this.batchMesh._colorsTexture;if(c!==null){const T=Ce(([M])=>{const S=ye(x3(ls(c),0).x),R=M,C=R.mod(S),P=R.div(S);return ls(c,Zs(C,P)).rgb}).setLayout({name:"getBatchingColor",type:"vec3",inputs:[{name:"id",type:"int"}]})(i);gp("vec3","vBatchColor").assign(T)}const f=ho(u);ds.assign(u.mul(ds));const m=fl.div(we(f[0].dot(f[0]),f[1].dot(f[1]),f[2].dot(f[2]))),v=f.mul(m).xyz;fl.assign(v),e.hasGeometryAttribute("tangent")&&bm.mulAssign(f)}}const jee=tt(hbe).setParameterLength(1);class dbe extends Eh{static get type(){return"StorageArrayElementNode"}constructor(e,t){super(e,t),this.isStorageArrayElementNode=!0}set storageBufferNode(e){this.node=e}get storageBufferNode(){return this.node}getMemberType(e,t){const i=this.storageBufferNode.structTypeNode;return i?i.getMemberType(e,t):"void"}setup(e){return e.isAvailable("storageBuffer")===!1&&this.node.isPBO===!0&&e.setupPBO(this.node),super.setup(e)}generate(e,t){let i;const r=e.context.assign;if(e.isAvailable("storageBuffer")===!1?this.node.isPBO===!0&&r!==!0&&(this.node.value.isInstancedBufferAttribute||e.shaderStage!=="compute")?i=e.generatePBO(this):i=this.node.build(e):i=super.generate(e),r!==!0){const s=this.getNodeType(e);i=e.format(i,s,t)}return i}}const Abe=tt(dbe).setParameterLength(2);class pbe extends CB{static get type(){return"StorageBufferNode"}constructor(e,t=null,i=0){let r,s=null;t&&t.isStruct?(r="struct",s=t.layout,(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute)&&(i=e.count)):t===null&&(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute)?(r=KK(e.itemSize),i=e.count):r=t,super(e,r,i),this.isStorageBufferNode=!0,this.structTypeNode=s,this.access=lo.READ_WRITE,this.isAtomic=!1,this.isPBO=!1,this._attribute=null,this._varying=null,this.global=!0,e.isStorageBufferAttribute!==!0&&e.isStorageInstancedBufferAttribute!==!0&&(e.isInstancedBufferAttribute?e.isStorageInstancedBufferAttribute=!0:e.isStorageBufferAttribute=!0)}getHash(e){if(this.bufferCount===0){let t=e.globalCache.getData(this.value);return t===void 0&&(t={node:this},e.globalCache.setData(this.value,t)),t.node.uuid}return this.uuid}getInputType(){return this.value.isIndirectStorageBufferAttribute?"indirectStorageBuffer":"storageBuffer"}element(e){return Abe(this,e)}setPBO(e){return this.isPBO=e,this}getPBO(){return this.isPBO}setAccess(e){return this.access=e,this}toReadOnly(){return this.setAccess(lo.READ_ONLY)}setAtomic(e){return this.isAtomic=e,this}toAtomic(){return this.setAtomic(!0)}getAttributeData(){return this._attribute===null&&(this._attribute=ym(this.value),this._varying=L1(this._attribute)),{attribute:this._attribute,varying:this._varying}}getNodeType(e){if(this.structTypeNode!==null)return this.structTypeNode.getNodeType(e);if(e.isAvailable("storageBuffer")||e.isAvailable("indirectStorageBuffer"))return super.getNodeType(e);const{attribute:t}=this.getAttributeData();return t.getNodeType(e)}getMemberType(e,t){return this.structTypeNode!==null?this.structTypeNode.getMemberType(e,t):"void"}generate(e){if(this.structTypeNode!==null&&this.structTypeNode.build(e),e.isAvailable("storageBuffer")||e.isAvailable("indirectStorageBuffer"))return super.generate(e);const{attribute:t,varying:i}=this.getAttributeData(),r=i.build(e);return e.registerTransform(r,t),r}}const Cf=(n,e=null,t=0)=>Qe(new pbe(n,e,t)),mbe=(n,e,t)=>(console.warn('THREE.TSL: "storageObject()" is deprecated. Use "storage().setPBO( true )" instead.'),Cf(n,e,t).setPBO(!0)),cG=new WeakMap;class Wee extends pn{static get type(){return"SkinningNode"}constructor(e){super("void"),this.skinnedMesh=e,this.updateType=$n.OBJECT,this.skinIndexNode=Zc("skinIndex","uvec4"),this.skinWeightNode=Zc("skinWeight","vec4"),this.bindMatrixNode=cr("bindMatrix","mat4"),this.bindMatrixInverseNode=cr("bindMatrixInverse","mat4"),this.boneMatricesNode=bN("skeleton.boneMatrices","mat4",e.skeleton.bones.length),this.positionNode=ds,this.toPositionNode=ds,this.previousBoneMatricesNode=null}getSkinnedPosition(e=this.boneMatricesNode,t=this.positionNode){const{skinIndexNode:i,skinWeightNode:r,bindMatrixNode:s,bindMatrixInverseNode:a}=this,o=e.element(i.x),l=e.element(i.y),u=e.element(i.z),c=e.element(i.w),f=s.mul(t),m=ks(o.mul(r.x).mul(f),l.mul(r.y).mul(f),u.mul(r.z).mul(f),c.mul(r.w).mul(f));return a.mul(m).xyz}getSkinnedNormal(e=this.boneMatricesNode,t=fl){const{skinIndexNode:i,skinWeightNode:r,bindMatrixNode:s,bindMatrixInverseNode:a}=this,o=e.element(i.x),l=e.element(i.y),u=e.element(i.z),c=e.element(i.w);let f=ks(r.x.mul(o),r.y.mul(l),r.z.mul(u),r.w.mul(c));return f=a.mul(f).mul(s),f.transformDirection(t).xyz}getPreviousSkinnedPosition(e){const t=e.object;return this.previousBoneMatricesNode===null&&(t.skeleton.previousBoneMatrices=new Float32Array(t.skeleton.boneMatrices),this.previousBoneMatricesNode=bN("skeleton.previousBoneMatrices","mat4",t.skeleton.bones.length)),this.getSkinnedPosition(this.previousBoneMatricesNode,ib)}needsPreviousBoneMatrices(e){const t=e.renderer.getMRT();return t&&t.has("velocity")||eZ(e.object).useVelocity===!0}setup(e){this.needsPreviousBoneMatrices(e)&&ib.assign(this.getPreviousSkinnedPosition(e));const t=this.getSkinnedPosition();if(this.toPositionNode&&this.toPositionNode.assign(t),e.hasGeometryAttribute("normal")){const i=this.getSkinnedNormal();fl.assign(i),e.hasGeometryAttribute("tangent")&&bm.assign(i)}return t}generate(e,t){if(t!=="void")return super.generate(e,t)}update(e){const t=e.object&&e.object.skeleton?e.object.skeleton:this.skinnedMesh.skeleton;cG.get(t)!==e.frameId&&(cG.set(t,e.frameId),this.previousBoneMatricesNode!==null&&t.previousBoneMatrices.set(t.boneMatrices),t.update())}}const Xee=n=>Qe(new Wee(n)),gbe=(n,e=null)=>{const t=new Wee(n);return t.positionNode=Cf(new al(n.geometry.getAttribute("position").array,3),"vec3").setPBO(!0).toReadOnly().element(_3).toVar(),t.skinIndexNode=Cf(new al(new Uint32Array(n.geometry.getAttribute("skinIndex").array),4),"uvec4").setPBO(!0).toReadOnly().element(_3).toVar(),t.skinWeightNode=Cf(new al(n.geometry.getAttribute("skinWeight").array,4),"vec4").setPBO(!0).toReadOnly().element(_3).toVar(),t.bindMatrixNode=un(n.bindMatrix,"mat4"),t.bindMatrixInverseNode=un(n.bindMatrixInverse,"mat4"),t.boneMatricesNode=vm(n.skeleton.boneMatrices,"mat4",n.skeleton.bones.length),t.toPositionNode=e,Qe(t)};class ybe extends pn{static get type(){return"LoopNode"}constructor(e=[]){super(),this.params=e}getVarName(e){return String.fromCharCode(105+e)}getProperties(e){const t=e.getNodeProperties(this);if(t.stackNode!==void 0)return t;const i={};for(let a=0,o=this.params.length-1;a<o;a++){const l=this.params[a],u=l.isNode!==!0&&l.name||this.getVarName(a),c=l.isNode!==!0&&l.type||"int";i[u]=Kc(u,c)}const r=e.addStack();t.returnsNode=this.params[this.params.length-1](i,e),t.stackNode=r;const s=this.params[0];return s.isNode!==!0&&typeof s.update=="function"&&(t.updateNode=Ce(this.params[0].update)(i)),e.removeStack(),t}getNodeType(e){const{returnsNode:t}=this.getProperties(e);return t?t.getNodeType(e):"void"}setup(e){this.getProperties(e)}generate(e){const t=this.getProperties(e),i=this.params,r=t.stackNode;for(let o=0,l=i.length-1;o<l;o++){const u=i[o];let c=!1,f=null,m=null,v=null,_=null,T=null,M=null;u.isNode?u.getNodeType(e)==="bool"?(c=!0,_="bool",m=u.build(e,_)):(_="int",v=this.getVarName(o),f="0",m=u.build(e,_),T="<"):(_=u.type||"int",v=u.name||this.getVarName(o),f=u.start,m=u.end,T=u.condition,M=u.update,typeof f=="number"?f=e.generateConst(_,f):f&&f.isNode&&(f=f.build(e,_)),typeof m=="number"?m=e.generateConst(_,m):m&&m.isNode&&(m=m.build(e,_)),f!==void 0&&m===void 0?(f=f+" - 1",m="0",T=">="):m!==void 0&&f===void 0&&(f="0",T="<"),T===void 0&&(Number(f)>Number(m)?T=">=":T="<"));let S;if(c)S=`while ( ${m} )`;else{const R={start:f,end:m},C=R.start,P=R.end;let B;const O=()=>T.includes("<")?"+=":"-=";if(M!=null)switch(typeof M){case"function":B=e.flowStagesNode(t.updateNode,"void").code.replace(/\t|;/g,"");break;case"number":B=v+" "+O()+" "+e.generateConst(_,M);break;case"string":B=v+" "+M;break;default:M.isNode?B=v+" "+O()+" "+M.build(e):(console.error("THREE.TSL: 'Loop( { update: ... } )' is not a function, string or number."),B="break /* invalid update */")}else _==="int"||_==="uint"?M=T.includes("<")?"++":"--":M=O()+" 1.",B=v+" "+M;const V=e.getVar(_,v)+" = "+C,F=v+" "+T+" "+P;S=`for ( ${V}; ${F}; ${B} )`}e.addFlowCode((o===0?`
`:"")+e.tab+S+` {

`).addFlowTab()}const s=r.build(e,"void"),a=t.returnsNode?t.returnsNode.build(e):"";e.removeFlowTab().addFlowCode(`
`+e.tab+s);for(let o=0,l=this.params.length-1;o<l;o++)e.addFlowCode((o===0?"":e.tab)+`}

`).removeFlowTab();return e.addFlowTab(),a}}const Ki=(...n)=>Qe(new ybe(Ef(n,"int"))).toStack(),vbe=()=>Kc("continue").toStack(),Yee=()=>Kc("break").toStack(),XE=new WeakMap,Rl=new ln,fG=Ce(({bufferMap:n,influence:e,stride:t,width:i,depth:r,offset:s})=>{const a=ye(kee).mul(t).add(s),o=a.div(i),l=a.sub(o.mul(i));return ls(n,Zs(l,o)).depth(r).xyz.mul(e)});function xbe(n){const e=n.morphAttributes.position!==void 0,t=n.morphAttributes.normal!==void 0,i=n.morphAttributes.color!==void 0,r=n.morphAttributes.position||n.morphAttributes.normal||n.morphAttributes.color,s=r!==void 0?r.length:0;let a=XE.get(n);if(a===void 0||a.count!==s){let S=function(){T.dispose(),XE.delete(n),n.removeEventListener("dispose",S)};a!==void 0&&a.texture.dispose();const o=n.morphAttributes.position||[],l=n.morphAttributes.normal||[],u=n.morphAttributes.color||[];let c=0;e===!0&&(c=1),t===!0&&(c=2),i===!0&&(c=3);let f=n.attributes.position.count*c,m=1;const v=4096;f>v&&(m=Math.ceil(f/v),f=v);const _=new Float32Array(f*m*4*s),T=new tm(_,f,m,s);T.type=Mr,T.needsUpdate=!0;const M=c*4;for(let R=0;R<s;R++){const C=o[R],P=l[R],B=u[R],O=f*m*4*R;for(let V=0;V<C.count;V++){const F=V*M;e===!0&&(Rl.fromBufferAttribute(C,V),_[O+F+0]=Rl.x,_[O+F+1]=Rl.y,_[O+F+2]=Rl.z,_[O+F+3]=0),t===!0&&(Rl.fromBufferAttribute(P,V),_[O+F+4]=Rl.x,_[O+F+5]=Rl.y,_[O+F+6]=Rl.z,_[O+F+7]=0),i===!0&&(Rl.fromBufferAttribute(B,V),_[O+F+8]=Rl.x,_[O+F+9]=Rl.y,_[O+F+10]=Rl.z,_[O+F+11]=B.itemSize===4?Rl.w:1)}}a={count:s,texture:T,stride:c,size:new Ye(f,m)},XE.set(n,a),n.addEventListener("dispose",S)}return a}class _be extends pn{static get type(){return"MorphNode"}constructor(e){super("void"),this.mesh=e,this.morphBaseInfluence=un(1),this.updateType=$n.OBJECT}setup(e){const{geometry:t}=e,i=t.morphAttributes.position!==void 0,r=t.hasAttribute("normal")&&t.morphAttributes.normal!==void 0,s=t.morphAttributes.position||t.morphAttributes.normal||t.morphAttributes.color,a=s!==void 0?s.length:0,{texture:o,stride:l,size:u}=xbe(t);i===!0&&ds.mulAssign(this.morphBaseInfluence),r===!0&&fl.mulAssign(this.morphBaseInfluence);const c=ye(u.width);Ki(a,({i:f})=>{const m=de(0).toVar();this.mesh.count>1&&this.mesh.morphTexture!==null&&this.mesh.morphTexture!==void 0?m.assign(ls(this.mesh.morphTexture,Zs(ye(f).add(1),ye(_3))).r):m.assign(cr("morphTargetInfluences","float").element(f).toVar()),Xn(m.notEqual(0),()=>{i===!0&&ds.addAssign(fG({bufferMap:o,influence:m,stride:l,width:c,depth:f,offset:ye(0)})),r===!0&&fl.addAssign(fG({bufferMap:o,influence:m,stride:l,width:c,depth:f,offset:ye(1)}))})})}update(){const e=this.morphBaseInfluence;this.mesh.geometry.morphTargetsRelative?e.value=1:e.value=1-this.mesh.morphTargetInfluences.reduce((t,i)=>t+i,0)}}const Qee=tt(_be).setParameterLength(1);class w8 extends pn{static get type(){return"LightingNode"}constructor(){super("vec3"),this.isLightingNode=!0}}class bbe extends w8{static get type(){return"AONode"}constructor(e=null){super(),this.aoNode=e}setup(e){e.context.ambientOcclusion.mulAssign(this.aoNode)}}class Sbe extends pJ{static get type(){return"LightingContextNode"}constructor(e,t=null,i=null,r=null){super(e),this.lightingModel=t,this.backdropNode=i,this.backdropAlphaNode=r,this._value=null}getContext(){const{backdropNode:e,backdropAlphaNode:t}=this,i=we().toVar("directDiffuse"),r=we().toVar("directSpecular"),s=we().toVar("indirectDiffuse"),a=we().toVar("indirectSpecular"),o={directDiffuse:i,directSpecular:r,indirectDiffuse:s,indirectSpecular:a};return{radiance:we().toVar("radiance"),irradiance:we().toVar("irradiance"),iblIrradiance:we().toVar("iblIrradiance"),ambientOcclusion:de(1).toVar("ambientOcclusion"),reflectedLight:o,backdrop:e,backdropAlpha:t}}setup(e){return this.value=this._value||(this._value=this.getContext()),this.value.lightingModel=this.lightingModel||e.context.lightingModel,super.setup(e)}}const $ee=tt(Sbe);class Tbe extends w8{static get type(){return"IrradianceNode"}constructor(e){super(),this.node=e}setup(e){e.context.irradiance.addAssign(this.node)}}let s9,a9;class Is extends pn{static get type(){return"ScreenNode"}constructor(e){super(),this.scope=e,this.isViewportNode=!0}getNodeType(){return this.scope===Is.VIEWPORT?"vec4":"vec2"}getUpdateType(){let e=$n.NONE;return(this.scope===Is.SIZE||this.scope===Is.VIEWPORT)&&(e=$n.RENDER),this.updateType=e,e}update({renderer:e}){const t=e.getRenderTarget();this.scope===Is.VIEWPORT?t!==null?a9.copy(t.viewport):(e.getViewport(a9),a9.multiplyScalar(e.getPixelRatio())):t!==null?(s9.width=t.width,s9.height=t.height):e.getDrawingBufferSize(s9)}setup(){const e=this.scope;let t=null;return e===Is.SIZE?t=un(s9||(s9=new Ye)):e===Is.VIEWPORT?t=un(a9||(a9=new ln)):t=lt(Sm.div(bp)),t}generate(e){if(this.scope===Is.COORDINATE){let t=e.getFragCoord();if(e.isFlipY()){const i=e.getNodeProperties(bp).outputNode.build(e);t=`${e.getType("vec2")}( ${t}.x, ${i}.y - ${t}.y )`}return t}return super.generate(e)}}Is.COORDINATE="coordinate";Is.VIEWPORT="viewport";Is.SIZE="size";Is.UV="uv";const Lc=Dt(Is,Is.UV),bp=Dt(Is,Is.SIZE),Sm=Dt(Is,Is.COORDINATE),od=Dt(Is,Is.VIEWPORT),Kee=od.zw,Zee=Sm.sub(od.xy),Mbe=Zee.div(Kee),Ebe=Ce(()=>(console.warn('THREE.TSL: "viewportResolution" is deprecated. Use "screenSize" instead.'),bp),"vec2").once()(),o9=new Ye;class KS extends M1{static get type(){return"ViewportTextureNode"}constructor(e=Lc,t=null,i=null){i===null&&(i=new $P,i.minFilter=Fa),super(i,e,t),this.generateMipmaps=!1,this.isOutputTextureNode=!0,this.updateBeforeType=$n.FRAME}updateBefore(e){const t=e.renderer;t.getDrawingBufferSize(o9);const i=this.value;(i.image.width!==o9.width||i.image.height!==o9.height)&&(i.image.width=o9.width,i.image.height=o9.height,i.needsUpdate=!0);const r=i.generateMipmaps;i.generateMipmaps=this.generateMipmaps,t.copyFramebufferToTexture(i),i.generateMipmaps=r}clone(){const e=new this.constructor(this.uvNode,this.levelNode,this.value);return e.generateMipmaps=this.generateMipmaps,e}}const wbe=tt(KS).setParameterLength(0,3),FB=tt(KS,null,null,{generateMipmaps:!0}).setParameterLength(0,3);let YE=null;class Rbe extends KS{static get type(){return"ViewportDepthTextureNode"}constructor(e=Lc,t=null){YE===null&&(YE=new ol),super(e,t,YE)}}const zB=tt(Rbe).setParameterLength(0,2);class el extends pn{static get type(){return"ViewportDepthNode"}constructor(e,t=null){super("float"),this.scope=e,this.valueNode=t,this.isViewportDepthNode=!0}generate(e){const{scope:t}=this;return t===el.DEPTH_BASE?e.getFragDepth():super.generate(e)}setup({camera:e}){const{scope:t}=this,i=this.valueNode;let r=null;if(t===el.DEPTH_BASE)i!==null&&(r=ete().assign(i));else if(t===el.DEPTH)e.isPerspectiveCamera?r=Jee(As.z,Y2,Q2):r=ld(As.z,Y2,Q2);else if(t===el.LINEAR_DEPTH)if(i!==null)if(e.isPerspectiveCamera){const s=VB(i,Y2,Q2);r=ld(s,Y2,Q2)}else r=i;else r=ld(As.z,Y2,Q2);return r}}el.DEPTH_BASE="depthBase";el.DEPTH="depth";el.LINEAR_DEPTH="linearDepth";const ld=(n,e,t)=>n.add(e).div(e.sub(t)),Cbe=(n,e,t)=>e.sub(t).mul(n).sub(e),Jee=(n,e,t)=>e.add(n).mul(t).div(t.sub(e).mul(n)),VB=(n,e,t)=>e.mul(t).div(t.sub(e).mul(n).sub(t)),kB=(n,e,t)=>{e=e.max(1e-6).toVar();const i=p1(n.negate().div(e)),r=p1(t.div(e));return i.div(r)},Nbe=(n,e,t)=>{const i=n.mul(zS(t.div(e)));return de(Math.E).pow(i).mul(e).negate()},ete=tt(el,el.DEPTH_BASE),GB=Dt(el,el.DEPTH),rb=tt(el,el.LINEAR_DEPTH).setParameterLength(0,1),Dbe=rb(zB());GB.assign=n=>ete(n);class D0 extends pn{static get type(){return"ClippingNode"}constructor(e=D0.DEFAULT){super(),this.scope=e}setup(e){super.setup(e);const t=e.clippingContext,{intersectionPlanes:i,unionPlanes:r}=t;return this.hardwareClipping=e.material.hardwareClipping,this.scope===D0.ALPHA_TO_COVERAGE?this.setupAlphaToCoverage(i,r):this.scope===D0.HARDWARE?this.setupHardwareClipping(r,e):this.setupDefault(i,r)}setupAlphaToCoverage(e,t){return Ce(()=>{const i=de().toVar("distanceToPlane"),r=de().toVar("distanceToGradient"),s=de(1).toVar("clipOpacity"),a=t.length;if(this.hardwareClipping===!1&&a>0){const l=M0(t);Ki(a,({i:u})=>{const c=l.element(u);i.assign(As.dot(c.xyz).negate().add(c.w)),r.assign(i.fwidth().div(2)),s.mulAssign(T1(r.negate(),r,i))})}const o=e.length;if(o>0){const l=M0(e),u=de(1).toVar("intersectionClipOpacity");Ki(o,({i:c})=>{const f=l.element(c);i.assign(As.dot(f.xyz).negate().add(f.w)),r.assign(i.fwidth().div(2)),u.mulAssign(T1(r.negate(),r,i).oneMinus())}),s.mulAssign(u.oneMinus())}Li.a.mulAssign(s),Li.a.equal(0).discard()})()}setupDefault(e,t){return Ce(()=>{const i=t.length;if(this.hardwareClipping===!1&&i>0){const s=M0(t);Ki(i,({i:a})=>{const o=s.element(a);As.dot(o.xyz).greaterThan(o.w).discard()})}const r=e.length;if(r>0){const s=M0(e),a=b1(!0).toVar("clipped");Ki(r,({i:o})=>{const l=s.element(o);a.assign(As.dot(l.xyz).greaterThan(l.w).and(a))}),a.discard()}})()}setupHardwareClipping(e,t){const i=e.length;return t.enableHardwareClipping(i),Ce(()=>{const r=M0(e),s=xm(t.getClipDistance());Ki(i,({i:a})=>{const o=r.element(a),l=As.dot(o.xyz).sub(o.w).negate();s.element(a).assign(l)})})()}}D0.ALPHA_TO_COVERAGE="alphaToCoverage";D0.DEFAULT="default";D0.HARDWARE="hardware";const Pbe=()=>Qe(new D0),Lbe=()=>Qe(new D0(D0.ALPHA_TO_COVERAGE)),Bbe=()=>Qe(new D0(D0.HARDWARE)),Ube=.05,hG=Ce(([n])=>e2(Wn(1e4,Il(Wn(17,n.x).add(Wn(.1,n.y)))).mul(ks(.1,vr(Il(Wn(13,n.y).add(n.x))))))),dG=Ce(([n])=>hG(lt(hG(n.xy),n.z))),Obe=Ce(([n])=>{const e=ts(g1(mB(n.xyz)),g1(gB(n.xyz))),t=de(1).div(de(Ube).mul(e)).toVar("pixScale"),i=lt(Kd(m1(p1(t))),Kd(VS(p1(t)))),r=lt(dG(m1(i.x.mul(n.xyz))),dG(m1(i.y.mul(n.xyz)))),s=e2(p1(t)),a=ks(Wn(s.oneMinus(),r.x),Wn(s,r.y)),o=cl(s,s.oneMinus()),l=we(a.mul(a).div(Wn(2,o).mul(Ti(1,o))),a.sub(Wn(.5,o)).div(Ti(1,o)),Ti(1,Ti(1,a).mul(Ti(1,a)).div(Wn(2,o).mul(Ti(1,o))))),u=a.lessThan(o.oneMinus()).select(a.lessThan(o).select(l.x,l.y),l.z);return S1(u,1e-6,1)}).setLayout({name:"getAlphaHashThreshold",type:"float",inputs:[{name:"position",type:"vec3"}]});class Ibe extends IJ{static get type(){return"VertexColorNode"}constructor(e){super(null,"vec4"),this.isVertexColorNode=!0,this.index=e}getAttributeName(){const e=this.index;return"color"+(e>0?e:"")}generate(e){const t=this.getAttributeName(e),i=e.hasGeometryAttribute(t);let r;return i===!0?r=super.generate(e):r=e.generateConst(this.nodeType,new ln(1,1,1,1)),r}serialize(e){super.serialize(e),e.index=this.index}deserialize(e){super.deserialize(e),this.index=e.index}}const tte=(n=0)=>Qe(new Ibe(n)),nte=Ce(([n,e])=>cl(1,n.oneMinus().div(e)).oneMinus()).setLayout({name:"blendBurn",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),ite=Ce(([n,e])=>cl(n.div(e.oneMinus()),1)).setLayout({name:"blendDodge",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),rte=Ce(([n,e])=>n.oneMinus().mul(e.oneMinus()).oneMinus()).setLayout({name:"blendScreen",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),ste=Ce(([n,e])=>Gi(n.mul(2).mul(e),n.oneMinus().mul(2).mul(e.oneMinus()).oneMinus(),kS(.5,n))).setLayout({name:"blendOverlay",type:"vec3",inputs:[{name:"base",type:"vec3"},{name:"blend",type:"vec3"}]}),Fbe=Ce(([n,e])=>{const t=e.a.add(n.a.mul(e.a.oneMinus()));return on(e.rgb.mul(e.a).add(n.rgb.mul(n.a).mul(e.a.oneMinus())).div(t),t)}).setLayout({name:"blendColor",type:"vec4",inputs:[{name:"base",type:"vec4"},{name:"blend",type:"vec4"}]}),ate=Ce(([n])=>on(n.rgb.mul(n.a),n.a),{color:"vec4",return:"vec4"}),zbe=Ce(([n])=>(Xn(n.a.equal(0),()=>on(0)),on(n.rgb.div(n.a),n.a)),{color:"vec4",return:"vec4"}),Vbe=(...n)=>(console.warn('THREE.TSL: "burn" has been renamed. Use "blendBurn" instead.'),nte(n)),kbe=(...n)=>(console.warn('THREE.TSL: "dodge" has been renamed. Use "blendDodge" instead.'),ite(n)),Gbe=(...n)=>(console.warn('THREE.TSL: "screen" has been renamed. Use "blendScreen" instead.'),rte(n)),qbe=(...n)=>(console.warn('THREE.TSL: "overlay" has been renamed. Use "blendOverlay" instead.'),ste(n));class ms extends Ta{static get type(){return"NodeMaterial"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isNodeMaterial=!0,this.fog=!0,this.lights=!1,this.hardwareClipping=!1,this.lightsNode=null,this.envNode=null,this.aoNode=null,this.colorNode=null,this.normalNode=null,this.opacityNode=null,this.backdropNode=null,this.backdropAlphaNode=null,this.alphaTestNode=null,this.maskNode=null,this.positionNode=null,this.geometryNode=null,this.depthNode=null,this.receivedShadowPositionNode=null,this.castShadowPositionNode=null,this.receivedShadowNode=null,this.castShadowNode=null,this.outputNode=null,this.mrtNode=null,this.fragmentNode=null,this.vertexNode=null,Object.defineProperty(this,"shadowPositionNode",{get:()=>this.receivedShadowPositionNode,set:e=>{console.warn('THREE.NodeMaterial: ".shadowPositionNode" was renamed to ".receivedShadowPositionNode".'),this.receivedShadowPositionNode=e}})}customProgramCacheKey(){return this.type+$K(this)}build(e){this.setup(e)}setupObserver(e){return new gxe(e)}setup(e){e.context.setupNormal=()=>ad(this.setupNormal(e),"NORMAL","vec3"),e.context.setupPositionView=()=>this.setupPositionView(e),e.context.setupModelViewProjection=()=>this.setupModelViewProjection(e);const t=e.renderer,i=t.getRenderTarget();e.addStack();const r=ad(this.setupVertex(e),"VERTEX"),s=this.vertexNode||r;e.stack.outputNode=s,this.setupHardwareClipping(e),this.geometryNode!==null&&(e.stack.outputNode=e.stack.outputNode.bypass(this.geometryNode)),e.addFlow("vertex",e.removeStack()),e.addStack();let a;const o=this.setupClipping(e);if((this.depthWrite===!0||this.depthTest===!0)&&(i!==null?i.depthBuffer===!0&&this.setupDepth(e):t.depth===!0&&this.setupDepth(e)),this.fragmentNode===null){this.setupDiffuseColor(e),this.setupVariants(e);const l=this.setupLighting(e);o!==null&&e.stack.add(o);const u=on(l,Li.a).max(0);a=this.setupOutput(e,u),sd.assign(a);const c=this.outputNode!==null;if(c&&(a=this.outputNode),i!==null){const f=t.getMRT(),m=this.mrtNode;f!==null?(c&&sd.assign(a),a=f,m!==null&&(a=f.merge(m))):m!==null&&(a=m)}}else{let l=this.fragmentNode;l.isOutputStructNode!==!0&&(l=on(l)),a=this.setupOutput(e,l)}e.stack.outputNode=a,e.addFlow("fragment",e.removeStack()),e.observer=this.setupObserver(e)}setupClipping(e){if(e.clippingContext===null)return null;const{unionPlanes:t,intersectionPlanes:i}=e.clippingContext;let r=null;if(t.length>0||i.length>0){const s=e.renderer.samples;this.alphaToCoverage&&s>1?r=Lbe():e.stack.add(Pbe())}return r}setupHardwareClipping(e){if(this.hardwareClipping=!1,e.clippingContext===null)return;const t=e.clippingContext.unionPlanes.length;t>0&&t<=8&&e.isAvailable("clipDistance")&&(e.stack.add(Bbe()),this.hardwareClipping=!0)}setupDepth(e){const{renderer:t,camera:i}=e;let r=this.depthNode;if(r===null){const s=t.getMRT();s&&s.has("depth")?r=s.get("depth"):t.logarithmicDepthBuffer===!0&&(i.isPerspectiveCamera?r=kB(As.z,Y2,Q2):r=ld(As.z,Y2,Q2))}r!==null&&GB.assign(r).toStack()}setupPositionView(){return Rh.mul(ds).xyz}setupModelViewProjection(){return wh.mul(As)}setupVertex(e){return e.addStack(),this.setupPosition(e),e.context.vertex=e.removeStack(),IB}setupPosition(e){const{object:t,geometry:i}=e;if((i.morphAttributes.position||i.morphAttributes.normal||i.morphAttributes.color)&&Qee(t).toStack(),t.isSkinnedMesh===!0&&Xee(t).toStack(),this.displacementMap){const r=mc("displacementMap","texture"),s=mc("displacementScale","float"),a=mc("displacementBias","float");ds.addAssign(fl.normalize().mul(r.x.mul(s).add(a)))}return t.isBatchedMesh&&jee(t).toStack(),t.isInstancedMesh&&t.instanceMatrix&&t.instanceMatrix.isInstancedBufferAttribute===!0&&Hee(t).toStack(),this.positionNode!==null&&ds.assign(ad(this.positionNode,"POSITION","vec3")),ds}setupDiffuseColor({object:e,geometry:t}){this.maskNode!==null&&b1(this.maskNode).not().discard();let i=this.colorNode?on(this.colorNode):fee;this.vertexColors===!0&&t.hasAttribute("color")&&(i=i.mul(tte())),e.instanceColor&&(i=gp("vec3","vInstanceColor").mul(i)),e.isBatchedMesh&&e._colorsTexture&&(i=gp("vec3","vBatchColor").mul(i)),Li.assign(i);const r=this.opacityNode?de(this.opacityNode):UB;Li.a.assign(Li.a.mul(r));let s=null;(this.alphaTestNode!==null||this.alphaTest>0)&&(s=this.alphaTestNode!==null?de(this.alphaTestNode):cee,Li.a.lessThanEqual(s).discard()),this.alphaHash===!0&&Li.a.lessThan(Obe(ds)).discard(),this.transparent===!1&&this.blending===uo&&this.alphaToCoverage===!1?Li.a.assign(1):s===null&&Li.a.lessThanEqual(0).discard()}setupVariants(){}setupOutgoingLight(){return this.lights===!0?we(0):Li.rgb}setupNormal(){return this.normalNode?we(this.normalNode):yee}setupEnvironment(){let e=null;return this.envNode?e=this.envNode:this.envMap&&(e=this.envMap.isCubeTexture?mc("envMap","cubeTexture"):mc("envMap","texture")),e}setupLightMap(e){let t=null;return e.material.lightMap&&(t=new Tbe(OB)),t}setupLights(e){const t=[],i=this.setupEnvironment(e);i&&i.isLightingNode&&t.push(i);const r=this.setupLightMap(e);if(r&&r.isLightingNode&&t.push(r),this.aoNode!==null||e.material.aoMap){const a=this.aoNode!==null?this.aoNode:Vee;t.push(new bbe(a))}let s=this.lightsNode||e.lightsNode;return t.length>0&&(s=e.renderer.lighting.createNode([...s.getLights(),...t])),s}setupLightingModel(){}setupLighting(e){const{material:t}=e,{backdropNode:i,backdropAlphaNode:r,emissiveNode:s}=this,o=this.lights===!0||this.lightsNode!==null?this.setupLights(e):null;let l=this.setupOutgoingLight(e);if(o&&o.getScope().hasLights){const u=this.setupLightingModel(e)||null;l=$ee(o,u,i,r)}else i!==null&&(l=we(r!==null?Gi(l,i,r):i));return(s&&s.isNode===!0||t.emissive&&t.emissive.isColor===!0)&&(gN.assign(we(s||dee)),l=l.add(gN)),l}setupFog(e,t){const i=e.fogNode;return i&&(sd.assign(t),t=on(i)),t}setupPremultipliedAlpha(e,t){return ate(t)}setupOutput(e,t){return this.fog===!0&&(t=this.setupFog(e,t)),this.premultipliedAlpha===!0&&(t=this.setupPremultipliedAlpha(e,t)),t}setDefaultValues(e){for(const i in e){const r=e[i];this[i]===void 0&&(this[i]=r,r&&r.clone&&(this[i]=r.clone()))}const t=Object.getOwnPropertyDescriptors(e.constructor.prototype);for(const i in t)Object.getOwnPropertyDescriptor(this.constructor.prototype,i)===void 0&&t[i].get!==void 0&&Object.defineProperty(this.constructor.prototype,i,t[i])}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{},nodes:{}});const i=Ta.prototype.toJSON.call(this,e),r=Q_(this);i.inputNodes={};for(const{property:a,childNode:o}of r)i.inputNodes[a]=o.toJSON(e).uuid;function s(a){const o=[];for(const l in a){const u=a[l];delete u.metadata,o.push(u)}return o}if(t){const a=s(e.textures),o=s(e.images),l=s(e.nodes);a.length>0&&(i.textures=a),o.length>0&&(i.images=o),l.length>0&&(i.nodes=l)}return i}copy(e){return this.lightsNode=e.lightsNode,this.envNode=e.envNode,this.colorNode=e.colorNode,this.normalNode=e.normalNode,this.opacityNode=e.opacityNode,this.backdropNode=e.backdropNode,this.backdropAlphaNode=e.backdropAlphaNode,this.alphaTestNode=e.alphaTestNode,this.maskNode=e.maskNode,this.positionNode=e.positionNode,this.geometryNode=e.geometryNode,this.depthNode=e.depthNode,this.receivedShadowPositionNode=e.receivedShadowPositionNode,this.castShadowPositionNode=e.castShadowPositionNode,this.receivedShadowNode=e.receivedShadowNode,this.castShadowNode=e.castShadowNode,this.outputNode=e.outputNode,this.mrtNode=e.mrtNode,this.fragmentNode=e.fragmentNode,this.vertexNode=e.vertexNode,super.copy(e)}}const Hbe=new aa;class jbe extends ms{static get type(){return"LineBasicNodeMaterial"}constructor(e){super(),this.isLineBasicNodeMaterial=!0,this.setDefaultValues(Hbe),this.setValues(e)}}const Wbe=new hL;class Xbe extends ms{static get type(){return"LineDashedNodeMaterial"}constructor(e){super(),this.isLineDashedNodeMaterial=!0,this.setDefaultValues(Wbe),this.dashOffset=0,this.offsetNode=null,this.dashScaleNode=null,this.dashSizeNode=null,this.gapSizeNode=null,this.setValues(e)}setupVariants(){const e=this.offsetNode?de(this.offsetNode):Iee,t=this.dashScaleNode?de(this.dashScaleNode):Bee,i=this.dashSizeNode?de(this.dashSizeNode):Uee,r=this.gapSizeNode?de(this.gapSizeNode):Oee;ux.assign(i),yN.assign(r);const s=L1(Zc("lineDistance").mul(t));(e?s.add(e):s).mod(ux.add(yN)).greaterThan(ux).discard()}}let QE=null;class Ybe extends KS{static get type(){return"ViewportSharedTextureNode"}constructor(e=Lc,t=null){QE===null&&(QE=new $P),super(e,t,QE)}updateReference(){return this}}const Qbe=tt(Ybe).setParameterLength(0,2),ote=n=>Qe(n).mul(.5).add(.5),$be=n=>Qe(n).mul(2).sub(1),Kbe=new lL;class Zbe extends ms{static get type(){return"MeshNormalNodeMaterial"}constructor(e){super(),this.isMeshNormalNodeMaterial=!0,this.setDefaultValues(Kbe),this.setValues(e)}setupDiffuseColor(){const e=this.opacityNode?de(this.opacityNode):UB;Li.assign(HS(on(ote($i),e),Os))}}const qB=Ce(([n=NB])=>{const e=n.z.atan(n.x).mul(1/(Math.PI*2)).add(.5),t=n.y.clamp(-1,1).asin().mul(1/Math.PI).add(.5);return lt(e,t)});class lte extends XP{constructor(e=1,t={}){super(e,t),this.isCubeRenderTarget=!0}fromEquirectangularTexture(e,t){const i=t.minFilter,r=t.generateMipmaps;t.generateMipmaps=!0,this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const s=new D1(5,5,5),a=qB(NB),o=new ms;o.colorNode=oi(t,a,0),o.side=Zi,o.blending=nl;const l=new ii(s,o),u=new xh;u.add(l),t.minFilter===Fa&&(t.minFilter=dr);const c=new WP(1,10,this),f=e.getMRT();return e.setMRT(null),c.update(e,u),e.setMRT(f),t.minFilter=i,t.currentGenerateMipmaps=r,l.geometry.dispose(),l.material.dispose(),this}}const xA=new WeakMap;class Jbe extends Gs{static get type(){return"CubeMapNode"}constructor(e){super("vec3"),this.envNode=e,this._cubeTexture=null,this._cubeTextureNode=Jd(null);const t=new O3;t.isRenderTargetTexture=!0,this._defaultTexture=t,this.updateBeforeType=$n.RENDER}updateBefore(e){const{renderer:t,material:i}=e,r=this.envNode;if(r.isTextureNode||r.isMaterialReferenceNode){const s=r.isTextureNode?r.value:i[r.property];if(s&&s.isTexture){const a=s.mapping;if(a===w3||a===R3){if(xA.has(s)){const o=xA.get(s);AG(o,s.mapping),this._cubeTexture=o}else{const o=s.image;if(eSe(o)){const l=new lte(o.height);l.fromEquirectangularTexture(t,s),AG(l.texture,s.mapping),this._cubeTexture=l.texture,xA.set(s,l.texture),s.addEventListener("dispose",ute)}else this._cubeTexture=this._defaultTexture}this._cubeTextureNode.value=this._cubeTexture}else this._cubeTextureNode=this.envNode}}}setup(e){return this.updateBefore(e),this._cubeTextureNode}}function eSe(n){return n==null?!1:n.height>0}function ute(n){const e=n.target;e.removeEventListener("dispose",ute);const t=xA.get(e);t!==void 0&&(xA.delete(e),t.dispose())}function AG(n,e){e===w3?n.mapping=Xl:e===R3&&(n.mapping=U0)}const cte=tt(Jbe).setParameterLength(1);class HB extends w8{static get type(){return"BasicEnvironmentNode"}constructor(e=null){super(),this.envNode=e}setup(e){e.context.environment=cte(this.envNode)}}class tSe extends w8{static get type(){return"BasicLightMapNode"}constructor(e=null){super(),this.lightMapNode=e}setup(e){const t=de(1/Math.PI);e.context.irradianceLightMap=this.lightMapNode.mul(t)}}class ZS{start(e){e.lightsNode.setupLights(e,e.lightsNode.getLightNodes(e)),this.indirect(e)}finish(){}direct(){}directRectArea(){}indirect(){}ambientOcclusion(){}}class fte extends ZS{constructor(){super()}indirect({context:e}){const t=e.ambientOcclusion,i=e.reflectedLight,r=e.irradianceLightMap;i.indirectDiffuse.assign(on(0)),r?i.indirectDiffuse.addAssign(r):i.indirectDiffuse.addAssign(on(1,1,1,0)),i.indirectDiffuse.mulAssign(t),i.indirectDiffuse.mulAssign(Li.rgb)}finish(e){const{material:t,context:i}=e,r=i.outgoingLight,s=e.context.environment;if(s)switch(t.combine){case x8:r.rgb.assign(Gi(r.rgb,r.rgb.mul(s.rgb),vA.mul(dx)));break;case LP:r.rgb.assign(Gi(r.rgb,s.rgb,vA.mul(dx)));break;case BP:r.rgb.addAssign(s.rgb.mul(vA.mul(dx)));break;default:console.warn("THREE.BasicLightingModel: Unsupported .combine value:",t.combine);break}}}const nSe=new Ia;class iSe extends ms{static get type(){return"MeshBasicNodeMaterial"}constructor(e){super(),this.isMeshBasicNodeMaterial=!0,this.lights=!0,this.setDefaultValues(nSe),this.setValues(e)}setupNormal(){return E8(Zd)}setupEnvironment(e){const t=super.setupEnvironment(e);return t?new HB(t):null}setupLightMap(e){let t=null;return e.material.lightMap&&(t=new tSe(OB)),t}setupOutgoingLight(){return Li.rgb}setupLightingModel(){return new fte}}const e8=Ce(({f0:n,f90:e,dotVH:t})=>{const i=t.mul(-5.55473).sub(6.98316).mul(t).exp2();return n.mul(i.oneMinus()).add(e.mul(i))}),oh=Ce(n=>n.diffuseColor.mul(1/Math.PI)),rSe=()=>de(.25),sSe=Ce(({dotNH:n})=>J_.mul(de(.5)).add(1).mul(de(1/Math.PI)).mul(n.pow(J_))),aSe=Ce(({lightDirection:n})=>{const e=n.add(Dr).normalize(),t=$i.dot(e).clamp(),i=Dr.dot(e).clamp(),r=e8({f0:Xo,f90:1,dotVH:i}),s=rSe(),a=sSe({dotNH:t});return r.mul(s).mul(a)});class hte extends fte{constructor(e=!0){super(),this.specular=e}direct({lightDirection:e,lightColor:t,reflectedLight:i}){const s=$i.dot(e).clamp().mul(t);i.directDiffuse.addAssign(s.mul(oh({diffuseColor:Li.rgb}))),this.specular===!0&&i.directSpecular.addAssign(s.mul(aSe({lightDirection:e})).mul(vA))}indirect(e){const{ambientOcclusion:t,irradiance:i,reflectedLight:r}=e.context;r.indirectDiffuse.addAssign(i.mul(oh({diffuseColor:Li}))),r.indirectDiffuse.mulAssign(t)}}const oSe=new wu;class lSe extends ms{static get type(){return"MeshLambertNodeMaterial"}constructor(e){super(),this.isMeshLambertNodeMaterial=!0,this.lights=!0,this.setDefaultValues(oSe),this.setValues(e)}setupEnvironment(e){const t=super.setupEnvironment(e);return t?new HB(t):null}setupLightingModel(){return new hte(!1)}}const uSe=new TS;class cSe extends ms{static get type(){return"MeshPhongNodeMaterial"}constructor(e){super(),this.isMeshPhongNodeMaterial=!0,this.lights=!0,this.shininessNode=null,this.specularNode=null,this.setDefaultValues(uSe),this.setValues(e)}setupEnvironment(e){const t=super.setupEnvironment(e);return t?new HB(t):null}setupLightingModel(){return new hte}setupVariants(){const e=(this.shininessNode?de(this.shininessNode):hee).max(1e-4);J_.assign(e);const t=this.specularNode||Aee;Xo.assign(t)}copy(e){return this.shininessNode=e.shininessNode,this.specularNode=e.specularNode,super.copy(e)}}const dte=Ce(n=>{if(n.geometry.hasAttribute("normal")===!1)return de(0);const e=Zd.dFdx().abs().max(Zd.dFdy().abs());return e.x.max(e.y).max(e.z)}),jB=Ce(n=>{const{roughness:e}=n,t=dte();let i=e.max(.0525);return i=i.add(t),i=i.min(1),i}),Ate=Ce(({alpha:n,dotNL:e,dotNV:t})=>{const i=n.pow2(),r=e.mul(i.add(i.oneMinus().mul(t.pow2())).sqrt()),s=t.mul(i.add(i.oneMinus().mul(e.pow2())).sqrt());return I0(.5,r.add(s).max(qZ))}).setLayout({name:"V_GGX_SmithCorrelated",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNL",type:"float"},{name:"dotNV",type:"float"}]}),fSe=Ce(({alphaT:n,alphaB:e,dotTV:t,dotBV:i,dotTL:r,dotBL:s,dotNV:a,dotNL:o})=>{const l=o.mul(we(n.mul(t),e.mul(i),a).length()),u=a.mul(we(n.mul(r),e.mul(s),o).length());return I0(.5,l.add(u)).saturate()}).setLayout({name:"V_GGX_SmithCorrelated_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotTV",type:"float",qualifier:"in"},{name:"dotBV",type:"float",qualifier:"in"},{name:"dotTL",type:"float",qualifier:"in"},{name:"dotBL",type:"float",qualifier:"in"},{name:"dotNV",type:"float",qualifier:"in"},{name:"dotNL",type:"float",qualifier:"in"}]}),pte=Ce(({alpha:n,dotNH:e})=>{const t=n.pow2(),i=e.pow2().mul(t.oneMinus()).oneMinus();return t.div(i.pow2()).mul(1/Math.PI)}).setLayout({name:"D_GGX",type:"float",inputs:[{name:"alpha",type:"float"},{name:"dotNH",type:"float"}]}),hSe=de(1/Math.PI),dSe=Ce(({alphaT:n,alphaB:e,dotNH:t,dotTH:i,dotBH:r})=>{const s=n.mul(e),a=we(e.mul(i),n.mul(r),s.mul(t)),o=a.dot(a),l=s.div(o);return hSe.mul(s.mul(l.pow2()))}).setLayout({name:"D_GGX_Anisotropic",type:"float",inputs:[{name:"alphaT",type:"float",qualifier:"in"},{name:"alphaB",type:"float",qualifier:"in"},{name:"dotNH",type:"float",qualifier:"in"},{name:"dotTH",type:"float",qualifier:"in"},{name:"dotBH",type:"float",qualifier:"in"}]}),wN=Ce(({lightDirection:n,f0:e,f90:t,roughness:i,f:r,normalView:s=$i,USE_IRIDESCENCE:a,USE_ANISOTROPY:o})=>{const l=i.pow2(),u=n.add(Dr).normalize(),c=s.dot(n).clamp(),f=s.dot(Dr).clamp(),m=s.dot(u).clamp(),v=Dr.dot(u).clamp();let _=e8({f0:e,f90:t,dotVH:v}),T,M;if(pp(a)&&(_=OS.mix(_,r)),pp(o)){const S=mA.dot(n),R=mA.dot(Dr),C=mA.dot(u),P=Rf.dot(n),B=Rf.dot(Dr),O=Rf.dot(u);T=fSe({alphaT:Z_,alphaB:l,dotTV:R,dotBV:B,dotTL:S,dotBL:P,dotNV:f,dotNL:c}),M=dSe({alphaT:Z_,alphaB:l,dotNH:m,dotTH:C,dotBH:O})}else T=Ate({alpha:l,dotNL:c,dotNV:f}),M=pte({alpha:l,dotNH:m});return _.mul(T).mul(M)}),WB=Ce(({roughness:n,dotNV:e})=>{const t=on(-1,-.0275,-.572,.022),i=on(1,.0425,1.04,-.04),r=n.mul(t).add(i),s=r.x.mul(r.x).min(e.mul(-9.28).exp2()).mul(r.x).add(r.y);return lt(-1.04,1.04).mul(s).add(r.zw)}).setLayout({name:"DFGApprox",type:"vec2",inputs:[{name:"roughness",type:"float"},{name:"dotNV",type:"vec3"}]}),mte=Ce(n=>{const{dotNV:e,specularColor:t,specularF90:i,roughness:r}=n,s=WB({dotNV:e,roughness:r});return t.mul(s.x).add(i.mul(s.y))}),gte=Ce(({f:n,f90:e,dotVH:t})=>{const i=t.oneMinus().saturate(),r=i.mul(i),s=i.mul(r,r).clamp(0,.9999);return n.sub(we(e).mul(s)).div(s.oneMinus())}).setLayout({name:"Schlick_to_F0",type:"vec3",inputs:[{name:"f",type:"vec3"},{name:"f90",type:"float"},{name:"dotVH",type:"float"}]}),ASe=Ce(({roughness:n,dotNH:e})=>{const t=n.pow2(),i=de(1).div(t),s=e.pow2().oneMinus().max(.0078125);return de(2).add(i).mul(s.pow(i.mul(.5))).div(2*Math.PI)}).setLayout({name:"D_Charlie",type:"float",inputs:[{name:"roughness",type:"float"},{name:"dotNH",type:"float"}]}),pSe=Ce(({dotNV:n,dotNL:e})=>de(1).div(de(4).mul(e.add(n).sub(e.mul(n))))).setLayout({name:"V_Neubelt",type:"float",inputs:[{name:"dotNV",type:"float"},{name:"dotNL",type:"float"}]}),mSe=Ce(({lightDirection:n})=>{const e=n.add(Dr).normalize(),t=$i.dot(n).clamp(),i=$i.dot(Dr).clamp(),r=$i.dot(e).clamp(),s=ASe({roughness:US,dotNH:r}),a=pSe({dotNV:i,dotNL:t});return cf.mul(s).mul(a)}),gSe=Ce(({N:n,V:e,roughness:t})=>{const s=.0078125,a=n.dot(e).saturate(),o=lt(t,a.oneMinus().sqrt());return o.assign(o.mul(.984375).add(s)),o}).setLayout({name:"LTC_Uv",type:"vec2",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"roughness",type:"float"}]}),ySe=Ce(({f:n})=>{const e=n.length();return ts(e.mul(e).add(n.z).div(e.add(1)),0)}).setLayout({name:"LTC_ClippedSphereFormFactor",type:"float",inputs:[{name:"f",type:"vec3"}]}),tv=Ce(({v1:n,v2:e})=>{const t=n.dot(e),i=t.abs().toVar(),r=i.mul(.0145206).add(.4965155).mul(i).add(.8543985).toVar(),s=i.add(4.1616724).mul(i).add(3.417594).toVar(),a=r.div(s),o=t.greaterThan(0).select(a,ts(t.mul(t).oneMinus(),1e-7).inverseSqrt().mul(.5).sub(a));return n.cross(e).mul(o)}).setLayout({name:"LTC_EdgeVectorFormFactor",type:"vec3",inputs:[{name:"v1",type:"vec3"},{name:"v2",type:"vec3"}]}),pG=Ce(({N:n,V:e,P:t,mInv:i,p0:r,p1:s,p2:a,p3:o})=>{const l=s.sub(r).toVar(),u=o.sub(r).toVar(),c=l.cross(u),f=we().toVar();return Xn(c.dot(t.sub(r)).greaterThanEqual(0),()=>{const m=e.sub(n.mul(e.dot(n))).normalize(),v=n.cross(m).negate(),_=i.mul(ho(m,v,n).transpose()).toVar(),T=_.mul(r.sub(t)).normalize().toVar(),M=_.mul(s.sub(t)).normalize().toVar(),S=_.mul(a.sub(t)).normalize().toVar(),R=_.mul(o.sub(t)).normalize().toVar(),C=we(0).toVar();C.addAssign(tv({v1:T,v2:M})),C.addAssign(tv({v1:M,v2:S})),C.addAssign(tv({v1:S,v2:R})),C.addAssign(tv({v1:R,v2:T})),f.assign(we(ySe({f:C})))}),f}).setLayout({name:"LTC_Evaluate",type:"vec3",inputs:[{name:"N",type:"vec3"},{name:"V",type:"vec3"},{name:"P",type:"vec3"},{name:"mInv",type:"mat3"},{name:"p0",type:"vec3"},{name:"p1",type:"vec3"},{name:"p2",type:"vec3"},{name:"p3",type:"vec3"}]}),JS=1/6,yte=n=>Wn(JS,Wn(n,Wn(n,n.negate().add(3)).sub(3)).add(1)),RN=n=>Wn(JS,Wn(n,Wn(n,Wn(3,n).sub(6))).add(4)),vte=n=>Wn(JS,Wn(n,Wn(n,Wn(-3,n).add(3)).add(3)).add(1)),CN=n=>Wn(JS,yu(n,3)),mG=n=>yte(n).add(RN(n)),gG=n=>vte(n).add(CN(n)),yG=n=>ks(-1,RN(n).div(yte(n).add(RN(n)))),vG=n=>ks(1,CN(n).div(vte(n).add(CN(n)))),xG=(n,e,t)=>{const i=n.uvNode,r=Wn(i,e.zw).add(.5),s=m1(r),a=e2(r),o=mG(a.x),l=gG(a.x),u=yG(a.x),c=vG(a.x),f=yG(a.y),m=vG(a.y),v=lt(s.x.add(u),s.y.add(f)).sub(.5).mul(e.xy),_=lt(s.x.add(c),s.y.add(f)).sub(.5).mul(e.xy),T=lt(s.x.add(u),s.y.add(m)).sub(.5).mul(e.xy),M=lt(s.x.add(c),s.y.add(m)).sub(.5).mul(e.xy),S=mG(a.y).mul(ks(o.mul(n.sample(v).level(t)),l.mul(n.sample(_).level(t)))),R=gG(a.y).mul(ks(o.mul(n.sample(T).level(t)),l.mul(n.sample(M).level(t))));return S.add(R)},XB=Ce(([n,e])=>{const t=lt(n.size(ye(e))),i=lt(n.size(ye(e.add(1)))),r=I0(1,t),s=I0(1,i),a=xG(n,on(r,t),m1(e)),o=xG(n,on(s,i),VS(e));return e2(e).mix(a,o)}),vSe=Ce(([n,e])=>{const t=e.mul(wB(n));return XB(n,t)}),_G=Ce(([n,e,t,i,r])=>{const s=we(bB(e.negate(),$c(n),I0(1,i))),a=we(g1(r[0].xyz),g1(r[1].xyz),g1(r[2].xyz));return $c(s).mul(t.mul(a))}).setLayout({name:"getVolumeTransmissionRay",type:"vec3",inputs:[{name:"n",type:"vec3"},{name:"v",type:"vec3"},{name:"thickness",type:"float"},{name:"ior",type:"float"},{name:"modelMatrix",type:"mat4"}]}),xSe=Ce(([n,e])=>n.mul(S1(e.mul(2).sub(2),0,1))).setLayout({name:"applyIorToRoughness",type:"float",inputs:[{name:"roughness",type:"float"},{name:"ior",type:"float"}]}),_Se=FB(),bSe=FB(),bG=Ce(([n,e,t],{material:i})=>{const s=(i.side===Zi?_Se:bSe).sample(n),a=p1(bp.x).mul(xSe(e,t));return XB(s,a)}),SG=Ce(([n,e,t])=>(Xn(t.notEqual(0),()=>{const i=zS(e).negate().div(t);return hB(i.negate().mul(n))}),we(1))).setLayout({name:"volumeAttenuation",type:"vec3",inputs:[{name:"transmissionDistance",type:"float"},{name:"attenuationColor",type:"vec3"},{name:"attenuationDistance",type:"float"}]}),SSe=Ce(([n,e,t,i,r,s,a,o,l,u,c,f,m,v,_])=>{let T,M;if(_){T=on().toVar(),M=we().toVar();const B=c.sub(1).mul(_.mul(.025)),O=we(c.sub(B),c,c.add(B));Ki({start:0,end:3},({i:V})=>{const F=O.element(V),z=_G(n,e,f,F,o),k=a.add(z),H=u.mul(l.mul(on(k,1))),Z=lt(H.xy.div(H.w)).toVar();Z.addAssign(1),Z.divAssign(2),Z.assign(lt(Z.x,Z.y.oneMinus()));const $=bG(Z,t,F);T.element(V).assign($.element(V)),T.a.addAssign($.a),M.element(V).assign(i.element(V).mul(SG(g1(z),m,v).element(V)))}),T.a.divAssign(3)}else{const B=_G(n,e,f,c,o),O=a.add(B),V=u.mul(l.mul(on(O,1))),F=lt(V.xy.div(V.w)).toVar();F.addAssign(1),F.divAssign(2),F.assign(lt(F.x,F.y.oneMinus())),T=bG(F,t,c),M=i.mul(SG(g1(B),m,v))}const S=M.rgb.mul(T.rgb),R=n.dot(e).clamp(),C=we(mte({dotNV:R,specularColor:r,specularF90:s,roughness:t})),P=M.r.add(M.g,M.b).div(3);return on(C.oneMinus().mul(S),T.a.oneMinus().mul(P).oneMinus())}),TSe=ho(3.2404542,-.969266,.0556434,-1.5371385,1.8760108,-.2040259,-.4985314,.041556,1.0572252),MSe=n=>{const e=n.sqrt();return we(1).add(e).div(we(1).sub(e))},TG=(n,e)=>n.sub(e).div(n.add(e)).pow2(),ESe=(n,e)=>{const t=n.mul(2*Math.PI*1e-9),i=we(54856e-17,44201e-17,52481e-17),r=we(1681e3,1795300,2208400),s=we(43278e5,93046e5,66121e5),a=de(9747e-17*Math.sqrt(2*Math.PI*45282e5)).mul(t.mul(2239900).add(e.x).cos()).mul(t.pow2().mul(-45282e5).exp());let o=i.mul(s.mul(2*Math.PI).sqrt()).mul(r.mul(t).add(e).cos()).mul(t.pow2().negate().mul(s).exp());return o=we(o.x.add(a),o.y,o.z).div(10685e-11),TSe.mul(o)},wSe=Ce(({outsideIOR:n,eta2:e,cosTheta1:t,thinFilmThickness:i,baseF0:r})=>{const s=Gi(n,e,T1(0,.03,i)),o=n.div(s).pow2().mul(t.pow2().oneMinus()).oneMinus();Xn(o.lessThan(0),()=>we(1));const l=o.sqrt(),u=TG(s,n),c=e8({f0:u,f90:1,dotVH:t}),f=c.oneMinus(),m=s.lessThan(n).select(Math.PI,0),v=de(Math.PI).sub(m),_=MSe(r.clamp(0,.9999)),T=TG(_,s.toVec3()),M=e8({f0:T,f90:1,dotVH:l}),S=we(_.x.lessThan(s).select(Math.PI,0),_.y.lessThan(s).select(Math.PI,0),_.z.lessThan(s).select(Math.PI,0)),R=s.mul(i,l,2),C=we(v).add(S),P=c.mul(M).clamp(1e-5,.9999),B=P.sqrt(),O=f.pow2().mul(M).div(we(1).sub(P)),F=c.add(O).toVar(),z=O.sub(f).toVar();return Ki({start:1,end:2,condition:"<=",name:"m"},({m:k})=>{z.mulAssign(B);const H=ESe(de(k).mul(R),de(k).mul(C)).mul(2);F.addAssign(z.mul(H))}),F.max(we(0))}).setLayout({name:"evalIridescence",type:"vec3",inputs:[{name:"outsideIOR",type:"float"},{name:"eta2",type:"float"},{name:"cosTheta1",type:"float"},{name:"thinFilmThickness",type:"float"},{name:"baseF0",type:"vec3"}]}),RSe=Ce(({normal:n,viewDir:e,roughness:t})=>{const i=n.dot(e).saturate(),r=t.pow2(),s=_a(t.lessThan(.25),de(-339.2).mul(r).add(de(161.4).mul(t)).sub(25.9),de(-8.48).mul(r).add(de(14.3).mul(t)).sub(9.95)),a=_a(t.lessThan(.25),de(44).mul(r).sub(de(23.7).mul(t)).add(3.26),de(1.97).mul(r).sub(de(3.27).mul(t)).add(.72));return _a(t.lessThan(.25),0,de(.1).mul(t).sub(.025)).add(s.mul(i).add(a).exp()).mul(1/Math.PI).saturate()}),$E=we(.04),KE=de(1);class xte extends ZS{constructor(e=!1,t=!1,i=!1,r=!1,s=!1,a=!1){super(),this.clearcoat=e,this.sheen=t,this.iridescence=i,this.anisotropy=r,this.transmission=s,this.dispersion=a,this.clearcoatRadiance=null,this.clearcoatSpecularDirect=null,this.clearcoatSpecularIndirect=null,this.sheenSpecularDirect=null,this.sheenSpecularIndirect=null,this.iridescenceFresnel=null,this.iridescenceF0=null}start(e){if(this.clearcoat===!0&&(this.clearcoatRadiance=we().toVar("clearcoatRadiance"),this.clearcoatSpecularDirect=we().toVar("clearcoatSpecularDirect"),this.clearcoatSpecularIndirect=we().toVar("clearcoatSpecularIndirect")),this.sheen===!0&&(this.sheenSpecularDirect=we().toVar("sheenSpecularDirect"),this.sheenSpecularIndirect=we().toVar("sheenSpecularIndirect")),this.iridescence===!0){const t=$i.dot(Dr).clamp();this.iridescenceFresnel=wSe({outsideIOR:de(1),eta2:iB,cosTheta1:t,thinFilmThickness:rB,baseF0:Xo}),this.iridescenceF0=gte({f:this.iridescenceFresnel,f90:1,dotVH:t})}if(this.transmission===!0){const t=Pc,i=FJ.sub(Pc).normalize(),r=k3,s=e.context;s.backdrop=SSe(r,i,t1,Li,Xo,xp,t,R0,j0,wh,gA,sB,oB,aB,this.dispersion?lB:null),s.backdropAlpha=eb,Li.a.mulAssign(Gi(1,s.backdrop.a,eb))}super.start(e)}computeMultiscattering(e,t,i){const r=$i.dot(Dr).clamp(),s=WB({roughness:t1,dotNV:r}),o=(this.iridescenceF0?OS.mix(Xo,this.iridescenceF0):Xo).mul(s.x).add(i.mul(s.y)),u=s.x.add(s.y).oneMinus(),c=Xo.add(Xo.oneMinus().mul(.047619)),f=o.mul(c).div(u.mul(c).oneMinus());e.addAssign(o),t.addAssign(f.mul(u))}direct({lightDirection:e,lightColor:t,reflectedLight:i}){const s=$i.dot(e).clamp().mul(t);if(this.sheen===!0&&this.sheenSpecularDirect.addAssign(s.mul(mSe({lightDirection:e}))),this.clearcoat===!0){const o=ff.dot(e).clamp().mul(t);this.clearcoatSpecularDirect.addAssign(o.mul(wN({lightDirection:e,f0:$E,f90:KE,roughness:vp,normalView:ff})))}i.directDiffuse.addAssign(s.mul(oh({diffuseColor:Li.rgb}))),i.directSpecular.addAssign(s.mul(wN({lightDirection:e,f0:Xo,f90:1,roughness:t1,iridescence:this.iridescence,f:this.iridescenceFresnel,USE_IRIDESCENCE:this.iridescence,USE_ANISOTROPY:this.anisotropy})))}directRectArea({lightColor:e,lightPosition:t,halfWidth:i,halfHeight:r,reflectedLight:s,ltc_1:a,ltc_2:o}){const l=t.add(i).sub(r),u=t.sub(i).sub(r),c=t.sub(i).add(r),f=t.add(i).add(r),m=$i,v=Dr,_=As.toVar(),T=gSe({N:m,V:v,roughness:t1}),M=a.sample(T).toVar(),S=o.sample(T).toVar(),R=ho(we(M.x,0,M.y),we(0,1,0),we(M.z,0,M.w)).toVar(),C=Xo.mul(S.x).add(Xo.oneMinus().mul(S.y)).toVar();s.directSpecular.addAssign(e.mul(C).mul(pG({N:m,V:v,P:_,mInv:R,p0:l,p1:u,p2:c,p3:f}))),s.directDiffuse.addAssign(e.mul(Li).mul(pG({N:m,V:v,P:_,mInv:ho(1,0,0,0,1,0,0,0,1),p0:l,p1:u,p2:c,p3:f})))}indirect(e){this.indirectDiffuse(e),this.indirectSpecular(e),this.ambientOcclusion(e)}indirectDiffuse(e){const{irradiance:t,reflectedLight:i}=e.context;i.indirectDiffuse.addAssign(t.mul(oh({diffuseColor:Li})))}indirectSpecular(e){const{radiance:t,iblIrradiance:i,reflectedLight:r}=e.context;if(this.sheen===!0&&this.sheenSpecularIndirect.addAssign(i.mul(cf,RSe({normal:$i,viewDir:Dr,roughness:US}))),this.clearcoat===!0){const c=ff.dot(Dr).clamp(),f=mte({dotNV:c,specularColor:$E,specularF90:KE,roughness:vp});this.clearcoatSpecularIndirect.addAssign(this.clearcoatRadiance.mul(f))}const s=we().toVar("singleScattering"),a=we().toVar("multiScattering"),o=i.mul(1/Math.PI);this.computeMultiscattering(s,a,xp);const l=s.add(a),u=Li.mul(l.r.max(l.g).max(l.b).oneMinus());r.indirectSpecular.addAssign(t.mul(s)),r.indirectSpecular.addAssign(a.mul(o)),r.indirectDiffuse.addAssign(u.mul(o))}ambientOcclusion(e){const{ambientOcclusion:t,reflectedLight:i}=e.context,s=$i.dot(Dr).clamp().add(t),a=t1.mul(-16).oneMinus().negate().exp2(),o=t.sub(s.pow(a).oneMinus()).clamp();this.clearcoat===!0&&this.clearcoatSpecularIndirect.mulAssign(t),this.sheen===!0&&this.sheenSpecularIndirect.mulAssign(t),i.indirectDiffuse.mulAssign(t),i.indirectSpecular.mulAssign(o)}finish({context:e}){const{outgoingLight:t}=e;if(this.clearcoat===!0){const i=ff.dot(Dr).clamp(),r=e8({dotVH:i,f0:$E,f90:KE}),s=t.mul(K_.mul(r).oneMinus()).add(this.clearcoatSpecularDirect.add(this.clearcoatSpecularIndirect).mul(K_));t.assign(s)}if(this.sheen===!0){const i=cf.r.max(cf.g).max(cf.b).mul(.157).oneMinus(),r=t.mul(i).add(this.sheenSpecularDirect,this.sheenSpecularIndirect);t.assign(r)}}}const MG=de(1),NN=de(-2),nv=de(.8),ZE=de(-1),iv=de(.4),JE=de(2),rv=de(.305),ew=de(3),EG=de(.21),CSe=de(4),wG=de(4),NSe=de(16),DSe=Ce(([n])=>{const e=we(vr(n)).toVar(),t=de(-1).toVar();return Xn(e.x.greaterThan(e.z),()=>{Xn(e.x.greaterThan(e.y),()=>{t.assign(_a(n.x.greaterThan(0),0,3))}).Else(()=>{t.assign(_a(n.y.greaterThan(0),1,4))})}).Else(()=>{Xn(e.z.greaterThan(e.y),()=>{t.assign(_a(n.z.greaterThan(0),2,5))}).Else(()=>{t.assign(_a(n.y.greaterThan(0),1,4))})}),t}).setLayout({name:"getFace",type:"float",inputs:[{name:"direction",type:"vec3"}]}),PSe=Ce(([n,e])=>{const t=lt().toVar();return Xn(e.equal(0),()=>{t.assign(lt(n.z,n.y).div(vr(n.x)))}).ElseIf(e.equal(1),()=>{t.assign(lt(n.x.negate(),n.z.negate()).div(vr(n.y)))}).ElseIf(e.equal(2),()=>{t.assign(lt(n.x.negate(),n.y).div(vr(n.z)))}).ElseIf(e.equal(3),()=>{t.assign(lt(n.z.negate(),n.y).div(vr(n.x)))}).ElseIf(e.equal(4),()=>{t.assign(lt(n.x.negate(),n.z).div(vr(n.y)))}).Else(()=>{t.assign(lt(n.x,n.y).div(vr(n.z)))}),Wn(.5,t.add(1))}).setLayout({name:"getUV",type:"vec2",inputs:[{name:"direction",type:"vec3"},{name:"face",type:"float"}]}),LSe=Ce(([n])=>{const e=de(0).toVar();return Xn(n.greaterThanEqual(nv),()=>{e.assign(MG.sub(n).mul(ZE.sub(NN)).div(MG.sub(nv)).add(NN))}).ElseIf(n.greaterThanEqual(iv),()=>{e.assign(nv.sub(n).mul(JE.sub(ZE)).div(nv.sub(iv)).add(ZE))}).ElseIf(n.greaterThanEqual(rv),()=>{e.assign(iv.sub(n).mul(ew.sub(JE)).div(iv.sub(rv)).add(JE))}).ElseIf(n.greaterThanEqual(EG),()=>{e.assign(rv.sub(n).mul(CSe.sub(ew)).div(rv.sub(EG)).add(ew))}).Else(()=>{e.assign(de(-2).mul(p1(Wn(1.16,n))))}),e}).setLayout({name:"roughnessToMip",type:"float",inputs:[{name:"roughness",type:"float"}]}),_te=Ce(([n,e])=>{const t=n.toVar();t.assign(Wn(2,t).sub(1));const i=we(t,1).toVar();return Xn(e.equal(0),()=>{i.assign(i.zyx)}).ElseIf(e.equal(1),()=>{i.assign(i.xzy),i.xz.mulAssign(-1)}).ElseIf(e.equal(2),()=>{i.x.mulAssign(-1)}).ElseIf(e.equal(3),()=>{i.assign(i.zyx),i.xz.mulAssign(-1)}).ElseIf(e.equal(4),()=>{i.assign(i.xzy),i.xy.mulAssign(-1)}).ElseIf(e.equal(5),()=>{i.z.mulAssign(-1)}),i}).setLayout({name:"getDirection",type:"vec3",inputs:[{name:"uv",type:"vec2"},{name:"face",type:"float"}]}),bte=Ce(([n,e,t,i,r,s])=>{const a=de(t),o=we(e),l=S1(LSe(a),NN,s),u=e2(l),c=m1(l),f=we(DN(n,o,c,i,r,s)).toVar();return Xn(u.notEqual(0),()=>{const m=we(DN(n,o,c.add(1),i,r,s)).toVar();f.assign(Gi(f,m,u))}),f}),DN=Ce(([n,e,t,i,r,s])=>{const a=de(t).toVar(),o=we(e),l=de(DSe(o)).toVar(),u=de(ts(wG.sub(a),0)).toVar();a.assign(ts(a,wG));const c=de(Kd(a)).toVar(),f=lt(PSe(o,l).mul(c.sub(2)).add(1)).toVar();return Xn(l.greaterThan(2),()=>{f.y.addAssign(c),l.subAssign(3)}),f.x.addAssign(l.mul(c)),f.x.addAssign(u.mul(Wn(3,NSe))),f.y.addAssign(Wn(4,Kd(s).sub(c))),f.x.mulAssign(i),f.y.mulAssign(r),n.sample(f).grad(lt(),lt())}),tw=Ce(({envMap:n,mipInt:e,outputDirection:t,theta:i,axis:r,CUBEUV_TEXEL_WIDTH:s,CUBEUV_TEXEL_HEIGHT:a,CUBEUV_MAX_MIP:o})=>{const l=hc(i),u=t.mul(l).add(r.cross(t).mul(Il(i))).add(r.mul(r.dot(t).mul(l.oneMinus())));return DN(n,u,e,s,a,o)}),Ste=Ce(({n,latitudinal:e,poleAxis:t,outputDirection:i,weights:r,samples:s,dTheta:a,mipInt:o,envMap:l,CUBEUV_TEXEL_WIDTH:u,CUBEUV_TEXEL_HEIGHT:c,CUBEUV_MAX_MIP:f})=>{const m=we(_a(e,t,GS(t,i))).toVar();Xn(m.equal(we(0)),()=>{m.assign(we(i.z,0,i.x.negate()))}),m.assign($c(m));const v=we().toVar();return v.addAssign(r.element(0).mul(tw({theta:0,axis:m,outputDirection:i,mipInt:o,envMap:l,CUBEUV_TEXEL_WIDTH:u,CUBEUV_TEXEL_HEIGHT:c,CUBEUV_MAX_MIP:f}))),Ki({start:ye(1),end:n},({i:_})=>{Xn(_.greaterThanEqual(s),()=>{Yee()});const T=de(a.mul(de(_))).toVar();v.addAssign(r.element(_).mul(tw({theta:T.mul(-1),axis:m,outputDirection:i,mipInt:o,envMap:l,CUBEUV_TEXEL_WIDTH:u,CUBEUV_TEXEL_HEIGHT:c,CUBEUV_MAX_MIP:f}))),v.addAssign(r.element(_).mul(tw({theta:T,axis:m,outputDirection:i,mipInt:o,envMap:l,CUBEUV_TEXEL_WIDTH:u,CUBEUV_TEXEL_HEIGHT:c,CUBEUV_MAX_MIP:f})))}),on(v,1)}),H6=4,RG=[.125,.215,.35,.446,.526,.582],Z4=20,nw=new h1(-1,1,1,-1,0,1),BSe=new Tr(90,1),CG=new Nt;let iw=null,rw=0,sw=0;const Q4=(1+Math.sqrt(5))/2,J5=1/Q4,NG=[new re(-Q4,J5,0),new re(Q4,J5,0),new re(-J5,0,Q4),new re(J5,0,Q4),new re(0,Q4,-J5),new re(0,Q4,J5),new re(-1,1,-1),new re(1,1,-1),new re(-1,1,1),new re(1,1,1)],USe=new re,Tte=new WeakMap,OSe=[3,1,5,0,4,2],aw=_te(Rr(),Zc("faceIndex")).normalize(),YB=we(aw.x,aw.y,aw.z);class ISe{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._backgroundBox=null}get _hasInitialized(){return this._renderer.hasInitialized()}fromScene(e,t=0,i=.1,r=100,s={}){const{size:a=256,position:o=USe,renderTarget:l=null}=s;if(this._setSize(a),this._hasInitialized===!1){console.warn("THREE.PMREMGenerator: .fromScene() called before the backend is initialized. Try using .fromSceneAsync() instead.");const c=l||this._allocateTarget();return s.renderTarget=c,this.fromSceneAsync(e,t,i,r,s),c}iw=this._renderer.getRenderTarget(),rw=this._renderer.getActiveCubeFace(),sw=this._renderer.getActiveMipmapLevel();const u=l||this._allocateTarget();return u.depthBuffer=!0,this._init(u),this._sceneToCubeUV(e,i,r,u,o),t>0&&this._blur(u,0,0,t),this._applyPMREM(u),this._cleanup(u),u}async fromSceneAsync(e,t=0,i=.1,r=100,s={}){return this._hasInitialized===!1&&await this._renderer.init(),this.fromScene(e,t,i,r,s)}fromEquirectangular(e,t=null){if(this._hasInitialized===!1){console.warn("THREE.PMREMGenerator: .fromEquirectangular() called before the backend is initialized. Try using .fromEquirectangularAsync() instead."),this._setSizeFromTexture(e);const i=t||this._allocateTarget();return this.fromEquirectangularAsync(e,i),i}return this._fromTexture(e,t)}async fromEquirectangularAsync(e,t=null){return this._hasInitialized===!1&&await this._renderer.init(),this._fromTexture(e,t)}fromCubemap(e,t=null){if(this._hasInitialized===!1){console.warn("THREE.PMREMGenerator: .fromCubemap() called before the backend is initialized. Try using .fromCubemapAsync() instead."),this._setSizeFromTexture(e);const i=t||this._allocateTarget();return this.fromCubemapAsync(e,t),i}return this._fromTexture(e,t)}async fromCubemapAsync(e,t=null){return this._hasInitialized===!1&&await this._renderer.init(),this._fromTexture(e,t)}async compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=PG(),await this._compileMaterial(this._cubemapMaterial))}async compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=LG(),await this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSizeFromTexture(e){e.mapping===Xl||e.mapping===U0?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4)}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(iw,rw,sw),e.scissorTest=!1,sv(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSizeFromTexture(e),iw=this._renderer.getRenderTarget(),rw=this._renderer.getActiveCubeFace(),sw=this._renderer.getActiveMipmapLevel();const i=t||this._allocateTarget();return this._init(i),this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTarget(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize;return DG(e,t)}_init(e){if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e.width||this._pingPongRenderTarget.height!==e.height){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=DG(e.width,e.height);const{_lodMax:t}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas,lodMeshes:this._lodMeshes}=FSe(t)),this._blurMaterial=zSe(t,e.width,e.height)}}async _compileMaterial(e){const t=new ii(this._lodPlanes[0],e);await this._renderer.compile(t,nw)}_sceneToCubeUV(e,t,i,r,s){const a=BSe;a.near=t,a.far=i;const o=[1,1,1,1,-1,1],l=[1,-1,1,-1,1,-1],u=this._renderer,c=u.autoClear;u.getClearColor(CG),u.autoClear=!1;let f=this._backgroundBox;if(f===null){const _=new Ia({name:"PMREM.Background",side:Zi,depthWrite:!1,depthTest:!1});f=new ii(new D1,_)}let m=!1;const v=e.background;v?v.isColor&&(f.material.color.copy(v),e.background=null,m=!0):(f.material.color.copy(CG),m=!0),u.setRenderTarget(r),u.clear(),m&&u.render(f,a);for(let _=0;_<6;_++){const T=_%3;T===0?(a.up.set(0,o[_],0),a.position.set(s.x,s.y,s.z),a.lookAt(s.x+l[_],s.y,s.z)):T===1?(a.up.set(0,0,o[_]),a.position.set(s.x,s.y,s.z),a.lookAt(s.x,s.y+l[_],s.z)):(a.up.set(0,o[_],0),a.position.set(s.x,s.y,s.z),a.lookAt(s.x,s.y,s.z+l[_]));const M=this._cubeSize;sv(r,T*M,_>2?M:0,M,M),u.render(e,a)}u.autoClear=c,e.background=v}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Xl||e.mapping===U0;r?this._cubemapMaterial===null&&(this._cubemapMaterial=PG(e)):this._equirectMaterial===null&&(this._equirectMaterial=LG(e));const s=r?this._cubemapMaterial:this._equirectMaterial;s.fragmentNode.value=e;const a=this._lodMeshes[0];a.material=s;const o=this._cubeSize;sv(t,0,0,3*o,2*o),i.setRenderTarget(t),i.render(a,nw)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const a=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),o=NG[(r-s-1)%NG.length];this._blur(e,s-1,s,a,o)}t.autoClear=i}_blur(e,t,i,r,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,t,i,r,"latitudinal",s),this._halfBlur(a,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,a,o){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=this._lodMeshes[r];f.material=u;const m=Tte.get(u),v=this._sizeLods[i]-1,_=isFinite(s)?Math.PI/(2*v):2*Math.PI/(2*Z4-1),T=s/_,M=isFinite(s)?1+Math.floor(c*T):Z4;M>Z4&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${M} samples when the maximum is set to ${Z4}`);const S=[];let R=0;for(let V=0;V<Z4;++V){const F=V/T,z=Math.exp(-F*F/2);S.push(z),V===0?R+=z:V<M&&(R+=2*z)}for(let V=0;V<S.length;V++)S[V]=S[V]/R;e.texture.frame=(e.texture.frame||0)+1,m.envMap.value=e.texture,m.samples.value=M,m.weights.array=S,m.latitudinal.value=a==="latitudinal"?1:0,o&&(m.poleAxis.value=o);const{_lodMax:C}=this;m.dTheta.value=_,m.mipInt.value=C-i;const P=this._sizeLods[r],B=3*P*(r>C-H6?r-C+H6:0),O=4*(this._cubeSize-P);sv(t,B,O,3*P,2*P),l.setRenderTarget(t),l.render(f,nw)}}function FSe(n){const e=[],t=[],i=[],r=[];let s=n;const a=n-H6+1+RG.length;for(let o=0;o<a;o++){const l=Math.pow(2,s);t.push(l);let u=1/l;o>n-H6?u=RG[o-n+H6-1]:o===0&&(u=0),i.push(u);const c=1/(l-2),f=-c,m=1+c,v=[f,f,m,f,m,m,f,f,m,m,f,m],_=6,T=6,M=3,S=2,R=1,C=new Float32Array(M*T*_),P=new Float32Array(S*T*_),B=new Float32Array(R*T*_);for(let V=0;V<_;V++){const F=V%3*2/3-1,z=V>2?0:-1,k=[F,z,0,F+2/3,z,0,F+2/3,z+1,0,F,z,0,F+2/3,z+1,0,F,z+1,0],H=OSe[V];C.set(k,M*T*H),P.set(v,S*T*H);const Z=[H,H,H,H,H,H];B.set(Z,R*T*H)}const O=new bn;O.setAttribute("position",new di(C,M)),O.setAttribute("uv",new di(P,S)),O.setAttribute("faceIndex",new di(B,R)),e.push(O),r.push(new ii(O,null)),s>H6&&s--}return{lodPlanes:e,sizeLods:t,sigmas:i,lodMeshes:r}}function DG(n,e){const t={magFilter:dr,minFilter:dr,generateMipmaps:!1,type:Fs,format:_r,colorSpace:ql},i=new Eu(n,e,t);return i.texture.mapping=kc,i.texture.name="PMREM.cubeUv",i.texture.isPMREMTexture=!0,i.scissorTest=!0,i}function sv(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function QB(n){const e=new ms;return e.depthTest=!1,e.depthWrite=!1,e.blending=nl,e.name=`PMREM_${n}`,e}function zSe(n,e,t){const i=M0(new Array(Z4).fill(0)),r=un(new re(0,1,0)),s=un(0),a=de(Z4),o=un(0),l=un(1),u=oi(null),c=un(0),f=de(1/e),m=de(1/t),v=de(n),_={n:a,latitudinal:o,weights:i,poleAxis:r,outputDirection:YB,dTheta:s,samples:l,envMap:u,mipInt:c,CUBEUV_TEXEL_WIDTH:f,CUBEUV_TEXEL_HEIGHT:m,CUBEUV_MAX_MIP:v},T=QB("blur");return T.fragmentNode=Ste({..._,latitudinal:o.equal(1)}),Tte.set(T,_),T}function PG(n){const e=QB("cubemap");return e.fragmentNode=Jd(n,YB),e}function LG(n){const e=QB("equirect");return e.fragmentNode=oi(n,qB(YB),0),e}const BG=new WeakMap;function VSe(n){const e=Math.log2(n)-2,t=1/n;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:t,maxMip:e}}function kSe(n,e,t){const i=GSe(e);let r=i.get(n);if((r!==void 0?r.pmremVersion:-1)!==n.pmremVersion){const a=n.image;if(n.isCubeTexture)if(HSe(a))r=t.fromCubemap(n,r);else return null;else if(jSe(a))r=t.fromEquirectangular(n,r);else return null;r.pmremVersion=n.pmremVersion,i.set(n,r)}return r.texture}function GSe(n){let e=BG.get(n);return e===void 0&&(e=new WeakMap,BG.set(n,e)),e}class qSe extends Gs{static get type(){return"PMREMNode"}constructor(e,t=null,i=null){super("vec3"),this._value=e,this._pmrem=null,this.uvNode=t,this.levelNode=i,this._generator=null;const r=new Ur;r.isRenderTargetTexture=!0,this._texture=oi(r),this._width=un(0),this._height=un(0),this._maxMip=un(0),this.updateBeforeType=$n.RENDER}set value(e){this._value=e,this._pmrem=null}get value(){return this._value}updateFromTexture(e){const t=VSe(e.image.height);this._texture.value=e,this._width.value=t.texelWidth,this._height.value=t.texelHeight,this._maxMip.value=t.maxMip}updateBefore(e){let t=this._pmrem;const i=t?t.pmremVersion:-1,r=this._value;i!==r.pmremVersion&&(r.isPMREMTexture===!0?t=r:t=kSe(r,e.renderer,this._generator),t!==null&&(this._pmrem=t,this.updateFromTexture(t)))}setup(e){this._generator===null&&(this._generator=new ISe(e.renderer)),this.updateBefore(e);let t=this.uvNode;t===null&&e.context.getUV&&(t=e.context.getUV(this)),t=LB.mul(we(t.x,t.y.negate(),t.z));let i=this.levelNode;return i===null&&e.context.getTextureLevel&&(i=e.context.getTextureLevel(this)),bte(this._texture,t,i,this._width,this._height,this._maxMip)}dispose(){super.dispose(),this._generator!==null&&this._generator.dispose()}}function HSe(n){if(n==null)return!1;let e=0;const t=6;for(let i=0;i<t;i++)n[i]!==void 0&&e++;return e===t}function jSe(n){return n==null?!1:n.height>0}const $B=tt(qSe).setParameterLength(1,3),UG=new WeakMap;class WSe extends w8{static get type(){return"EnvironmentNode"}constructor(e=null){super(),this.envNode=e}setup(e){const{material:t}=e;let i=this.envNode;if(i.isTextureNode||i.isMaterialReferenceNode){const f=i.isTextureNode?i.value:t[i.property];let m=UG.get(f);m===void 0&&(m=$B(f),UG.set(f,m)),i=m}const s=t.useAnisotropy===!0||t.anisotropy>0?lee:$i,a=i.context(OG(t1,s)).mul(hx),o=i.context(XSe(k3)).mul(Math.PI).mul(hx),l=yA(a),u=yA(o);e.context.radiance.addAssign(l),e.context.iblIrradiance.addAssign(u);const c=e.context.lightingModel.clearcoatRadiance;if(c){const f=i.context(OG(vp,ff)).mul(hx),m=yA(f);c.addAssign(m)}}}const OG=(n,e)=>{let t=null;return{getUV:()=>(t===null&&(t=Dr.negate().reflect(e),t=n.mul(n).mix(t,e).normalize(),t=t.transformDirection(j0)),t),getTextureLevel:()=>n}},XSe=n=>({getUV:()=>n,getTextureLevel:()=>de(1)}),YSe=new SS;class Mte extends ms{static get type(){return"MeshStandardNodeMaterial"}constructor(e){super(),this.isMeshStandardNodeMaterial=!0,this.lights=!0,this.emissiveNode=null,this.metalnessNode=null,this.roughnessNode=null,this.setDefaultValues(YSe),this.setValues(e)}setupEnvironment(e){let t=super.setupEnvironment(e);return t===null&&e.environmentNode&&(t=e.environmentNode),t?new WSe(t):null}setupLightingModel(){return new xte}setupSpecular(){const e=Gi(we(.04),Li.rgb,yp);Xo.assign(e),xp.assign(1)}setupVariants(){const e=this.metalnessNode?de(this.metalnessNode):gee;yp.assign(e);let t=this.roughnessNode?de(this.roughnessNode):mee;t=jB({roughness:t}),t1.assign(t),this.setupSpecular(),Li.assign(on(Li.rgb.mul(e.oneMinus()),Li.a))}copy(e){return this.emissiveNode=e.emissiveNode,this.metalnessNode=e.metalnessNode,this.roughnessNode=e.roughnessNode,super.copy(e)}}const QSe=new aL;class $Se extends Mte{static get type(){return"MeshPhysicalNodeMaterial"}constructor(e){super(),this.isMeshPhysicalNodeMaterial=!0,this.clearcoatNode=null,this.clearcoatRoughnessNode=null,this.clearcoatNormalNode=null,this.sheenNode=null,this.sheenRoughnessNode=null,this.iridescenceNode=null,this.iridescenceIORNode=null,this.iridescenceThicknessNode=null,this.specularIntensityNode=null,this.specularColorNode=null,this.iorNode=null,this.transmissionNode=null,this.thicknessNode=null,this.attenuationDistanceNode=null,this.attenuationColorNode=null,this.dispersionNode=null,this.anisotropyNode=null,this.setDefaultValues(QSe),this.setValues(e)}get useClearcoat(){return this.clearcoat>0||this.clearcoatNode!==null}get useIridescence(){return this.iridescence>0||this.iridescenceNode!==null}get useSheen(){return this.sheen>0||this.sheenNode!==null}get useAnisotropy(){return this.anisotropy>0||this.anisotropyNode!==null}get useTransmission(){return this.transmission>0||this.transmissionNode!==null}get useDispersion(){return this.dispersion>0||this.dispersionNode!==null}setupSpecular(){const e=this.iorNode?de(this.iorNode):Dee;gA.assign(e),Xo.assign(Gi(cl(vB(gA.sub(1).div(gA.add(1))).mul(pee),we(1)).mul(EN),Li.rgb,yp)),xp.assign(Gi(EN,1,yp))}setupLightingModel(){return new xte(this.useClearcoat,this.useSheen,this.useIridescence,this.useAnisotropy,this.useTransmission,this.useDispersion)}setupVariants(e){if(super.setupVariants(e),this.useClearcoat){const t=this.clearcoatNode?de(this.clearcoatNode):vee,i=this.clearcoatRoughnessNode?de(this.clearcoatRoughnessNode):xee;K_.assign(t),vp.assign(jB({roughness:i}))}if(this.useSheen){const t=this.sheenNode?we(this.sheenNode):See,i=this.sheenRoughnessNode?de(this.sheenRoughnessNode):Tee;cf.assign(t),US.assign(i)}if(this.useIridescence){const t=this.iridescenceNode?de(this.iridescenceNode):Eee,i=this.iridescenceIORNode?de(this.iridescenceIORNode):wee,r=this.iridescenceThicknessNode?de(this.iridescenceThicknessNode):Ree;OS.assign(t),iB.assign(i),rB.assign(r)}if(this.useAnisotropy){const t=(this.anisotropyNode?lt(this.anisotropyNode):Mee).toVar();G2.assign(t.length()),Xn(G2.equal(0),()=>{t.assign(lt(1,0))}).Else(()=>{t.divAssign(lt(G2)),G2.assign(G2.saturate())}),Z_.assign(G2.pow2().mix(t1.pow2(),1)),mA.assign(hf[0].mul(t.x).add(hf[1].mul(t.y))),Rf.assign(hf[1].mul(t.x).sub(hf[0].mul(t.y)))}if(this.useTransmission){const t=this.transmissionNode?de(this.transmissionNode):Cee,i=this.thicknessNode?de(this.thicknessNode):Nee,r=this.attenuationDistanceNode?de(this.attenuationDistanceNode):Pee,s=this.attenuationColorNode?we(this.attenuationColorNode):Lee;if(eb.assign(t),sB.assign(i),aB.assign(r),oB.assign(s),this.useDispersion){const a=this.dispersionNode?de(this.dispersionNode):zee;lB.assign(a)}}}setupClearcoatNormal(){return this.clearcoatNormalNode?we(this.clearcoatNormalNode):_ee}setup(e){e.context.setupClearcoatNormal=()=>ad(this.setupClearcoatNormal(e),"NORMAL","vec3"),super.setup(e)}copy(e){return this.clearcoatNode=e.clearcoatNode,this.clearcoatRoughnessNode=e.clearcoatRoughnessNode,this.clearcoatNormalNode=e.clearcoatNormalNode,this.sheenNode=e.sheenNode,this.sheenRoughnessNode=e.sheenRoughnessNode,this.iridescenceNode=e.iridescenceNode,this.iridescenceIORNode=e.iridescenceIORNode,this.iridescenceThicknessNode=e.iridescenceThicknessNode,this.specularIntensityNode=e.specularIntensityNode,this.specularColorNode=e.specularColorNode,this.transmissionNode=e.transmissionNode,this.thicknessNode=e.thicknessNode,this.attenuationDistanceNode=e.attenuationDistanceNode,this.attenuationColorNode=e.attenuationColorNode,this.dispersionNode=e.dispersionNode,this.anisotropyNode=e.anisotropyNode,super.copy(e)}}const KSe=Ce(({normal:n,lightDirection:e,builder:t})=>{const i=n.dot(e),r=lt(i.mul(.5).add(.5),0);if(t.material.gradientMap){const s=mc("gradientMap","texture").context({getUV:()=>r});return we(s.r)}else{const s=r.fwidth().mul(.5);return Gi(we(.7),we(1),T1(de(.7).sub(s.x),de(.7).add(s.x),r.x))}});class ZSe extends ZS{direct({lightDirection:e,lightColor:t,reflectedLight:i},r){const s=KSe({normal:WS,lightDirection:e,builder:r}).mul(t);i.directDiffuse.addAssign(s.mul(oh({diffuseColor:Li.rgb})))}indirect(e){const{ambientOcclusion:t,irradiance:i,reflectedLight:r}=e.context;r.indirectDiffuse.addAssign(i.mul(oh({diffuseColor:Li}))),r.indirectDiffuse.mulAssign(t)}}const JSe=new oL;class eTe extends ms{static get type(){return"MeshToonNodeMaterial"}constructor(e){super(),this.isMeshToonNodeMaterial=!0,this.lights=!0,this.setDefaultValues(JSe),this.setValues(e)}setupLightingModel(){return new ZSe}}const Ete=Ce(()=>{const n=we(Dr.z,0,Dr.x.negate()).normalize(),e=Dr.cross(n);return lt(n.dot($i),e.dot($i)).mul(.495).add(.5)}).once(["NORMAL","VERTEX"])().toVar("matcapUV"),tTe=new fL;class nTe extends ms{static get type(){return"MeshMatcapNodeMaterial"}constructor(e){super(),this.isMeshMatcapNodeMaterial=!0,this.setDefaultValues(tTe),this.setValues(e)}setupVariants(e){const t=Ete;let i;e.material.matcap?i=mc("matcap","texture").context({getUV:()=>t}):i=we(Gi(.2,.8,t.y)),Li.rgb.mulAssign(i.rgb)}}class iTe extends Gs{static get type(){return"RotateNode"}constructor(e,t){super(),this.positionNode=e,this.rotationNode=t}getNodeType(e){return this.positionNode.getNodeType(e)}setup(e){const{rotationNode:t,positionNode:i}=this;if(this.getNodeType(e)==="vec2"){const s=t.cos(),a=t.sin();return BS(s,a,a.negate(),s).mul(i)}else{const s=t,a=wf(on(1,0,0,0),on(0,hc(s.x),Il(s.x).negate(),0),on(0,Il(s.x),hc(s.x),0),on(0,0,0,1)),o=wf(on(hc(s.y),0,Il(s.y),0),on(0,1,0,0),on(Il(s.y).negate(),0,hc(s.y),0),on(0,0,0,1)),l=wf(on(hc(s.z),Il(s.z).negate(),0,0),on(Il(s.z),hc(s.z),0,0),on(0,0,1,0),on(0,0,0,1));return a.mul(o).mul(l).mul(on(i,1)).xyz}}}const eT=tt(iTe).setParameterLength(2),rTe=new cS;class wte extends ms{static get type(){return"SpriteNodeMaterial"}constructor(e){super(),this.isSpriteNodeMaterial=!0,this._useSizeAttenuation=!0,this.positionNode=null,this.rotationNode=null,this.scaleNode=null,this.transparent=!0,this.setDefaultValues(rTe),this.setValues(e)}setupPositionView(e){const{object:t,camera:i}=e,r=this.sizeAttenuation,{positionNode:s,rotationNode:a,scaleNode:o}=this,l=Rh.mul(we(s||0));let u=lt(R0[0].xyz.length(),R0[1].xyz.length());if(o!==null&&(u=u.mul(lt(o))),r===!1)if(i.isPerspectiveCamera)u=u.mul(l.z.negate());else{const v=de(2).div(wh.element(1).element(1));u=u.mul(v.mul(2))}let c=_m.xy;if(t.center&&t.center.isVector2===!0){const v=a_e("center","vec2",t);c=c.sub(v.sub(.5))}c=c.mul(u);const f=de(a||bee),m=eT(c,f);return on(l.xy.add(m),l.zw)}copy(e){return this.positionNode=e.positionNode,this.rotationNode=e.rotationNode,this.scaleNode=e.scaleNode,super.copy(e)}get sizeAttenuation(){return this._useSizeAttenuation}set sizeAttenuation(e){this._useSizeAttenuation!==e&&(this._useSizeAttenuation=e,this.needsUpdate=!0)}}const sTe=new rm;class aTe extends wte{static get type(){return"PointsNodeMaterial"}constructor(e){super(),this.sizeNode=null,this.isPointsNodeMaterial=!0,this.setDefaultValues(sTe),this.setValues(e)}setupPositionView(){const{positionNode:e}=this;return Rh.mul(we(e||ds)).xyz}setupVertex(e){const t=super.setupVertex(e);if(e.material.isNodeMaterial!==!0)return t;const{rotationNode:i,scaleNode:r,sizeNode:s}=this,a=_m.xy.toVar(),o=od.z.div(od.w);if(i&&i.isNode){const u=de(i);a.assign(eT(a,u))}let l=s!==null?lt(s):Fee;return this.sizeAttenuation===!0&&(l=l.mul(l.div(As.z.negate()))),r&&r.isNode&&(l=l.mul(lt(r))),a.mulAssign(l.mul(2)),a.assign(a.div(od.z)),a.y.assign(a.y.mul(o)),a.assign(a.mul(t.w)),t.addAssign(on(a,0,0)),t}get alphaToCoverage(){return this._useAlphaToCoverage}set alphaToCoverage(e){this._useAlphaToCoverage!==e&&(this._useAlphaToCoverage=e,this.needsUpdate=!0)}}class oTe extends ZS{constructor(){super(),this.shadowNode=de(1).toVar("shadowMask")}direct({lightNode:e}){e.shadowNode!==null&&this.shadowNode.mulAssign(e.shadowNode)}finish({context:e}){Li.a.mulAssign(this.shadowNode.oneMinus()),e.outgoingLight.rgb.assign(Li.rgb)}}const lTe=new sL;class uTe extends ms{static get type(){return"ShadowNodeMaterial"}constructor(e){super(),this.isShadowNodeMaterial=!0,this.lights=!0,this.transparent=!0,this.setDefaultValues(lTe),this.setValues(e)}setupLightingModel(){return new oTe}}Dc("vec3");Dc("vec3");Dc("vec3");class cTe{constructor(e,t){this.nodes=e,this.info=t,this._context=typeof self<"u"?self:null,this._animationLoop=null,this._requestId=null}start(){const e=(t,i)=>{this._requestId=this._context.requestAnimationFrame(e),this.info.autoReset===!0&&this.info.reset(),this.nodes.nodeFrame.update(),this.info.frame=this.nodes.nodeFrame.frameId,this._animationLoop!==null&&this._animationLoop(t,i)};e()}stop(){this._context.cancelAnimationFrame(this._requestId),this._requestId=null}getAnimationLoop(){return this._animationLoop}setAnimationLoop(e){this._animationLoop=e}getContext(){return this._context}setContext(e){this._context=e}dispose(){this.stop()}}class Tu{constructor(){this.weakMap=new WeakMap}get(e){let t=this.weakMap;for(let i=0;i<e.length-1;i++)if(t=t.get(e[i]),t===void 0)return;return t.get(e[e.length-1])}set(e,t){let i=this.weakMap;for(let r=0;r<e.length-1;r++){const s=e[r];i.has(s)===!1&&i.set(s,new WeakMap),i=i.get(s)}return i.set(e[e.length-1],t),this}delete(e){let t=this.weakMap;for(let i=0;i<e.length-1;i++)if(t=t.get(e[i]),t===void 0)return!1;return t.delete(e[e.length-1])}}let fTe=0;function hTe(n){const e=Object.keys(n);let t=Object.getPrototypeOf(n);for(;t;){const i=Object.getOwnPropertyDescriptors(t);for(const r in i)if(i[r]!==void 0){const s=i[r];s&&typeof s.get=="function"&&e.push(r)}t=Object.getPrototypeOf(t)}return e}class dTe{constructor(e,t,i,r,s,a,o,l,u,c){this.id=fTe++,this._nodes=e,this._geometries=t,this.renderer=i,this.object=r,this.material=s,this.scene=a,this.camera=o,this.lightsNode=l,this.context=u,this.geometry=r.geometry,this.version=s.version,this.drawRange=null,this.attributes=null,this.attributesId=null,this.pipeline=null,this.group=null,this.vertexBuffers=null,this.drawParams=null,this.bundle=null,this.clippingContext=c,this.clippingContextCacheKey=c!==null?c.cacheKey:"",this.initialNodesCacheKey=this.getDynamicCacheKey(),this.initialCacheKey=this.getCacheKey(),this._nodeBuilderState=null,this._bindings=null,this._monitor=null,this.onDispose=null,this.isRenderObject=!0,this.onMaterialDispose=()=>{this.dispose()},this.onGeometryDispose=()=>{this.attributes=null,this.attributesId=null},this.material.addEventListener("dispose",this.onMaterialDispose),this.geometry.addEventListener("dispose",this.onGeometryDispose)}updateClipping(e){this.clippingContext=e}get clippingNeedsUpdate(){return this.clippingContext===null||this.clippingContext.cacheKey===this.clippingContextCacheKey?!1:(this.clippingContextCacheKey=this.clippingContext.cacheKey,!0)}get hardwareClippingPlanes(){return this.material.hardwareClipping===!0?this.clippingContext.unionClippingCount:0}getNodeBuilderState(){return this._nodeBuilderState||(this._nodeBuilderState=this._nodes.getForRender(this))}getMonitor(){return this._monitor||(this._monitor=this.getNodeBuilderState().observer)}getBindings(){return this._bindings||(this._bindings=this.getNodeBuilderState().createBindings())}getBindingGroup(e){for(const t of this.getBindings())if(t.name===e)return t}getIndex(){return this._geometries.getIndex(this)}getIndirect(){return this._geometries.getIndirect(this)}getChainArray(){return[this.object,this.material,this.context,this.lightsNode]}setGeometry(e){this.geometry=e,this.attributes=null,this.attributesId=null}getAttributes(){if(this.attributes!==null)return this.attributes;const e=this.getNodeBuilderState().nodeAttributes,t=this.geometry,i=[],r=new Set,s={};for(const a of e){let o;if(a.node&&a.node.attribute?o=a.node.attribute:(o=t.getAttribute(a.name),s[a.name]=o.version),o===void 0)continue;i.push(o);const l=o.isInterleavedBufferAttribute?o.data:o;r.add(l)}return this.attributes=i,this.attributesId=s,this.vertexBuffers=Array.from(r.values()),i}getVertexBuffers(){return this.vertexBuffers===null&&this.getAttributes(),this.vertexBuffers}getDrawParameters(){const{object:e,material:t,geometry:i,group:r,drawRange:s}=this,a=this.drawParams||(this.drawParams={vertexCount:0,firstVertex:0,instanceCount:0,firstInstance:0}),o=this.getIndex(),l=o!==null;let u=1;if(i.isInstancedBufferGeometry===!0?u=i.instanceCount:e.count!==void 0&&(u=Math.max(0,e.count)),u===0)return null;if(a.instanceCount=u,e.isBatchedMesh===!0)return a;let c=1;t.wireframe===!0&&!e.isPoints&&!e.isLineSegments&&!e.isLine&&!e.isLineLoop&&(c=2);let f=s.start*c,m=(s.start+s.count)*c;r!==null&&(f=Math.max(f,r.start*c),m=Math.min(m,(r.start+r.count)*c));const v=i.attributes.position;let _=1/0;l?_=o.count:v!=null&&(_=v.count),f=Math.max(f,0),m=Math.min(m,_);const T=m-f;return T<0||T===1/0?null:(a.vertexCount=T,a.firstVertex=f,a)}getGeometryCacheKey(){const{geometry:e}=this;let t="";for(const i of Object.keys(e.attributes).sort()){const r=e.attributes[i];t+=i+",",r.data&&(t+=r.data.stride+","),r.offset&&(t+=r.offset+","),r.itemSize&&(t+=r.itemSize+","),r.normalized&&(t+="n,")}for(const i of Object.keys(e.morphAttributes).sort()){const r=e.morphAttributes[i];t+="morph-"+i+",";for(let s=0,a=r.length;s<a;s++){const o=r[s];t+=o.id+","}}return e.index&&(t+="index,"),t}getMaterialCacheKey(){const{object:e,material:t}=this;let i=t.customProgramCacheKey();for(const r of hTe(t)){if(/^(is[A-Z]|_)|^(visible|version|uuid|name|opacity|userData)$/.test(r))continue;const s=t[r];let a;if(s!==null){const o=typeof s;o==="number"?a=s!==0?"1":"0":o==="object"?(a="{",s.isTexture&&(a+=s.mapping),a+="}"):a=String(s)}else a=String(s);i+=a+","}return i+=this.clippingContextCacheKey+",",e.geometry&&(i+=this.getGeometryCacheKey()),e.skeleton&&(i+=e.skeleton.bones.length+","),e.isBatchedMesh&&(i+=e._matricesTexture.uuid+",",e._colorsTexture!==null&&(i+=e._colorsTexture.uuid+",")),e.count>1&&(i+=e.uuid+","),i+=e.receiveShadow+",",QK(i)}get needsGeometryUpdate(){if(this.geometry.id!==this.object.geometry.id)return!0;if(this.attributes!==null){const e=this.attributesId;for(const t in e){const i=this.geometry.getAttribute(t);if(i===void 0||e[t]!==i.id)return!0}}return!1}get needsUpdate(){return this.initialNodesCacheKey!==this.getDynamicCacheKey()||this.clippingNeedsUpdate}getDynamicCacheKey(){let e=0;return this.material.isShadowPassMaterial!==!0&&(e=this._nodes.getCacheKey(this.scene,this.lightsNode)),this.camera.isArrayCamera&&(e=Y_(e,this.camera.cameras.length)),this.object.receiveShadow&&(e=Y_(e,1)),e}getCacheKey(){return this.getMaterialCacheKey()+this.getDynamicCacheKey()}dispose(){this.material.removeEventListener("dispose",this.onMaterialDispose),this.geometry.removeEventListener("dispose",this.onGeometryDispose),this.onDispose()}}const L4=[];class ATe{constructor(e,t,i,r,s,a){this.renderer=e,this.nodes=t,this.geometries=i,this.pipelines=r,this.bindings=s,this.info=a,this.chainMaps={}}get(e,t,i,r,s,a,o,l){const u=this.getChainMap(l);L4[0]=e,L4[1]=t,L4[2]=a,L4[3]=s;let c=u.get(L4);return c===void 0?(c=this.createRenderObject(this.nodes,this.geometries,this.renderer,e,t,i,r,s,a,o,l),u.set(L4,c)):(c.updateClipping(o),c.needsGeometryUpdate&&c.setGeometry(e.geometry),(c.version!==t.version||c.needsUpdate)&&(c.initialCacheKey!==c.getCacheKey()?(c.dispose(),c=this.get(e,t,i,r,s,a,o,l)):c.version=t.version)),L4.length=0,c}getChainMap(e="default"){return this.chainMaps[e]||(this.chainMaps[e]=new Tu)}dispose(){this.chainMaps={}}createRenderObject(e,t,i,r,s,a,o,l,u,c,f){const m=this.getChainMap(f),v=new dTe(e,t,i,r,s,a,o,l,u,c);return v.onDispose=()=>{this.pipelines.delete(v),this.bindings.delete(v),this.nodes.delete(v),m.delete(v.getChainArray())},v}}class G3{constructor(){this.data=new WeakMap}get(e){let t=this.data.get(e);return t===void 0&&(t={},this.data.set(e,t)),t}delete(e){let t=null;return this.data.has(e)&&(t=this.data.get(e),this.data.delete(e)),t}has(e){return this.data.has(e)}dispose(){this.data=new WeakMap}}const C0={VERTEX:1,INDEX:2,STORAGE:3,INDIRECT:4},$2=16,pTe=211,mTe=212;class gTe extends G3{constructor(e){super(),this.backend=e}delete(e){const t=super.delete(e);return t!==null&&this.backend.destroyAttribute(e),t}update(e,t){const i=this.get(e);if(i.version===void 0)t===C0.VERTEX?this.backend.createAttribute(e):t===C0.INDEX?this.backend.createIndexAttribute(e):t===C0.STORAGE?this.backend.createStorageAttribute(e):t===C0.INDIRECT&&this.backend.createIndirectStorageAttribute(e),i.version=this._getBufferAttribute(e).version;else{const r=this._getBufferAttribute(e);(i.version<r.version||r.usage===af)&&(this.backend.updateAttribute(e),i.version=r.version)}}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}function Rte(n){return n.index!==null?n.index.version:n.attributes.position.version}function IG(n){const e=[],t=n.index,i=n.attributes.position;if(t!==null){const s=t.array;for(let a=0,o=s.length;a<o;a+=3){const l=s[a+0],u=s[a+1],c=s[a+2];e.push(l,u,u,c,c,l)}}else{const s=i.array;for(let a=0,o=s.length/3-1;a<o;a+=3){const l=a+0,u=a+1,c=a+2;e.push(l,u,u,c,c,l)}}const r=new(qP(e)?oS:aS)(e,1);return r.version=Rte(n),r}class yTe extends G3{constructor(e,t){super(),this.attributes=e,this.info=t,this.wireframes=new WeakMap,this.attributeCall=new WeakMap}has(e){const t=e.geometry;return super.has(t)&&this.get(t).initialized===!0}updateForRender(e){this.has(e)===!1&&this.initGeometry(e),this.updateAttributes(e)}initGeometry(e){const t=e.geometry,i=this.get(t);i.initialized=!0,this.info.memory.geometries++;const r=()=>{this.info.memory.geometries--;const s=t.index,a=e.getAttributes();s!==null&&this.attributes.delete(s);for(const l of a)this.attributes.delete(l);const o=this.wireframes.get(t);o!==void 0&&this.attributes.delete(o),t.removeEventListener("dispose",r)};t.addEventListener("dispose",r)}updateAttributes(e){const t=e.getAttributes();for(const s of t)s.isStorageBufferAttribute||s.isStorageInstancedBufferAttribute?this.updateAttribute(s,C0.STORAGE):this.updateAttribute(s,C0.VERTEX);const i=this.getIndex(e);i!==null&&this.updateAttribute(i,C0.INDEX);const r=e.geometry.indirect;r!==null&&this.updateAttribute(r,C0.INDIRECT)}updateAttribute(e,t){const i=this.info.render.calls;e.isInterleavedBufferAttribute?this.attributeCall.get(e)===void 0?(this.attributes.update(e,t),this.attributeCall.set(e,i)):this.attributeCall.get(e.data)!==i&&(this.attributes.update(e,t),this.attributeCall.set(e.data,i),this.attributeCall.set(e,i)):this.attributeCall.get(e)!==i&&(this.attributes.update(e,t),this.attributeCall.set(e,i))}getIndirect(e){return e.geometry.indirect}getIndex(e){const{geometry:t,material:i}=e;let r=t.index;if(i.wireframe===!0){const s=this.wireframes;let a=s.get(t);a===void 0?(a=IG(t),s.set(t,a)):a.version!==Rte(t)&&(this.attributes.delete(a),a=IG(t),s.set(t,a)),r=a}return r}}class vTe{constructor(){this.autoReset=!0,this.frame=0,this.calls=0,this.render={calls:0,frameCalls:0,drawCalls:0,triangles:0,points:0,lines:0,timestamp:0},this.compute={calls:0,frameCalls:0,timestamp:0},this.memory={geometries:0,textures:0}}update(e,t,i){this.render.drawCalls++,e.isMesh||e.isSprite?this.render.triangles+=i*(t/3):e.isPoints?this.render.points+=i*t:e.isLineSegments?this.render.lines+=i*(t/2):e.isLine?this.render.lines+=i*(t-1):console.error("THREE.WebGPUInfo: Unknown object type.")}reset(){this.render.drawCalls=0,this.render.frameCalls=0,this.compute.frameCalls=0,this.render.triangles=0,this.render.points=0,this.render.lines=0}dispose(){this.reset(),this.calls=0,this.render.calls=0,this.compute.calls=0,this.render.timestamp=0,this.compute.timestamp=0,this.memory.geometries=0,this.memory.textures=0}}class Cte{constructor(e){this.cacheKey=e,this.usedTimes=0}}class xTe extends Cte{constructor(e,t,i){super(e),this.vertexProgram=t,this.fragmentProgram=i}}class _Te extends Cte{constructor(e,t){super(e),this.computeProgram=t,this.isComputePipeline=!0}}let bTe=0;class ow{constructor(e,t,i,r=null,s=null){this.id=bTe++,this.code=e,this.stage=t,this.name=i,this.transforms=r,this.attributes=s,this.usedTimes=0}}class STe extends G3{constructor(e,t){super(),this.backend=e,this.nodes=t,this.bindings=null,this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}getForCompute(e,t){const{backend:i}=this,r=this.get(e);if(this._needsComputeUpdate(e)){const s=r.pipeline;s&&(s.usedTimes--,s.computeProgram.usedTimes--);const a=this.nodes.getForCompute(e);let o=this.programs.compute.get(a.computeShader);o===void 0&&(s&&s.computeProgram.usedTimes===0&&this._releaseProgram(s.computeProgram),o=new ow(a.computeShader,"compute",e.name,a.transforms,a.nodeAttributes),this.programs.compute.set(a.computeShader,o),i.createProgram(o));const l=this._getComputeCacheKey(e,o);let u=this.caches.get(l);u===void 0&&(s&&s.usedTimes===0&&this._releasePipeline(s),u=this._getComputePipeline(e,o,l,t)),u.usedTimes++,o.usedTimes++,r.version=e.version,r.pipeline=u}return r.pipeline}getForRender(e,t=null){const{backend:i}=this,r=this.get(e);if(this._needsRenderUpdate(e)){const s=r.pipeline;s&&(s.usedTimes--,s.vertexProgram.usedTimes--,s.fragmentProgram.usedTimes--);const a=e.getNodeBuilderState(),o=e.material?e.material.name:"";let l=this.programs.vertex.get(a.vertexShader);l===void 0&&(s&&s.vertexProgram.usedTimes===0&&this._releaseProgram(s.vertexProgram),l=new ow(a.vertexShader,"vertex",o),this.programs.vertex.set(a.vertexShader,l),i.createProgram(l));let u=this.programs.fragment.get(a.fragmentShader);u===void 0&&(s&&s.fragmentProgram.usedTimes===0&&this._releaseProgram(s.fragmentProgram),u=new ow(a.fragmentShader,"fragment",o),this.programs.fragment.set(a.fragmentShader,u),i.createProgram(u));const c=this._getRenderCacheKey(e,l,u);let f=this.caches.get(c);f===void 0?(s&&s.usedTimes===0&&this._releasePipeline(s),f=this._getRenderPipeline(e,l,u,c,t)):e.pipeline=f,f.usedTimes++,l.usedTimes++,u.usedTimes++,r.pipeline=f}return r.pipeline}delete(e){const t=this.get(e).pipeline;return t&&(t.usedTimes--,t.usedTimes===0&&this._releasePipeline(t),t.isComputePipeline?(t.computeProgram.usedTimes--,t.computeProgram.usedTimes===0&&this._releaseProgram(t.computeProgram)):(t.fragmentProgram.usedTimes--,t.vertexProgram.usedTimes--,t.vertexProgram.usedTimes===0&&this._releaseProgram(t.vertexProgram),t.fragmentProgram.usedTimes===0&&this._releaseProgram(t.fragmentProgram))),super.delete(e)}dispose(){super.dispose(),this.caches=new Map,this.programs={vertex:new Map,fragment:new Map,compute:new Map}}updateForRender(e){this.getForRender(e)}_getComputePipeline(e,t,i,r){i=i||this._getComputeCacheKey(e,t);let s=this.caches.get(i);return s===void 0&&(s=new _Te(i,t),this.caches.set(i,s),this.backend.createComputePipeline(s,r)),s}_getRenderPipeline(e,t,i,r,s){r=r||this._getRenderCacheKey(e,t,i);let a=this.caches.get(r);return a===void 0&&(a=new xTe(r,t,i),this.caches.set(r,a),e.pipeline=a,this.backend.createRenderPipeline(e,s)),a}_getComputeCacheKey(e,t){return e.id+","+t.id}_getRenderCacheKey(e,t,i){return t.id+","+i.id+","+this.backend.getRenderCacheKey(e)}_releasePipeline(e){this.caches.delete(e.cacheKey)}_releaseProgram(e){const t=e.code,i=e.stage;this.programs[i].delete(t)}_needsComputeUpdate(e){const t=this.get(e);return t.pipeline===void 0||t.version!==e.version}_needsRenderUpdate(e){return this.get(e).pipeline===void 0||this.backend.needsRenderUpdate(e)}}class TTe extends G3{constructor(e,t,i,r,s,a){super(),this.backend=e,this.textures=i,this.pipelines=s,this.attributes=r,this.nodes=t,this.info=a,this.pipelines.bindings=this}getForRender(e){const t=e.getBindings();for(const i of t){const r=this.get(i);r.bindGroup===void 0&&(this._init(i),this.backend.createBindings(i,t,0),r.bindGroup=i)}return t}getForCompute(e){const t=this.nodes.getForCompute(e).bindings;for(const i of t){const r=this.get(i);r.bindGroup===void 0&&(this._init(i),this.backend.createBindings(i,t,0),r.bindGroup=i)}return t}updateForCompute(e){this._updateBindings(this.getForCompute(e))}updateForRender(e){this._updateBindings(this.getForRender(e))}_updateBindings(e){for(const t of e)this._update(t,e)}_init(e){for(const t of e.bindings)if(t.isSampledTexture)this.textures.updateTexture(t.texture);else if(t.isStorageBuffer){const i=t.attribute,r=i.isIndirectStorageBufferAttribute?C0.INDIRECT:C0.STORAGE;this.attributes.update(i,r)}}_update(e,t){const{backend:i}=this;let r=!1,s=!0,a=0,o=0;for(const l of e.bindings)if(!(l.isNodeUniformsGroup&&this.nodes.updateGroup(l)===!1)){if(l.isStorageBuffer){const u=l.attribute,c=u.isIndirectStorageBufferAttribute?C0.INDIRECT:C0.STORAGE;this.attributes.update(u,c)}if(l.isUniformBuffer)l.update()&&i.updateBinding(l);else if(l.isSampler)l.update();else if(l.isSampledTexture){const u=this.textures.get(l.texture);l.needsBindingsUpdate(u.generation)&&(r=!0);const c=l.update(),f=l.texture;c&&this.textures.updateTexture(f);const m=i.get(f);if(m.externalTexture!==void 0||u.isDefaultTexture?s=!1:(a=a*10+f.id,o+=f.version),i.isWebGPUBackend===!0&&m.texture===void 0&&m.externalTexture===void 0&&(console.error("Bindings._update: binding should be available:",l,c,f,l.textureNode.value,r),this.textures.updateTexture(f),r=!0),f.isStorageTexture===!0){const v=this.get(f);l.store===!0?v.needsMipmap=!0:this.textures.needsMipmaps(f)&&v.needsMipmap===!0&&(this.backend.generateMipmaps(f),v.needsMipmap=!1)}}}r===!0&&this.backend.updateBindings(e,t,s?a:0,o)}}function MTe(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?n.z-e.z:n.id-e.id}function FG(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function zG(n){return(n.transmission>0||n.transmissionNode)&&n.side===hs&&n.forceSinglePass===!1}class ETe{constructor(e,t,i){this.renderItems=[],this.renderItemsIndex=0,this.opaque=[],this.transparentDoublePass=[],this.transparent=[],this.bundles=[],this.lightsNode=e.getNode(t,i),this.lightsArray=[],this.scene=t,this.camera=i,this.occlusionQueryCount=0}begin(){return this.renderItemsIndex=0,this.opaque.length=0,this.transparentDoublePass.length=0,this.transparent.length=0,this.bundles.length=0,this.lightsArray.length=0,this.occlusionQueryCount=0,this}getNextRenderItem(e,t,i,r,s,a,o){let l=this.renderItems[this.renderItemsIndex];return l===void 0?(l={id:e.id,object:e,geometry:t,material:i,groupOrder:r,renderOrder:e.renderOrder,z:s,group:a,clippingContext:o},this.renderItems[this.renderItemsIndex]=l):(l.id=e.id,l.object=e,l.geometry=t,l.material=i,l.groupOrder=r,l.renderOrder=e.renderOrder,l.z=s,l.group=a,l.clippingContext=o),this.renderItemsIndex++,l}push(e,t,i,r,s,a,o){const l=this.getNextRenderItem(e,t,i,r,s,a,o);e.occlusionTest===!0&&this.occlusionQueryCount++,i.transparent===!0||i.transmission>0?(zG(i)&&this.transparentDoublePass.push(l),this.transparent.push(l)):this.opaque.push(l)}unshift(e,t,i,r,s,a,o){const l=this.getNextRenderItem(e,t,i,r,s,a,o);i.transparent===!0||i.transmission>0?(zG(i)&&this.transparentDoublePass.unshift(l),this.transparent.unshift(l)):this.opaque.unshift(l)}pushBundle(e){this.bundles.push(e)}pushLight(e){this.lightsArray.push(e)}sort(e,t){this.opaque.length>1&&this.opaque.sort(e||MTe),this.transparentDoublePass.length>1&&this.transparentDoublePass.sort(t||FG),this.transparent.length>1&&this.transparent.sort(t||FG)}finish(){this.lightsNode.setLights(this.lightsArray);for(let e=this.renderItemsIndex,t=this.renderItems.length;e<t;e++){const i=this.renderItems[e];if(i.id===null)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.groupOrder=null,i.renderOrder=null,i.z=null,i.group=null,i.clippingContext=null}}}const l9=[];class wTe{constructor(e){this.lighting=e,this.lists=new Tu}get(e,t){const i=this.lists;l9[0]=e,l9[1]=t;let r=i.get(l9);return r===void 0&&(r=new ETe(this.lighting,e,t),i.set(l9,r)),l9.length=0,r}dispose(){this.lists=new Tu}}let RTe=0;class CTe{constructor(){this.id=RTe++,this.color=!0,this.clearColor=!0,this.clearColorValue={r:0,g:0,b:0,a:1},this.depth=!0,this.clearDepth=!0,this.clearDepthValue=1,this.stencil=!1,this.clearStencil=!0,this.clearStencilValue=1,this.viewport=!1,this.viewportValue=new ln,this.scissor=!1,this.scissorValue=new ln,this.renderTarget=null,this.textures=null,this.depthTexture=null,this.activeCubeFace=0,this.activeMipmapLevel=0,this.sampleCount=1,this.width=0,this.height=0,this.occlusionQueryCount=0,this.clippingContext=null,this.isRenderContext=!0}getCacheKey(){return Nte(this)}}function Nte(n){const{textures:e,activeCubeFace:t}=n,i=[t];for(const r of e)i.push(r.id);return NS(i)}const u9=[],NTe=new xh,DTe=new vh;class PTe{constructor(){this.chainMaps={}}get(e,t,i=null){u9[0]=e,u9[1]=t;let r;if(i===null)r="default";else{const o=i.texture.format;r=`${i.textures.length}:${o}:${i.samples}:${i.depthBuffer}:${i.stencilBuffer}`}const s=this._getChainMap(r);let a=s.get(u9);return a===void 0&&(a=new CTe,s.set(u9,a)),u9.length=0,i!==null&&(a.sampleCount=i.samples===0?1:i.samples),a}getForClear(e=null){return this.get(NTe,DTe,e)}_getChainMap(e){return this.chainMaps[e]||(this.chainMaps[e]=new Tu)}dispose(){this.chainMaps={}}}const LTe=new re;class BTe extends G3{constructor(e,t,i){super(),this.renderer=e,this.backend=t,this.info=i}updateRenderTarget(e,t=0){const i=this.get(e),r=e.samples===0?1:e.samples,s=i.depthTextureMips||(i.depthTextureMips={}),a=e.textures,o=this.getSize(a[0]),l=o.width>>t,u=o.height>>t;let c=e.depthTexture||s[t];const f=e.depthBuffer===!0||e.stencilBuffer===!0;let m=!1;c===void 0&&f&&(c=new ol,c.format=e.stencilBuffer?sl:rl,c.type=e.stencilBuffer?il:tr,c.image.width=l,c.image.height=u,c.image.depth=o.depth,c.isArrayTexture=e.multiview===!0&&o.depth>1,s[t]=c),(i.width!==o.width||o.height!==i.height)&&(m=!0,c&&(c.needsUpdate=!0,c.image.width=l,c.image.height=u,c.image.depth=c.isArrayTexture?c.image.depth:1)),i.width=o.width,i.height=o.height,i.textures=a,i.depthTexture=c||null,i.depth=e.depthBuffer,i.stencil=e.stencilBuffer,i.renderTarget=e,i.sampleCount!==r&&(m=!0,c&&(c.needsUpdate=!0),i.sampleCount=r);const v={sampleCount:r};if(e.isXRRenderTarget!==!0){for(let _=0;_<a.length;_++){const T=a[_];m&&(T.needsUpdate=!0),this.updateTexture(T,v)}c&&this.updateTexture(c,v)}if(i.initialized!==!0){i.initialized=!0;const _=()=>{e.removeEventListener("dispose",_);for(let T=0;T<a.length;T++)this._destroyTexture(a[T]);c&&this._destroyTexture(c),this.delete(e)};e.addEventListener("dispose",_)}}updateTexture(e,t={}){const i=this.get(e);if(i.initialized===!0&&i.version===e.version)return;const r=e.isRenderTargetTexture||e.isDepthTexture||e.isFramebufferTexture,s=this.backend;if(r&&i.initialized===!0&&(s.destroySampler(e),s.destroyTexture(e)),e.isFramebufferTexture){const u=this.renderer.getRenderTarget();u?e.type=u.texture.type:e.type=Lr}const{width:a,height:o,depth:l}=this.getSize(e);if(t.width=a,t.height=o,t.depth=l,t.needsMipmaps=this.needsMipmaps(e),t.levels=t.needsMipmaps?this.getMipLevels(e,a,o):1,r||e.isStorageTexture===!0)s.createSampler(e),s.createTexture(e,t),i.generation=e.version;else if(i.initialized!==!0&&s.createSampler(e),e.version>0){const c=e.image;if(c===void 0)console.warn("THREE.Renderer: Texture marked for update but image is undefined.");else if(c.complete===!1)console.warn("THREE.Renderer: Texture marked for update but image is incomplete.");else{if(e.images){const f=[];for(const m of e.images)f.push(m);t.images=f}else t.image=c;(i.isDefaultTexture===void 0||i.isDefaultTexture===!0)&&(s.createTexture(e,t),i.isDefaultTexture=!1,i.generation=e.version),e.source.dataReady===!0&&s.updateTexture(e,t),t.needsMipmaps&&e.mipmaps.length===0&&s.generateMipmaps(e)}}else s.createDefaultTexture(e),i.isDefaultTexture=!0,i.generation=e.version;if(i.initialized!==!0){i.initialized=!0,i.generation=e.version,this.info.memory.textures++;const u=()=>{e.removeEventListener("dispose",u),this._destroyTexture(e)};e.addEventListener("dispose",u)}i.version=e.version}getSize(e,t=LTe){let i=e.images?e.images[0]:e.image;return i?(i.image!==void 0&&(i=i.image),t.width=i.width||1,t.height=i.height||1,t.depth=e.isCubeTexture?6:i.depth||1):t.width=t.height=t.depth=1,t}getMipLevels(e,t,i){let r;return e.isCompressedTexture?e.mipmaps?r=e.mipmaps.length:r=1:r=Math.floor(Math.log2(Math.max(t,i)))+1,r}needsMipmaps(e){return e.isCompressedTexture===!0||e.generateMipmaps}_destroyTexture(e){this.has(e)===!0&&(this.backend.destroySampler(e),this.backend.destroyTexture(e),this.delete(e),this.info.memory.textures--)}}class KB extends Nt{constructor(e,t,i,r=1){super(e,t,i),this.a=r}set(e,t,i,r=1){return this.a=r,super.set(e,t,i)}copy(e){return e.a!==void 0&&(this.a=e.a),super.copy(e)}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}}class Dte extends ji{static get type(){return"ParameterNode"}constructor(e,t=null){super(e,t),this.isParameterNode=!0}getHash(){return this.uuid}generate(){return this.name}}const UTe=(n,e)=>Qe(new Dte(n,e));class OTe extends pn{static get type(){return"StackNode"}constructor(e=null){super(),this.nodes=[],this.outputNode=null,this.parent=e,this._currentCond=null,this._expressionNode=null,this.isStackNode=!0}getNodeType(e){return this.outputNode?this.outputNode.getNodeType(e):"void"}getMemberType(e,t){return this.outputNode?this.outputNode.getMemberType(e,t):"void"}add(e){return this.nodes.push(e),this}If(e,t){const i=new q6(t);return this._currentCond=_a(e,i),this.add(this._currentCond)}ElseIf(e,t){const i=new q6(t),r=_a(e,i);return this._currentCond.elseNode=r,this._currentCond=r,this}Else(e){return this._currentCond.elseNode=new q6(e),this}Switch(e){return this._expressionNode=Qe(e),this}Case(...e){const t=[];if(e.length>=2)for(let o=0;o<e.length-1;o++)t.push(this._expressionNode.equal(Qe(e[o])));else throw new Error("TSL: Invalid parameter length. Case() requires at least two parameters.");const i=e[e.length-1],r=new q6(i);let s=t[0];for(let o=1;o<t.length;o++)s=s.or(t[o]);const a=_a(s,r);return this._currentCond===null?(this._currentCond=a,this.add(this._currentCond)):(this._currentCond.elseNode=a,this._currentCond=a,this)}Default(e){return this.Else(e),this}build(e,...t){const i=e.currentStack,r=tB();mp(this),e.currentStack=this;const s=e.buildStage;for(const o of this.nodes)if(s==="setup")o.build(e);else if(s==="analyze")o.build(e,this);else if(s==="generate"){const l=e.getDataFromNode(o,"any").stages,u=l&&l[e.shaderStage];if(o.isVarNode&&u&&u.length===1&&u[0]&&u[0].isStackNode)continue;o.build(e,"void")}const a=this.outputNode?this.outputNode.build(e,...t):super.build(e,...t);return mp(r),e.currentStack=i,a}}const Ax=tt(OTe).setParameterLength(0,1);function ITe(n){return Object.entries(n).map(([e,t])=>typeof t=="string"?{name:e,type:t,atomic:!1}:{name:e,type:t.type,atomic:t.atomic||!1})}class FTe extends pn{static get type(){return"StructTypeNode"}constructor(e,t=null){super("struct"),this.membersLayout=ITe(e),this.name=t,this.isStructLayoutNode=!0}getLength(){const t=Float32Array.BYTES_PER_ELEMENT;let i=0;for(const r of this.membersLayout){const s=r.type,a=vxe(s)*t,o=xxe(s),l=i%8,u=l%o,c=l+u;i+=u,c!==0&&8-c<a&&(i+=8-c),i+=a}return Math.ceil(i/8)*8/t}getMemberType(e,t){const i=this.membersLayout.find(r=>r.name===t);return i?i.type:"void"}getNodeType(e){return e.getStructTypeFromNode(this,this.membersLayout,this.name).name}setup(e){e.addInclude(this)}generate(e){return this.getNodeType(e)}}class zTe extends pn{static get type(){return"StructNode"}constructor(e,t){super("vec3"),this.structLayoutNode=e,this.values=t,this.isStructNode=!0}getNodeType(e){return this.structLayoutNode.getNodeType(e)}getMemberType(e,t){return this.structLayoutNode.getMemberType(e,t)}generate(e){const t=e.getVarFromNode(this),i=t.type,r=e.getPropertyName(t);return e.addLineFlowCode(`${r} = ${e.generateStruct(i,this.structLayoutNode.membersLayout,this.values)}`,this),t.name}}const VTe=(n,e=null)=>{const t=new FTe(n,e),i=(...r)=>{let s=null;if(r.length>0)if(r[0].isNode){s={};const a=Object.keys(n);for(let o=0;o<r.length;o++)s[a[o]]=r[o]}else s=r[0];return Qe(new zTe(t,s))};return i.layout=t,i.isStruct=!0,i};class Pte extends pn{static get type(){return"OutputStructNode"}constructor(...e){super(),this.members=e,this.isOutputStructNode=!0}getNodeType(e){const t=e.getNodeProperties(this);if(t.membersLayout===void 0){const i=this.members,r=[];for(let s=0;s<i.length;s++){const a="m"+s,o=i[s].getNodeType(e);r.push({name:a,type:o,index:s})}t.membersLayout=r,t.structType=e.getOutputStructTypeFromNode(this,t.membersLayout)}return t.structType.name}generate(e){const t=e.getOutputStructName(),i=this.members,r=t!==""?t+".":"";for(let s=0;s<i.length;s++){const a=i[s].build(e);e.addLineFlowCode(`${r}m${s} = ${a}`,this)}return t}}const kTe=tt(Pte);function Lte(n,e){for(let t=0;t<n.length;t++)if(n[t].name===e)return t;return-1}class GTe extends Pte{static get type(){return"MRTNode"}constructor(e){super(),this.outputNodes=e,this.isMRTNode=!0}has(e){return this.outputNodes[e]!==void 0}get(e){return this.outputNodes[e]}merge(e){const t={...this.outputNodes,...e.outputNodes};return Bte(t)}setup(e){const t=this.outputNodes,i=e.renderer.getRenderTarget(),r=[],s=i.textures;for(const a in t){const o=Lte(s,a);r[o]=on(t[a])}return this.members=r,super.setup(e)}}const Bte=tt(GTe),qTe=Ce(([n])=>{const e=n.toUint().mul(747796405).add(2891336453),t=e.shiftRight(e.shiftRight(28).add(4)).bitXor(e).mul(277803737);return t.shiftRight(22).bitXor(t).toFloat().mul(1/2**32)}),PN=(n,e)=>yu(Wn(4,n.mul(Ti(1,n))),e),HTe=(n,e)=>n.lessThan(.5)?PN(n.mul(2),e).div(2):Ti(1,PN(Wn(Ti(1,n),2),e).div(2)),jTe=(n,e,t)=>yu(I0(yu(n,e),ks(yu(n,e),yu(Ti(1,n),t))),1/e),WTe=(n,e)=>Il(tb.mul(e.mul(n).sub(1))).div(tb.mul(e.mul(n).sub(1))),dc=Ce(([n])=>n.fract().sub(.5).abs()).setLayout({name:"tri",type:"float",inputs:[{name:"x",type:"float"}]}),XTe=Ce(([n])=>we(dc(n.z.add(dc(n.y.mul(1)))),dc(n.z.add(dc(n.x.mul(1)))),dc(n.y.add(dc(n.x.mul(1)))))).setLayout({name:"tri3",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),YTe=Ce(([n,e,t])=>{const i=we(n).toVar(),r=de(1.4).toVar(),s=de(0).toVar(),a=we(i).toVar();return Ki({start:de(0),end:de(3),type:"float",condition:"<="},()=>{const o=we(XTe(a.mul(2))).toVar();i.addAssign(o.add(t.mul(de(.1).mul(e)))),a.mulAssign(1.8),r.mulAssign(1.5),i.mulAssign(1.2);const l=de(dc(i.z.add(dc(i.x.add(dc(i.y)))))).toVar();s.addAssign(l.div(r)),a.addAssign(.14)}),s}).setLayout({name:"triNoise3D",type:"float",inputs:[{name:"position",type:"vec3"},{name:"speed",type:"float"},{name:"time",type:"float"}]});class QTe extends pn{static get type(){return"FunctionOverloadingNode"}constructor(e=[],...t){super(),this.functionNodes=e,this.parametersNodes=t,this._candidateFnCall=null,this.global=!0}getNodeType(){return this.functionNodes[0].shaderNode.layout.type}setup(e){const t=this.parametersNodes;let i=this._candidateFnCall;if(i===null){let r=null,s=-1;for(const a of this.functionNodes){const l=a.shaderNode.layout;if(l===null)throw new Error("FunctionOverloadingNode: FunctionNode must be a layout.");const u=l.inputs;if(t.length===u.length){let c=0;for(let f=0;f<t.length;f++){const m=t[f],v=u[f];m.getNodeType(e)===v.type?c++:c=0}c>s&&(r=a,s=c)}}this._candidateFnCall=i=r(...t)}return i}}const $Te=tt(QTe),ja=n=>(...e)=>$Te(n,...e),Ch=un(0).setGroup(mn).onRenderUpdate(n=>n.time),Ute=un(0).setGroup(mn).onRenderUpdate(n=>n.deltaTime),KTe=un(0,"uint").setGroup(mn).onRenderUpdate(n=>n.frameId),ZTe=(n=1)=>(console.warn('TSL: timerLocal() is deprecated. Use "time" instead.'),Ch.mul(n)),JTe=(n=1)=>(console.warn('TSL: timerGlobal() is deprecated. Use "time" instead.'),Ch.mul(n)),eMe=(n=1)=>(console.warn('TSL: timerDelta() is deprecated. Use "deltaTime" instead.'),Ute.mul(n)),tMe=(n=Ch)=>n.add(.75).mul(Math.PI*2).sin().mul(.5).add(.5),nMe=(n=Ch)=>n.fract().round(),iMe=(n=Ch)=>n.add(.5).fract().mul(2).sub(1).abs(),rMe=(n=Ch)=>n.fract(),sMe=Ce(([n,e,t=lt(.5)])=>eT(n.sub(t),e).add(t)),aMe=Ce(([n,e,t=lt(.5)])=>{const i=n.sub(t),r=i.dot(i),a=r.mul(r).mul(e);return n.add(i.mul(a))}),oMe=Ce(({position:n=null,horizontal:e=!0,vertical:t=!1})=>{let i;n!==null?(i=R0.toVar(),i[3][0]=n.x,i[3][1]=n.y,i[3][2]=n.z):i=R0;const r=j0.mul(i);return pp(e)&&(r[0][0]=R0[0].length(),r[0][1]=0,r[0][2]=0),pp(t)&&(r[1][0]=0,r[1][1]=R0[1].length(),r[1][2]=0),r[2][0]=0,r[2][1]=0,r[2][2]=1,wh.mul(r).mul(ds)}),lMe=Ce(([n=null])=>{const e=rb();return rb(zB(n)).sub(e).lessThan(0).select(Lc,n)});class uMe extends pn{static get type(){return"SpriteSheetUVNode"}constructor(e,t=Rr(),i=de(0)){super("vec2"),this.countNode=e,this.uvNode=t,this.frameNode=i}setup(){const{frameNode:e,uvNode:t,countNode:i}=this,{width:r,height:s}=i,a=e.mod(r.mul(s)).floor(),o=a.mod(r),l=s.sub(a.add(1).div(r).ceil()),u=i.reciprocal(),c=lt(o,l);return t.add(c).mul(u)}}const cMe=tt(uMe).setParameterLength(3),Ote=Ce(([n,e=null,t=null,i=de(1),r=ds,s=fl])=>{let a=s.abs().normalize();a=a.div(a.dot(we(1)));const o=r.yz.mul(i),l=r.zx.mul(i),u=r.xy.mul(i),c=n.value,f=e!==null?e.value:c,m=t!==null?t.value:c,v=oi(c,o).mul(a.x),_=oi(f,l).mul(a.y),T=oi(m,u).mul(a.z);return ks(v,_,T)}),fMe=(...n)=>Ote(...n),e6=new hu,B4=new re,t6=new re,lw=new re,c9=new Yt,av=new re(0,0,-1),ju=new ln,f9=new re,ov=new re,h9=new ln,lv=new Ye,sb=new Eu,hMe=Lc.flipX();sb.depthTexture=new ol(1,1);let uv=!1;class ZB extends M1{static get type(){return"ReflectorNode"}constructor(e={}){super(e.defaultTexture||sb.texture,hMe),this._reflectorBaseNode=e.reflector||new dMe(this,e),this._depthNode=null,this.setUpdateMatrix(!1)}get reflector(){return this._reflectorBaseNode}get target(){return this._reflectorBaseNode.target}getDepthNode(){if(this._depthNode===null){if(this._reflectorBaseNode.depth!==!0)throw new Error("THREE.ReflectorNode: Depth node can only be requested when the reflector is created with { depth: true }. ");this._depthNode=Qe(new ZB({defaultTexture:sb.depthTexture,reflector:this._reflectorBaseNode}))}return this._depthNode}setup(e){return e.object.isQuadMesh||this._reflectorBaseNode.build(e),super.setup(e)}clone(){const e=new this.constructor(this.reflectorNode);return e.uvNode=this.uvNode,e.levelNode=this.levelNode,e.biasNode=this.biasNode,e.sampler=this.sampler,e.depthNode=this.depthNode,e.compareNode=this.compareNode,e.gradNode=this.gradNode,e._reflectorBaseNode=this._reflectorBaseNode,e}dispose(){super.dispose(),this._reflectorBaseNode.dispose()}}class dMe extends pn{static get type(){return"ReflectorBaseNode"}constructor(e,t={}){super();const{target:i=new Mi,resolution:r=1,generateMipmaps:s=!1,bounces:a=!0,depth:o=!1}=t;this.textureNode=e,this.target=i,this.resolution=r,this.generateMipmaps=s,this.bounces=a,this.depth=o,this.updateBeforeType=a?$n.RENDER:$n.FRAME,this.virtualCameras=new WeakMap,this.renderTargets=new Map,this.forceUpdate=!1,this.hasOutput=!1}_updateResolution(e,t){const i=this.resolution;t.getDrawingBufferSize(lv),e.setSize(Math.round(lv.width*i),Math.round(lv.height*i))}setup(e){return this._updateResolution(sb,e.renderer),super.setup(e)}dispose(){super.dispose();for(const e of this.renderTargets.values())e.dispose()}getVirtualCamera(e){let t=this.virtualCameras.get(e);return t===void 0&&(t=e.clone(),this.virtualCameras.set(e,t)),t}getRenderTarget(e){let t=this.renderTargets.get(e);return t===void 0&&(t=new Eu(0,0,{type:Fs}),this.generateMipmaps===!0&&(t.texture.minFilter=AQ,t.texture.generateMipmaps=!0),this.depth===!0&&(t.depthTexture=new ol),this.renderTargets.set(e,t)),t}updateBefore(e){if(this.bounces===!1&&uv)return!1;uv=!0;const{scene:t,camera:i,renderer:r,material:s}=e,{target:a}=this,o=this.getVirtualCamera(i),l=this.getRenderTarget(o);r.getDrawingBufferSize(lv),this._updateResolution(l,r),t6.setFromMatrixPosition(a.matrixWorld),lw.setFromMatrixPosition(i.matrixWorld),c9.extractRotation(a.matrixWorld),B4.set(0,0,1),B4.applyMatrix4(c9),f9.subVectors(t6,lw);const u=f9.dot(B4)>0;let c=!1;if(u===!0&&this.forceUpdate===!1){if(this.hasOutput===!1){uv=!1;return}c=!0}f9.reflect(B4).negate(),f9.add(t6),c9.extractRotation(i.matrixWorld),av.set(0,0,-1),av.applyMatrix4(c9),av.add(lw),ov.subVectors(t6,av),ov.reflect(B4).negate(),ov.add(t6),o.coordinateSystem=i.coordinateSystem,o.position.copy(f9),o.up.set(0,1,0),o.up.applyMatrix4(c9),o.up.reflect(B4),o.lookAt(ov),o.near=i.near,o.far=i.far,o.updateMatrixWorld(),o.projectionMatrix.copy(i.projectionMatrix),e6.setFromNormalAndCoplanarPoint(B4,t6),e6.applyMatrix4(o.matrixWorldInverse),ju.set(e6.normal.x,e6.normal.y,e6.normal.z,e6.constant);const f=o.projectionMatrix;h9.x=(Math.sign(ju.x)+f.elements[8])/f.elements[0],h9.y=(Math.sign(ju.y)+f.elements[9])/f.elements[5],h9.z=-1,h9.w=(1+f.elements[10])/f.elements[14],ju.multiplyScalar(1/ju.dot(h9));const m=0;f.elements[2]=ju.x,f.elements[6]=ju.y,f.elements[10]=r.coordinateSystem===bu?ju.z-m:ju.z+1-m,f.elements[14]=ju.w,this.textureNode.value=l.texture,this.depth===!0&&(this.textureNode.getDepthNode().value=l.depthTexture),s.visible=!1;const v=r.getRenderTarget(),_=r.getMRT(),T=r.autoClear;r.setMRT(null),r.setRenderTarget(l),r.autoClear=!0,c?(r.clear(),this.hasOutput=!1):(r.render(t,o),this.hasOutput=!0),r.setMRT(_),r.setRenderTarget(v),r.autoClear=T,s.visible=!0,uv=!1,this.forceUpdate=!1}}const AMe=n=>Qe(new ZB(n)),uw=new h1(-1,1,1,-1,0,1);class pMe extends bn{constructor(e=!1){super();const t=e===!1?[0,-1,0,1,2,1]:[0,2,0,0,2,0];this.setAttribute("position",new Qt([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new Qt(t,2))}}const mMe=new pMe;class tT extends ii{constructor(e=null){super(mMe,e),this.camera=uw,this.isQuadMesh=!0}async renderAsync(e){return e.renderAsync(this,uw)}render(e){e.render(this,uw)}}const gMe=new Ye;class yMe extends M1{static get type(){return"RTTNode"}constructor(e,t=null,i=null,r={type:Fs}){const s=new Eu(t,i,r);super(s.texture,Rr()),this.node=e,this.width=t,this.height=i,this.pixelRatio=1,this.renderTarget=s,this.textureNeedsUpdate=!0,this.autoUpdate=!0,this._rttNode=null,this._quadMesh=new tT(new ms),this.updateBeforeType=$n.RENDER}get autoResize(){return this.width===null}setup(e){return this._rttNode=this.node.context(e.getSharedContext()),this._quadMesh.material.name="RTT",this._quadMesh.material.needsUpdate=!0,super.setup(e)}setSize(e,t){this.width=e,this.height=t;const i=e*this.pixelRatio,r=t*this.pixelRatio;this.renderTarget.setSize(i,r),this.textureNeedsUpdate=!0}setPixelRatio(e){this.pixelRatio=e,this.setSize(this.width,this.height)}updateBefore({renderer:e}){if(this.textureNeedsUpdate===!1&&this.autoUpdate===!1)return;if(this.textureNeedsUpdate=!1,this.autoResize===!0){const i=e.getPixelRatio(),r=e.getSize(gMe),s=r.width*i,a=r.height*i;(s!==this.renderTarget.width||a!==this.renderTarget.height)&&(this.renderTarget.setSize(s,a),this.textureNeedsUpdate=!0)}this._quadMesh.material.fragmentNode=this._rttNode;const t=e.getRenderTarget();e.setRenderTarget(this.renderTarget),this._quadMesh.render(e),e.setRenderTarget(t)}clone(){const e=new M1(this.value,this.uvNode,this.levelNode);return e.sampler=this.sampler,e.referenceNode=this,e}}const Ite=(n,...e)=>Qe(new yMe(Qe(n),...e)),vMe=(n,...e)=>n.isTextureNode?n:n.isPassNode?n.getTextureNode():Ite(n,...e),g6=Ce(([n,e,t],i)=>{let r;i.renderer.coordinateSystem===bu?(n=lt(n.x,n.y.oneMinus()).mul(2).sub(1),r=on(we(n,e),1)):r=on(we(n.x,n.y.oneMinus(),e).mul(2).sub(1),1);const s=on(t.mul(r));return s.xyz.div(s.w)}),xMe=Ce(([n,e])=>{const t=e.mul(on(n,1)),i=t.xy.div(t.w).mul(.5).add(.5).toVar();return lt(i.x,i.y.oneMinus())}),_Me=Ce(([n,e,t])=>{const i=x3(ls(e)),r=Zs(n.mul(i)).toVar(),s=ls(e,r).toVar(),a=ls(e,r.sub(Zs(2,0))).toVar(),o=ls(e,r.sub(Zs(1,0))).toVar(),l=ls(e,r.add(Zs(1,0))).toVar(),u=ls(e,r.add(Zs(2,0))).toVar(),c=ls(e,r.add(Zs(0,2))).toVar(),f=ls(e,r.add(Zs(0,1))).toVar(),m=ls(e,r.sub(Zs(0,1))).toVar(),v=ls(e,r.sub(Zs(0,2))).toVar(),_=vr(Ti(de(2).mul(o).sub(a),s)).toVar(),T=vr(Ti(de(2).mul(l).sub(u),s)).toVar(),M=vr(Ti(de(2).mul(f).sub(c),s)).toVar(),S=vr(Ti(de(2).mul(m).sub(v),s)).toVar(),R=g6(n,s,t).toVar(),C=_.lessThan(T).select(R.sub(g6(n.sub(lt(de(1).div(i.x),0)),o,t)),R.negate().add(g6(n.add(lt(de(1).div(i.x),0)),l,t))),P=M.lessThan(S).select(R.sub(g6(n.add(lt(0,de(1).div(i.y))),f,t)),R.negate().add(g6(n.sub(lt(0,de(1).div(i.y))),m,t)));return $c(GS(C,P))});class bMe extends pn{static get type(){return"SampleNode"}constructor(e){super(),this.callback=e,this.isSampleNode=!0}setup(){return this.sample(Rr())}sample(e){return this.callback(e)}}const SMe=n=>Qe(new bMe(n));class px extends al{constructor(e,t,i=Float32Array){const r=ArrayBuffer.isView(e)?e:new i(e*t);super(r,t),this.isStorageInstancedBufferAttribute=!0}}class TMe extends di{constructor(e,t,i=Float32Array){const r=ArrayBuffer.isView(e)?e:new i(e*t);super(r,t),this.isStorageBufferAttribute=!0}}const MMe=(n,e="float")=>{let t,i;e.isStruct===!0?(t=e.layout.getLength(),i=$_("float")):(t=ZK(e),i=$_(e));const r=new TMe(n,t,i);return Cf(r,e,n)},EMe=(n,e="float")=>{let t,i;e.isStruct===!0?(t=e.layout.getLength(),i=$_("float")):(t=ZK(e),i=$_(e));const r=new px(n,t,i);return Cf(r,e,n)};class wMe extends pn{static get type(){return"PointUVNode"}constructor(){super("vec2"),this.isPointUVNode=!0}generate(){return"vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y )"}}const RMe=Dt(wMe),d9=new Sa,cw=new Yt;class tl extends pn{static get type(){return"SceneNode"}constructor(e=tl.BACKGROUND_BLURRINESS,t=null){super(),this.scope=e,this.scene=t}setup(e){const t=this.scope,i=this.scene!==null?this.scene:e.scene;let r;return t===tl.BACKGROUND_BLURRINESS?r=cr("backgroundBlurriness","float",i):t===tl.BACKGROUND_INTENSITY?r=cr("backgroundIntensity","float",i):t===tl.BACKGROUND_ROTATION?r=un("mat4").label("backgroundRotation").setGroup(mn).onRenderUpdate(()=>{const s=i.background;return s!==null&&s.isTexture&&s.mapping!==Yp?(d9.copy(i.backgroundRotation),d9.x*=-1,d9.y*=-1,d9.z*=-1,cw.makeRotationFromEuler(d9)):cw.identity(),cw}):console.error("THREE.SceneNode: Unknown scope:",t),r}}tl.BACKGROUND_BLURRINESS="backgroundBlurriness";tl.BACKGROUND_INTENSITY="backgroundIntensity";tl.BACKGROUND_ROTATION="backgroundRotation";const Fte=Dt(tl,tl.BACKGROUND_BLURRINESS),LN=Dt(tl,tl.BACKGROUND_INTENSITY),zte=Dt(tl,tl.BACKGROUND_ROTATION);class CMe extends M1{static get type(){return"StorageTextureNode"}constructor(e,t,i=null){super(e,t),this.storeNode=i,this.isStorageTextureNode=!0,this.access=lo.WRITE_ONLY}getInputType(){return"storageTexture"}setup(e){super.setup(e);const t=e.getNodeProperties(this);return t.storeNode=this.storeNode,t}setAccess(e){return this.access=e,this}generate(e,t){let i;return this.storeNode!==null?i=this.generateStore(e):i=super.generate(e,t),i}toReadWrite(){return this.setAccess(lo.READ_WRITE)}toReadOnly(){return this.setAccess(lo.READ_ONLY)}toWriteOnly(){return this.setAccess(lo.WRITE_ONLY)}generateStore(e){const t=e.getNodeProperties(this),{uvNode:i,storeNode:r,depthNode:s}=t,a=super.generate(e,"property"),o=i.build(e,"uvec2"),l=r.build(e,"vec4"),u=s?s.build(e,"int"):null,c=e.generateTextureStore(e,a,o,u,l);e.addLineFlowCode(c,this)}clone(){const e=super.clone();return e.storeNode=this.storeNode,e}}const Vte=tt(CMe).setParameterLength(1,3),NMe=(n,e,t)=>{const i=Vte(n,e,t);return t!==null&&i.toStack(),i},DMe=Ce(({texture:n,uv:e})=>{const i=we().toVar();return Xn(e.x.lessThan(1e-4),()=>{i.assign(we(1,0,0))}).ElseIf(e.y.lessThan(1e-4),()=>{i.assign(we(0,1,0))}).ElseIf(e.z.lessThan(1e-4),()=>{i.assign(we(0,0,1))}).ElseIf(e.x.greaterThan(1-1e-4),()=>{i.assign(we(-1,0,0))}).ElseIf(e.y.greaterThan(1-1e-4),()=>{i.assign(we(0,-1,0))}).ElseIf(e.z.greaterThan(1-1e-4),()=>{i.assign(we(0,0,-1))}).Else(()=>{const s=n.sample(e.add(we(-.01,0,0))).r.sub(n.sample(e.add(we(.01,0,0))).r),a=n.sample(e.add(we(0,-.01,0))).r.sub(n.sample(e.add(we(0,.01,0))).r),o=n.sample(e.add(we(0,0,-.01))).r.sub(n.sample(e.add(we(0,0,.01))).r);i.assign(we(s,a,o))}),i.normalize()});class PMe extends M1{static get type(){return"Texture3DNode"}constructor(e,t=null,i=null){super(e,t,i),this.isTexture3DNode=!0}getInputType(){return"texture3D"}getDefaultUV(){return we(.5,.5,.5)}setUpdateMatrix(){}setupUV(e,t){const i=this.value;return e.isFlipY()&&(i.isRenderTargetTexture===!0||i.isFramebufferTexture===!0)&&(this.sampler?t=t.flipY():t=t.setY(ye(x3(this,this.levelNode).y).sub(t.y).sub(1))),t}generateUV(e,t){return t.build(e,"vec3")}normal(e){return DMe({texture:this,uv:e})}}const kte=tt(PMe).setParameterLength(1,3);class LMe extends XS{static get type(){return"UserDataNode"}constructor(e,t,i=null){super(e,t,i),this.userData=i}updateReference(e){return this.reference=this.userData!==null?this.userData:e.object.userData,this.reference}}const BMe=(n,e,t)=>Qe(new LMe(n,e,t)),VG=new WeakMap;class UMe extends Gs{static get type(){return"VelocityNode"}constructor(){super("vec2"),this.projectionMatrix=null,this.updateType=$n.OBJECT,this.updateAfterType=$n.OBJECT,this.previousModelWorldMatrix=un(new Yt),this.previousProjectionMatrix=un(new Yt).setGroup(mn),this.previousCameraViewMatrix=un(new Yt)}setProjectionMatrix(e){this.projectionMatrix=e}update({frameId:e,camera:t,object:i}){const r=kG(i);this.previousModelWorldMatrix.value.copy(r);const s=Gte(t);s.frameId!==e&&(s.frameId=e,s.previousProjectionMatrix===void 0?(s.previousProjectionMatrix=new Yt,s.previousCameraViewMatrix=new Yt,s.currentProjectionMatrix=new Yt,s.currentCameraViewMatrix=new Yt,s.previousProjectionMatrix.copy(this.projectionMatrix||t.projectionMatrix),s.previousCameraViewMatrix.copy(t.matrixWorldInverse)):(s.previousProjectionMatrix.copy(s.currentProjectionMatrix),s.previousCameraViewMatrix.copy(s.currentCameraViewMatrix)),s.currentProjectionMatrix.copy(this.projectionMatrix||t.projectionMatrix),s.currentCameraViewMatrix.copy(t.matrixWorldInverse),this.previousProjectionMatrix.value.copy(s.previousProjectionMatrix),this.previousCameraViewMatrix.value.copy(s.previousCameraViewMatrix))}updateAfter({object:e}){kG(e).copy(e.matrixWorld)}setup(){const e=this.projectionMatrix===null?wh:un(this.projectionMatrix),t=this.previousCameraViewMatrix.mul(this.previousModelWorldMatrix),i=e.mul(Rh).mul(ds),r=this.previousProjectionMatrix.mul(t).mul(ib),s=i.xy.div(i.w),a=r.xy.div(r.w);return Ti(s,a)}}function Gte(n){let e=VG.get(n);return e===void 0&&(e={},VG.set(n,e)),e}function kG(n,e=0){const t=Gte(n);let i=t[e];return i===void 0&&(t[e]=i=new Yt,t[e].copy(n.matrixWorld)),i}const OMe=Dt(UMe),IMe=Ce(([n])=>JB(n.rgb)),FMe=Ce(([n,e=de(1)])=>e.mix(JB(n.rgb),n.rgb)),zMe=Ce(([n,e=de(1)])=>{const t=ks(n.r,n.g,n.b).div(3),i=n.r.max(n.g.max(n.b)),r=i.sub(t).mul(e).mul(-3);return Gi(n.rgb,i,r)}),VMe=Ce(([n,e=de(1)])=>{const t=we(.57735,.57735,.57735),i=e.cos();return we(n.rgb.mul(i).add(t.cross(n.rgb).mul(e.sin()).add(t.mul(V3(t,n.rgb).mul(i.oneMinus())))))}),JB=(n,e=we(wn.getLuminanceCoefficients(new re)))=>V3(n,e),kMe=Ce(([n,e=we(1),t=we(0),i=we(1),r=de(1),s=we(wn.getLuminanceCoefficients(new re,ql))])=>{const a=n.rgb.dot(we(s)),o=ts(n.rgb.mul(e).add(t),0).toVar(),l=o.pow(i).toVar();return Xn(o.r.greaterThan(0),()=>{o.r.assign(l.r)}),Xn(o.g.greaterThan(0),()=>{o.g.assign(l.g)}),Xn(o.b.greaterThan(0),()=>{o.b.assign(l.b)}),o.assign(a.add(o.sub(a).mul(r))),on(o.rgb,n.a)});class GMe extends Gs{static get type(){return"PosterizeNode"}constructor(e,t){super(),this.sourceNode=e,this.stepsNode=t}setup(){const{sourceNode:e,stepsNode:t}=this;return e.mul(t).floor().div(t)}}const qMe=tt(GMe).setParameterLength(2),cv=new Ye;class qte extends M1{static get type(){return"PassTextureNode"}constructor(e,t){super(t),this.passNode=e,this.setUpdateMatrix(!1)}setup(e){return e.object.isQuadMesh&&this.passNode.build(e),super.setup(e)}clone(){return new this.constructor(this.passNode,this.value)}}class GG extends qte{static get type(){return"PassMultipleTextureNode"}constructor(e,t,i=!1){super(e,null),this.textureName=t,this.previousTexture=i}updateTexture(){this.value=this.previousTexture?this.passNode.getPreviousTexture(this.textureName):this.passNode.getTexture(this.textureName)}setup(e){return this.updateTexture(),super.setup(e)}clone(){const e=new this.constructor(this.passNode,this.textureName,this.previousTexture);return e.uvNode=this.uvNode,e.levelNode=this.levelNode,e.biasNode=this.biasNode,e.sampler=this.sampler,e.depthNode=this.depthNode,e.compareNode=this.compareNode,e.gradNode=this.gradNode,e}}class E1 extends Gs{static get type(){return"PassNode"}constructor(e,t,i,r={}){super("vec4"),this.scope=e,this.scene=t,this.camera=i,this.options=r,this._pixelRatio=1,this._width=1,this._height=1;const s=new ol;s.isRenderTargetTexture=!0,s.name="depth";const a=new Eu(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:Fs,...r});a.texture.name="output",a.depthTexture=s,this.renderTarget=a,this._textures={output:a.texture,depth:s},this._textureNodes={},this._linearDepthNodes={},this._viewZNodes={},this._previousTextures={},this._previousTextureNodes={},this._cameraNear=un(0),this._cameraFar=un(0),this._mrt=null,this._layers=null,this._resolution=1,this.isPassNode=!0,this.updateBeforeType=$n.FRAME,this.global=!0}setResolution(e){return this._resolution=e,this}getResolution(){return this._resolution}setLayers(e){return this._layers=e,this}getLayers(){return this._layers}setMRT(e){return this._mrt=e,this}getMRT(){return this._mrt}getTexture(e){let t=this._textures[e];return t===void 0&&(t=this.renderTarget.texture.clone(),t.name=e,this._textures[e]=t,this.renderTarget.textures.push(t)),t}getPreviousTexture(e){let t=this._previousTextures[e];return t===void 0&&(t=this.getTexture(e).clone(),this._previousTextures[e]=t),t}toggleTexture(e){const t=this._previousTextures[e];if(t!==void 0){const i=this._textures[e],r=this.renderTarget.textures.indexOf(i);this.renderTarget.textures[r]=t,this._textures[e]=t,this._previousTextures[e]=i,this._textureNodes[e].updateTexture(),this._previousTextureNodes[e].updateTexture()}}getTextureNode(e="output"){let t=this._textureNodes[e];return t===void 0&&(t=Qe(new GG(this,e)),t.updateTexture(),this._textureNodes[e]=t),t}getPreviousTextureNode(e="output"){let t=this._previousTextureNodes[e];return t===void 0&&(this._textureNodes[e]===void 0&&this.getTextureNode(e),t=Qe(new GG(this,e,!0)),t.updateTexture(),this._previousTextureNodes[e]=t),t}getViewZNode(e="depth"){let t=this._viewZNodes[e];if(t===void 0){const i=this._cameraNear,r=this._cameraFar;this._viewZNodes[e]=t=VB(this.getTextureNode(e),i,r)}return t}getLinearDepthNode(e="depth"){let t=this._linearDepthNodes[e];if(t===void 0){const i=this._cameraNear,r=this._cameraFar,s=this.getViewZNode(e);this._linearDepthNodes[e]=t=ld(s,i,r)}return t}setup({renderer:e}){return this.renderTarget.samples=this.options.samples===void 0?e.samples:this.options.samples,this.renderTarget.texture.type=e.getColorBufferType(),this.scope===E1.COLOR?this.getTextureNode():this.getLinearDepthNode()}updateBefore(e){const{renderer:t}=e,{scene:i}=this;let r,s;const a=t.getOutputRenderTarget();a&&a.isXRRenderTarget===!0?(s=1,r=t.xr.getCamera(),t.xr.updateCamera(r),cv.set(a.width,a.height)):(r=this.camera,s=t.getPixelRatio(),t.getSize(cv)),this._pixelRatio=s,this.setSize(cv.width,cv.height);const o=t.getRenderTarget(),l=t.getMRT(),u=r.layers.mask;this._cameraNear.value=r.near,this._cameraFar.value=r.far,this._layers!==null&&(r.layers.mask=this._layers.mask);for(const c in this._previousTextures)this.toggleTexture(c);t.setRenderTarget(this.renderTarget),t.setMRT(this._mrt),t.render(i,r),t.setRenderTarget(o),t.setMRT(l),r.layers.mask=u}setSize(e,t){this._width=e,this._height=t;const i=this._width*this._pixelRatio*this._resolution,r=this._height*this._pixelRatio*this._resolution;this.renderTarget.setSize(i,r)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget.dispose()}}E1.COLOR="color";E1.DEPTH="depth";const HMe=(n,e,t)=>Qe(new E1(E1.COLOR,n,e,t)),jMe=(n,e)=>Qe(new qte(n,e)),WMe=(n,e,t)=>Qe(new E1(E1.DEPTH,n,e,t));class XMe extends E1{static get type(){return"ToonOutlinePassNode"}constructor(e,t,i,r,s){super(E1.COLOR,e,t),this.colorNode=i,this.thicknessNode=r,this.alphaNode=s,this._materialCache=new WeakMap}updateBefore(e){const{renderer:t}=e,i=t.getRenderObjectFunction();t.setRenderObjectFunction((r,s,a,o,l,u,c,f)=>{if((l.isMeshToonMaterial||l.isMeshToonNodeMaterial)&&l.wireframe===!1){const m=this._getOutlineMaterial(l);t.renderObject(r,s,a,o,m,u,c,f)}t.renderObject(r,s,a,o,l,u,c,f)}),super.updateBefore(e),t.setRenderObjectFunction(i)}_createMaterial(){const e=new ms;e.isMeshToonOutlineMaterial=!0,e.name="Toon_Outline",e.side=Zi;const t=fl.negate(),i=wh.mul(Rh),r=de(1),s=i.mul(on(ds,1)),a=i.mul(on(ds.add(t),1)),o=$c(s.sub(a));return e.vertexNode=s.add(o.mul(this.thicknessNode).mul(s.w).mul(r)),e.colorNode=on(this.colorNode,this.alphaNode),e}_getOutlineMaterial(e){let t=this._materialCache.get(e);return t===void 0&&(t=this._createMaterial(),this._materialCache.set(e,t)),t}}const YMe=(n,e,t=new Nt(0,0,0),i=.003,r=1)=>Qe(new XMe(n,e,Qe(t),Qe(i),Qe(r))),Hte=Ce(([n,e])=>n.mul(e).clamp()).setLayout({name:"linearToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),jte=Ce(([n,e])=>(n=n.mul(e),n.div(n.add(1)).clamp())).setLayout({name:"reinhardToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Wte=Ce(([n,e])=>{n=n.mul(e),n=n.sub(.004).max(0);const t=n.mul(n.mul(6.2).add(.5)),i=n.mul(n.mul(6.2).add(1.7)).add(.06);return t.div(i).pow(2.2)}).setLayout({name:"cineonToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),QMe=Ce(([n])=>{const e=n.mul(n.add(.0245786)).sub(90537e-9),t=n.mul(n.add(.432951).mul(.983729)).add(.238081);return e.div(t)}),Xte=Ce(([n,e])=>{const t=ho(.59719,.35458,.04823,.076,.90834,.01566,.0284,.13383,.83777),i=ho(1.60475,-.53108,-.07367,-.10208,1.10813,-.00605,-.00327,-.07276,1.07602);return n=n.mul(e).div(.6),n=t.mul(n),n=QMe(n),n=i.mul(n),n.clamp()}).setLayout({name:"acesFilmicToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),$Me=ho(we(1.6605,-.1246,-.0182),we(-.5876,1.1329,-.1006),we(-.0728,-.0083,1.1187)),KMe=ho(we(.6274,.0691,.0164),we(.3293,.9195,.088),we(.0433,.0113,.8956)),ZMe=Ce(([n])=>{const e=we(n).toVar(),t=we(e.mul(e)).toVar(),i=we(t.mul(t)).toVar();return de(15.5).mul(i.mul(t)).sub(Wn(40.14,i.mul(e))).add(Wn(31.96,i).sub(Wn(6.868,t.mul(e))).add(Wn(.4298,t).add(Wn(.1191,e).sub(.00232))))}),Yte=Ce(([n,e])=>{const t=we(n).toVar(),i=ho(we(.856627153315983,.137318972929847,.11189821299995),we(.0951212405381588,.761241990602591,.0767994186031903),we(.0482516061458583,.101439036467562,.811302368396859)),r=ho(we(1.1271005818144368,-.1413297634984383,-.14132976349843826),we(-.11060664309660323,1.157823702216272,-.11060664309660294),we(-.016493938717834573,-.016493938717834257,1.2519364065950405)),s=de(-12.47393),a=de(4.026069);return t.mulAssign(e),t.assign(KMe.mul(t)),t.assign(i.mul(t)),t.assign(ts(t,1e-10)),t.assign(p1(t)),t.assign(t.sub(s).div(a.sub(s))),t.assign(S1(t,0,1)),t.assign(ZMe(t)),t.assign(r.mul(t)),t.assign(yu(ts(we(0),t),we(2.2))),t.assign($Me.mul(t)),t.assign(S1(t,0,1)),t}).setLayout({name:"agxToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]}),Qte=Ce(([n,e])=>{const t=de(.76),i=de(.15);n=n.mul(e);const r=cl(n.r,cl(n.g,n.b)),s=_a(r.lessThan(.08),r.sub(Wn(6.25,r.mul(r))),.04);n.subAssign(s);const a=ts(n.r,ts(n.g,n.b));Xn(a.lessThan(t),()=>n);const o=Ti(1,t),l=Ti(1,o.mul(o).div(a.add(o.sub(t))));n.mulAssign(l.div(a));const u=Ti(1,I0(1,i.mul(a.sub(l)).add(1)));return Gi(n,we(l),u)}).setLayout({name:"neutralToneMapping",type:"vec3",inputs:[{name:"color",type:"vec3"},{name:"exposure",type:"float"}]});class Ps extends pn{static get type(){return"CodeNode"}constructor(e="",t=[],i=""){super("code"),this.isCodeNode=!0,this.global=!0,this.code=e,this.includes=t,this.language=i}setIncludes(e){return this.includes=e,this}getIncludes(){return this.includes}generate(e){const t=this.getIncludes(e);for(const r of t)r.build(e);const i=e.getCodeFromNode(this,this.getNodeType(e));return i.code=this.code,i.code}serialize(e){super.serialize(e),e.code=this.code,e.language=this.language}deserialize(e){super.deserialize(e),this.code=e.code,this.language=e.language}}const nT=tt(Ps).setParameterLength(1,3),JMe=(n,e)=>nT(n,e,"js"),eEe=(n,e)=>nT(n,e,"wgsl"),tEe=(n,e)=>nT(n,e,"glsl");class $te extends Ps{static get type(){return"FunctionNode"}constructor(e="",t=[],i=""){super(e,t,i)}getNodeType(e){return this.getNodeFunction(e).type}getInputs(e){return this.getNodeFunction(e).inputs}getNodeFunction(e){const t=e.getDataFromNode(this);let i=t.nodeFunction;return i===void 0&&(i=e.parser.parseFunction(this.code),t.nodeFunction=i),i}generate(e,t){super.generate(e);const i=this.getNodeFunction(e),r=i.name,s=i.type,a=e.getCodeFromNode(this,s);r!==""&&(a.name=r);const o=e.getPropertyName(a),l=this.getNodeFunction(e).getCode(o);return a.code=l+`
`,t==="property"?o:e.format(`${o}()`,s,t)}}const Kte=(n,e=[],t="")=>{for(let s=0;s<e.length;s++){const a=e[s];typeof a=="function"&&(e[s]=a.functionNode)}const i=Qe(new $te(n,e,t)),r=(...s)=>i.call(...s);return r.functionNode=i,r},nEe=(n,e)=>Kte(n,e,"glsl"),iEe=(n,e)=>Kte(n,e,"wgsl");class rEe extends pn{static get type(){return"ScriptableValueNode"}constructor(e=null){super(),this._value=e,this._cache=null,this.inputType=null,this.outputType=null,this.events=new $l,this.isScriptableValueNode=!0}get isScriptableOutputNode(){return this.outputType!==null}set value(e){this._value!==e&&(this._cache&&this.inputType==="URL"&&this.value.value instanceof ArrayBuffer&&(URL.revokeObjectURL(this._cache),this._cache=null),this._value=e,this.events.dispatchEvent({type:"change"}),this.refresh())}get value(){return this._value}refresh(){this.events.dispatchEvent({type:"refresh"})}getValue(){const e=this.value;if(e&&this._cache===null&&this.inputType==="URL"&&e.value instanceof ArrayBuffer)this._cache=URL.createObjectURL(new Blob([e.value]));else if(e&&e.value!==null&&e.value!==void 0&&((this.inputType==="URL"||this.inputType==="String")&&typeof e.value=="string"||this.inputType==="Number"&&typeof e.value=="number"||this.inputType==="Vector2"&&e.value.isVector2||this.inputType==="Vector3"&&e.value.isVector3||this.inputType==="Vector4"&&e.value.isVector4||this.inputType==="Color"&&e.value.isColor||this.inputType==="Matrix3"&&e.value.isMatrix3||this.inputType==="Matrix4"&&e.value.isMatrix4))return e.value;return this._cache||e}getNodeType(e){return this.value&&this.value.isNode?this.value.getNodeType(e):"float"}setup(){return this.value&&this.value.isNode?this.value:de()}serialize(e){super.serialize(e),this.value!==null?this.inputType==="ArrayBuffer"?e.value=tZ(this.value):e.value=this.value?this.value.toJSON(e.meta).uuid:null:e.value=null,e.inputType=this.inputType,e.outputType=this.outputType}deserialize(e){super.deserialize(e);let t=null;e.value!==null&&(e.inputType==="ArrayBuffer"?t=nZ(e.value):e.inputType==="Texture"?t=e.meta.textures[e.value]:t=e.meta.nodes[e.value]||null),this.value=t,this.inputType=e.inputType,this.outputType=e.outputType}}const mx=tt(rEe).setParameterLength(1);class Zte extends Map{get(e,t=null,...i){if(this.has(e))return super.get(e);if(t!==null){const r=t(...i);return this.set(e,r),r}}}class sEe{constructor(e){this.scriptableNode=e}get parameters(){return this.scriptableNode.parameters}get layout(){return this.scriptableNode.getLayout()}getInputLayout(e){return this.scriptableNode.getInputLayout(e)}get(e){const t=this.parameters[e];return t?t.getValue():null}}const gx=new Zte;class aEe extends pn{static get type(){return"ScriptableNode"}constructor(e=null,t={}){super(),this.codeNode=e,this.parameters=t,this._local=new Zte,this._output=mx(null),this._outputs={},this._source=this.source,this._method=null,this._object=null,this._value=null,this._needsOutputUpdate=!0,this.onRefresh=this.onRefresh.bind(this),this.isScriptableNode=!0}get source(){return this.codeNode?this.codeNode.code:""}setLocal(e,t){return this._local.set(e,t)}getLocal(e){return this._local.get(e)}onRefresh(){this._refresh()}getInputLayout(e){for(const t of this.getLayout())if(t.inputType&&(t.id===e||t.name===e))return t}getOutputLayout(e){for(const t of this.getLayout())if(t.outputType&&(t.id===e||t.name===e))return t}setOutput(e,t){const i=this._outputs;return i[e]===void 0?i[e]=mx(t):i[e].value=t,this}getOutput(e){return this._outputs[e]}getParameter(e){return this.parameters[e]}setParameter(e,t){const i=this.parameters;return t&&t.isScriptableNode?(this.deleteParameter(e),i[e]=t,i[e].getDefaultOutput().events.addEventListener("refresh",this.onRefresh)):t&&t.isScriptableValueNode?(this.deleteParameter(e),i[e]=t,i[e].events.addEventListener("refresh",this.onRefresh)):i[e]===void 0?(i[e]=mx(t),i[e].events.addEventListener("refresh",this.onRefresh)):i[e].value=t,this}getValue(){return this.getDefaultOutput().getValue()}deleteParameter(e){let t=this.parameters[e];return t&&(t.isScriptableNode&&(t=t.getDefaultOutput()),t.events.removeEventListener("refresh",this.onRefresh)),this}clearParameters(){for(const e of Object.keys(this.parameters))this.deleteParameter(e);return this.needsUpdate=!0,this}call(e,...t){const r=this.getObject()[e];if(typeof r=="function")return r(...t)}async callAsync(e,...t){const r=this.getObject()[e];if(typeof r=="function")return r.constructor.name==="AsyncFunction"?await r(...t):r(...t)}getNodeType(e){return this.getDefaultOutputNode().getNodeType(e)}refresh(e=null){e!==null?this.getOutput(e).refresh():this._refresh()}getObject(){if(this.needsUpdate&&this.dispose(),this._object!==null)return this._object;const e=()=>this.refresh(),t=(u,c)=>this.setOutput(u,c),i=new sEe(this),r=gx.get("THREE"),s=gx.get("TSL"),a=this.getMethod(),o=[i,this._local,gx,e,t,r,s];this._object=a(...o);const l=this._object.layout;if(l&&(l.cache===!1&&this._local.clear(),this._output.outputType=l.outputType||null,Array.isArray(l.elements)))for(const u of l.elements){const c=u.id||u.name;u.inputType&&(this.getParameter(c)===void 0&&this.setParameter(c,null),this.getParameter(c).inputType=u.inputType),u.outputType&&(this.getOutput(c)===void 0&&this.setOutput(c,null),this.getOutput(c).outputType=u.outputType)}return this._object}deserialize(e){super.deserialize(e);for(const t in this.parameters){let i=this.parameters[t];i.isScriptableNode&&(i=i.getDefaultOutput()),i.events.addEventListener("refresh",this.onRefresh)}}getLayout(){return this.getObject().layout}getDefaultOutputNode(){const e=this.getDefaultOutput().value;return e&&e.isNode?e:de()}getDefaultOutput(){return this._exec()._output}getMethod(){if(this.needsUpdate&&this.dispose(),this._method!==null)return this._method;const e=["parameters","local","global","refresh","setOutput","THREE","TSL"],i=["layout","init","main","dispose"].join(", "),r="var "+i+`; var output = {};
`,s=`
return { ...output, `+i+" };",a=r+this.codeNode.code+s;return this._method=new Function(...e,a),this._method}dispose(){this._method!==null&&(this._object&&typeof this._object.dispose=="function"&&this._object.dispose(),this._method=null,this._object=null,this._source=null,this._value=null,this._needsOutputUpdate=!0,this._output.value=null,this._outputs={})}setup(){return this.getDefaultOutputNode()}getCacheKey(e){const t=[QK(this.source),this.getDefaultOutputNode().getCacheKey(e)];for(const i in this.parameters)t.push(this.parameters[i].getCacheKey(e));return NS(t)}set needsUpdate(e){e===!0&&this.dispose()}get needsUpdate(){return this.source!==this._source}_exec(){return this.codeNode===null?this:(this._needsOutputUpdate===!0&&(this._value=this.call("main"),this._needsOutputUpdate=!1),this._output.value=this._value,this)}_refresh(){this.needsUpdate=!0,this._exec(),this._output.refresh()}}const oEe=tt(aEe).setParameterLength(1,2);function Jte(n){let e;const t=n.context.getViewZ;return t!==void 0&&(e=t(this)),(e||As.z).negate()}const eU=Ce(([n,e],t)=>{const i=Jte(t);return T1(n,e,i)}),tU=Ce(([n],e)=>{const t=Jte(e);return n.mul(n,t,t).negate().exp().oneMinus()}),Sp=Ce(([n,e])=>on(e.toFloat().mix(sd.rgb,n.toVec3()),sd.a));function lEe(n,e,t){return console.warn('THREE.TSL: "rangeFog( color, near, far )" is deprecated. Use "fog( color, rangeFogFactor( near, far ) )" instead.'),Sp(n,eU(e,t))}function uEe(n,e){return console.warn('THREE.TSL: "densityFog( color, density )" is deprecated. Use "fog( color, densityFogFactor( density ) )" instead.'),Sp(n,tU(e))}let U4=null,O4=null;class cEe extends pn{static get type(){return"RangeNode"}constructor(e=de(),t=de()){super(),this.minNode=e,this.maxNode=t}getVectorLength(e){const t=e.getTypeLength(r3(this.minNode.value)),i=e.getTypeLength(r3(this.maxNode.value));return t>i?t:i}getNodeType(e){return e.object.count>1?e.getTypeFromLength(this.getVectorLength(e)):"float"}setup(e){const t=e.object;let i=null;if(t.count>1){const r=this.minNode.value,s=this.maxNode.value,a=e.getTypeLength(r3(r)),o=e.getTypeLength(r3(s));U4=U4||new ln,O4=O4||new ln,U4.setScalar(0),O4.setScalar(0),a===1?U4.setScalar(r):r.isColor?U4.set(r.r,r.g,r.b,1):U4.set(r.x,r.y,r.z||0,r.w||0),o===1?O4.setScalar(s):s.isColor?O4.set(s.r,s.g,s.b,1):O4.set(s.x,s.y,s.z||0,s.w||0);const l=4,u=l*t.count,c=new Float32Array(u);for(let m=0;m<u;m++){const v=m%l,_=U4.getComponent(v),T=O4.getComponent(v);c[m]=rS.lerp(_,T,Math.random())}const f=this.getNodeType(e);if(t.count<=4096)i=vm(c,"vec4",t.count).element(_3).convert(f);else{const m=new al(c,4);e.geometry.setAttribute("__range"+this.id,m),i=nb(m).convert(f)}}else i=de(0);return i}}const fEe=tt(cEe).setParameterLength(2);class hEe extends pn{static get type(){return"ComputeBuiltinNode"}constructor(e,t){super(t),this._builtinName=e}getHash(e){return this.getBuiltinName(e)}getNodeType(){return this.nodeType}setBuiltinName(e){return this._builtinName=e,this}getBuiltinName(){return this._builtinName}hasBuiltin(e){return e.hasBuiltin(this._builtinName)}generate(e,t){const i=this.getBuiltinName(e),r=this.getNodeType(e);return e.shaderStage==="compute"?e.format(i,r,t):(console.warn(`ComputeBuiltinNode: Compute built-in value ${i} can not be accessed in the ${e.shaderStage} stage`),e.generateConst(r))}serialize(e){super.serialize(e),e.global=this.global,e._builtinName=this._builtinName}deserialize(e){super.deserialize(e),this.global=e.global,this._builtinName=e._builtinName}}const Tm=(n,e)=>Qe(new hEe(n,e)),dEe=Tm("numWorkgroups","uvec3"),AEe=Tm("workgroupId","uvec3"),pEe=Tm("globalId","uvec3"),mEe=Tm("localId","uvec3"),gEe=Tm("subgroupSize","uint");class yEe extends pn{constructor(e){super(),this.scope=e}generate(e){const{scope:t}=this,{renderer:i}=e;i.backend.isWebGLBackend===!0?e.addFlowCode(`	// ${t}Barrier 
`):e.addLineFlowCode(`${t}Barrier()`,this)}}const nU=tt(yEe),vEe=()=>nU("workgroup").toStack(),xEe=()=>nU("storage").toStack(),_Ee=()=>nU("texture").toStack();class bEe extends Eh{constructor(e,t){super(e,t),this.isWorkgroupInfoElementNode=!0}generate(e,t){let i;const r=e.context.assign;if(i=super.generate(e),r!==!0){const s=this.getNodeType(e);i=e.format(i,s,t)}return i}}class SEe extends pn{constructor(e,t,i=0){super(t),this.bufferType=t,this.bufferCount=i,this.isWorkgroupInfoNode=!0,this.elementType=t,this.scope=e}label(e){return this.name=e,this}setScope(e){return this.scope=e,this}getElementType(){return this.elementType}getInputType(){return`${this.scope}Array`}element(e){return Qe(new bEe(this,e))}generate(e){return e.getScopedArray(this.name||`${this.scope}Array_${this.id}`,this.scope.toLowerCase(),this.bufferType,this.bufferCount)}}const TEe=(n,e)=>Qe(new SEe("Workgroup",n,e));class oa extends pn{static get type(){return"AtomicFunctionNode"}constructor(e,t,i){super("uint"),this.method=e,this.pointerNode=t,this.valueNode=i,this.parents=!0}getInputType(e){return this.pointerNode.getNodeType(e)}getNodeType(e){return this.getInputType(e)}generate(e){const t=e.getNodeProperties(this),i=t.parents,r=this.method,s=this.getNodeType(e),a=this.getInputType(e),o=this.pointerNode,l=this.valueNode,u=[];u.push(`&${o.build(e,a)}`),l!==null&&u.push(l.build(e,a));const c=`${e.getMethod(r,s)}( ${u.join(", ")} )`;if(i.length===1&&i[0].isStackNode===!0)e.addLineFlowCode(c,this);else return t.constNode===void 0&&(t.constNode=Kc(c,s).toConst()),t.constNode.build(e)}}oa.ATOMIC_LOAD="atomicLoad";oa.ATOMIC_STORE="atomicStore";oa.ATOMIC_ADD="atomicAdd";oa.ATOMIC_SUB="atomicSub";oa.ATOMIC_MAX="atomicMax";oa.ATOMIC_MIN="atomicMin";oa.ATOMIC_AND="atomicAnd";oa.ATOMIC_OR="atomicOr";oa.ATOMIC_XOR="atomicXor";const MEe=tt(oa),B1=(n,e,t)=>MEe(n,e,t).toStack(),EEe=n=>B1(oa.ATOMIC_LOAD,n,null),wEe=(n,e)=>B1(oa.ATOMIC_STORE,n,e),REe=(n,e)=>B1(oa.ATOMIC_ADD,n,e),CEe=(n,e)=>B1(oa.ATOMIC_SUB,n,e),NEe=(n,e)=>B1(oa.ATOMIC_MAX,n,e),DEe=(n,e)=>B1(oa.ATOMIC_MIN,n,e),PEe=(n,e)=>B1(oa.ATOMIC_AND,n,e),LEe=(n,e)=>B1(oa.ATOMIC_OR,n,e),BEe=(n,e)=>B1(oa.ATOMIC_XOR,n,e);let fv;function iT(n){fv=fv||new WeakMap;let e=fv.get(n);return e===void 0&&fv.set(n,e={}),e}function iU(n){const e=iT(n);return e.shadowMatrix||(e.shadowMatrix=un("mat4").setGroup(mn).onRenderUpdate(t=>((n.castShadow!==!0||t.renderer.shadowMap.enabled===!1)&&n.shadow.updateMatrices(n),n.shadow.matrix)))}function ene(n,e=Pc){const t=iU(n).mul(e);return t.xyz.div(t.w)}function rU(n){const e=iT(n);return e.position||(e.position=un(new re).setGroup(mn).onRenderUpdate((t,i)=>i.value.setFromMatrixPosition(n.matrixWorld)))}function tne(n){const e=iT(n);return e.targetPosition||(e.targetPosition=un(new re).setGroup(mn).onRenderUpdate((t,i)=>i.value.setFromMatrixPosition(n.target.matrixWorld)))}function sU(n){const e=iT(n);return e.viewPosition||(e.viewPosition=un(new re).setGroup(mn).onRenderUpdate(({camera:t},i)=>{i.value=i.value||new re,i.value.setFromMatrixPosition(n.matrixWorld),i.value.applyMatrix4(t.matrixWorldInverse)}))}const aU=n=>j0.transformDirection(rU(n).sub(tne(n))),UEe=n=>n.sort((e,t)=>e.id-t.id),OEe=(n,e)=>{for(const t of e)if(t.isAnalyticLightNode&&t.light.id===n)return t;return null},fw=new WeakMap,A9=[];class oU extends pn{static get type(){return"LightsNode"}constructor(){super("vec3"),this.totalDiffuseNode=Dc("vec3","totalDiffuse"),this.totalSpecularNode=Dc("vec3","totalSpecular"),this.outgoingLightNode=Dc("vec3","outgoingLight"),this._lights=[],this._lightNodes=null,this._lightNodesHash=null,this.global=!0}customCacheKey(){const e=this._lights;for(let i=0;i<e.length;i++){const r=e[i];if(A9.push(r.id),A9.push(r.castShadow?1:0),r.isSpotLight===!0){const s=r.map!==null?r.map.id:-1,a=r.colorNode?r.colorNode.getCacheKey():-1;A9.push(s,a)}}const t=NS(A9);return A9.length=0,t}getHash(e){if(this._lightNodesHash===null){this._lightNodes===null&&this.setupLightsNode(e);const t=[];for(const i of this._lightNodes)t.push(i.getSelf().getHash());this._lightNodesHash="lights-"+t.join(",")}return this._lightNodesHash}analyze(e){const t=e.getNodeProperties(this);for(const i of t.nodes)i.build(e);t.outputNode.build(e)}setupLightsNode(e){const t=[],i=this._lightNodes,r=UEe(this._lights),s=e.renderer.library;for(const a of r)if(a.isNode)t.push(Qe(a));else{let o=null;if(i!==null&&(o=OEe(a.id,i)),o===null){const l=s.getLightNodeClass(a.constructor);if(l===null){console.warn(`LightsNode.setupNodeLights: Light node not found for ${a.constructor.name}`);continue}let u=null;fw.has(a)?u=fw.get(a):(u=Qe(new l(a)),fw.set(a,u)),t.push(u)}}this._lightNodes=t}setupDirectLight(e,t,i){const{lightingModel:r,reflectedLight:s}=e.context;r.direct({...i,lightNode:t,reflectedLight:s},e)}setupDirectRectAreaLight(e,t,i){const{lightingModel:r,reflectedLight:s}=e.context;r.directRectArea({...i,lightNode:t,reflectedLight:s},e)}setupLights(e,t){for(const i of t)i.build(e)}getLightNodes(e){return this._lightNodes===null&&this.setupLightsNode(e),this._lightNodes}setup(e){const t=e.lightsNode;e.lightsNode=this;let i=this.outgoingLightNode;const r=e.context,s=r.lightingModel,a=e.getNodeProperties(this);if(s){const{totalDiffuseNode:o,totalSpecularNode:l}=this;r.outgoingLight=i;const u=e.addStack();a.nodes=u.nodes,s.start(e);const{backdrop:c,backdropAlpha:f}=r,{directDiffuse:m,directSpecular:v,indirectDiffuse:_,indirectSpecular:T}=r.reflectedLight;let M=m.add(_);c!==null&&(f!==null?M=we(f.mix(M,c)):M=we(c),r.material.transparent=!0),o.assign(M),l.assign(v.add(T)),i.assign(o.add(l)),s.finish(e),i=i.bypass(e.removeStack())}else a.nodes=[];return e.lightsNode=t,i}setLights(e){return this._lights=e,this._lightNodes=null,this._lightNodesHash=null,this}getLights(){return this._lights}get hasLights(){return this._lights.length>0}}const IEe=(n=[])=>Qe(new oU).setLights(n);class FEe extends pn{static get type(){return"ShadowBaseNode"}constructor(e){super(),this.light=e,this.updateBeforeType=$n.RENDER,this.isShadowBaseNode=!0}setupShadowPosition({context:e,material:t}){lU.assign(t.receivedShadowPositionNode||e.shadowPositionWorld||Pc)}}const lU=Dc("vec3","shadowPositionWorld");function zEe(n,e={}){return e.toneMapping=n.toneMapping,e.toneMappingExposure=n.toneMappingExposure,e.outputColorSpace=n.outputColorSpace,e.renderTarget=n.getRenderTarget(),e.activeCubeFace=n.getActiveCubeFace(),e.activeMipmapLevel=n.getActiveMipmapLevel(),e.renderObjectFunction=n.getRenderObjectFunction(),e.pixelRatio=n.getPixelRatio(),e.mrt=n.getMRT(),e.clearColor=n.getClearColor(e.clearColor||new Nt),e.clearAlpha=n.getClearAlpha(),e.autoClear=n.autoClear,e.scissorTest=n.getScissorTest(),e}function VEe(n,e){return e=zEe(n,e),n.setMRT(null),n.setRenderObjectFunction(null),n.setClearColor(0,1),n.autoClear=!0,e}function kEe(n,e){n.toneMapping=e.toneMapping,n.toneMappingExposure=e.toneMappingExposure,n.outputColorSpace=e.outputColorSpace,n.setRenderTarget(e.renderTarget,e.activeCubeFace,e.activeMipmapLevel),n.setRenderObjectFunction(e.renderObjectFunction),n.setPixelRatio(e.pixelRatio),n.setMRT(e.mrt),n.setClearColor(e.clearColor,e.clearAlpha),n.autoClear=e.autoClear,n.setScissorTest(e.scissorTest)}function GEe(n,e={}){return e.background=n.background,e.backgroundNode=n.backgroundNode,e.overrideMaterial=n.overrideMaterial,e}function qEe(n,e){return e=GEe(n,e),n.background=null,n.backgroundNode=null,n.overrideMaterial=null,e}function HEe(n,e){n.background=e.background,n.backgroundNode=e.backgroundNode,n.overrideMaterial=e.overrideMaterial}function jEe(n,e,t){return t=VEe(n,t),t=qEe(e,t),t}function WEe(n,e,t){kEe(n,t),HEe(e,t)}const qG=new WeakMap,nne=Ce(({depthTexture:n,shadowCoord:e,depthLayer:t})=>{let i=oi(n,e.xy).label("t_basic");return n.isArrayTexture&&(i=i.depth(t)),i.compare(e.z)}),ine=Ce(({depthTexture:n,shadowCoord:e,shadow:t,depthLayer:i})=>{const r=(M,S)=>{let R=oi(n,M);return n.isArrayTexture&&(R=R.depth(i)),R.compare(S)},s=cr("mapSize","vec2",t).setGroup(mn),a=cr("radius","float",t).setGroup(mn),o=lt(1).div(s),l=o.x.negate().mul(a),u=o.y.negate().mul(a),c=o.x.mul(a),f=o.y.mul(a),m=l.div(2),v=u.div(2),_=c.div(2),T=f.div(2);return ks(r(e.xy.add(lt(l,u)),e.z),r(e.xy.add(lt(0,u)),e.z),r(e.xy.add(lt(c,u)),e.z),r(e.xy.add(lt(m,v)),e.z),r(e.xy.add(lt(0,v)),e.z),r(e.xy.add(lt(_,v)),e.z),r(e.xy.add(lt(l,0)),e.z),r(e.xy.add(lt(m,0)),e.z),r(e.xy,e.z),r(e.xy.add(lt(_,0)),e.z),r(e.xy.add(lt(c,0)),e.z),r(e.xy.add(lt(m,T)),e.z),r(e.xy.add(lt(0,T)),e.z),r(e.xy.add(lt(_,T)),e.z),r(e.xy.add(lt(l,f)),e.z),r(e.xy.add(lt(0,f)),e.z),r(e.xy.add(lt(c,f)),e.z)).mul(1/17)}),rne=Ce(({depthTexture:n,shadowCoord:e,shadow:t,depthLayer:i})=>{const r=(f,m)=>{let v=oi(n,f);return n.isArrayTexture&&(v=v.depth(i)),v.compare(m)},s=cr("mapSize","vec2",t).setGroup(mn),a=lt(1).div(s),o=a.x,l=a.y,u=e.xy,c=e2(u.mul(s).add(.5));return u.subAssign(c.mul(a)),ks(r(u,e.z),r(u.add(lt(o,0)),e.z),r(u.add(lt(0,l)),e.z),r(u.add(a),e.z),Gi(r(u.add(lt(o.negate(),0)),e.z),r(u.add(lt(o.mul(2),0)),e.z),c.x),Gi(r(u.add(lt(o.negate(),l)),e.z),r(u.add(lt(o.mul(2),l)),e.z),c.x),Gi(r(u.add(lt(0,l.negate())),e.z),r(u.add(lt(0,l.mul(2))),e.z),c.y),Gi(r(u.add(lt(o,l.negate())),e.z),r(u.add(lt(o,l.mul(2))),e.z),c.y),Gi(Gi(r(u.add(lt(o.negate(),l.negate())),e.z),r(u.add(lt(o.mul(2),l.negate())),e.z),c.x),Gi(r(u.add(lt(o.negate(),l.mul(2))),e.z),r(u.add(lt(o.mul(2),l.mul(2))),e.z),c.x),c.y)).mul(1/9)}),sne=Ce(({depthTexture:n,shadowCoord:e,depthLayer:t})=>{const i=de(1).toVar();let r=oi(n).sample(e.xy);n.isArrayTexture&&(r=r.depth(t)),r=r.rg;const s=kS(e.z,r.x);return Xn(s.notEqual(de(1)),()=>{const a=e.z.sub(r.x),o=ts(0,r.y.mul(r.y));let l=o.div(o.add(a.mul(a)));l=S1(Ti(l,.3).div(.95-.3)),i.assign(S1(ts(s,l)))}),i}),XEe=Ce(([n,e,t])=>{let i=Pc.sub(n).length();return i=i.sub(e).div(t.sub(e)),i=i.saturate(),i}),YEe=n=>{const e=n.shadow.camera,t=cr("near","float",e).setGroup(mn),i=cr("far","float",e).setGroup(mn),r=zJ(n);return XEe(r,t,i)},ane=n=>{let e=qG.get(n);if(e===void 0){const t=n.isPointLight?YEe(n):null;e=new ms,e.colorNode=on(0,0,0,1),e.depthNode=t,e.isShadowPassMaterial=!0,e.name="ShadowMaterial",e.fog=!1,qG.set(n,e)}return e},HG=new Tu,n6=[],one=(n,e,t,i)=>{n6[0]=n,n6[1]=e;let r=HG.get(n6);return(r===void 0||r.shadowType!==t||r.useVelocity!==i)&&(r=(s,a,o,l,u,c,...f)=>{(s.castShadow===!0||s.receiveShadow&&t===So)&&(i&&(eZ(s).useVelocity=!0),s.onBeforeShadow(n,s,o,e.camera,l,a.overrideMaterial,c),n.renderObject(s,a,o,l,u,c,...f),s.onAfterShadow(n,s,o,e.camera,l,a.overrideMaterial,c))},r.shadowType=t,r.useVelocity=i,HG.set(n6,r)),n6[0]=null,n6[1]=null,r},QEe=Ce(({samples:n,radius:e,size:t,shadowPass:i,depthLayer:r})=>{const s=de(0).toVar("meanVertical"),a=de(0).toVar("squareMeanVertical"),o=n.lessThanEqual(de(1)).select(de(0),de(2).div(n.sub(1))),l=n.lessThanEqual(de(1)).select(de(0),de(-1));Ki({start:ye(0),end:ye(n),type:"int",condition:"<"},({i:c})=>{const f=l.add(de(c).mul(o));let m=i.sample(ks(Sm.xy,lt(0,f).mul(e)).div(t));i.value.isArrayTexture&&(m=m.depth(r)),m=m.x,s.addAssign(m),a.addAssign(m.mul(m))}),s.divAssign(n),a.divAssign(n);const u=P1(a.sub(s.mul(s)));return lt(s,u)}),$Ee=Ce(({samples:n,radius:e,size:t,shadowPass:i,depthLayer:r})=>{const s=de(0).toVar("meanHorizontal"),a=de(0).toVar("squareMeanHorizontal"),o=n.lessThanEqual(de(1)).select(de(0),de(2).div(n.sub(1))),l=n.lessThanEqual(de(1)).select(de(0),de(-1));Ki({start:ye(0),end:ye(n),type:"int",condition:"<"},({i:c})=>{const f=l.add(de(c).mul(o));let m=i.sample(ks(Sm.xy,lt(f,0).mul(e)).div(t));i.value.isArrayTexture&&(m=m.depth(r)),s.addAssign(m.x),a.addAssign(ks(m.y.mul(m.y),m.x.mul(m.x)))}),s.divAssign(n),a.divAssign(n);const u=P1(a.sub(s.mul(s)));return lt(s,u)}),KEe=[nne,ine,rne,sne];let hw;const hv=new tT;class lne extends FEe{static get type(){return"ShadowNode"}constructor(e,t=null){super(e),this.shadow=t||e.shadow,this.shadowMap=null,this.vsmShadowMapVertical=null,this.vsmShadowMapHorizontal=null,this.vsmMaterialVertical=null,this.vsmMaterialHorizontal=null,this._node=null,this._cameraFrameId=new WeakMap,this.isShadowNode=!0,this.depthLayer=0}setupShadowFilter(e,{filterFn:t,depthTexture:i,shadowCoord:r,shadow:s,depthLayer:a}){const o=r.x.greaterThanEqual(0).and(r.x.lessThanEqual(1)).and(r.y.greaterThanEqual(0)).and(r.y.lessThanEqual(1)).and(r.z.lessThanEqual(1)),l=t({depthTexture:i,shadowCoord:r,shadow:s,depthLayer:a});return o.select(l,de(1))}setupShadowCoord(e,t){const{shadow:i}=this,{renderer:r}=e,s=cr("bias","float",i).setGroup(mn);let a=t,o;if(i.camera.isOrthographicCamera||r.logarithmicDepthBuffer!==!0)a=a.xyz.div(a.w),o=a.z,r.coordinateSystem===bu&&(o=o.mul(2).sub(1));else{const l=a.w;a=a.xy.div(l);const u=cr("near","float",i.camera).setGroup(mn),c=cr("far","float",i.camera).setGroup(mn);o=kB(l.negate(),u,c)}return a=we(a.x,a.y.oneMinus(),o.add(s)),a}getShadowFilterFn(e){return KEe[e]}setupRenderTarget(e,t){const i=new ol(e.mapSize.width,e.mapSize.height);i.name="ShadowDepthTexture",i.compareFunction=Jp;const r=t.createRenderTarget(e.mapSize.width,e.mapSize.height);return r.texture.name="ShadowMap",r.texture.type=e.mapType,r.depthTexture=i,{shadowMap:r,depthTexture:i}}setupShadow(e){const{renderer:t}=e,{light:i,shadow:r}=this,s=t.shadowMap.type,{depthTexture:a,shadowMap:o}=this.setupRenderTarget(r,e);if(r.camera.updateProjectionMatrix(),s===So&&r.isPointLightShadow!==!0){a.compareFunction=null,o.depth>1?(o._vsmShadowMapVertical||(o._vsmShadowMapVertical=e.createRenderTarget(r.mapSize.width,r.mapSize.height,{format:r1,type:Fs,depth:o.depth,depthBuffer:!1}),o._vsmShadowMapVertical.texture.name="VSMVertical"),this.vsmShadowMapVertical=o._vsmShadowMapVertical,o._vsmShadowMapHorizontal||(o._vsmShadowMapHorizontal=e.createRenderTarget(r.mapSize.width,r.mapSize.height,{format:r1,type:Fs,depth:o.depth,depthBuffer:!1}),o._vsmShadowMapHorizontal.texture.name="VSMHorizontal"),this.vsmShadowMapHorizontal=o._vsmShadowMapHorizontal):(this.vsmShadowMapVertical=e.createRenderTarget(r.mapSize.width,r.mapSize.height,{format:r1,type:Fs,depthBuffer:!1}),this.vsmShadowMapHorizontal=e.createRenderTarget(r.mapSize.width,r.mapSize.height,{format:r1,type:Fs,depthBuffer:!1}));let S=oi(a);a.isArrayTexture&&(S=S.depth(this.depthLayer));let R=oi(this.vsmShadowMapVertical.texture);a.isArrayTexture&&(R=R.depth(this.depthLayer));const C=cr("blurSamples","float",r).setGroup(mn),P=cr("radius","float",r).setGroup(mn),B=cr("mapSize","vec2",r).setGroup(mn);let O=this.vsmMaterialVertical||(this.vsmMaterialVertical=new ms);O.fragmentNode=QEe({samples:C,radius:P,size:B,shadowPass:S,depthLayer:this.depthLayer}).context(e.getSharedContext()),O.name="VSMVertical",O=this.vsmMaterialHorizontal||(this.vsmMaterialHorizontal=new ms),O.fragmentNode=$Ee({samples:C,radius:P,size:B,shadowPass:R,depthLayer:this.depthLayer}).context(e.getSharedContext()),O.name="VSMHorizontal"}const l=cr("intensity","float",r).setGroup(mn),u=cr("normalBias","float",r).setGroup(mn),c=iU(i).mul(lU.add(k3.mul(u))),f=this.setupShadowCoord(e,c),m=r.filterNode||this.getShadowFilterFn(t.shadowMap.type)||null;if(m===null)throw new Error("THREE.WebGPURenderer: Shadow map type not supported yet.");const v=s===So&&r.isPointLightShadow!==!0?this.vsmShadowMapHorizontal.texture:a,_=this.setupShadowFilter(e,{filterFn:m,shadowTexture:o.texture,depthTexture:v,shadowCoord:f,shadow:r,depthLayer:this.depthLayer});let T=oi(o.texture,f);a.isArrayTexture&&(T=T.depth(this.depthLayer));const M=Gi(1,_.rgb.mix(T,1),l.mul(T.a)).toVar();return this.shadowMap=o,this.shadow.map=o,M}setup(e){if(e.renderer.shadowMap.enabled!==!1)return Ce(()=>{let t=this._node;return this.setupShadowPosition(e),t===null&&(this._node=t=this.setupShadow(e)),e.material.shadowNode&&console.warn('THREE.NodeMaterial: ".shadowNode" is deprecated. Use ".castShadowNode" instead.'),e.material.receivedShadowNode&&(t=e.material.receivedShadowNode(t)),t})()}renderShadow(e){const{shadow:t,shadowMap:i,light:r}=this,{renderer:s,scene:a}=e;t.updateMatrices(r),i.setSize(t.mapSize.width,t.mapSize.height,i.depth),s.render(a,t.camera)}updateShadow(e){const{shadowMap:t,light:i,shadow:r}=this,{renderer:s,scene:a,camera:o}=e,l=s.shadowMap.type,u=t.depthTexture.version;this._depthVersionCached=u;const c=r.camera.layers.mask;r.camera.layers.mask&4294967294||(r.camera.layers.mask=o.layers.mask);const f=s.getRenderObjectFunction(),m=s.getMRT(),v=m?m.has("velocity"):!1;hw=jEe(s,a,hw),a.overrideMaterial=ane(i),s.setRenderObjectFunction(one(s,r,l,v)),s.setClearColor(0,0),s.setRenderTarget(t),this.renderShadow(e),s.setRenderObjectFunction(f),l===So&&r.isPointLightShadow!==!0&&this.vsmPass(s),r.camera.layers.mask=c,WEe(s,a,hw)}vsmPass(e){const{shadow:t}=this,i=this.shadowMap.depth;this.vsmShadowMapVertical.setSize(t.mapSize.width,t.mapSize.height,i),this.vsmShadowMapHorizontal.setSize(t.mapSize.width,t.mapSize.height,i),e.setRenderTarget(this.vsmShadowMapVertical),hv.material=this.vsmMaterialVertical,hv.render(e),e.setRenderTarget(this.vsmShadowMapHorizontal),hv.material=this.vsmMaterialHorizontal,hv.render(e)}dispose(){this.shadowMap.dispose(),this.shadowMap=null,this.vsmShadowMapVertical!==null&&(this.vsmShadowMapVertical.dispose(),this.vsmShadowMapVertical=null,this.vsmMaterialVertical.dispose(),this.vsmMaterialVertical=null),this.vsmShadowMapHorizontal!==null&&(this.vsmShadowMapHorizontal.dispose(),this.vsmShadowMapHorizontal=null,this.vsmMaterialHorizontal.dispose(),this.vsmMaterialHorizontal=null),super.dispose()}updateBefore(e){const{shadow:t}=this;let i=t.needsUpdate||t.autoUpdate;i&&(this._cameraFrameId[e.camera]===e.frameId&&(i=!1),this._cameraFrameId[e.camera]=e.frameId),i&&(this.updateShadow(e),this.shadowMap.depthTexture.version===this._depthVersionCached&&(t.needsUpdate=!1))}}const une=(n,e)=>Qe(new lne(n,e)),ZEe=new Nt,cu=Ce(([n,e])=>{const t=n.toVar(),i=vr(t),r=I0(1,ts(i.x,ts(i.y,i.z)));i.mulAssign(r),t.mulAssign(r.mul(e.mul(2).oneMinus()));const s=lt(t.xy).toVar(),o=e.mul(1.5).oneMinus();return Xn(i.z.greaterThanEqual(o),()=>{Xn(t.z.greaterThan(0),()=>{s.x.assign(Ti(4,t.x))})}).ElseIf(i.x.greaterThanEqual(o),()=>{const l=_p(t.x);s.x.assign(t.z.mul(l).add(l.mul(2)))}).ElseIf(i.y.greaterThanEqual(o),()=>{const l=_p(t.y);s.x.assign(t.x.add(l.mul(2)).add(2)),s.y.assign(t.z.mul(l).sub(2))}),lt(.125,.25).mul(s).add(lt(.375,.75)).flipY()}).setLayout({name:"cubeToUV",type:"vec2",inputs:[{name:"pos",type:"vec3"},{name:"texelSizeY",type:"float"}]}),cne=Ce(({depthTexture:n,bd3D:e,dp:t,texelSize:i})=>oi(n,cu(e,i.y)).compare(t)),fne=Ce(({depthTexture:n,bd3D:e,dp:t,texelSize:i,shadow:r})=>{const s=cr("radius","float",r).setGroup(mn),a=lt(-1,1).mul(s).mul(i.y);return oi(n,cu(e.add(a.xyy),i.y)).compare(t).add(oi(n,cu(e.add(a.yyy),i.y)).compare(t)).add(oi(n,cu(e.add(a.xyx),i.y)).compare(t)).add(oi(n,cu(e.add(a.yyx),i.y)).compare(t)).add(oi(n,cu(e,i.y)).compare(t)).add(oi(n,cu(e.add(a.xxy),i.y)).compare(t)).add(oi(n,cu(e.add(a.yxy),i.y)).compare(t)).add(oi(n,cu(e.add(a.xxx),i.y)).compare(t)).add(oi(n,cu(e.add(a.yxx),i.y)).compare(t)).mul(1/9)}),JEe=Ce(({filterFn:n,depthTexture:e,shadowCoord:t,shadow:i})=>{const r=t.xyz.toVar(),s=r.length(),a=un("float").setGroup(mn).onRenderUpdate(()=>i.camera.near),o=un("float").setGroup(mn).onRenderUpdate(()=>i.camera.far),l=cr("bias","float",i).setGroup(mn),u=un(i.mapSize).setGroup(mn),c=de(1).toVar();return Xn(s.sub(o).lessThanEqual(0).and(s.sub(a).greaterThanEqual(0)),()=>{const f=s.sub(a).div(o.sub(a)).toVar();f.addAssign(l);const m=r.normalize(),v=lt(1).div(u.mul(lt(4,2)));c.assign(n({depthTexture:e,bd3D:m,dp:f,texelSize:v,shadow:i}))}),c}),jG=new ln,i6=new Ye,p9=new Ye;class ewe extends lne{static get type(){return"PointShadowNode"}constructor(e,t=null){super(e,t)}getShadowFilterFn(e){return e===NP?cne:fne}setupShadowCoord(e,t){return t}setupShadowFilter(e,{filterFn:t,shadowTexture:i,depthTexture:r,shadowCoord:s,shadow:a}){return JEe({filterFn:t,shadowTexture:i,depthTexture:r,shadowCoord:s,shadow:a})}renderShadow(e){const{shadow:t,shadowMap:i,light:r}=this,{renderer:s,scene:a}=e,o=t.getFrameExtents();p9.copy(t.mapSize),p9.multiply(o),i.setSize(p9.width,p9.height),i6.copy(t.mapSize);const l=s.autoClear,u=s.getClearColor(ZEe),c=s.getClearAlpha();s.autoClear=!1,s.setClearColor(t.clearColor,t.clearAlpha),s.clear();const f=t.getViewportCount();for(let m=0;m<f;m++){const v=t.getViewport(m),_=i6.x*v.x,T=p9.y-i6.y-i6.y*v.y;jG.set(_,T,i6.x*v.z,i6.y*v.w),i.viewport.copy(jG),t.updateMatrices(r,m),s.render(a,t.camera)}s.autoClear=l,s.setClearColor(u,c)}}const hne=(n,e)=>Qe(new ewe(n,e));class Nh extends w8{static get type(){return"AnalyticLightNode"}constructor(e=null){super(),this.light=e,this.color=new Nt,this.colorNode=e&&e.colorNode||un(this.color).setGroup(mn),this.baseColorNode=null,this.shadowNode=null,this.shadowColorNode=null,this.isAnalyticLightNode=!0,this.updateType=$n.FRAME}getHash(){return this.light.uuid}getLightVector(e){return sU(this.light).sub(e.context.positionView||As)}setupDirect(){}setupDirectRectArea(){}setupShadowNode(){return une(this.light)}setupShadow(e){const{renderer:t}=e;if(t.shadowMap.enabled===!1)return;let i=this.shadowColorNode;if(i===null){const r=this.light.shadow.shadowNode;let s;r!==void 0?s=Qe(r):s=this.setupShadowNode(),this.shadowNode=s,this.shadowColorNode=i=this.colorNode.mul(s),this.baseColorNode=this.colorNode}this.colorNode=i}setup(e){this.colorNode=this.baseColorNode||this.colorNode,this.light.castShadow?e.object.receiveShadow&&this.setupShadow(e):this.shadowNode!==null&&(this.shadowNode.dispose(),this.shadowNode=null,this.shadowColorNode=null);const t=this.setupDirect(e),i=this.setupDirectRectArea(e);t&&e.lightsNode.setupDirectLight(e,this,t),i&&e.lightsNode.setupDirectRectAreaLight(e,this,i)}update(){const{light:e}=this;this.color.copy(e.color).multiplyScalar(e.intensity)}}const uU=Ce(({lightDistance:n,cutoffDistance:e,decayExponent:t})=>{const i=n.pow(t).max(.01).reciprocal();return e.greaterThan(0).select(i.mul(n.div(e).pow4().oneMinus().clamp().pow2()),i)}),dne=({color:n,lightVector:e,cutoffDistance:t,decayExponent:i})=>{const r=e.normalize(),s=e.length(),a=uU({lightDistance:s,cutoffDistance:t,decayExponent:i}),o=n.mul(a);return{lightDirection:r,lightColor:o}};class twe extends Nh{static get type(){return"PointLightNode"}constructor(e=null){super(e),this.cutoffDistanceNode=un(0).setGroup(mn),this.decayExponentNode=un(2).setGroup(mn)}update(e){const{light:t}=this;super.update(e),this.cutoffDistanceNode.value=t.distance,this.decayExponentNode.value=t.decay}setupShadowNode(){return hne(this.light)}setupDirect(e){return dne({color:this.colorNode,lightVector:this.getLightVector(e),cutoffDistance:this.cutoffDistanceNode,decayExponent:this.decayExponentNode})}}const nwe=Ce(([n=Rr()])=>{const e=n.mul(2),t=e.x.floor(),i=e.y.floor();return t.add(i).mod(2).sign()}),iwe=Ce(([n=Rr()],{renderer:e,material:t})=>{const i=xB(n.mul(2).sub(1));let r;if(t.alphaToCoverage&&e.samples>1){const s=de(i.fwidth()).toVar();r=T1(s.oneMinus(),s.add(1),i).oneMinus()}else r=_a(i.greaterThan(1),0,1);return r}),_A=Ce(([n,e,t])=>{const i=de(t).toVar(),r=de(e).toVar(),s=b1(n).toVar();return _a(s,r,i)}).setLayout({name:"mx_select",type:"float",inputs:[{name:"b",type:"bool"},{name:"t",type:"float"},{name:"f",type:"float"}]}),ab=Ce(([n,e])=>{const t=b1(e).toVar(),i=de(n).toVar();return _a(t,i.negate(),i)}).setLayout({name:"mx_negate_if",type:"float",inputs:[{name:"val",type:"float"},{name:"b",type:"bool"}]}),Ts=Ce(([n])=>{const e=de(n).toVar();return ye(m1(e))}).setLayout({name:"mx_floor",type:"int",inputs:[{name:"x",type:"float"}]}),Or=Ce(([n,e])=>{const t=de(n).toVar();return e.assign(Ts(t)),t.sub(de(e))}),rwe=Ce(([n,e,t,i,r,s])=>{const a=de(s).toVar(),o=de(r).toVar(),l=de(i).toVar(),u=de(t).toVar(),c=de(e).toVar(),f=de(n).toVar(),m=de(Ti(1,o)).toVar();return Ti(1,a).mul(f.mul(m).add(c.mul(o))).add(a.mul(u.mul(m).add(l.mul(o))))}).setLayout({name:"mx_bilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"}]}),swe=Ce(([n,e,t,i,r,s])=>{const a=de(s).toVar(),o=de(r).toVar(),l=we(i).toVar(),u=we(t).toVar(),c=we(e).toVar(),f=we(n).toVar(),m=de(Ti(1,o)).toVar();return Ti(1,a).mul(f.mul(m).add(c.mul(o))).add(a.mul(u.mul(m).add(l.mul(o))))}).setLayout({name:"mx_bilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"}]}),Ane=ja([rwe,swe]),awe=Ce(([n,e,t,i,r,s,a,o,l,u,c])=>{const f=de(c).toVar(),m=de(u).toVar(),v=de(l).toVar(),_=de(o).toVar(),T=de(a).toVar(),M=de(s).toVar(),S=de(r).toVar(),R=de(i).toVar(),C=de(t).toVar(),P=de(e).toVar(),B=de(n).toVar(),O=de(Ti(1,v)).toVar(),V=de(Ti(1,m)).toVar();return de(Ti(1,f)).toVar().mul(V.mul(B.mul(O).add(P.mul(v))).add(m.mul(C.mul(O).add(R.mul(v))))).add(f.mul(V.mul(S.mul(O).add(M.mul(v))).add(m.mul(T.mul(O).add(_.mul(v))))))}).setLayout({name:"mx_trilerp_0",type:"float",inputs:[{name:"v0",type:"float"},{name:"v1",type:"float"},{name:"v2",type:"float"},{name:"v3",type:"float"},{name:"v4",type:"float"},{name:"v5",type:"float"},{name:"v6",type:"float"},{name:"v7",type:"float"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]}),owe=Ce(([n,e,t,i,r,s,a,o,l,u,c])=>{const f=de(c).toVar(),m=de(u).toVar(),v=de(l).toVar(),_=we(o).toVar(),T=we(a).toVar(),M=we(s).toVar(),S=we(r).toVar(),R=we(i).toVar(),C=we(t).toVar(),P=we(e).toVar(),B=we(n).toVar(),O=de(Ti(1,v)).toVar(),V=de(Ti(1,m)).toVar();return de(Ti(1,f)).toVar().mul(V.mul(B.mul(O).add(P.mul(v))).add(m.mul(C.mul(O).add(R.mul(v))))).add(f.mul(V.mul(S.mul(O).add(M.mul(v))).add(m.mul(T.mul(O).add(_.mul(v))))))}).setLayout({name:"mx_trilerp_1",type:"vec3",inputs:[{name:"v0",type:"vec3"},{name:"v1",type:"vec3"},{name:"v2",type:"vec3"},{name:"v3",type:"vec3"},{name:"v4",type:"vec3"},{name:"v5",type:"vec3"},{name:"v6",type:"vec3"},{name:"v7",type:"vec3"},{name:"s",type:"float"},{name:"t",type:"float"},{name:"r",type:"float"}]}),pne=ja([awe,owe]),lwe=Ce(([n,e,t])=>{const i=de(t).toVar(),r=de(e).toVar(),s=kt(n).toVar(),a=kt(s.bitAnd(kt(7))).toVar(),o=de(_A(a.lessThan(kt(4)),r,i)).toVar(),l=de(Wn(2,_A(a.lessThan(kt(4)),i,r))).toVar();return ab(o,b1(a.bitAnd(kt(1)))).add(ab(l,b1(a.bitAnd(kt(2)))))}).setLayout({name:"mx_gradient_float_0",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"}]}),uwe=Ce(([n,e,t,i])=>{const r=de(i).toVar(),s=de(t).toVar(),a=de(e).toVar(),o=kt(n).toVar(),l=kt(o.bitAnd(kt(15))).toVar(),u=de(_A(l.lessThan(kt(8)),a,s)).toVar(),c=de(_A(l.lessThan(kt(4)),s,_A(l.equal(kt(12)).or(l.equal(kt(14))),a,r))).toVar();return ab(u,b1(l.bitAnd(kt(1)))).add(ab(c,b1(l.bitAnd(kt(2)))))}).setLayout({name:"mx_gradient_float_1",type:"float",inputs:[{name:"hash",type:"uint"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]}),ya=ja([lwe,uwe]),cwe=Ce(([n,e,t])=>{const i=de(t).toVar(),r=de(e).toVar(),s=M8(n).toVar();return we(ya(s.x,r,i),ya(s.y,r,i),ya(s.z,r,i))}).setLayout({name:"mx_gradient_vec3_0",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"}]}),fwe=Ce(([n,e,t,i])=>{const r=de(i).toVar(),s=de(t).toVar(),a=de(e).toVar(),o=M8(n).toVar();return we(ya(o.x,a,s,r),ya(o.y,a,s,r),ya(o.z,a,s,r))}).setLayout({name:"mx_gradient_vec3_1",type:"vec3",inputs:[{name:"hash",type:"uvec3"},{name:"x",type:"float"},{name:"y",type:"float"},{name:"z",type:"float"}]}),m0=ja([cwe,fwe]),hwe=Ce(([n])=>{const e=de(n).toVar();return Wn(.6616,e)}).setLayout({name:"mx_gradient_scale2d_0",type:"float",inputs:[{name:"v",type:"float"}]}),dwe=Ce(([n])=>{const e=de(n).toVar();return Wn(.982,e)}).setLayout({name:"mx_gradient_scale3d_0",type:"float",inputs:[{name:"v",type:"float"}]}),Awe=Ce(([n])=>{const e=we(n).toVar();return Wn(.6616,e)}).setLayout({name:"mx_gradient_scale2d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]}),mne=ja([hwe,Awe]),pwe=Ce(([n])=>{const e=we(n).toVar();return Wn(.982,e)}).setLayout({name:"mx_gradient_scale3d_1",type:"vec3",inputs:[{name:"v",type:"vec3"}]}),gne=ja([dwe,pwe]),Ul=Ce(([n,e])=>{const t=ye(e).toVar(),i=kt(n).toVar();return i.shiftLeft(t).bitOr(i.shiftRight(ye(32).sub(t)))}).setLayout({name:"mx_rotl32",type:"uint",inputs:[{name:"x",type:"uint"},{name:"k",type:"int"}]}),yne=Ce(([n,e,t])=>{n.subAssign(t),n.bitXorAssign(Ul(t,ye(4))),t.addAssign(e),e.subAssign(n),e.bitXorAssign(Ul(n,ye(6))),n.addAssign(t),t.subAssign(e),t.bitXorAssign(Ul(e,ye(8))),e.addAssign(n),n.subAssign(t),n.bitXorAssign(Ul(t,ye(16))),t.addAssign(e),e.subAssign(n),e.bitXorAssign(Ul(n,ye(19))),n.addAssign(t),t.subAssign(e),t.bitXorAssign(Ul(e,ye(4))),e.addAssign(n)}),Mm=Ce(([n,e,t])=>{const i=kt(t).toVar(),r=kt(e).toVar(),s=kt(n).toVar();return i.bitXorAssign(r),i.subAssign(Ul(r,ye(14))),s.bitXorAssign(i),s.subAssign(Ul(i,ye(11))),r.bitXorAssign(s),r.subAssign(Ul(s,ye(25))),i.bitXorAssign(r),i.subAssign(Ul(r,ye(16))),s.bitXorAssign(i),s.subAssign(Ul(i,ye(4))),r.bitXorAssign(s),r.subAssign(Ul(s,ye(14))),i.bitXorAssign(r),i.subAssign(Ul(r,ye(24))),i}).setLayout({name:"mx_bjfinal",type:"uint",inputs:[{name:"a",type:"uint"},{name:"b",type:"uint"},{name:"c",type:"uint"}]}),fo=Ce(([n])=>{const e=kt(n).toVar();return de(e).div(de(kt(ye(4294967295))))}).setLayout({name:"mx_bits_to_01",type:"float",inputs:[{name:"bits",type:"uint"}]}),y1=Ce(([n])=>{const e=de(n).toVar();return e.mul(e).mul(e).mul(e.mul(e.mul(6).sub(15)).add(10))}).setLayout({name:"mx_fade",type:"float",inputs:[{name:"t",type:"float"}]}),mwe=Ce(([n])=>{const e=ye(n).toVar(),t=kt(kt(1)).toVar(),i=kt(kt(ye(3735928559)).add(t.shiftLeft(kt(2))).add(kt(13))).toVar();return Mm(i.add(kt(e)),i,i)}).setLayout({name:"mx_hash_int_0",type:"uint",inputs:[{name:"x",type:"int"}]}),gwe=Ce(([n,e])=>{const t=ye(e).toVar(),i=ye(n).toVar(),r=kt(kt(2)).toVar(),s=kt().toVar(),a=kt().toVar(),o=kt().toVar();return s.assign(a.assign(o.assign(kt(ye(3735928559)).add(r.shiftLeft(kt(2))).add(kt(13))))),s.addAssign(kt(i)),a.addAssign(kt(t)),Mm(s,a,o)}).setLayout({name:"mx_hash_int_1",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]}),ywe=Ce(([n,e,t])=>{const i=ye(t).toVar(),r=ye(e).toVar(),s=ye(n).toVar(),a=kt(kt(3)).toVar(),o=kt().toVar(),l=kt().toVar(),u=kt().toVar();return o.assign(l.assign(u.assign(kt(ye(3735928559)).add(a.shiftLeft(kt(2))).add(kt(13))))),o.addAssign(kt(s)),l.addAssign(kt(r)),u.addAssign(kt(i)),Mm(o,l,u)}).setLayout({name:"mx_hash_int_2",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]}),vwe=Ce(([n,e,t,i])=>{const r=ye(i).toVar(),s=ye(t).toVar(),a=ye(e).toVar(),o=ye(n).toVar(),l=kt(kt(4)).toVar(),u=kt().toVar(),c=kt().toVar(),f=kt().toVar();return u.assign(c.assign(f.assign(kt(ye(3735928559)).add(l.shiftLeft(kt(2))).add(kt(13))))),u.addAssign(kt(o)),c.addAssign(kt(a)),f.addAssign(kt(s)),yne(u,c,f),u.addAssign(kt(r)),Mm(u,c,f)}).setLayout({name:"mx_hash_int_3",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"}]}),xwe=Ce(([n,e,t,i,r])=>{const s=ye(r).toVar(),a=ye(i).toVar(),o=ye(t).toVar(),l=ye(e).toVar(),u=ye(n).toVar(),c=kt(kt(5)).toVar(),f=kt().toVar(),m=kt().toVar(),v=kt().toVar();return f.assign(m.assign(v.assign(kt(ye(3735928559)).add(c.shiftLeft(kt(2))).add(kt(13))))),f.addAssign(kt(u)),m.addAssign(kt(l)),v.addAssign(kt(o)),yne(f,m,v),f.addAssign(kt(a)),m.addAssign(kt(s)),Mm(f,m,v)}).setLayout({name:"mx_hash_int_4",type:"uint",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xx",type:"int"},{name:"yy",type:"int"}]}),Qi=ja([mwe,gwe,ywe,vwe,xwe]),_we=Ce(([n,e])=>{const t=ye(e).toVar(),i=ye(n).toVar(),r=kt(Qi(i,t)).toVar(),s=M8().toVar();return s.x.assign(r.bitAnd(ye(255))),s.y.assign(r.shiftRight(ye(8)).bitAnd(ye(255))),s.z.assign(r.shiftRight(ye(16)).bitAnd(ye(255))),s}).setLayout({name:"mx_hash_vec3_0",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"}]}),bwe=Ce(([n,e,t])=>{const i=ye(t).toVar(),r=ye(e).toVar(),s=ye(n).toVar(),a=kt(Qi(s,r,i)).toVar(),o=M8().toVar();return o.x.assign(a.bitAnd(ye(255))),o.y.assign(a.shiftRight(ye(8)).bitAnd(ye(255))),o.z.assign(a.shiftRight(ye(16)).bitAnd(ye(255))),o}).setLayout({name:"mx_hash_vec3_1",type:"uvec3",inputs:[{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"}]}),g0=ja([_we,bwe]),Swe=Ce(([n])=>{const e=lt(n).toVar(),t=ye().toVar(),i=ye().toVar(),r=de(Or(e.x,t)).toVar(),s=de(Or(e.y,i)).toVar(),a=de(y1(r)).toVar(),o=de(y1(s)).toVar(),l=de(Ane(ya(Qi(t,i),r,s),ya(Qi(t.add(ye(1)),i),r.sub(1),s),ya(Qi(t,i.add(ye(1))),r,s.sub(1)),ya(Qi(t.add(ye(1)),i.add(ye(1))),r.sub(1),s.sub(1)),a,o)).toVar();return mne(l)}).setLayout({name:"mx_perlin_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"}]}),Twe=Ce(([n])=>{const e=we(n).toVar(),t=ye().toVar(),i=ye().toVar(),r=ye().toVar(),s=de(Or(e.x,t)).toVar(),a=de(Or(e.y,i)).toVar(),o=de(Or(e.z,r)).toVar(),l=de(y1(s)).toVar(),u=de(y1(a)).toVar(),c=de(y1(o)).toVar(),f=de(pne(ya(Qi(t,i,r),s,a,o),ya(Qi(t.add(ye(1)),i,r),s.sub(1),a,o),ya(Qi(t,i.add(ye(1)),r),s,a.sub(1),o),ya(Qi(t.add(ye(1)),i.add(ye(1)),r),s.sub(1),a.sub(1),o),ya(Qi(t,i,r.add(ye(1))),s,a,o.sub(1)),ya(Qi(t.add(ye(1)),i,r.add(ye(1))),s.sub(1),a,o.sub(1)),ya(Qi(t,i.add(ye(1)),r.add(ye(1))),s,a.sub(1),o.sub(1)),ya(Qi(t.add(ye(1)),i.add(ye(1)),r.add(ye(1))),s.sub(1),a.sub(1),o.sub(1)),l,u,c)).toVar();return gne(f)}).setLayout({name:"mx_perlin_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"}]}),cU=ja([Swe,Twe]),Mwe=Ce(([n])=>{const e=lt(n).toVar(),t=ye().toVar(),i=ye().toVar(),r=de(Or(e.x,t)).toVar(),s=de(Or(e.y,i)).toVar(),a=de(y1(r)).toVar(),o=de(y1(s)).toVar(),l=we(Ane(m0(g0(t,i),r,s),m0(g0(t.add(ye(1)),i),r.sub(1),s),m0(g0(t,i.add(ye(1))),r,s.sub(1)),m0(g0(t.add(ye(1)),i.add(ye(1))),r.sub(1),s.sub(1)),a,o)).toVar();return mne(l)}).setLayout({name:"mx_perlin_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"}]}),Ewe=Ce(([n])=>{const e=we(n).toVar(),t=ye().toVar(),i=ye().toVar(),r=ye().toVar(),s=de(Or(e.x,t)).toVar(),a=de(Or(e.y,i)).toVar(),o=de(Or(e.z,r)).toVar(),l=de(y1(s)).toVar(),u=de(y1(a)).toVar(),c=de(y1(o)).toVar(),f=we(pne(m0(g0(t,i,r),s,a,o),m0(g0(t.add(ye(1)),i,r),s.sub(1),a,o),m0(g0(t,i.add(ye(1)),r),s,a.sub(1),o),m0(g0(t.add(ye(1)),i.add(ye(1)),r),s.sub(1),a.sub(1),o),m0(g0(t,i,r.add(ye(1))),s,a,o.sub(1)),m0(g0(t.add(ye(1)),i,r.add(ye(1))),s.sub(1),a,o.sub(1)),m0(g0(t,i.add(ye(1)),r.add(ye(1))),s,a.sub(1),o.sub(1)),m0(g0(t.add(ye(1)),i.add(ye(1)),r.add(ye(1))),s.sub(1),a.sub(1),o.sub(1)),l,u,c)).toVar();return gne(f)}).setLayout({name:"mx_perlin_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),fU=ja([Mwe,Ewe]),wwe=Ce(([n])=>{const e=de(n).toVar(),t=ye(Ts(e)).toVar();return fo(Qi(t))}).setLayout({name:"mx_cell_noise_float_0",type:"float",inputs:[{name:"p",type:"float"}]}),Rwe=Ce(([n])=>{const e=lt(n).toVar(),t=ye(Ts(e.x)).toVar(),i=ye(Ts(e.y)).toVar();return fo(Qi(t,i))}).setLayout({name:"mx_cell_noise_float_1",type:"float",inputs:[{name:"p",type:"vec2"}]}),Cwe=Ce(([n])=>{const e=we(n).toVar(),t=ye(Ts(e.x)).toVar(),i=ye(Ts(e.y)).toVar(),r=ye(Ts(e.z)).toVar();return fo(Qi(t,i,r))}).setLayout({name:"mx_cell_noise_float_2",type:"float",inputs:[{name:"p",type:"vec3"}]}),Nwe=Ce(([n])=>{const e=on(n).toVar(),t=ye(Ts(e.x)).toVar(),i=ye(Ts(e.y)).toVar(),r=ye(Ts(e.z)).toVar(),s=ye(Ts(e.w)).toVar();return fo(Qi(t,i,r,s))}).setLayout({name:"mx_cell_noise_float_3",type:"float",inputs:[{name:"p",type:"vec4"}]}),Dwe=ja([wwe,Rwe,Cwe,Nwe]),Pwe=Ce(([n])=>{const e=de(n).toVar(),t=ye(Ts(e)).toVar();return we(fo(Qi(t,ye(0))),fo(Qi(t,ye(1))),fo(Qi(t,ye(2))))}).setLayout({name:"mx_cell_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"float"}]}),Lwe=Ce(([n])=>{const e=lt(n).toVar(),t=ye(Ts(e.x)).toVar(),i=ye(Ts(e.y)).toVar();return we(fo(Qi(t,i,ye(0))),fo(Qi(t,i,ye(1))),fo(Qi(t,i,ye(2))))}).setLayout({name:"mx_cell_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec2"}]}),Bwe=Ce(([n])=>{const e=we(n).toVar(),t=ye(Ts(e.x)).toVar(),i=ye(Ts(e.y)).toVar(),r=ye(Ts(e.z)).toVar();return we(fo(Qi(t,i,r,ye(0))),fo(Qi(t,i,r,ye(1))),fo(Qi(t,i,r,ye(2))))}).setLayout({name:"mx_cell_noise_vec3_2",type:"vec3",inputs:[{name:"p",type:"vec3"}]}),Uwe=Ce(([n])=>{const e=on(n).toVar(),t=ye(Ts(e.x)).toVar(),i=ye(Ts(e.y)).toVar(),r=ye(Ts(e.z)).toVar(),s=ye(Ts(e.w)).toVar();return we(fo(Qi(t,i,r,s,ye(0))),fo(Qi(t,i,r,s,ye(1))),fo(Qi(t,i,r,s,ye(2))))}).setLayout({name:"mx_cell_noise_vec3_3",type:"vec3",inputs:[{name:"p",type:"vec4"}]}),vne=ja([Pwe,Lwe,Bwe,Uwe]),ob=Ce(([n,e,t,i])=>{const r=de(i).toVar(),s=de(t).toVar(),a=ye(e).toVar(),o=we(n).toVar(),l=de(0).toVar(),u=de(1).toVar();return Ki(a,()=>{l.addAssign(u.mul(cU(o))),u.mulAssign(r),o.mulAssign(s)}),l}).setLayout({name:"mx_fractal_noise_float",type:"float",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),xne=Ce(([n,e,t,i])=>{const r=de(i).toVar(),s=de(t).toVar(),a=ye(e).toVar(),o=we(n).toVar(),l=we(0).toVar(),u=de(1).toVar();return Ki(a,()=>{l.addAssign(u.mul(fU(o))),u.mulAssign(r),o.mulAssign(s)}),l}).setLayout({name:"mx_fractal_noise_vec3",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),Owe=Ce(([n,e,t,i])=>{const r=de(i).toVar(),s=de(t).toVar(),a=ye(e).toVar(),o=we(n).toVar();return lt(ob(o,a,s,r),ob(o.add(we(ye(19),ye(193),ye(17))),a,s,r))}).setLayout({name:"mx_fractal_noise_vec2",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),Iwe=Ce(([n,e,t,i])=>{const r=de(i).toVar(),s=de(t).toVar(),a=ye(e).toVar(),o=we(n).toVar(),l=we(xne(o,a,s,r)).toVar(),u=de(ob(o.add(we(ye(19),ye(193),ye(17))),a,s,r)).toVar();return on(l,u)}).setLayout({name:"mx_fractal_noise_vec4",type:"vec4",inputs:[{name:"p",type:"vec3"},{name:"octaves",type:"int"},{name:"lacunarity",type:"float"},{name:"diminish",type:"float"}]}),Fwe=Ce(([n,e,t,i,r,s,a])=>{const o=ye(a).toVar(),l=de(s).toVar(),u=ye(r).toVar(),c=ye(i).toVar(),f=ye(t).toVar(),m=ye(e).toVar(),v=lt(n).toVar(),_=we(vne(lt(m.add(c),f.add(u)))).toVar(),T=lt(_.x,_.y).toVar();T.subAssign(.5),T.mulAssign(l),T.addAssign(.5);const M=lt(lt(de(m),de(f)).add(T)).toVar(),S=lt(M.sub(v)).toVar();return Xn(o.equal(ye(2)),()=>vr(S.x).add(vr(S.y))),Xn(o.equal(ye(3)),()=>ts(vr(S.x),vr(S.y))),V3(S,S)}).setLayout({name:"mx_worley_distance_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),zwe=Ce(([n,e,t,i,r,s,a,o,l])=>{const u=ye(l).toVar(),c=de(o).toVar(),f=ye(a).toVar(),m=ye(s).toVar(),v=ye(r).toVar(),_=ye(i).toVar(),T=ye(t).toVar(),M=ye(e).toVar(),S=we(n).toVar(),R=we(vne(we(M.add(v),T.add(m),_.add(f)))).toVar();R.subAssign(.5),R.mulAssign(c),R.addAssign(.5);const C=we(we(de(M),de(T),de(_)).add(R)).toVar(),P=we(C.sub(S)).toVar();return Xn(u.equal(ye(2)),()=>vr(P.x).add(vr(P.y)).add(vr(P.z))),Xn(u.equal(ye(3)),()=>ts(vr(P.x),vr(P.y),vr(P.z))),V3(P,P)}).setLayout({name:"mx_worley_distance_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"x",type:"int"},{name:"y",type:"int"},{name:"z",type:"int"},{name:"xoff",type:"int"},{name:"yoff",type:"int"},{name:"zoff",type:"int"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),R8=ja([Fwe,zwe]),Vwe=Ce(([n,e,t])=>{const i=ye(t).toVar(),r=de(e).toVar(),s=lt(n).toVar(),a=ye().toVar(),o=ye().toVar(),l=lt(Or(s.x,a),Or(s.y,o)).toVar(),u=de(1e6).toVar();return Ki({start:-1,end:ye(1),name:"x",condition:"<="},({x:c})=>{Ki({start:-1,end:ye(1),name:"y",condition:"<="},({y:f})=>{const m=de(R8(l,c,f,a,o,r,i)).toVar();u.assign(cl(u,m))})}),Xn(i.equal(ye(0)),()=>{u.assign(P1(u))}),u}).setLayout({name:"mx_worley_noise_float_0",type:"float",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),kwe=Ce(([n,e,t])=>{const i=ye(t).toVar(),r=de(e).toVar(),s=lt(n).toVar(),a=ye().toVar(),o=ye().toVar(),l=lt(Or(s.x,a),Or(s.y,o)).toVar(),u=lt(1e6,1e6).toVar();return Ki({start:-1,end:ye(1),name:"x",condition:"<="},({x:c})=>{Ki({start:-1,end:ye(1),name:"y",condition:"<="},({y:f})=>{const m=de(R8(l,c,f,a,o,r,i)).toVar();Xn(m.lessThan(u.x),()=>{u.y.assign(u.x),u.x.assign(m)}).ElseIf(m.lessThan(u.y),()=>{u.y.assign(m)})})}),Xn(i.equal(ye(0)),()=>{u.assign(P1(u))}),u}).setLayout({name:"mx_worley_noise_vec2_0",type:"vec2",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),Gwe=Ce(([n,e,t])=>{const i=ye(t).toVar(),r=de(e).toVar(),s=lt(n).toVar(),a=ye().toVar(),o=ye().toVar(),l=lt(Or(s.x,a),Or(s.y,o)).toVar(),u=we(1e6,1e6,1e6).toVar();return Ki({start:-1,end:ye(1),name:"x",condition:"<="},({x:c})=>{Ki({start:-1,end:ye(1),name:"y",condition:"<="},({y:f})=>{const m=de(R8(l,c,f,a,o,r,i)).toVar();Xn(m.lessThan(u.x),()=>{u.z.assign(u.y),u.y.assign(u.x),u.x.assign(m)}).ElseIf(m.lessThan(u.y),()=>{u.z.assign(u.y),u.y.assign(m)}).ElseIf(m.lessThan(u.z),()=>{u.z.assign(m)})})}),Xn(i.equal(ye(0)),()=>{u.assign(P1(u))}),u}).setLayout({name:"mx_worley_noise_vec3_0",type:"vec3",inputs:[{name:"p",type:"vec2"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),qwe=Ce(([n,e,t])=>{const i=ye(t).toVar(),r=de(e).toVar(),s=we(n).toVar(),a=ye().toVar(),o=ye().toVar(),l=ye().toVar(),u=we(Or(s.x,a),Or(s.y,o),Or(s.z,l)).toVar(),c=de(1e6).toVar();return Ki({start:-1,end:ye(1),name:"x",condition:"<="},({x:f})=>{Ki({start:-1,end:ye(1),name:"y",condition:"<="},({y:m})=>{Ki({start:-1,end:ye(1),name:"z",condition:"<="},({z:v})=>{const _=de(R8(u,f,m,v,a,o,l,r,i)).toVar();c.assign(cl(c,_))})})}),Xn(i.equal(ye(0)),()=>{c.assign(P1(c))}),c}).setLayout({name:"mx_worley_noise_float_1",type:"float",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),Hwe=ja([Vwe,qwe]),jwe=Ce(([n,e,t])=>{const i=ye(t).toVar(),r=de(e).toVar(),s=we(n).toVar(),a=ye().toVar(),o=ye().toVar(),l=ye().toVar(),u=we(Or(s.x,a),Or(s.y,o),Or(s.z,l)).toVar(),c=lt(1e6,1e6).toVar();return Ki({start:-1,end:ye(1),name:"x",condition:"<="},({x:f})=>{Ki({start:-1,end:ye(1),name:"y",condition:"<="},({y:m})=>{Ki({start:-1,end:ye(1),name:"z",condition:"<="},({z:v})=>{const _=de(R8(u,f,m,v,a,o,l,r,i)).toVar();Xn(_.lessThan(c.x),()=>{c.y.assign(c.x),c.x.assign(_)}).ElseIf(_.lessThan(c.y),()=>{c.y.assign(_)})})})}),Xn(i.equal(ye(0)),()=>{c.assign(P1(c))}),c}).setLayout({name:"mx_worley_noise_vec2_1",type:"vec2",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),Wwe=ja([kwe,jwe]),Xwe=Ce(([n,e,t])=>{const i=ye(t).toVar(),r=de(e).toVar(),s=we(n).toVar(),a=ye().toVar(),o=ye().toVar(),l=ye().toVar(),u=we(Or(s.x,a),Or(s.y,o),Or(s.z,l)).toVar(),c=we(1e6,1e6,1e6).toVar();return Ki({start:-1,end:ye(1),name:"x",condition:"<="},({x:f})=>{Ki({start:-1,end:ye(1),name:"y",condition:"<="},({y:m})=>{Ki({start:-1,end:ye(1),name:"z",condition:"<="},({z:v})=>{const _=de(R8(u,f,m,v,a,o,l,r,i)).toVar();Xn(_.lessThan(c.x),()=>{c.z.assign(c.y),c.y.assign(c.x),c.x.assign(_)}).ElseIf(_.lessThan(c.y),()=>{c.z.assign(c.y),c.y.assign(_)}).ElseIf(_.lessThan(c.z),()=>{c.z.assign(_)})})})}),Xn(i.equal(ye(0)),()=>{c.assign(P1(c))}),c}).setLayout({name:"mx_worley_noise_vec3_1",type:"vec3",inputs:[{name:"p",type:"vec3"},{name:"jitter",type:"float"},{name:"metric",type:"int"}]}),Ywe=ja([Gwe,Xwe]),Qwe=Ce(([n])=>{const e=n.y,t=n.z,i=we().toVar();return Xn(e.lessThan(1e-4),()=>{i.assign(we(t,t,t))}).Else(()=>{let r=n.x;r=r.sub(m1(r)).mul(6).toVar();const s=ye(yB(r)),a=r.sub(de(s)),o=t.mul(e.oneMinus()),l=t.mul(e.mul(a).oneMinus()),u=t.mul(e.mul(a.oneMinus()).oneMinus());Xn(s.equal(ye(0)),()=>{i.assign(we(t,u,o))}).ElseIf(s.equal(ye(1)),()=>{i.assign(we(l,t,o))}).ElseIf(s.equal(ye(2)),()=>{i.assign(we(o,t,u))}).ElseIf(s.equal(ye(3)),()=>{i.assign(we(o,l,t))}).ElseIf(s.equal(ye(4)),()=>{i.assign(we(u,o,t))}).Else(()=>{i.assign(we(t,o,l))})}),i}).setLayout({name:"mx_hsvtorgb",type:"vec3",inputs:[{name:"hsv",type:"vec3"}]}),$we=Ce(([n])=>{const e=we(n).toVar(),t=de(e.x).toVar(),i=de(e.y).toVar(),r=de(e.z).toVar(),s=de(cl(t,cl(i,r))).toVar(),a=de(ts(t,ts(i,r))).toVar(),o=de(a.sub(s)).toVar(),l=de().toVar(),u=de().toVar(),c=de().toVar();return c.assign(a),Xn(a.greaterThan(0),()=>{u.assign(o.div(a))}).Else(()=>{u.assign(0)}),Xn(u.lessThanEqual(0),()=>{l.assign(0)}).Else(()=>{Xn(t.greaterThanEqual(a),()=>{l.assign(i.sub(r).div(o))}).ElseIf(i.greaterThanEqual(a),()=>{l.assign(ks(2,r.sub(t).div(o)))}).Else(()=>{l.assign(ks(4,t.sub(i).div(o)))}),l.mulAssign(1/6),Xn(l.lessThan(0),()=>{l.addAssign(1)})}),we(l,u,c)}).setLayout({name:"mx_rgbtohsv",type:"vec3",inputs:[{name:"c",type:"vec3"}]}),Kwe=Ce(([n])=>{const e=we(n).toVar(),t=nB(fB(e,we(.04045))).toVar(),i=we(e.div(12.92)).toVar(),r=we(yu(ts(e.add(we(.055)),we(0)).div(1.055),we(2.4))).toVar();return Gi(i,r,t)}).setLayout({name:"mx_srgb_texture_to_lin_rec709",type:"vec3",inputs:[{name:"color",type:"vec3"}]}),_ne=(n,e)=>{n=de(n),e=de(e);const t=lt(e.dFdx(),e.dFdy()).length().mul(.7071067811865476);return T1(n.sub(t),n.add(t),e)},bne=(n,e,t,i)=>Gi(n,e,t[i].clamp()),Zwe=(n,e,t=Rr())=>bne(n,e,t,"x"),Jwe=(n,e,t=Rr())=>bne(n,e,t,"y"),Sne=(n,e,t,i,r)=>Gi(n,e,_ne(t,i[r])),eRe=(n,e,t,i=Rr())=>Sne(n,e,t,i,"x"),tRe=(n,e,t,i=Rr())=>Sne(n,e,t,i,"y"),nRe=(n=1,e=0,t=Rr())=>t.mul(n).add(e),iRe=(n,e=1)=>(n=de(n),n.abs().pow(e).mul(n.sign())),rRe=(n,e=1,t=.5)=>de(n).sub(t).mul(e).add(t),sRe=(n=Rr(),e=1,t=0)=>cU(n.convert("vec2|vec3")).mul(e).add(t),aRe=(n=Rr(),e=1,t=0)=>fU(n.convert("vec2|vec3")).mul(e).add(t),oRe=(n=Rr(),e=1,t=0)=>(n=n.convert("vec2|vec3"),on(fU(n),cU(n.add(lt(19,73)))).mul(e).add(t)),lRe=(n=Rr(),e=1)=>Hwe(n.convert("vec2|vec3"),e,ye(1)),uRe=(n=Rr(),e=1)=>Wwe(n.convert("vec2|vec3"),e,ye(1)),cRe=(n=Rr(),e=1)=>Ywe(n.convert("vec2|vec3"),e,ye(1)),fRe=(n=Rr())=>Dwe(n.convert("vec2|vec3")),hRe=(n=Rr(),e=3,t=2,i=.5,r=1)=>ob(n,ye(e),t,i).mul(r),dRe=(n=Rr(),e=3,t=2,i=.5,r=1)=>Owe(n,ye(e),t,i).mul(r),ARe=(n=Rr(),e=3,t=2,i=.5,r=1)=>xne(n,ye(e),t,i).mul(r),pRe=(n=Rr(),e=3,t=2,i=.5,r=1)=>Iwe(n,ye(e),t,i).mul(r),mRe=Ce(([n,e,t])=>{const i=$c(n).toVar(),r=Ti(de(.5).mul(e.sub(t)),Pc).div(i).toVar(),s=Ti(de(-.5).mul(e.sub(t)),Pc).div(i).toVar(),a=we().toVar();a.x=i.x.greaterThan(de(0)).select(r.x,s.x),a.y=i.y.greaterThan(de(0)).select(r.y,s.y),a.z=i.z.greaterThan(de(0)).select(r.z,s.z);const o=cl(a.x,a.y,a.z).toVar();return Pc.add(i.mul(o)).toVar().sub(t)}),Tne=Ce(([n,e])=>{const t=n.x,i=n.y,r=n.z;let s=e.element(0).mul(.886227);return s=s.add(e.element(1).mul(2*.511664).mul(i)),s=s.add(e.element(2).mul(2*.511664).mul(r)),s=s.add(e.element(3).mul(2*.511664).mul(t)),s=s.add(e.element(4).mul(2*.429043).mul(t).mul(i)),s=s.add(e.element(5).mul(2*.429043).mul(i).mul(r)),s=s.add(e.element(6).mul(r.mul(r).mul(.743125).sub(.247708))),s=s.add(e.element(7).mul(2*.429043).mul(t).mul(r)),s=s.add(e.element(8).mul(.429043).mul(Wn(t,t).sub(Wn(i,i)))),s});var j=Object.freeze({__proto__:null,BRDF_GGX:wN,BRDF_Lambert:oh,BasicPointShadowFilter:cne,BasicShadowFilter:nne,Break:Yee,Const:yJ,Continue:vbe,DFGApprox:WB,D_GGX:pte,Discard:BJ,EPSILON:qZ,F_Schlick:e8,Fn:Ce,INFINITY:Qxe,If:Xn,Loop:Ki,NodeAccess:lo,NodeShaderStage:I9,NodeType:_xe,NodeUpdateType:$n,PCFShadowFilter:ine,PCFSoftShadowFilter:rne,PI:tb,PI2:$xe,PointShadowFilter:fne,Return:d_e,Schlick_to_F0:gte,ScriptableNodeResources:gx,ShaderNode:q6,Stack:LS,Switch:Vxe,TBNViewMatrix:hf,VSMShadowFilter:sne,V_GGX_SmithCorrelated:Ate,Var:gJ,abs:vr,acesFilmicToneMapping:Xte,acos:AB,add:ks,addMethodChaining:Je,addNodeElement:m_e,agxToneMapping:Yte,all:HZ,alphaT:Z_,and:RZ,anisotropy:G2,anisotropyB:Rf,anisotropyT:mA,any:jZ,append:Hxe,array:_Z,arrayBuffer:Gxe,asin:QZ,assign:bZ,atan:pB,atan2:AJ,atomicAdd:REe,atomicAnd:PEe,atomicFunc:B1,atomicLoad:EEe,atomicMax:NEe,atomicMin:DEe,atomicOr:LEe,atomicStore:wEe,atomicSub:CEe,atomicXor:BEe,attenuationColor:oB,attenuationDistance:aB,attribute:Zc,attributeArray:MMe,backgroundBlurriness:Fte,backgroundIntensity:LN,backgroundRotation:zte,batch:jee,bentNormalView:lee,billboarding:oMe,bitAnd:PZ,bitNot:LZ,bitOr:BZ,bitXor:UZ,bitangentGeometry:Z_e,bitangentLocal:J_e,bitangentView:aee,bitangentWorld:ebe,bitcast:Kxe,blendBurn:nte,blendColor:Fbe,blendDodge:ite,blendOverlay:ste,blendScreen:rte,blur:Ste,bool:b1,buffer:vm,bufferAttribute:ym,bumpMap:uee,burn:Vbe,bvec2:fZ,bvec3:nB,bvec4:pZ,bypass:NJ,cache:yA,call:SZ,cameraFar:Q2,cameraIndex:jS,cameraNear:Y2,cameraNormalMatrix:R_e,cameraPosition:FJ,cameraProjectionMatrix:wh,cameraProjectionMatrixInverse:E_e,cameraViewMatrix:j0,cameraWorldMatrix:w_e,cbrt:uJ,cdl:kMe,ceil:VS,checker:nwe,cineonToneMapping:Wte,clamp:S1,clearcoat:K_,clearcoatNormalView:ff,clearcoatRoughness:vp,code:nT,color:uZ,colorSpaceToWorking:HS,colorToDirection:$be,compute:CJ,computeSkinning:gbe,context:qS,convert:gZ,convertColorSpace:r_e,convertToTexture:vMe,cos:hc,cross:GS,cubeTexture:Jd,cubeTextureBase:BB,cubeToUV:cu,dFdx:mB,dFdy:gB,dashSize:ux,debug:OJ,decrement:kZ,decrementBefore:zZ,defaultBuildStages:dN,defaultShaderStages:iZ,defined:pp,degrees:XZ,deltaTime:Ute,densityFog:uEe,densityFogFactor:tU,depth:GB,depthPass:WMe,difference:sJ,diffuseColor:Li,directPointLight:dne,directionToColor:ote,directionToFaceDirection:E8,dispersion:lB,distance:rJ,div:I0,dodge:kbe,dot:V3,drawIndex:Gee,dynamicBufferAttribute:RJ,element:mZ,emissive:gN,equal:cB,equals:nJ,equirectUV:qB,exp:hB,exp2:Kd,expression:Kc,faceDirection:DB,faceForward:SB,faceforward:Zxe,float:de,floor:m1,fog:Sp,fract:e2,frameGroup:xZ,frameId:KTe,frontFacing:GJ,fwidth:eJ,gain:HTe,gapSize:yN,getConstNodeType:lZ,getCurrentStack:tB,getDirection:_te,getDistanceAttenuation:uU,getGeometryRoughness:dte,getNormalFromDepth:_Me,getParallaxCorrectNormal:mRe,getRoughness:jB,getScreenPosition:xMe,getShIrradianceAt:Tne,getShadowMaterial:ane,getShadowRenderObjectFunction:one,getTextureIndex:Lte,getViewPosition:g6,globalId:pEe,glsl:tEe,glslFn:nEe,grayscale:IMe,greaterThan:fB,greaterThanEqual:wZ,hash:qTe,highpModelNormalViewMatrix:_N,highpModelViewMatrix:xN,hue:VMe,increment:VZ,incrementBefore:FZ,instance:cbe,instanceIndex:_3,instancedArray:EMe,instancedBufferAttribute:nb,instancedDynamicBufferAttribute:vN,instancedMesh:Hee,int:ye,inverseSqrt:dB,inversesqrt:Jxe,invocationLocalIndex:ube,invocationSubgroupIndex:lbe,ior:gA,iridescence:OS,iridescenceIOR:iB,iridescenceThickness:rB,ivec2:Zs,ivec3:hZ,ivec4:dZ,js:JMe,label:mJ,length:g1,lengthSq:xB,lessThan:MZ,lessThanEqual:EZ,lightPosition:rU,lightProjectionUV:ene,lightShadowMatrix:iU,lightTargetDirection:aU,lightTargetPosition:tne,lightViewPosition:sU,lightingContext:$ee,lights:IEe,linearDepth:rb,linearToneMapping:Hte,localId:mEe,log:zS,log2:p1,logarithmicDepthToViewZ:Nbe,luminance:JB,mat2:BS,mat3:ho,mat4:wf,matcapUV:Ete,materialAO:Vee,materialAlphaTest:cee,materialAnisotropy:Mee,materialAnisotropyVector:m6,materialAttenuationColor:Lee,materialAttenuationDistance:Pee,materialClearcoat:vee,materialClearcoatNormal:_ee,materialClearcoatRoughness:xee,materialColor:fee,materialDispersion:zee,materialEmissive:dee,materialEnvIntensity:hx,materialEnvRotation:LB,materialIOR:Dee,materialIridescence:Eee,materialIridescenceIOR:wee,materialIridescenceThickness:Ree,materialLightMap:OB,materialLineDashOffset:Iee,materialLineDashSize:Uee,materialLineGapSize:Oee,materialLineScale:Bee,materialLineWidth:abe,materialMetalness:gee,materialNormal:yee,materialOpacity:UB,materialPointSize:Fee,materialReference:mc,materialReflectivity:dx,materialRefractionRatio:WJ,materialRotation:bee,materialRoughness:mee,materialSheen:See,materialSheenRoughness:Tee,materialShininess:hee,materialSpecular:Aee,materialSpecularColor:pee,materialSpecularIntensity:EN,materialSpecularStrength:vA,materialThickness:Nee,materialTransmission:Cee,max:ts,maxMipLevel:wB,mediumpModelViewMatrix:kJ,metalness:yp,min:cl,mix:Gi,mixElement:fJ,mod:FS,modInt:GZ,modelDirection:B_e,modelNormalMatrix:VJ,modelPosition:U_e,modelRadius:F_e,modelScale:O_e,modelViewMatrix:Rh,modelViewPosition:I_e,modelViewProjection:IB,modelWorldMatrix:R0,modelWorldMatrixInverse:z_e,morphReference:Qee,mrt:Bte,mul:Wn,mx_aastep:_ne,mx_cell_noise_float:fRe,mx_contrast:rRe,mx_fractal_noise_float:hRe,mx_fractal_noise_vec2:dRe,mx_fractal_noise_vec3:ARe,mx_fractal_noise_vec4:pRe,mx_hsvtorgb:Qwe,mx_noise_float:sRe,mx_noise_vec3:aRe,mx_noise_vec4:oRe,mx_ramplr:Zwe,mx_ramptb:Jwe,mx_rgbtohsv:$we,mx_safepower:iRe,mx_splitlr:eRe,mx_splittb:tRe,mx_srgb_texture_to_lin_rec709:Kwe,mx_transform_uv:nRe,mx_worley_noise_float:lRe,mx_worley_noise_vec2:uRe,mx_worley_noise_vec3:cRe,negate:$Z,neutralToneMapping:Qte,nodeArray:Ef,nodeImmutable:Dt,nodeObject:Qe,nodeObjects:mm,nodeProxy:tt,normalFlat:qJ,normalGeometry:WS,normalLocal:fl,normalMap:MN,normalView:$i,normalViewGeometry:Zd,normalWorld:k3,normalWorldGeometry:HJ,normalize:$c,not:NZ,notEqual:TZ,numWorkgroups:dEe,objectDirection:C_e,objectGroup:uB,objectPosition:zJ,objectRadius:L_e,objectScale:D_e,objectViewPosition:P_e,objectWorldMatrix:N_e,oneMinus:KZ,or:CZ,orthographicDepthToViewZ:Cbe,oscSawtooth:rMe,oscSine:tMe,oscSquare:nMe,oscTriangle:iMe,output:sd,outputStruct:kTe,overlay:qbe,overloadingFn:ja,parabola:PN,parallaxDirection:oee,parallaxUV:tbe,parameter:UTe,pass:HMe,passTexture:jMe,pcurve:jTe,perspectiveDepthToViewZ:VB,pmremTexture:$B,pointShadow:hne,pointUV:RMe,pointWidth:jxe,positionGeometry:_m,positionLocal:ds,positionPrevious:ib,positionView:As,positionViewDirection:Dr,positionWorld:Pc,positionWorldDirection:NB,posterize:qMe,pow:yu,pow2:vB,pow3:aJ,pow4:oJ,premultiplyAlpha:ate,property:Dc,radians:WZ,rand:cJ,range:fEe,rangeFog:lEe,rangeFogFactor:eU,reciprocal:JZ,reference:cr,referenceBuffer:bN,reflect:iJ,reflectVector:QJ,reflectView:XJ,reflector:AMe,refract:bB,refractVector:$J,refractView:YJ,reinhardToneMapping:jte,remap:PJ,remapClamp:LJ,renderGroup:mn,renderOutput:UJ,rendererReference:MJ,rotate:eT,rotateUV:sMe,roughness:t1,round:ZZ,rtt:Ite,sRGBTransferEOTF:_J,sRGBTransferOETF:bJ,sample:SMe,sampler:__e,samplerComparison:b_e,saturate:_B,saturation:FMe,screen:Gbe,screenCoordinate:Sm,screenSize:bp,screenUV:Lc,scriptable:oEe,scriptableValue:mx,select:_a,setCurrentStack:mp,shaderStages:AN,shadow:une,shadowPositionWorld:lU,shapeCircle:iwe,sharedUniformGroup:IS,sheen:cf,sheenRoughness:US,shiftLeft:OZ,shiftRight:IZ,shininess:J_,sign:_p,sin:Il,sinc:WTe,skinning:Xee,smoothstep:T1,smoothstepElement:hJ,specularColor:Xo,specularF90:xp,spherizeUV:aMe,split:qxe,spritesheetUV:cMe,sqrt:P1,stack:Ax,step:kS,stepElement:dJ,storage:Cf,storageBarrier:xEe,storageObject:mbe,storageTexture:Vte,string:kxe,struct:VTe,sub:Ti,subBuild:ad,subgroupIndex:obe,subgroupSize:gEe,tan:YZ,tangentGeometry:YS,tangentLocal:bm,tangentView:QS,tangentWorld:see,temp:vJ,texture:oi,texture3D:kte,textureBarrier:_Ee,textureBicubic:vSe,textureBicubicLevel:XB,textureCubeUV:bte,textureLoad:ls,textureSize:x3,textureStore:NMe,thickness:sB,time:Ch,timerDelta:eMe,timerGlobal:JTe,timerLocal:ZTe,toneMapping:EJ,toneMappingExposure:wJ,toonOutlinePass:YMe,transformDirection:lJ,transformNormal:jJ,transformNormalToView:PB,transformedClearcoatNormalView:q_e,transformedNormalView:k_e,transformedNormalWorld:G_e,transmission:eb,transpose:tJ,triNoise3D:YTe,triplanarTexture:fMe,triplanarTextures:Ote,trunc:yB,uint:kt,uniform:un,uniformArray:M0,uniformCubeTexture:j_e,uniformGroup:vZ,uniformTexture:x_e,unpremultiplyAlpha:zbe,userData:BMe,uv:Rr,uvec2:cZ,uvec3:M8,uvec4:AZ,varying:L1,varyingProperty:gp,vec2:lt,vec3:we,vec4:on,vectorComponents:Mh,velocity:OMe,vertexColor:tte,vertexIndex:kee,vertexStage:xJ,vibrance:zMe,viewZToLogarithmicDepth:kB,viewZToOrthographicDepth:ld,viewZToPerspectiveDepth:Jee,viewport:od,viewportCoordinate:Zee,viewportDepthTexture:zB,viewportLinearDepth:Dbe,viewportMipTexture:FB,viewportResolution:Ebe,viewportSafeUV:lMe,viewportSharedTexture:Qbe,viewportSize:Kee,viewportTexture:wbe,viewportUV:Mbe,wgsl:eEe,wgslFn:iEe,workgroupArray:TEe,workgroupBarrier:vEe,workgroupId:AEe,workingToColorSpace:SJ,xor:DZ});const ru=new KB;class gRe extends G3{constructor(e,t){super(),this.renderer=e,this.nodes=t}update(e,t,i){const r=this.renderer,s=this.nodes.getBackgroundNode(e)||e.background;let a=!1;if(s===null)r._clearColor.getRGB(ru),ru.a=r._clearColor.a;else if(s.isColor===!0)s.getRGB(ru),ru.a=1,a=!0;else if(s.isNode===!0){const l=this.get(e),u=s;ru.copy(r._clearColor);let c=l.backgroundMesh;if(c===void 0){let T=function(){s.removeEventListener("dispose",T),c.material.dispose(),c.geometry.dispose()};const m=qS(on(u).mul(LN),{getUV:()=>zte.mul(HJ),getTextureLevel:()=>Fte});let v=IB;v=v.setZ(v.w);const _=new ms;_.name="Background.material",_.side=Zi,_.depthTest=!1,_.depthWrite=!1,_.allowOverride=!1,_.fog=!1,_.lights=!1,_.vertexNode=v,_.colorNode=m,l.backgroundMeshNode=m,l.backgroundMesh=c=new ii(new q0(1,32,32),_),c.frustumCulled=!1,c.name="Background.mesh",c.onBeforeRender=function(M,S,R){this.matrixWorld.copyPosition(R.matrixWorld)},s.addEventListener("dispose",T)}const f=u.getCacheKey();l.backgroundCacheKey!==f&&(l.backgroundMeshNode.node=on(u).mul(LN),l.backgroundMeshNode.needsUpdate=!0,c.material.needsUpdate=!0,l.backgroundCacheKey=f),t.unshift(c,c.geometry,c.material,0,0,null,null)}else console.error("THREE.Renderer: Unsupported background configuration.",s);const o=r.xr.getEnvironmentBlendMode();if(o==="additive"?ru.set(0,0,0,1):o==="alpha-blend"&&ru.set(0,0,0,0),r.autoClear===!0||a===!0){const l=i.clearColorValue;l.r=ru.r,l.g=ru.g,l.b=ru.b,l.a=ru.a,(r.backend.isWebGLBackend===!0||r.alpha===!0)&&(l.r*=l.a,l.g*=l.a,l.b*=l.a),i.depthClearValue=r._clearDepth,i.stencilClearValue=r._clearStencil,i.clearColor=r.autoClearColor===!0,i.clearDepth=r.autoClearDepth===!0,i.clearStencil=r.autoClearStencil===!0}else i.clearColor=!1,i.clearDepth=!1,i.clearStencil=!1}}let yRe=0;class BN{constructor(e="",t=[],i=0,r=[]){this.name=e,this.bindings=t,this.index=i,this.bindingsReference=r,this.id=yRe++}}class vRe{constructor(e,t,i,r,s,a,o,l,u,c=[]){this.vertexShader=e,this.fragmentShader=t,this.computeShader=i,this.transforms=c,this.nodeAttributes=r,this.bindings=s,this.updateNodes=a,this.updateBeforeNodes=o,this.updateAfterNodes=l,this.observer=u,this.usedTimes=0}createBindings(){const e=[];for(const t of this.bindings)if(t.bindings[0].groupNode.shared!==!0){const r=new BN(t.name,[],t.index,t);e.push(r);for(const s of t.bindings)r.bindings.push(s.clone())}else e.push(t);return e}}class WG{constructor(e,t,i=null){this.isNodeAttribute=!0,this.name=e,this.type=t,this.node=i}}class xRe{constructor(e,t,i){this.isNodeUniform=!0,this.name=e,this.type=t,this.node=i.getSelf()}get value(){return this.node.value}set value(e){this.node.value=e}get id(){return this.node.id}get groupNode(){return this.node.groupNode}}class Mne{constructor(e,t,i=!1,r=null){this.isNodeVar=!0,this.name=e,this.type=t,this.readOnly=i,this.count=r}}class _Re extends Mne{constructor(e,t,i=null,r=null){super(e,t),this.needsInterpolation=!1,this.isNodeVarying=!0,this.interpolationType=i,this.interpolationSampling=r}}class bRe{constructor(e,t,i=""){this.name=e,this.type=t,this.code=i,Object.defineProperty(this,"isNodeCode",{value:!0})}}let SRe=0;class dw{constructor(e=null){this.id=SRe++,this.nodesData=new WeakMap,this.parent=e}getData(e){let t=this.nodesData.get(e);return t===void 0&&this.parent!==null&&(t=this.parent.getData(e)),t}setData(e,t){this.nodesData.set(e,t)}}class TRe{constructor(e,t){this.name=e,this.members=t,this.output=!1}}class q3{constructor(e,t){this.name=e,this.value=t,this.boundary=0,this.itemSize=0,this.offset=0}setValue(e){this.value=e}getValue(){return this.value}}class MRe extends q3{constructor(e,t=0){super(e,t),this.isNumberUniform=!0,this.boundary=4,this.itemSize=1}}class ERe extends q3{constructor(e,t=new Ye){super(e,t),this.isVector2Uniform=!0,this.boundary=8,this.itemSize=2}}class wRe extends q3{constructor(e,t=new re){super(e,t),this.isVector3Uniform=!0,this.boundary=16,this.itemSize=3}}class RRe extends q3{constructor(e,t=new ln){super(e,t),this.isVector4Uniform=!0,this.boundary=16,this.itemSize=4}}class CRe extends q3{constructor(e,t=new Nt){super(e,t),this.isColorUniform=!0,this.boundary=16,this.itemSize=3}}class NRe extends q3{constructor(e,t=new hm){super(e,t),this.isMatrix2Uniform=!0,this.boundary=8,this.itemSize=4}}class DRe extends q3{constructor(e,t=new On){super(e,t),this.isMatrix3Uniform=!0,this.boundary=48,this.itemSize=12}}class PRe extends q3{constructor(e,t=new Yt){super(e,t),this.isMatrix4Uniform=!0,this.boundary=64,this.itemSize=16}}class LRe extends MRe{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class BRe extends ERe{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class URe extends wRe{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class ORe extends RRe{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class IRe extends CRe{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class FRe extends NRe{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class zRe extends DRe{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}class VRe extends PRe{constructor(e){super(e.name,e.value),this.nodeUniform=e}getValue(){return this.nodeUniform.value}getType(){return this.nodeUniform.type}}const XG=new WeakMap,kRe=new Map([[Int8Array,"int"],[Int16Array,"int"],[Int32Array,"int"],[Uint8Array,"uint"],[Uint16Array,"uint"],[Uint32Array,"uint"],[Float32Array,"float"]]),dv=n=>/e/g.test(n)?String(n).replace(/\+/g,""):(n=Number(n),n+(n%1?"":".0"));class Ene{constructor(e,t,i){this.object=e,this.material=e&&e.material||null,this.geometry=e&&e.geometry||null,this.renderer=t,this.parser=i,this.scene=null,this.camera=null,this.nodes=[],this.sequentialNodes=[],this.updateNodes=[],this.updateBeforeNodes=[],this.updateAfterNodes=[],this.hashNodes={},this.observer=null,this.lightsNode=null,this.environmentNode=null,this.fogNode=null,this.clippingContext=null,this.vertexShader=null,this.fragmentShader=null,this.computeShader=null,this.flowNodes={vertex:[],fragment:[],compute:[]},this.flowCode={vertex:"",fragment:"",compute:""},this.uniforms={vertex:[],fragment:[],compute:[],index:0},this.structs={vertex:[],fragment:[],compute:[],index:0},this.bindings={vertex:{},fragment:{},compute:{}},this.bindingsIndexes={},this.bindGroups=null,this.attributes=[],this.bufferAttributes=[],this.varyings=[],this.codes={},this.vars={},this.declarations={},this.flow={code:""},this.chaining=[],this.stack=Ax(),this.stacks=[],this.tab="	",this.currentFunctionNode=null,this.context={material:this.material},this.cache=new dw,this.globalCache=this.cache,this.flowsData=new WeakMap,this.shaderStage=null,this.buildStage=null,this.subBuildLayers=[],this.currentStack=null,this.subBuildFn=null}getBindGroupsCache(){let e=XG.get(this.renderer);return e===void 0&&(e=new Tu,XG.set(this.renderer,e)),e}createRenderTarget(e,t,i){return new Eu(e,t,i)}createCubeRenderTarget(e,t){return new lte(e,t)}includes(e){return this.nodes.includes(e)}getOutputStructName(){}_getBindGroup(e,t){const i=this.getBindGroupsCache(),r=[];let s=!0;for(const o of t)r.push(o),s=s&&o.groupNode.shared!==!0;let a;return s?(a=i.get(r),a===void 0&&(a=new BN(e,r,this.bindingsIndexes[e].group,r),i.set(r,a))):a=new BN(e,r,this.bindingsIndexes[e].group,r),a}getBindGroupArray(e,t){const i=this.bindings[t];let r=i[e];return r===void 0&&(this.bindingsIndexes[e]===void 0&&(this.bindingsIndexes[e]={binding:0,group:Object.keys(this.bindingsIndexes).length}),i[e]=r=[]),r}getBindings(){let e=this.bindGroups;if(e===null){const t={},i=this.bindings;for(const r of AN)for(const s in i[r]){const a=i[r][s];(t[s]||(t[s]=[])).push(...a)}e=[];for(const r in t){const s=t[r],a=this._getBindGroup(r,s);e.push(a)}this.bindGroups=e}return e}sortBindingGroups(){const e=this.getBindings();e.sort((t,i)=>t.bindings[0].groupNode.order-i.bindings[0].groupNode.order);for(let t=0;t<e.length;t++){const i=e[t];this.bindingsIndexes[i.name].group=t,i.index=t}}setHashNode(e,t){this.hashNodes[t]=e}addNode(e){this.nodes.includes(e)===!1&&(this.nodes.push(e),this.setHashNode(e,e.getHash(this)))}addSequentialNode(e){this.sequentialNodes.includes(e)===!1&&this.sequentialNodes.push(e)}buildUpdateNodes(){for(const e of this.nodes)e.getUpdateType()!==$n.NONE&&this.updateNodes.push(e.getSelf());for(const e of this.sequentialNodes){const t=e.getUpdateBeforeType(),i=e.getUpdateAfterType();t!==$n.NONE&&this.updateBeforeNodes.push(e.getSelf()),i!==$n.NONE&&this.updateAfterNodes.push(e.getSelf())}}get currentNode(){return this.chaining[this.chaining.length-1]}isFilteredTexture(e){return e.magFilter===dr||e.magFilter===p3||e.magFilter===Au||e.magFilter===Fa||e.minFilter===dr||e.minFilter===p3||e.minFilter===Au||e.minFilter===Fa}addChain(e){this.chaining.push(e)}removeChain(e){if(this.chaining.pop()!==e)throw new Error("NodeBuilder: Invalid node chaining!")}getMethod(e){return e}getNodeFromHash(e){return this.hashNodes[e]}addFlow(e,t){return this.flowNodes[e].push(t),t}setContext(e){this.context=e}getContext(){return this.context}getSharedContext(){return{...this.context},this.context}setCache(e){this.cache=e}getCache(){return this.cache}getCacheFromNode(e,t=!0){const i=this.getDataFromNode(e);return i.cache===void 0&&(i.cache=new dw(t?this.getCache():null)),i.cache}isAvailable(){return!1}getVertexIndex(){console.warn("Abstract function.")}getInstanceIndex(){console.warn("Abstract function.")}getDrawIndex(){console.warn("Abstract function.")}getFrontFacing(){console.warn("Abstract function.")}getFragCoord(){console.warn("Abstract function.")}isFlipY(){return!1}increaseUsage(e){const t=this.getDataFromNode(e);return t.usageCount=t.usageCount===void 0?1:t.usageCount+1,t.usageCount}generateTexture(){console.warn("Abstract function.")}generateTextureLod(){console.warn("Abstract function.")}generateArrayDeclaration(e,t){return this.getType(e)+"[ "+t+" ]"}generateArray(e,t,i=null){let r=this.generateArrayDeclaration(e,t)+"( ";for(let s=0;s<t;s++){const a=i?i[s]:null;a!==null?r+=a.build(this,e):r+=this.generateConst(e),s<t-1&&(r+=", ")}return r+=" )",r}generateStruct(e,t,i=null){const r=[];for(const s of t){const{name:a,type:o}=s;i&&i[a]&&i[a].isNode?r.push(i[a].build(this,o)):r.push(this.generateConst(o))}return e+"( "+r.join(", ")+" )"}generateConst(e,t=null){if(t===null&&(e==="float"||e==="int"||e==="uint"?t=0:e==="bool"?t=!1:e==="color"?t=new Nt:e==="vec2"?t=new Ye:e==="vec3"?t=new re:e==="vec4"&&(t=new ln)),e==="float")return dv(t);if(e==="int")return`${Math.round(t)}`;if(e==="uint")return t>=0?`${Math.round(t)}u`:"0u";if(e==="bool")return t?"true":"false";if(e==="color")return`${this.getType("vec3")}( ${dv(t.r)}, ${dv(t.g)}, ${dv(t.b)} )`;const i=this.getTypeLength(e),r=this.getComponentType(e),s=a=>this.generateConst(r,a);if(i===2)return`${this.getType(e)}( ${s(t.x)}, ${s(t.y)} )`;if(i===3)return`${this.getType(e)}( ${s(t.x)}, ${s(t.y)}, ${s(t.z)} )`;if(i===4&&e!=="mat2")return`${this.getType(e)}( ${s(t.x)}, ${s(t.y)}, ${s(t.z)}, ${s(t.w)} )`;if(i>=4&&t&&(t.isMatrix2||t.isMatrix3||t.isMatrix4))return`${this.getType(e)}( ${t.elements.map(s).join(", ")} )`;if(i>4)return`${this.getType(e)}()`;throw new Error(`NodeBuilder: Type '${e}' not found in generate constant attempt.`)}getType(e){return e==="color"?"vec3":e}hasGeometryAttribute(e){return this.geometry&&this.geometry.getAttribute(e)!==void 0}getAttribute(e,t){const i=this.attributes;for(const s of i)if(s.name===e)return s;const r=new WG(e,t);return this.registerDeclaration(r),i.push(r),r}getPropertyName(e){return e.name}isVector(e){return/vec\d/.test(e)}isMatrix(e){return/mat\d/.test(e)}isReference(e){return e==="void"||e==="property"||e==="sampler"||e==="samplerComparison"||e==="texture"||e==="cubeTexture"||e==="storageTexture"||e==="depthTexture"||e==="texture3D"}needsToWorkingColorSpace(){return!1}getComponentTypeFromTexture(e){const t=e.type;if(e.isDataTexture){if(t===ea)return"int";if(t===tr)return"uint"}return"float"}getElementType(e){return e==="mat2"?"vec2":e==="mat3"?"vec3":e==="mat4"?"vec4":this.getComponentType(e)}getComponentType(e){if(e=this.getVectorType(e),e==="float"||e==="bool"||e==="int"||e==="uint")return e;const t=/(b|i|u|)(vec|mat)([2-4])/.exec(e);return t===null?null:t[1]==="b"?"bool":t[1]==="i"?"int":t[1]==="u"?"uint":"float"}getVectorType(e){return e==="color"?"vec3":e==="texture"||e==="cubeTexture"||e==="storageTexture"||e==="texture3D"?"vec4":e}getTypeFromLength(e,t="float"){if(e===1)return t;let i=KK(e);const r=t==="float"?"":t[0];return/mat2/.test(t)===!0&&(i=i.replace("vec","mat")),r+i}getTypeFromArray(e){return kRe.get(e.constructor)}isInteger(e){return/int|uint|(i|u)vec/.test(e)}getTypeFromAttribute(e){let t=e;e.isInterleavedBufferAttribute&&(t=e.data);const i=t.array,r=e.itemSize,s=e.normalized;let a;return!(e instanceof jP)&&s!==!0&&(a=this.getTypeFromArray(i)),this.getTypeFromLength(r,a)}getTypeLength(e){const t=this.getVectorType(e),i=/vec([2-4])/.exec(t);return i!==null?Number(i[1]):t==="float"||t==="bool"||t==="int"||t==="uint"?1:/mat2/.test(e)===!0?4:/mat3/.test(e)===!0?9:/mat4/.test(e)===!0?16:0}getVectorFromMatrix(e){return e.replace("mat","vec")}changeComponentType(e,t){return this.getTypeFromLength(this.getTypeLength(e),t)}getIntegerType(e){const t=this.getComponentType(e);return t==="int"||t==="uint"?e:this.changeComponentType(e,"int")}addStack(){return this.stack=Ax(this.stack),this.stacks.push(tB()||this.stack),mp(this.stack),this.stack}removeStack(){const e=this.stack;return this.stack=e.parent,mp(this.stacks.pop()),e}getDataFromNode(e,t=this.shaderStage,i=null){i=i===null?e.isGlobal(this)?this.globalCache:this.cache:i;let r=i.getData(e);r===void 0&&(r={},i.setData(e,r)),r[t]===void 0&&(r[t]={});let s=r[t];const a=r.any?r.any.subBuilds:null,o=this.getClosestSubBuild(a);return o&&(s.subBuildsCache===void 0&&(s.subBuildsCache={}),s=s.subBuildsCache[o]||(s.subBuildsCache[o]={}),s.subBuilds=a),s}getNodeProperties(e,t="any"){const i=this.getDataFromNode(e,t);return i.properties||(i.properties={outputNode:null})}getBufferAttributeFromNode(e,t){const i=this.getDataFromNode(e);let r=i.bufferAttribute;if(r===void 0){const s=this.uniforms.index++;r=new WG("nodeAttribute"+s,t,e),this.bufferAttributes.push(r),i.bufferAttribute=r}return r}getStructTypeFromNode(e,t,i=null,r=this.shaderStage){const s=this.getDataFromNode(e,r,this.globalCache);let a=s.structType;if(a===void 0){const o=this.structs.index++;i===null&&(i="StructType"+o),a=new TRe(i,t),this.structs[r].push(a),s.structType=a}return a}getOutputStructTypeFromNode(e,t){const i=this.getStructTypeFromNode(e,t,"OutputType","fragment");return i.output=!0,i}getUniformFromNode(e,t,i=this.shaderStage,r=null){const s=this.getDataFromNode(e,i,this.globalCache);let a=s.uniform;if(a===void 0){const o=this.uniforms.index++;a=new xRe(r||"nodeUniform"+o,t,e),this.uniforms[i].push(a),this.registerDeclaration(a),s.uniform=a}return a}getArrayCount(e){let t=null;return e.isArrayNode?t=e.count:e.isVarNode&&e.node.isArrayNode&&(t=e.node.count),t}getVarFromNode(e,t=null,i=e.getNodeType(this),r=this.shaderStage,s=!1){const a=this.getDataFromNode(e,r),o=this.getSubBuildProperty("variable",a.subBuilds);let l=a[o];if(l===void 0){const u=s?"_const":"_var",c=this.vars[r]||(this.vars[r]=[]),f=this.vars[u]||(this.vars[u]=0);t===null&&(t=(s?"nodeConst":"nodeVar")+f,this.vars[u]++),o!=="variable"&&(t=this.getSubBuildProperty(t,a.subBuilds));const m=this.getArrayCount(e);l=new Mne(t,i,s,m),s||c.push(l),this.registerDeclaration(l),a[o]=l}return l}isDeterministic(e){if(e.isMathNode)return this.isDeterministic(e.aNode)&&(e.bNode?this.isDeterministic(e.bNode):!0)&&(e.cNode?this.isDeterministic(e.cNode):!0);if(e.isOperatorNode)return this.isDeterministic(e.aNode)&&(e.bNode?this.isDeterministic(e.bNode):!0);if(e.isArrayNode){if(e.values!==null){for(const t of e.values)if(!this.isDeterministic(t))return!1}return!0}else if(e.isConstNode)return!0;return!1}getVaryingFromNode(e,t=null,i=e.getNodeType(this),r=null,s=null){const a=this.getDataFromNode(e,"any"),o=this.getSubBuildProperty("varying",a.subBuilds);let l=a[o];if(l===void 0){const u=this.varyings,c=u.length;t===null&&(t="nodeVarying"+c),o!=="varying"&&(t=this.getSubBuildProperty(t,a.subBuilds)),l=new _Re(t,i,r,s),u.push(l),this.registerDeclaration(l),a[o]=l}return l}registerDeclaration(e){const t=this.shaderStage,i=this.declarations[t]||(this.declarations[t]={}),r=this.getPropertyName(e);let s=1,a=r;for(;i[a]!==void 0;)a=r+"_"+s++;s>1&&(e.name=a,console.warn(`THREE.TSL: Declaration name '${r}' of '${e.type}' already in use. Renamed to '${a}'.`)),i[a]=e}getCodeFromNode(e,t,i=this.shaderStage){const r=this.getDataFromNode(e);let s=r.code;if(s===void 0){const a=this.codes[i]||(this.codes[i]=[]),o=a.length;s=new bRe("nodeCode"+o,t),a.push(s),r.code=s}return s}addFlowCodeHierarchy(e,t){const{flowCodes:i,flowCodeBlock:r}=this.getDataFromNode(e);let s=!0,a=t;for(;a;){if(r.get(a)===!0){s=!1;break}a=this.getDataFromNode(a).parentNodeBlock}if(s)for(const o of i)this.addLineFlowCode(o)}addLineFlowCodeBlock(e,t,i){const r=this.getDataFromNode(e),s=r.flowCodes||(r.flowCodes=[]),a=r.flowCodeBlock||(r.flowCodeBlock=new WeakMap);s.push(t),a.set(i,!0)}addLineFlowCode(e,t=null){return e===""?this:(t!==null&&this.context.nodeBlock&&this.addLineFlowCodeBlock(t,e,this.context.nodeBlock),e=this.tab+e,/;\s*$/.test(e)||(e=e+`;
`),this.flow.code+=e,this)}addFlowCode(e){return this.flow.code+=e,this}addFlowTab(){return this.tab+="	",this}removeFlowTab(){return this.tab=this.tab.slice(0,-1),this}getFlowData(e){return this.flowsData.get(e)}flowNode(e){const t=e.getNodeType(this),i=this.flowChildNode(e,t);return this.flowsData.set(e,i),i}addInclude(e){this.currentFunctionNode!==null&&this.currentFunctionNode.includes.push(e)}buildFunctionNode(e){const t=new $te,i=this.currentFunctionNode;return this.currentFunctionNode=t,t.code=this.buildFunctionCode(e),this.currentFunctionNode=i,t}flowShaderNode(e){const t=e.layout,i={[Symbol.iterator](){let a=0;const o=Object.values(this);return{next:()=>({value:o[a],done:a++>=o.length})}}};for(const a of t.inputs)i[a.name]=new Dte(a.type,a.name);e.layout=null;const r=e.call(i),s=this.flowStagesNode(r,t.type);return e.layout=t,s}flowStagesNode(e,t=null){const i=this.flow,r=this.vars,s=this.declarations,a=this.cache,o=this.buildStage,l=this.stack,u={code:""};this.flow=u,this.vars={},this.declarations={},this.cache=new dw,this.stack=Ax();for(const c of dN)this.setBuildStage(c),u.result=e.build(this,t);return u.vars=this.getVars(this.shaderStage),this.flow=i,this.vars=r,this.declarations=s,this.cache=a,this.stack=l,this.setBuildStage(o),u}getFunctionOperator(){return null}buildFunctionCode(){console.warn("Abstract function.")}flowChildNode(e,t=null){const i=this.flow,r={code:""};return this.flow=r,r.result=e.build(this,t),this.flow=i,r}flowNodeFromShaderStage(e,t,i=null,r=null){const s=this.tab,a=this.cache,o=this.shaderStage,l=this.context;this.setShaderStage(e);const u={...this.context};delete u.nodeBlock,this.cache=this.globalCache,this.tab="	",this.context=u;let c=null;if(this.buildStage==="generate"){const f=this.flowChildNode(t,i);r!==null&&(f.code+=`${this.tab+r} = ${f.result};
`),this.flowCode[e]=this.flowCode[e]+f.code,c=f}else c=t.build(this);return this.setShaderStage(o),this.cache=a,this.tab=s,this.context=l,c}getAttributesArray(){return this.attributes.concat(this.bufferAttributes)}getAttributes(){console.warn("Abstract function.")}getVaryings(){console.warn("Abstract function.")}getVar(e,t,i=null){return`${i!==null?this.generateArrayDeclaration(e,i):this.getType(e)} ${t}`}getVars(e){let t="";const i=this.vars[e];if(i!==void 0)for(const r of i)t+=`${this.getVar(r.type,r.name)}; `;return t}getUniforms(){console.warn("Abstract function.")}getCodes(e){const t=this.codes[e];let i="";if(t!==void 0)for(const r of t)i+=r.code+`
`;return i}getHash(){return this.vertexShader+this.fragmentShader+this.computeShader}setShaderStage(e){this.shaderStage=e}getShaderStage(){return this.shaderStage}setBuildStage(e){this.buildStage=e}getBuildStage(){return this.buildStage}buildCode(){console.warn("Abstract function.")}get subBuild(){return this.subBuildLayers[this.subBuildLayers.length-1]||null}addSubBuild(e){this.subBuildLayers.push(e)}removeSubBuild(){return this.subBuildLayers.pop()}getClosestSubBuild(e){let t;if(e&&e.isNode?e.isShaderCallNodeInternal?t=e.shaderNode.subBuilds:e.isStackNode?t=[e.subBuild]:t=this.getDataFromNode(e,"any").subBuilds:e instanceof Set?t=[...e]:t=e,!t)return null;const i=this.subBuildLayers;for(let r=t.length-1;r>=0;r--){const s=t[r];if(i.includes(s))return s}return null}getSubBuildOutput(e){return this.getSubBuildProperty("outputNode",e)}getSubBuildProperty(e="",t=null){let i;t!==null?i=this.getClosestSubBuild(t):i=this.subBuildFn;let r;return i?r=e?i+"_"+e:i:r=e,r}build(){const{object:e,material:t,renderer:i}=this;if(t!==null){let r=i.library.fromMaterial(t);r===null&&(console.error(`NodeMaterial: Material "${t.type}" is not compatible.`),r=new ms),r.build(this)}else this.addFlow("compute",e);for(const r of dN){this.setBuildStage(r),this.context.vertex&&this.context.vertex.isNode&&this.flowNodeFromShaderStage("vertex",this.context.vertex);for(const s of AN){this.setShaderStage(s);const a=this.flowNodes[s];for(const o of a)r==="generate"?this.flowNode(o):o.build(this)}}return this.setBuildStage(null),this.setShaderStage(null),this.buildCode(),this.buildUpdateNodes(),this}getNodeUniform(e,t){if(t==="float"||t==="int"||t==="uint")return new LRe(e);if(t==="vec2"||t==="ivec2"||t==="uvec2")return new BRe(e);if(t==="vec3"||t==="ivec3"||t==="uvec3")return new URe(e);if(t==="vec4"||t==="ivec4"||t==="uvec4")return new ORe(e);if(t==="color")return new IRe(e);if(t==="mat2")return new FRe(e);if(t==="mat3")return new zRe(e);if(t==="mat4")return new VRe(e);throw new Error(`Uniform "${t}" not declared.`)}format(e,t,i){if(t=this.getVectorType(t),i=this.getVectorType(i),t===i||i===null||this.isReference(i))return e;const r=this.getTypeLength(t),s=this.getTypeLength(i);return r===16&&s===9?`${this.getType(i)}( ${e}[ 0 ].xyz, ${e}[ 1 ].xyz, ${e}[ 2 ].xyz )`:r===9&&s===4?`${this.getType(i)}( ${e}[ 0 ].xy, ${e}[ 1 ].xy )`:r>4||s>4||s===0?e:r===s?`${this.getType(i)}( ${e} )`:r>s?(e=i==="bool"?`all( ${e} )`:`${e}.${"xyz".slice(0,s)}`,this.format(e,this.getTypeFromLength(s,this.getComponentType(t)),i)):s===4&&r>1?`${this.getType(i)}( ${this.format(e,t,"vec3")}, 1.0 )`:r===2?`${this.getType(i)}( ${this.format(e,t,"vec2")}, 0.0 )`:(r===1&&s>1&&t!==this.getComponentType(i)&&(e=`${this.getType(this.getComponentType(i))}( ${e} )`),`${this.getType(i)}( ${e} )`)}getSignature(){return`// Three.js r${v8} - Node System
`}*[Symbol.iterator](){}}class YG{constructor(){this.time=0,this.deltaTime=0,this.frameId=0,this.renderId=0,this.updateMap=new WeakMap,this.updateBeforeMap=new WeakMap,this.updateAfterMap=new WeakMap,this.renderer=null,this.material=null,this.camera=null,this.object=null,this.scene=null}_getMaps(e,t){let i=e.get(t);return i===void 0&&(i={renderMap:new WeakMap,frameMap:new WeakMap},e.set(t,i)),i}updateBeforeNode(e){const t=e.getUpdateBeforeType(),i=e.updateReference(this);if(t===$n.FRAME){const{frameMap:r}=this._getMaps(this.updateBeforeMap,i);r.get(i)!==this.frameId&&e.updateBefore(this)!==!1&&r.set(i,this.frameId)}else if(t===$n.RENDER){const{renderMap:r}=this._getMaps(this.updateBeforeMap,i);r.get(i)!==this.renderId&&e.updateBefore(this)!==!1&&r.set(i,this.renderId)}else t===$n.OBJECT&&e.updateBefore(this)}updateAfterNode(e){const t=e.getUpdateAfterType(),i=e.updateReference(this);if(t===$n.FRAME){const{frameMap:r}=this._getMaps(this.updateAfterMap,i);r.get(i)!==this.frameId&&e.updateAfter(this)!==!1&&r.set(i,this.frameId)}else if(t===$n.RENDER){const{renderMap:r}=this._getMaps(this.updateAfterMap,i);r.get(i)!==this.renderId&&e.updateAfter(this)!==!1&&r.set(i,this.renderId)}else t===$n.OBJECT&&e.updateAfter(this)}updateNode(e){const t=e.getUpdateType(),i=e.updateReference(this);if(t===$n.FRAME){const{frameMap:r}=this._getMaps(this.updateMap,i);r.get(i)!==this.frameId&&e.update(this)!==!1&&r.set(i,this.frameId)}else if(t===$n.RENDER){const{renderMap:r}=this._getMaps(this.updateMap,i);r.get(i)!==this.renderId&&e.update(this)!==!1&&r.set(i,this.renderId)}else t===$n.OBJECT&&e.update(this)}update(){this.frameId++,this.lastTime===void 0&&(this.lastTime=performance.now()),this.deltaTime=(performance.now()-this.lastTime)/1e3,this.lastTime=performance.now(),this.time+=this.deltaTime}}class hU{constructor(e,t,i=null,r="",s=!1){this.type=e,this.name=t,this.count=i,this.qualifier=r,this.isConst=s}}hU.isNodeFunctionInput=!0;class GRe extends Nh{static get type(){return"DirectionalLightNode"}constructor(e=null){super(e)}setupDirect(){const e=this.colorNode;return{lightDirection:aU(this.light),lightColor:e}}}const Aw=new Yt,Av=new Yt;let m9=null;class qRe extends Nh{static get type(){return"RectAreaLightNode"}constructor(e=null){super(e),this.halfHeight=un(new re).setGroup(mn),this.halfWidth=un(new re).setGroup(mn),this.updateType=$n.RENDER}update(e){super.update(e);const{light:t}=this,i=e.camera.matrixWorldInverse;Av.identity(),Aw.copy(t.matrixWorld),Aw.premultiply(i),Av.extractRotation(Aw),this.halfWidth.value.set(t.width*.5,0,0),this.halfHeight.value.set(0,t.height*.5,0),this.halfWidth.value.applyMatrix4(Av),this.halfHeight.value.applyMatrix4(Av)}setupDirectRectArea(e){let t,i;e.isAvailable("float32Filterable")?(t=oi(m9.LTC_FLOAT_1),i=oi(m9.LTC_FLOAT_2)):(t=oi(m9.LTC_HALF_1),i=oi(m9.LTC_HALF_2));const{colorNode:r,light:s}=this,a=sU(s);return{lightColor:r,lightPosition:a,halfWidth:this.halfWidth,halfHeight:this.halfHeight,ltc_1:t,ltc_2:i}}static setLTC(e){m9=e}}class dU extends Nh{static get type(){return"SpotLightNode"}constructor(e=null){super(e),this.coneCosNode=un(0).setGroup(mn),this.penumbraCosNode=un(0).setGroup(mn),this.cutoffDistanceNode=un(0).setGroup(mn),this.decayExponentNode=un(0).setGroup(mn),this.colorNode=un(this.color).setGroup(mn)}update(e){super.update(e);const{light:t}=this;this.coneCosNode.value=Math.cos(t.angle),this.penumbraCosNode.value=Math.cos(t.angle*(1-t.penumbra)),this.cutoffDistanceNode.value=t.distance,this.decayExponentNode.value=t.decay}getSpotAttenuation(e,t){const{coneCosNode:i,penumbraCosNode:r}=this;return T1(i,r,t)}getLightCoord(e){const t=e.getNodeProperties(this);let i=t.projectionUV;return i===void 0&&(i=ene(this.light,e.context.positionWorld),t.projectionUV=i),i}setupDirect(e){const{colorNode:t,cutoffDistanceNode:i,decayExponentNode:r,light:s}=this,a=this.getLightVector(e),o=a.normalize(),l=o.dot(aU(s)),u=this.getSpotAttenuation(e,l),c=a.length(),f=uU({lightDistance:c,cutoffDistance:i,decayExponent:r});let m=t.mul(u).mul(f),v,_;return s.colorNode?(_=this.getLightCoord(e),v=s.colorNode(_)):s.map&&(_=this.getLightCoord(e),v=oi(s.map,_.xy).onRenderUpdate(()=>s.map)),v&&(m=_.mul(2).sub(1).abs().lessThan(1).all().select(m.mul(v),m)),{lightColor:m,lightDirection:o}}}class HRe extends dU{static get type(){return"IESSpotLightNode"}getSpotAttenuation(e,t){const i=this.light.iesMap;let r=null;if(i&&i.isTexture===!0){const s=t.acos().mul(1/Math.PI);r=oi(i,lt(s,0),0).r}else r=super.getSpotAttenuation(t);return r}}const jRe=Ce(([n,e])=>{const t=n.abs().sub(e);return g1(ts(t,0)).add(cl(ts(t.x,t.y),0))});class WRe extends dU{static get type(){return"ProjectorLightNode"}update(e){super.update(e);const t=this.light;if(this.penumbraCosNode.value=Math.min(Math.cos(t.angle*(1-t.penumbra)),.99999),t.aspect===null){let i=1;t.map!==null&&(i=t.map.width/t.map.height),t.shadow.aspect=i}else t.shadow.aspect=t.aspect}getSpotAttenuation(e){const t=this.penumbraCosNode,i=this.getLightCoord(e),r=i.xyz.div(i.w),s=jRe(r.xy.sub(lt(.5)),lt(.5)),a=I0(-1,Ti(1,AB(t)).sub(1));return _B(s.mul(-2).mul(a))}}class XRe extends Nh{static get type(){return"AmbientLightNode"}constructor(e=null){super(e)}setup({context:e}){e.irradiance.addAssign(this.colorNode)}}class YRe extends Nh{static get type(){return"HemisphereLightNode"}constructor(e=null){super(e),this.lightPositionNode=rU(e),this.lightDirectionNode=this.lightPositionNode.normalize(),this.groundColorNode=un(new Nt).setGroup(mn)}update(e){const{light:t}=this;super.update(e),this.lightPositionNode.object3d=t,this.groundColorNode.value.copy(t.groundColor).multiplyScalar(t.intensity)}setup(e){const{colorNode:t,groundColorNode:i,lightDirectionNode:r}=this,a=k3.dot(r).mul(.5).add(.5),o=Gi(i,t,a);e.context.irradiance.addAssign(o)}}class QRe extends Nh{static get type(){return"LightProbeNode"}constructor(e=null){super(e);const t=[];for(let i=0;i<9;i++)t.push(new re);this.lightProbe=M0(t)}update(e){const{light:t}=this;super.update(e);for(let i=0;i<9;i++)this.lightProbe.array[i].copy(t.sh.coefficients[i]).multiplyScalar(t.intensity)}setup(e){const t=Tne(k3,this.lightProbe);e.context.irradiance.addAssign(t)}}class wne{parseFunction(){console.warn("Abstract function.")}}class AU{constructor(e,t,i="",r=""){this.type=e,this.inputs=t,this.name=i,this.precision=r}getCode(){console.warn("Abstract function.")}}AU.isNodeFunction=!0;const $Re=/^\s*(highp|mediump|lowp)?\s*([a-z_0-9]+)\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)/i,KRe=/[a-z_0-9]+/ig,QG="#pragma main",ZRe=n=>{n=n.trim();const e=n.indexOf(QG),t=e!==-1?n.slice(e+QG.length):n,i=t.match($Re);if(i!==null&&i.length===5){const r=i[4],s=[];let a=null;for(;(a=KRe.exec(r))!==null;)s.push(a);const o=[];let l=0;for(;l<s.length;){const _=s[l][0]==="const";_===!0&&l++;let T=s[l][0];T==="in"||T==="out"||T==="inout"?l++:T="";const M=s[l++][0];let S=Number.parseInt(s[l][0]);Number.isNaN(S)===!1?l++:S=null;const R=s[l++][0];o.push(new hU(M,R,S,T,_))}const u=t.substring(i[0].length),c=i[3]!==void 0?i[3]:"",f=i[2],m=i[1]!==void 0?i[1]:"",v=e!==-1?n.slice(0,e):"";return{type:f,inputs:o,name:c,precision:m,inputsCode:r,blockCode:u,headerCode:v}}else throw new Error("FunctionNode: Function is not a GLSL code.")};class JRe extends AU{constructor(e){const{type:t,inputs:i,name:r,precision:s,inputsCode:a,blockCode:o,headerCode:l}=ZRe(e);super(t,i,r,s),this.inputsCode=a,this.blockCode=o,this.headerCode=l}getCode(e=this.name){let t;const i=this.blockCode;if(i!==""){const{type:r,inputsCode:s,headerCode:a,precision:o}=this;let l=`${r} ${e} ( ${s.trim()} )`;o!==""&&(l=`${o} ${l}`),t=a+l+i}else t="";return t}}class eCe extends wne{parseFunction(e){return new JRe(e)}}const $G=new WeakMap,Wu=[],I4=[];class tCe extends G3{constructor(e,t){super(),this.renderer=e,this.backend=t,this.nodeFrame=new YG,this.nodeBuilderCache=new Map,this.callHashCache=new Tu,this.groupsData=new Tu,this.cacheLib={}}updateGroup(e){const t=e.groupNode,i=t.name;if(i===uB.name)return!0;if(i===mn.name){const s=this.get(e),a=this.nodeFrame.renderId;return s.renderId!==a?(s.renderId=a,!0):!1}if(i===xZ.name){const s=this.get(e),a=this.nodeFrame.frameId;return s.frameId!==a?(s.frameId=a,!0):!1}Wu[0]=t,Wu[1]=e;let r=this.groupsData.get(Wu);return r===void 0&&this.groupsData.set(Wu,r={}),Wu.length=0,r.version!==t.version?(r.version=t.version,!0):!1}getForRenderCacheKey(e){return e.initialCacheKey}getForRender(e){const t=this.get(e);let i=t.nodeBuilderState;if(i===void 0){const{nodeBuilderCache:r}=this,s=this.getForRenderCacheKey(e);if(i=r.get(s),i===void 0){const a=this.backend.createNodeBuilder(e.object,this.renderer);a.scene=e.scene,a.material=e.material,a.camera=e.camera,a.context.material=e.material,a.lightsNode=e.lightsNode,a.environmentNode=this.getEnvironmentNode(e.scene),a.fogNode=this.getFogNode(e.scene),a.clippingContext=e.clippingContext,this.renderer.getOutputRenderTarget()&&this.renderer.getOutputRenderTarget().multiview&&a.enableMultiview(),a.build(),i=this._createNodeBuilderState(a),r.set(s,i)}i.usedTimes++,t.nodeBuilderState=i}return i}delete(e){if(e.isRenderObject){const t=this.get(e).nodeBuilderState;t.usedTimes--,t.usedTimes===0&&this.nodeBuilderCache.delete(this.getForRenderCacheKey(e))}return super.delete(e)}getForCompute(e){const t=this.get(e);let i=t.nodeBuilderState;if(i===void 0){const r=this.backend.createNodeBuilder(e,this.renderer);r.build(),i=this._createNodeBuilderState(r),t.nodeBuilderState=i}return i}_createNodeBuilderState(e){return new vRe(e.vertexShader,e.fragmentShader,e.computeShader,e.getAttributesArray(),e.getBindings(),e.updateNodes,e.updateBeforeNodes,e.updateAfterNodes,e.observer,e.transforms)}getEnvironmentNode(e){this.updateEnvironment(e);let t=null;if(e.environmentNode&&e.environmentNode.isNode)t=e.environmentNode;else{const i=this.get(e);i.environmentNode&&(t=i.environmentNode)}return t}getBackgroundNode(e){this.updateBackground(e);let t=null;if(e.backgroundNode&&e.backgroundNode.isNode)t=e.backgroundNode;else{const i=this.get(e);i.backgroundNode&&(t=i.backgroundNode)}return t}getFogNode(e){return this.updateFog(e),e.fogNode||this.get(e).fogNode||null}getCacheKey(e,t){Wu[0]=e,Wu[1]=t;const i=this.renderer.info.calls,r=this.callHashCache.get(Wu)||{};if(r.callId!==i){const s=this.getEnvironmentNode(e),a=this.getFogNode(e);t&&I4.push(t.getCacheKey(!0)),s&&I4.push(s.getCacheKey()),a&&I4.push(a.getCacheKey()),I4.push(this.renderer.getOutputRenderTarget()&&this.renderer.getOutputRenderTarget().multiview?1:0),I4.push(this.renderer.shadowMap.enabled?1:0),r.callId=i,r.cacheKey=NS(I4),this.callHashCache.set(Wu,r),I4.length=0}return Wu.length=0,r.cacheKey}get isToneMappingState(){return!this.renderer.getRenderTarget()}updateBackground(e){const t=this.get(e),i=e.background;if(i){const r=e.backgroundBlurriness===0&&t.backgroundBlurriness>0||e.backgroundBlurriness>0&&t.backgroundBlurriness===0;if(t.background!==i||r){const s=this.getCacheNode("background",i,()=>{if(i.isCubeTexture===!0||i.mapping===w3||i.mapping===R3||i.mapping===kc){if(e.backgroundBlurriness>0||i.mapping===kc)return $B(i);{let a;return i.isCubeTexture===!0?a=Jd(i):a=oi(i),cte(a)}}else{if(i.isTexture===!0)return oi(i,Lc.flipY()).setUpdateMatrix(!0);i.isColor!==!0&&console.error("WebGPUNodes: Unsupported background configuration.",i)}},r);t.backgroundNode=s,t.background=i,t.backgroundBlurriness=e.backgroundBlurriness}}else t.backgroundNode&&(delete t.backgroundNode,delete t.background)}getCacheNode(e,t,i,r=!1){const s=this.cacheLib[e]||(this.cacheLib[e]=new WeakMap);let a=s.get(t);return(a===void 0||r)&&(a=i(),s.set(t,a)),a}updateFog(e){const t=this.get(e),i=e.fog;if(i){if(t.fog!==i){const r=this.getCacheNode("fog",i,()=>{if(i.isFogExp2){const s=cr("color","color",i).setGroup(mn),a=cr("density","float",i).setGroup(mn);return Sp(s,tU(a))}else if(i.isFog){const s=cr("color","color",i).setGroup(mn),a=cr("near","float",i).setGroup(mn),o=cr("far","float",i).setGroup(mn);return Sp(s,eU(a,o))}else console.error("THREE.Renderer: Unsupported fog configuration.",i)});t.fogNode=r,t.fog=i}}else delete t.fogNode,delete t.fog}updateEnvironment(e){const t=this.get(e),i=e.environment;if(i){if(t.environment!==i){const r=this.getCacheNode("environment",i,()=>{if(i.isCubeTexture===!0)return Jd(i);if(i.isTexture===!0)return oi(i);console.error("Nodes: Unsupported environment configuration.",i)});t.environmentNode=r,t.environment=i}}else t.environmentNode&&(delete t.environmentNode,delete t.environment)}getNodeFrame(e=this.renderer,t=null,i=null,r=null,s=null){const a=this.nodeFrame;return a.renderer=e,a.scene=t,a.object=i,a.camera=r,a.material=s,a}getNodeFrameForRender(e){return this.getNodeFrame(e.renderer,e.scene,e.object,e.camera,e.material)}getOutputCacheKey(){const e=this.renderer;return e.toneMapping+","+e.currentColorSpace+","+e.xr.isPresenting}hasOutputChange(e){return $G.get(e)!==this.getOutputCacheKey()}getOutputNode(e){const t=this.renderer,i=this.getOutputCacheKey(),r=e.isArrayTexture?kte(e,we(Lc,xm("gl_ViewID_OVR"))).renderOutput(t.toneMapping,t.currentColorSpace):oi(e,Lc).renderOutput(t.toneMapping,t.currentColorSpace);return $G.set(e,i),r}updateBefore(e){const t=e.getNodeBuilderState();for(const i of t.updateBeforeNodes)this.getNodeFrameForRender(e).updateBeforeNode(i)}updateAfter(e){const t=e.getNodeBuilderState();for(const i of t.updateAfterNodes)this.getNodeFrameForRender(e).updateAfterNode(i)}updateForCompute(e){const t=this.getNodeFrame(),i=this.getForCompute(e);for(const r of i.updateNodes)t.updateNode(r)}updateForRender(e){const t=this.getNodeFrameForRender(e),i=e.getNodeBuilderState();for(const r of i.updateNodes)t.updateNode(r)}needsRefresh(e){const t=this.getNodeFrameForRender(e);return e.getMonitor().needsRefresh(e,t)}dispose(){super.dispose(),this.nodeFrame=new YG,this.nodeBuilderCache=new Map,this.cacheLib={}}}const pw=new hu;class lb{constructor(e=null){this.version=0,this.clipIntersection=null,this.cacheKey="",this.shadowPass=!1,this.viewNormalMatrix=new On,this.clippingGroupContexts=new WeakMap,this.intersectionPlanes=[],this.unionPlanes=[],this.parentVersion=null,e!==null&&(this.viewNormalMatrix=e.viewNormalMatrix,this.clippingGroupContexts=e.clippingGroupContexts,this.shadowPass=e.shadowPass,this.viewMatrix=e.viewMatrix)}projectPlanes(e,t,i){const r=e.length;for(let s=0;s<r;s++){pw.copy(e[s]).applyMatrix4(this.viewMatrix,this.viewNormalMatrix);const a=t[i+s],o=pw.normal;a.x=-o.x,a.y=-o.y,a.z=-o.z,a.w=pw.constant}}updateGlobal(e,t){this.shadowPass=e.overrideMaterial!==null&&e.overrideMaterial.isShadowPassMaterial,this.viewMatrix=t.matrixWorldInverse,this.viewNormalMatrix.getNormalMatrix(this.viewMatrix)}update(e,t){let i=!1;e.version!==this.parentVersion&&(this.intersectionPlanes=Array.from(e.intersectionPlanes),this.unionPlanes=Array.from(e.unionPlanes),this.parentVersion=e.version),this.clipIntersection!==t.clipIntersection&&(this.clipIntersection=t.clipIntersection,this.clipIntersection?this.unionPlanes.length=e.unionPlanes.length:this.intersectionPlanes.length=e.intersectionPlanes.length);const r=t.clippingPlanes,s=r.length;let a,o;if(this.clipIntersection?(a=this.intersectionPlanes,o=e.intersectionPlanes.length):(a=this.unionPlanes,o=e.unionPlanes.length),a.length!==o+s){a.length=o+s;for(let l=0;l<s;l++)a[o+l]=new ln;i=!0}this.projectPlanes(r,a,o),i&&(this.version++,this.cacheKey=`${this.intersectionPlanes.length}:${this.unionPlanes.length}`)}getGroupContext(e){if(this.shadowPass&&!e.clipShadows)return this;let t=this.clippingGroupContexts.get(e);return t===void 0&&(t=new lb(this),this.clippingGroupContexts.set(e,t)),t.update(this,e),t}get unionClippingCount(){return this.unionPlanes.length}}class nCe{constructor(e,t){this.bundleGroup=e,this.camera=t}}const g9=[];class iCe{constructor(){this.bundles=new Tu}get(e,t){const i=this.bundles;g9[0]=e,g9[1]=t;let r=i.get(g9);return r===void 0&&(r=new nCe(e,t),i.set(g9,r)),g9.length=0,r}dispose(){this.bundles=new Tu}}class Rne{constructor(){this.lightNodes=new WeakMap,this.materialNodes=new Map,this.toneMappingNodes=new Map}fromMaterial(e){if(e.isNodeMaterial)return e;let t=null;const i=this.getMaterialNodeClass(e.type);if(i!==null){t=new i;for(const r in e)t[r]=e[r]}return t}addToneMapping(e,t){this.addType(e,t,this.toneMappingNodes)}getToneMappingFunction(e){return this.toneMappingNodes.get(e)||null}getMaterialNodeClass(e){return this.materialNodes.get(e)||null}addMaterial(e,t){this.addType(e,t,this.materialNodes)}getLightNodeClass(e){return this.lightNodes.get(e)||null}addLight(e,t){this.addClass(e,t,this.lightNodes)}addType(e,t,i){if(i.has(t)){console.warn(`Redefinition of node ${t}`);return}if(typeof e!="function")throw new Error(`Node class ${e.name} is not a class.`);if(typeof t=="function"||typeof t=="object")throw new Error(`Base class ${t} is not a class.`);i.set(t,e)}addClass(e,t,i){if(i.has(t)){console.warn(`Redefinition of node ${t.name}`);return}if(typeof e!="function")throw new Error(`Node class ${e.name} is not a class.`);if(typeof t!="function")throw new Error(`Base class ${t.name} is not a class.`);i.set(t,e)}}const rCe=new oU,y9=[];class sCe extends Tu{constructor(){super()}createNode(e=[]){return new oU().setLights(e)}getNode(e,t){if(e.isQuadMesh)return rCe;y9[0]=e,y9[1]=t;let i=this.get(y9);return i===void 0&&(i=this.createNode(),this.set(y9,i)),y9.length=0,i}}class F9 extends Eu{constructor(e=1,t=1,i={}){super(e,t,i),this.isXRRenderTarget=!0,this._hasExternalTextures=!1,this._autoAllocateDepthBuffer=!0,this._isOpaqueFramebuffer=!1}copy(e){return super.copy(e),this._hasExternalTextures=e._hasExternalTextures,this._autoAllocateDepthBuffer=e._autoAllocateDepthBuffer,this._isOpaqueFramebuffer=e._isOpaqueFramebuffer,this}}const KG=new re,ZG=new re;class aCe extends $l{constructor(e,t=!1){super(),this.enabled=!1,this.isPresenting=!1,this.cameraAutoUpdate=!0,this._renderer=e,this._cameraL=new Tr,this._cameraL.viewport=new ln,this._cameraR=new Tr,this._cameraR.viewport=new ln,this._cameras=[this._cameraL,this._cameraR],this._cameraXR=new wL,this._currentDepthNear=null,this._currentDepthFar=null,this._controllers=[],this._controllerInputSources=[],this._xrRenderTarget=null,this._layers=[],this._supportsLayers=!1,this._frameBufferTargets=null,this._createXRLayer=hCe.bind(this),this._gl=null,this._currentAnimationContext=null,this._currentAnimationLoop=null,this._currentPixelRatio=null,this._currentSize=new Ye,this._onSessionEvent=uCe.bind(this),this._onSessionEnd=cCe.bind(this),this._onInputSourcesChange=fCe.bind(this),this._onAnimationFrame=dCe.bind(this),this._referenceSpace=null,this._referenceSpaceType="local-floor",this._customReferenceSpace=null,this._framebufferScaleFactor=1,this._foveation=1,this._session=null,this._glBaseLayer=null,this._glBinding=null,this._glProjLayer=null,this._xrFrame=null,this._useLayers=typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype,this._useMultiviewIfPossible=t,this._useMultiview=!1}getController(e){return this._getController(e).getTargetRaySpace()}getControllerGrip(e){return this._getController(e).getGripSpace()}getHand(e){return this._getController(e).getHandSpace()}getFoveation(){if(!(this._glProjLayer===null&&this._glBaseLayer===null))return this._foveation}setFoveation(e){this._foveation=e,this._glProjLayer!==null&&(this._glProjLayer.fixedFoveation=e),this._glBaseLayer!==null&&this._glBaseLayer.fixedFoveation!==void 0&&(this._glBaseLayer.fixedFoveation=e)}getFramebufferScaleFactor(){return this._framebufferScaleFactor}setFramebufferScaleFactor(e){this._framebufferScaleFactor=e,this.isPresenting===!0&&console.warn("THREE.XRManager: Cannot change framebuffer scale while presenting.")}getReferenceSpaceType(){return this._referenceSpaceType}setReferenceSpaceType(e){this._referenceSpaceType=e,this.isPresenting===!0&&console.warn("THREE.XRManager: Cannot change reference space type while presenting.")}getReferenceSpace(){return this._customReferenceSpace||this._referenceSpace}setReferenceSpace(e){this._customReferenceSpace=e}getCamera(){return this._cameraXR}getEnvironmentBlendMode(){if(this._session!==null)return this._session.environmentBlendMode}getFrame(){return this._xrFrame}useMultiview(){return this._useMultiview}createQuadLayer(e,t,i,r,s,a,o,l={}){const u=new bh(e,t),c=new F9(s,a,{format:_r,type:Lr,depthTexture:new ol(s,a,l.stencil?il:tr,void 0,void 0,void 0,void 0,void 0,void 0,l.stencil?sl:rl),stencilBuffer:l.stencil,resolveDepthBuffer:!1,resolveStencilBuffer:!1});c._autoAllocateDepthBuffer=!0;const f=new Ia({color:16777215,side:Bo});f.map=c.texture,f.map.offset.y=1,f.map.repeat.y=-1;const m=new ii(u,f);m.position.copy(i),m.quaternion.copy(r);const v={type:"quad",width:e,height:t,translation:i,quaternion:r,pixelwidth:s,pixelheight:a,plane:m,material:f,rendercall:o,renderTarget:c};if(this._layers.push(v),this._session!==null){v.plane.material=new Ia({color:16777215,side:Bo}),v.plane.material.blending=bf,v.plane.material.blendEquation=Oa,v.plane.material.blendSrc=Ku,v.plane.material.blendDst=Ku,v.xrlayer=this._createXRLayer(v);const _=this._session.renderState.layers;_.unshift(v.xrlayer),this._session.updateRenderState({layers:_})}else c.isXRRenderTarget=!1;return m}createCylinderLayer(e,t,i,r,s,a,o,l,u={}){const c=new _h(e,e,e*t/i,64,64,!0,Math.PI-t/2,t),f=new F9(a,o,{format:_r,type:Lr,depthTexture:new ol(a,o,u.stencil?il:tr,void 0,void 0,void 0,void 0,void 0,void 0,u.stencil?sl:rl),stencilBuffer:u.stencil,resolveDepthBuffer:!1,resolveStencilBuffer:!1});f._autoAllocateDepthBuffer=!0;const m=new Ia({color:16777215,side:Zi});m.map=f.texture,m.map.offset.y=1,m.map.repeat.y=-1;const v=new ii(c,m);v.position.copy(r),v.quaternion.copy(s);const _={type:"cylinder",radius:e,centralAngle:t,aspectratio:i,translation:r,quaternion:s,pixelwidth:a,pixelheight:o,plane:v,material:m,rendercall:l,renderTarget:f};if(this._layers.push(_),this._session!==null){_.plane.material=new Ia({color:16777215,side:Zi}),_.plane.material.blending=bf,_.plane.material.blendEquation=Oa,_.plane.material.blendSrc=Ku,_.plane.material.blendDst=Ku,_.xrlayer=this._createXRLayer(_);const T=this._session.renderState.layers;T.unshift(_.xrlayer),this._session.updateRenderState({layers:T})}else f.isXRRenderTarget=!1;return v}renderLayers(){const e=new re,t=new ka,i=this._renderer,r=this.isPresenting,s=i.getOutputRenderTarget(),a=i._frameBufferTarget;this.isPresenting=!1;const o=new Ye;i.getSize(o);const l=i._quad;for(const u of this._layers)if(u.renderTarget.isXRRenderTarget=this._session!==null,u.renderTarget._hasExternalTextures=u.renderTarget.isXRRenderTarget,u.renderTarget.isXRRenderTarget&&this._supportsLayers){u.xrlayer.transform=new XRRigidTransform(u.plane.getWorldPosition(e),u.plane.getWorldQuaternion(t));const c=this._glBinding.getSubImage(u.xrlayer,this._xrFrame);i.backend.setXRRenderTargetTextures(u.renderTarget,c.colorTexture,void 0),i._setXRLayerSize(u.renderTarget.width,u.renderTarget.height),i.setOutputRenderTarget(u.renderTarget),i.setRenderTarget(null),i._frameBufferTarget=null,this._frameBufferTargets||(this._frameBufferTargets=new WeakMap);const{frameBufferTarget:f,quad:m}=this._frameBufferTargets.get(u.renderTarget)||{frameBufferTarget:null,quad:null};f?(i._frameBufferTarget=f,i._quad=m):(i._quad=new tT(new ms),this._frameBufferTargets.set(u.renderTarget,{frameBufferTarget:i._getFrameBufferTarget(),quad:i._quad})),u.rendercall(),i._frameBufferTarget=null}else i.setRenderTarget(u.renderTarget),u.rendercall();i.setRenderTarget(null),i.setOutputRenderTarget(s),i._frameBufferTarget=a,i._setXRLayerSize(o.x,o.y),i._quad=l,this.isPresenting=r}getSession(){return this._session}async setSession(e){const t=this._renderer,i=t.backend;this._gl=t.getContext();const r=this._gl,s=r.getContextAttributes();if(this._session=e,e!==null){if(i.isWebGPUBackend===!0)throw new Error('THREE.XRManager: XR is currently not supported with a WebGPU backend. Use WebGL by passing "{ forceWebGL: true }" to the constructor of the renderer.');if(e.addEventListener("select",this._onSessionEvent),e.addEventListener("selectstart",this._onSessionEvent),e.addEventListener("selectend",this._onSessionEvent),e.addEventListener("squeeze",this._onSessionEvent),e.addEventListener("squeezestart",this._onSessionEvent),e.addEventListener("squeezeend",this._onSessionEvent),e.addEventListener("end",this._onSessionEnd),e.addEventListener("inputsourceschange",this._onInputSourcesChange),await i.makeXRCompatible(),this._currentPixelRatio=t.getPixelRatio(),t.getSize(this._currentSize),this._currentAnimationContext=t._animation.getContext(),this._currentAnimationLoop=t._animation.getAnimationLoop(),t._animation.stop(),this._useLayers===!0){let a=null,o=null,l=null;t.depth&&(l=t.stencil?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24,a=t.stencil?sl:rl,o=t.stencil?il:tr);const u={colorFormat:r.RGBA8,depthFormat:l,scaleFactor:this._framebufferScaleFactor,clearOnAccess:!1};this._useMultiviewIfPossible&&t.hasFeature("OVR_multiview2")&&(u.textureType="texture-array",this._useMultiview=!0);const c=new XRWebGLBinding(e,r),f=c.createProjectionLayer(u),m=[f];this._glBinding=c,this._glProjLayer=f,t.setPixelRatio(1),t._setXRLayerSize(f.textureWidth,f.textureHeight);const v=this._useMultiview?2:1,_=new ol(f.textureWidth,f.textureHeight,o,void 0,void 0,void 0,void 0,void 0,void 0,a,v);if(this._xrRenderTarget=new F9(f.textureWidth,f.textureHeight,{format:_r,type:Lr,colorSpace:t.outputColorSpace,depthTexture:_,stencilBuffer:t.stencil,samples:s.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1,resolveStencilBuffer:f.ignoreDepthValues===!1,depth:this._useMultiview?2:1,multiview:this._useMultiview}),this._xrRenderTarget._hasExternalTextures=!0,this._xrRenderTarget.depth=this._useMultiview?2:1,this._supportsLayers=e.enabledFeatures.includes("layers"),this._referenceSpace=await e.requestReferenceSpace(this.getReferenceSpaceType()),this._supportsLayers)for(const T of this._layers)T.plane.material=new Ia({color:16777215,side:T.type==="cylinder"?Zi:Bo}),T.plane.material.blending=bf,T.plane.material.blendEquation=Oa,T.plane.material.blendSrc=Ku,T.plane.material.blendDst=Ku,T.xrlayer=this._createXRLayer(T),m.unshift(T.xrlayer);e.updateRenderState({layers:m})}else{const a={antialias:t.samples>0,alpha:!0,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:this.getFramebufferScaleFactor()},o=new XRWebGLLayer(e,r,a);this._glBaseLayer=o,e.updateRenderState({baseLayer:o}),t.setPixelRatio(1),t._setXRLayerSize(o.framebufferWidth,o.framebufferHeight),this._xrRenderTarget=new F9(o.framebufferWidth,o.framebufferHeight,{format:_r,type:Lr,colorSpace:t.outputColorSpace,stencilBuffer:t.stencil,resolveDepthBuffer:o.ignoreDepthValues===!1,resolveStencilBuffer:o.ignoreDepthValues===!1}),this._xrRenderTarget._isOpaqueFramebuffer=!0,this._referenceSpace=await e.requestReferenceSpace(this.getReferenceSpaceType())}this.setFoveation(this.getFoveation()),t._animation.setAnimationLoop(this._onAnimationFrame),t._animation.setContext(e),t._animation.start(),this.isPresenting=!0,this.dispatchEvent({type:"sessionstart"})}}updateCamera(e){const t=this._session;if(t===null)return;const i=e.near,r=e.far,s=this._cameraXR,a=this._cameraL,o=this._cameraR;s.near=o.near=a.near=i,s.far=o.far=a.far=r,s.isMultiViewCamera=this._useMultiview,(this._currentDepthNear!==s.near||this._currentDepthFar!==s.far)&&(t.updateRenderState({depthNear:s.near,depthFar:s.far}),this._currentDepthNear=s.near,this._currentDepthFar=s.far),a.layers.mask=e.layers.mask|2,o.layers.mask=e.layers.mask|4,s.layers.mask=a.layers.mask|o.layers.mask;const l=e.parent,u=s.cameras;JG(s,l);for(let c=0;c<u.length;c++)JG(u[c],l);u.length===2?oCe(s,a,o):s.projectionMatrix.copy(a.projectionMatrix),lCe(e,s,l)}_getController(e){let t=this._controllers[e];return t===void 0&&(t=new cA,this._controllers[e]=t),t}}function oCe(n,e,t){KG.setFromMatrixPosition(e.matrixWorld),ZG.setFromMatrixPosition(t.matrixWorld);const i=KG.distanceTo(ZG),r=e.projectionMatrix.elements,s=t.projectionMatrix.elements,a=r[14]/(r[10]-1),o=r[14]/(r[10]+1),l=(r[9]+1)/r[5],u=(r[9]-1)/r[5],c=(r[8]-1)/r[0],f=(s[8]+1)/s[0],m=a*c,v=a*f,_=i/(-c+f),T=_*-c;if(e.matrixWorld.decompose(n.position,n.quaternion,n.scale),n.translateX(T),n.translateZ(_),n.matrixWorld.compose(n.position,n.quaternion,n.scale),n.matrixWorldInverse.copy(n.matrixWorld).invert(),r[10]===-1)n.projectionMatrix.copy(e.projectionMatrix),n.projectionMatrixInverse.copy(e.projectionMatrixInverse);else{const M=a+_,S=o+_,R=m-T,C=v+(i-T),P=l*o/S*M,B=u*o/S*M;n.projectionMatrix.makePerspective(R,C,P,B,M,S),n.projectionMatrixInverse.copy(n.projectionMatrix).invert()}}function JG(n,e){e===null?n.matrixWorld.copy(n.matrix):n.matrixWorld.multiplyMatrices(e.matrixWorld,n.matrix),n.matrixWorldInverse.copy(n.matrixWorld).invert()}function lCe(n,e,t){t===null?n.matrix.copy(e.matrixWorld):(n.matrix.copy(t.matrixWorld),n.matrix.invert(),n.matrix.multiply(e.matrixWorld)),n.matrix.decompose(n.position,n.quaternion,n.scale),n.updateMatrixWorld(!0),n.projectionMatrix.copy(e.projectionMatrix),n.projectionMatrixInverse.copy(e.projectionMatrixInverse),n.isPerspectiveCamera&&(n.fov=th*2*Math.atan(1/n.projectionMatrix.elements[5]),n.zoom=1)}function uCe(n){const e=this._controllerInputSources.indexOf(n.inputSource);if(e===-1)return;const t=this._controllers[e];if(t!==void 0){const i=this.getReferenceSpace();t.update(n.inputSource,n.frame,i),t.dispatchEvent({type:n.type,data:n.inputSource})}}function cCe(){const n=this._session,e=this._renderer;n.removeEventListener("select",this._onSessionEvent),n.removeEventListener("selectstart",this._onSessionEvent),n.removeEventListener("selectend",this._onSessionEvent),n.removeEventListener("squeeze",this._onSessionEvent),n.removeEventListener("squeezestart",this._onSessionEvent),n.removeEventListener("squeezeend",this._onSessionEvent),n.removeEventListener("end",this._onSessionEnd),n.removeEventListener("inputsourceschange",this._onInputSourcesChange);for(let t=0;t<this._controllers.length;t++){const i=this._controllerInputSources[t];i!==null&&(this._controllerInputSources[t]=null,this._controllers[t].disconnect(i))}if(this._currentDepthNear=null,this._currentDepthFar=null,e._resetXRState(),this._session=null,this._xrRenderTarget=null,this._supportsLayers===!0)for(const t of this._layers)t.renderTarget=new F9(t.pixelwidth,t.pixelheight,{format:_r,type:Lr,depthTexture:new ol(t.pixelwidth,t.pixelheight,t.stencilBuffer?il:tr,void 0,void 0,void 0,void 0,void 0,void 0,t.stencilBuffer?sl:rl),stencilBuffer:t.stencilBuffer,resolveDepthBuffer:!1,resolveStencilBuffer:!1}),t.renderTarget.isXRRenderTarget=!1,t.plane.material=t.material,t.material.map=t.renderTarget.texture,t.material.map.offset.y=1,t.material.map.repeat.y=-1,delete t.xrlayer;this.isPresenting=!1,this._useMultiview=!1,e._animation.stop(),e._animation.setAnimationLoop(this._currentAnimationLoop),e._animation.setContext(this._currentAnimationContext),e._animation.start(),e.setPixelRatio(this._currentPixelRatio),e.setSize(this._currentSize.width,this._currentSize.height,!1),this.dispatchEvent({type:"sessionend"})}function fCe(n){const e=this._controllers,t=this._controllerInputSources;for(let i=0;i<n.removed.length;i++){const r=n.removed[i],s=t.indexOf(r);s>=0&&(t[s]=null,e[s].disconnect(r))}for(let i=0;i<n.added.length;i++){const r=n.added[i];let s=t.indexOf(r);if(s===-1){for(let o=0;o<e.length;o++)if(o>=t.length){t.push(r),s=o;break}else if(t[o]===null){t[o]=r,s=o;break}if(s===-1)break}const a=e[s];a&&a.connect(r)}}function hCe(n){return n.type==="quad"?this._glBinding.createQuadLayer({transform:new XRRigidTransform(n.translation,n.quaternion),width:n.width/2,height:n.height/2,space:this._referenceSpace,viewPixelWidth:n.pixelwidth,viewPixelHeight:n.pixelheight,clearOnAccess:!1}):this._glBinding.createCylinderLayer({transform:new XRRigidTransform(n.translation,n.quaternion),radius:n.radius,centralAngle:n.centralAngle,aspectRatio:n.aspectRatio,space:this._referenceSpace,viewPixelWidth:n.pixelwidth,viewPixelHeight:n.pixelheight,clearOnAccess:!1})}function dCe(n,e){if(e===void 0)return;const t=this._cameraXR,i=this._renderer,r=i.backend,s=this._glBaseLayer,a=this.getReferenceSpace(),o=e.getViewerPose(a);if(this._xrFrame=e,o!==null){const l=o.views;this._glBaseLayer!==null&&r.setXRTarget(s.framebuffer);let u=!1;l.length!==t.cameras.length&&(t.cameras.length=0,u=!0);for(let c=0;c<l.length;c++){const f=l[c];let m;if(this._useLayers===!0){const _=this._glBinding.getViewSubImage(this._glProjLayer,f);m=_.viewport,c===0&&r.setXRRenderTargetTextures(this._xrRenderTarget,_.colorTexture,this._glProjLayer.ignoreDepthValues&&!this._useMultiview?void 0:_.depthStencilTexture)}else m=s.getViewport(f);let v=this._cameras[c];v===void 0&&(v=new Tr,v.layers.enable(c),v.viewport=new ln,this._cameras[c]=v),v.matrix.fromArray(f.transform.matrix),v.matrix.decompose(v.position,v.quaternion,v.scale),v.projectionMatrix.fromArray(f.projectionMatrix),v.projectionMatrixInverse.copy(v.projectionMatrix).invert(),v.viewport.set(m.x,m.y,m.width,m.height),c===0&&(t.matrix.copy(v.matrix),t.matrix.decompose(t.position,t.quaternion,t.scale)),u===!0&&t.cameras.push(v)}i.setOutputRenderTarget(this._xrRenderTarget)}for(let l=0;l<this._controllers.length;l++){const u=this._controllerInputSources[l],c=this._controllers[l];u!==null&&c!==void 0&&c.update(u,e,a)}this._currentAnimationLoop&&this._currentAnimationLoop(n,e),e.detectedPlanes&&this.dispatchEvent({type:"planesdetected",data:e}),this._xrFrame=null}const eq=new xh,pv=new Ye,mw=new ln,gw=new I3,yw=new im,mv=new Yt,P2=new ln;class ACe{constructor(e,t={}){this.isRenderer=!0;const{logarithmicDepthBuffer:i=!1,alpha:r=!0,depth:s=!0,stencil:a=!1,antialias:o=!1,samples:l=0,getFallback:u=null,colorBufferType:c=Fs,multiview:f=!1}=t;this.domElement=e.getDomElement(),this.backend=e,this.samples=l||o===!0?4:0,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.alpha=r,this.logarithmicDepthBuffer=i,this.outputColorSpace=Os,this.toneMapping=co,this.toneMappingExposure=1,this.sortObjects=!0,this.depth=s,this.stencil=a,this.info=new vTe,this.overrideNodes={modelViewMatrix:null,modelNormalViewMatrix:null},this.library=new Rne,this.lighting=new sCe,this._getFallback=u,this._pixelRatio=1,this._width=this.domElement.width,this._height=this.domElement.height,this._viewport=new ln(0,0,this._width,this._height),this._scissor=new ln(0,0,this._width,this._height),this._scissorTest=!1,this._attributes=null,this._geometries=null,this._nodes=null,this._animation=null,this._bindings=null,this._objects=null,this._pipelines=null,this._bundles=null,this._renderLists=null,this._renderContexts=null,this._textures=null,this._background=null,this._quad=new tT(new ms),this._quad.material.name="Renderer_output",this._currentRenderContext=null,this._opaqueSort=null,this._transparentSort=null,this._frameBufferTarget=null;const m=this.alpha===!0?0:1;this._clearColor=new KB(0,0,0,m),this._clearDepth=1,this._clearStencil=0,this._renderTarget=null,this._activeCubeFace=0,this._activeMipmapLevel=0,this._outputRenderTarget=null,this._mrt=null,this._renderObjectFunction=null,this._currentRenderObjectFunction=null,this._currentRenderBundle=null,this._handleObjectFunction=this._renderObjectDirect,this._isDeviceLost=!1,this.onDeviceLost=this._onDeviceLost,this._colorBufferType=c,this._initialized=!1,this._initPromise=null,this._compilationPromises=null,this.transparent=!0,this.opaque=!0,this.shadowMap={enabled:!1,type:Xp},this.xr=new aCe(this,f),this.debug={checkShaderErrors:!0,onShaderError:null,getShaderAsync:async(v,_,T)=>{await this.compileAsync(v,_);const M=this._renderLists.get(v,_),S=this._renderContexts.get(v,_,this._renderTarget),R=v.overrideMaterial||T.material,C=this._objects.get(T,R,v,_,M.lightsNode,S,S.clippingContext),{fragmentShader:P,vertexShader:B}=C.getNodeBuilderState();return{fragmentShader:P,vertexShader:B}}}}async init(){if(this._initialized)throw new Error("Renderer: Backend has already been initialized.");return this._initPromise!==null?this._initPromise:(this._initPromise=new Promise(async(e,t)=>{let i=this.backend;try{await i.init(this)}catch(r){if(this._getFallback!==null)try{this.backend=i=this._getFallback(r),await i.init(this)}catch(s){t(s);return}else{t(r);return}}this._nodes=new tCe(this,i),this._animation=new cTe(this._nodes,this.info),this._attributes=new gTe(i),this._background=new gRe(this,this._nodes),this._geometries=new yTe(this._attributes,this.info),this._textures=new BTe(this,i,this.info),this._pipelines=new STe(i,this._nodes),this._bindings=new TTe(i,this._nodes,this._textures,this._attributes,this._pipelines,this.info),this._objects=new ATe(this,this._nodes,this._geometries,this._pipelines,this._bindings,this.info),this._renderLists=new wTe(this.lighting),this._bundles=new iCe,this._renderContexts=new PTe,this._animation.start(),this._initialized=!0,e(this)}),this._initPromise)}get coordinateSystem(){return this.backend.coordinateSystem}async compileAsync(e,t,i=null){if(this._isDeviceLost===!0)return;this._initialized===!1&&await this.init();const r=this._nodes.nodeFrame,s=r.renderId,a=this._currentRenderContext,o=this._currentRenderObjectFunction,l=this._compilationPromises,u=e.isScene===!0?e:eq;i===null&&(i=e);const c=this._renderTarget,f=this._renderContexts.get(i,t,c),m=this._activeMipmapLevel,v=[];this._currentRenderContext=f,this._currentRenderObjectFunction=this.renderObject,this._handleObjectFunction=this._createObjectPipeline,this._compilationPromises=v,r.renderId++,r.update(),f.depth=this.depth,f.stencil=this.stencil,f.clippingContext||(f.clippingContext=new lb),f.clippingContext.updateGlobal(u,t),u.onBeforeRender(this,e,t,c);const _=this._renderLists.get(e,t);if(_.begin(),this._projectObject(e,t,0,_,f.clippingContext),i!==e&&i.traverseVisible(function(C){C.isLight&&C.layers.test(t.layers)&&_.pushLight(C)}),_.finish(),c!==null){this._textures.updateRenderTarget(c,m);const C=this._textures.get(c);f.textures=C.textures,f.depthTexture=C.depthTexture}else f.textures=null,f.depthTexture=null;this._background.update(u,_,f);const T=_.opaque,M=_.transparent,S=_.transparentDoublePass,R=_.lightsNode;this.opaque===!0&&T.length>0&&this._renderObjects(T,t,u,R),this.transparent===!0&&M.length>0&&this._renderTransparents(M,S,t,u,R),r.renderId=s,this._currentRenderContext=a,this._currentRenderObjectFunction=o,this._compilationPromises=l,this._handleObjectFunction=this._renderObjectDirect,await Promise.all(v)}async renderAsync(e,t){this._initialized===!1&&await this.init(),this._renderScene(e,t)}async waitForGPU(){await this.backend.waitForGPU()}set highPrecision(e){e===!0?(this.overrideNodes.modelViewMatrix=xN,this.overrideNodes.modelNormalViewMatrix=_N):this.highPrecision&&(this.overrideNodes.modelViewMatrix=null,this.overrideNodes.modelNormalViewMatrix=null)}get highPrecision(){return this.overrideNodes.modelViewMatrix===xN&&this.overrideNodes.modelNormalViewMatrix===_N}setMRT(e){return this._mrt=e,this}getMRT(){return this._mrt}getColorBufferType(){return this._colorBufferType}_onDeviceLost(e){let t=`THREE.WebGPURenderer: ${e.api} Device Lost:

Message: ${e.message}`;e.reason&&(t+=`
Reason: ${e.reason}`),console.error(t),this._isDeviceLost=!0}_renderBundle(e,t,i){const{bundleGroup:r,camera:s,renderList:a}=e,o=this._currentRenderContext,l=this._bundles.get(r,s),u=this.backend.get(l);u.renderContexts===void 0&&(u.renderContexts=new Set);const c=r.version!==u.version,f=u.renderContexts.has(o)===!1||c;if(u.renderContexts.add(o),f){this.backend.beginBundle(o),(u.renderObjects===void 0||c)&&(u.renderObjects=[]),this._currentRenderBundle=l;const{transparentDoublePass:m,transparent:v,opaque:_}=a;this.opaque===!0&&_.length>0&&this._renderObjects(_,s,t,i),this.transparent===!0&&v.length>0&&this._renderTransparents(v,m,s,t,i),this._currentRenderBundle=null,this.backend.finishBundle(o,l),u.version=r.version}else{const{renderObjects:m}=u;for(let v=0,_=m.length;v<_;v++){const T=m[v];this._nodes.needsRefresh(T)&&(this._nodes.updateBefore(T),this._nodes.updateForRender(T),this._bindings.updateForRender(T),this._nodes.updateAfter(T))}}this.backend.addBundle(o,l)}render(e,t){if(this._initialized===!1)return console.warn("THREE.Renderer: .render() called before the backend is initialized. Try using .renderAsync() instead."),this.renderAsync(e,t);this._renderScene(e,t)}_getFrameBufferTarget(){const{currentToneMapping:e,currentColorSpace:t}=this;if(e!==co===!1&&t!==ql===!1)return null;const{width:s,height:a}=this.getDrawingBufferSize(pv),{depth:o,stencil:l}=this;let u=this._frameBufferTarget;u===null&&(u=new Eu(s,a,{depthBuffer:o,stencilBuffer:l,type:this._colorBufferType,format:_r,colorSpace:ql,generateMipmaps:!1,minFilter:dr,magFilter:dr,samples:this.samples}),u.isPostProcessingRenderTarget=!0,this._frameBufferTarget=u);const c=this.getOutputRenderTarget();return u.depthBuffer=o,u.stencilBuffer=l,c!==null?u.setSize(c.width,c.height,c.depth):u.setSize(s,a,1),u.viewport.copy(this._viewport),u.scissor.copy(this._scissor),u.viewport.multiplyScalar(this._pixelRatio),u.scissor.multiplyScalar(this._pixelRatio),u.scissorTest=this._scissorTest,u.multiview=c!==null?c.multiview:!1,u.resolveDepthBuffer=c!==null?c.resolveDepthBuffer:!0,u._autoAllocateDepthBuffer=c!==null?c._autoAllocateDepthBuffer:!1,u}_renderScene(e,t,i=!0){if(this._isDeviceLost===!0)return;const r=i?this._getFrameBufferTarget():null,s=this._nodes.nodeFrame,a=s.renderId,o=this._currentRenderContext,l=this._currentRenderObjectFunction,u=e.isScene===!0?e:eq,c=this._renderTarget||this._outputRenderTarget,f=this._activeCubeFace,m=this._activeMipmapLevel;let v;r!==null?(v=r,this.setRenderTarget(v)):v=c;const _=this._renderContexts.get(e,t,v);this._currentRenderContext=_,this._currentRenderObjectFunction=this._renderObjectFunction||this.renderObject,this.info.calls++,this.info.render.calls++,this.info.render.frameCalls++,s.renderId=this.info.calls;const T=this.coordinateSystem,M=this.xr;if(t.coordinateSystem!==T&&M.isPresenting===!1&&(t.coordinateSystem=T,t.updateProjectionMatrix(),t.isArrayCamera))for(const $ of t.cameras)$.coordinateSystem=T,$.updateProjectionMatrix();e.matrixWorldAutoUpdate===!0&&e.updateMatrixWorld(),t.parent===null&&t.matrixWorldAutoUpdate===!0&&t.updateMatrixWorld(),M.enabled===!0&&M.isPresenting===!0&&(M.cameraAutoUpdate===!0&&M.updateCamera(t),t=M.getCamera());let S=this._viewport,R=this._scissor,C=this._pixelRatio;v!==null&&(S=v.viewport,R=v.scissor,C=1),this.getDrawingBufferSize(pv),mw.set(0,0,pv.width,pv.height);const P=S.minDepth===void 0?0:S.minDepth,B=S.maxDepth===void 0?1:S.maxDepth;_.viewportValue.copy(S).multiplyScalar(C).floor(),_.viewportValue.width>>=m,_.viewportValue.height>>=m,_.viewportValue.minDepth=P,_.viewportValue.maxDepth=B,_.viewport=_.viewportValue.equals(mw)===!1,_.scissorValue.copy(R).multiplyScalar(C).floor(),_.scissor=this._scissorTest&&_.scissorValue.equals(mw)===!1,_.scissorValue.width>>=m,_.scissorValue.height>>=m,_.clippingContext||(_.clippingContext=new lb),_.clippingContext.updateGlobal(u,t),u.onBeforeRender(this,e,t,v);const O=t.isArrayCamera?yw:gw;t.isArrayCamera||(mv.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),O.setFromProjectionMatrix(mv,T));const V=this._renderLists.get(e,t);if(V.begin(),this._projectObject(e,t,0,V,_.clippingContext),V.finish(),this.sortObjects===!0&&V.sort(this._opaqueSort,this._transparentSort),v!==null){this._textures.updateRenderTarget(v,m);const $=this._textures.get(v);_.textures=$.textures,_.depthTexture=$.depthTexture,_.width=$.width,_.height=$.height,_.renderTarget=v,_.depth=v.depthBuffer,_.stencil=v.stencilBuffer}else _.textures=null,_.depthTexture=null,_.width=this.domElement.width,_.height=this.domElement.height,_.depth=this.depth,_.stencil=this.stencil;_.width>>=m,_.height>>=m,_.activeCubeFace=f,_.activeMipmapLevel=m,_.occlusionQueryCount=V.occlusionQueryCount,this._background.update(u,V,_),_.camera=t,this.backend.beginRender(_);const{bundles:F,lightsNode:z,transparentDoublePass:k,transparent:H,opaque:Z}=V;return F.length>0&&this._renderBundles(F,u,z),this.opaque===!0&&Z.length>0&&this._renderObjects(Z,t,u,z),this.transparent===!0&&H.length>0&&this._renderTransparents(H,k,t,u,z),this.backend.finishRender(_),s.renderId=a,this._currentRenderContext=o,this._currentRenderObjectFunction=l,r!==null&&(this.setRenderTarget(c,f,m),this._renderOutput(v)),u.onAfterRender(this,e,t,v),_}_setXRLayerSize(e,t){this._width=e,this._height=t,this.setViewport(0,0,e,t)}_renderOutput(e){const t=this._quad;this._nodes.hasOutputChange(e.texture)&&(t.material.fragmentNode=this._nodes.getOutputNode(e.texture),t.material.needsUpdate=!0);const i=this.autoClear,r=this.xr.enabled;this.autoClear=!1,this.xr.enabled=!1,this._renderScene(t,t.camera,!1),this.autoClear=i,this.xr.enabled=r}getMaxAnisotropy(){return this.backend.getMaxAnisotropy()}getActiveCubeFace(){return this._activeCubeFace}getActiveMipmapLevel(){return this._activeMipmapLevel}async setAnimationLoop(e){this._initialized===!1&&await this.init(),this._animation.setAnimationLoop(e)}async getArrayBufferAsync(e){return await this.backend.getArrayBufferAsync(e)}getContext(){return this.backend.getContext()}getPixelRatio(){return this._pixelRatio}getDrawingBufferSize(e){return e.set(this._width*this._pixelRatio,this._height*this._pixelRatio).floor()}getSize(e){return e.set(this._width,this._height)}setPixelRatio(e=1){this._pixelRatio!==e&&(this._pixelRatio=e,this.setSize(this._width,this._height,!1))}setDrawingBufferSize(e,t,i){this.xr&&this.xr.isPresenting||(this._width=e,this._height=t,this._pixelRatio=i,this.domElement.width=Math.floor(e*i),this.domElement.height=Math.floor(t*i),this.setViewport(0,0,e,t),this._initialized&&this.backend.updateSize())}setSize(e,t,i=!0){this.xr&&this.xr.isPresenting||(this._width=e,this._height=t,this.domElement.width=Math.floor(e*this._pixelRatio),this.domElement.height=Math.floor(t*this._pixelRatio),i===!0&&(this.domElement.style.width=e+"px",this.domElement.style.height=t+"px"),this.setViewport(0,0,e,t),this._initialized&&this.backend.updateSize())}setOpaqueSort(e){this._opaqueSort=e}setTransparentSort(e){this._transparentSort=e}getScissor(e){const t=this._scissor;return e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height,e}setScissor(e,t,i,r){const s=this._scissor;e.isVector4?s.copy(e):s.set(e,t,i,r)}getScissorTest(){return this._scissorTest}setScissorTest(e){this._scissorTest=e,this.backend.setScissorTest(e)}getViewport(e){return e.copy(this._viewport)}setViewport(e,t,i,r,s=0,a=1){const o=this._viewport;e.isVector4?o.copy(e):o.set(e,t,i,r),o.minDepth=s,o.maxDepth=a}getClearColor(e){return e.copy(this._clearColor)}setClearColor(e,t=1){this._clearColor.set(e),this._clearColor.a=t}getClearAlpha(){return this._clearColor.a}setClearAlpha(e){this._clearColor.a=e}getClearDepth(){return this._clearDepth}setClearDepth(e){this._clearDepth=e}getClearStencil(){return this._clearStencil}setClearStencil(e){this._clearStencil=e}isOccluded(e){const t=this._currentRenderContext;return t&&this.backend.isOccluded(t,e)}clear(e=!0,t=!0,i=!0){if(this._initialized===!1)return console.warn("THREE.Renderer: .clear() called before the backend is initialized. Try using .clearAsync() instead."),this.clearAsync(e,t,i);const r=this._renderTarget||this._getFrameBufferTarget();let s=null;if(r!==null){this._textures.updateRenderTarget(r);const a=this._textures.get(r);s=this._renderContexts.getForClear(r),s.textures=a.textures,s.depthTexture=a.depthTexture,s.width=a.width,s.height=a.height,s.renderTarget=r,s.depth=r.depthBuffer,s.stencil=r.stencilBuffer,s.clearColorValue=this.backend.getClearColor(),s.activeCubeFace=this.getActiveCubeFace(),s.activeMipmapLevel=this.getActiveMipmapLevel()}this.backend.clear(e,t,i,s),r!==null&&this._renderTarget===null&&this._renderOutput(r)}clearColor(){return this.clear(!0,!1,!1)}clearDepth(){return this.clear(!1,!0,!1)}clearStencil(){return this.clear(!1,!1,!0)}async clearAsync(e=!0,t=!0,i=!0){this._initialized===!1&&await this.init(),this.clear(e,t,i)}async clearColorAsync(){this.clearAsync(!0,!1,!1)}async clearDepthAsync(){this.clearAsync(!1,!0,!1)}async clearStencilAsync(){this.clearAsync(!1,!1,!0)}get currentToneMapping(){return this.isOutputTarget?this.toneMapping:co}get currentColorSpace(){return this.isOutputTarget?this.outputColorSpace:ql}get isOutputTarget(){return this._renderTarget===this._outputRenderTarget||this._renderTarget===null}dispose(){this.info.dispose(),this.backend.dispose(),this._animation.dispose(),this._objects.dispose(),this._pipelines.dispose(),this._nodes.dispose(),this._bindings.dispose(),this._renderLists.dispose(),this._renderContexts.dispose(),this._textures.dispose(),this._frameBufferTarget!==null&&this._frameBufferTarget.dispose(),Object.values(this.backend.timestampQueryPool).forEach(e=>{e!==null&&e.dispose()}),this.setRenderTarget(null),this.setAnimationLoop(null)}setRenderTarget(e,t=0,i=0){this._renderTarget=e,this._activeCubeFace=t,this._activeMipmapLevel=i}getRenderTarget(){return this._renderTarget}setOutputRenderTarget(e){this._outputRenderTarget=e}getOutputRenderTarget(){return this._outputRenderTarget}_resetXRState(){this.backend.setXRTarget(null),this.setOutputRenderTarget(null),this.setRenderTarget(null),this._frameBufferTarget.dispose(),this._frameBufferTarget=null}setRenderObjectFunction(e){this._renderObjectFunction=e}getRenderObjectFunction(){return this._renderObjectFunction}compute(e){if(this._isDeviceLost===!0)return;if(this._initialized===!1)return console.warn("THREE.Renderer: .compute() called before the backend is initialized. Try using .computeAsync() instead."),this.computeAsync(e);const t=this._nodes.nodeFrame,i=t.renderId;this.info.calls++,this.info.compute.calls++,this.info.compute.frameCalls++,t.renderId=this.info.calls;const r=this.backend,s=this._pipelines,a=this._bindings,o=this._nodes,l=Array.isArray(e)?e:[e];if(l[0]===void 0||l[0].isComputeNode!==!0)throw new Error("THREE.Renderer: .compute() expects a ComputeNode.");r.beginCompute(e);for(const u of l){if(s.has(u)===!1){const m=()=>{u.removeEventListener("dispose",m),s.delete(u),a.delete(u),o.delete(u)};u.addEventListener("dispose",m);const v=u.onInitFunction;v!==null&&v.call(u,{renderer:this})}o.updateForCompute(u),a.updateForCompute(u);const c=a.getForCompute(u),f=s.getForCompute(u,c);r.compute(e,u,c,f)}r.finishCompute(e),t.renderId=i}async computeAsync(e){this._initialized===!1&&await this.init(),this.compute(e)}async hasFeatureAsync(e){return this._initialized===!1&&await this.init(),this.backend.hasFeature(e)}async resolveTimestampsAsync(e="render"){return this._initialized===!1&&await this.init(),this.backend.resolveTimestampsAsync(e)}hasFeature(e){return this._initialized===!1?(console.warn("THREE.Renderer: .hasFeature() called before the backend is initialized. Try using .hasFeatureAsync() instead."),!1):this.backend.hasFeature(e)}hasInitialized(){return this._initialized}async initTextureAsync(e){this._initialized===!1&&await this.init(),this._textures.updateTexture(e)}initTexture(e){this._initialized===!1&&console.warn("THREE.Renderer: .initTexture() called before the backend is initialized. Try using .initTextureAsync() instead."),this._textures.updateTexture(e)}copyFramebufferToTexture(e,t=null){if(t!==null)if(t.isVector2)t=P2.set(t.x,t.y,e.image.width,e.image.height).floor();else if(t.isVector4)t=P2.copy(t).floor();else{console.error("THREE.Renderer.copyFramebufferToTexture: Invalid rectangle.");return}else t=P2.set(0,0,e.image.width,e.image.height);let i=this._currentRenderContext,r;i!==null?r=i.renderTarget:(r=this._renderTarget||this._getFrameBufferTarget(),r!==null&&(this._textures.updateRenderTarget(r),i=this._textures.get(r))),this._textures.updateTexture(e,{renderTarget:r}),this.backend.copyFramebufferToTexture(e,i,t)}copyTextureToTexture(e,t,i=null,r=null,s=0,a=0){this._textures.updateTexture(e),this._textures.updateTexture(t),this.backend.copyTextureToTexture(e,t,i,r,s,a)}async readRenderTargetPixelsAsync(e,t,i,r,s,a=0,o=0){return this.backend.copyTextureToBuffer(e.textures[a],t,i,r,s,o)}_projectObject(e,t,i,r,s){if(e.visible===!1)return;if(e.layers.test(t.layers)){if(e.isGroup)i=e.renderOrder,e.isClippingGroup&&e.enabled&&(s=s.getGroupContext(e));else if(e.isLOD)e.autoUpdate===!0&&e.update(t);else if(e.isLight)r.pushLight(e);else if(e.isSprite){const l=t.isArrayCamera?yw:gw;if(!e.frustumCulled||l.intersectsSprite(e,t)){this.sortObjects===!0&&P2.setFromMatrixPosition(e.matrixWorld).applyMatrix4(mv);const{geometry:u,material:c}=e;c.visible&&r.push(e,u,c,i,P2.z,null,s)}}else if(e.isLineLoop)console.error("THREE.Renderer: Objects of type THREE.LineLoop are not supported. Please use THREE.Line or THREE.LineSegments.");else if(e.isMesh||e.isLine||e.isPoints){const l=t.isArrayCamera?yw:gw;if(!e.frustumCulled||l.intersectsObject(e,t)){const{geometry:u,material:c}=e;if(this.sortObjects===!0&&(u.boundingSphere===null&&u.computeBoundingSphere(),P2.copy(u.boundingSphere.center).applyMatrix4(e.matrixWorld).applyMatrix4(mv)),Array.isArray(c)){const f=u.groups;for(let m=0,v=f.length;m<v;m++){const _=f[m],T=c[_.materialIndex];T&&T.visible&&r.push(e,u,T,i,P2.z,_,s)}}else c.visible&&r.push(e,u,c,i,P2.z,null,s)}}}if(e.isBundleGroup===!0&&this.backend.beginBundle!==void 0){const l=r;r=this._renderLists.get(e,t),r.begin(),l.pushBundle({bundleGroup:e,camera:t,renderList:r}),r.finish()}const o=e.children;for(let l=0,u=o.length;l<u;l++)this._projectObject(o[l],t,i,r,s)}_renderBundles(e,t,i){for(const r of e)this._renderBundle(r,t,i)}_renderTransparents(e,t,i,r,s){if(t.length>0){for(const{material:a}of t)a.side=Zi;this._renderObjects(t,i,r,s,"backSide");for(const{material:a}of t)a.side=Bo;this._renderObjects(e,i,r,s);for(const{material:a}of t)a.side=hs}else this._renderObjects(e,i,r,s)}_renderObjects(e,t,i,r,s=null){for(let a=0,o=e.length;a<o;a++){const{object:l,geometry:u,material:c,group:f,clippingContext:m}=e[a];this._currentRenderObjectFunction(l,i,t,u,c,f,r,m,s)}}renderObject(e,t,i,r,s,a,o,l=null,u=null){let c,f,m;if(e.onBeforeRender(this,t,i,r,s,a),s.allowOverride===!0&&t.overrideMaterial!==null){const v=t.overrideMaterial;s.positionNode&&s.positionNode.isNode&&(c=v.positionNode,v.positionNode=s.positionNode),v.alphaTest=s.alphaTest,v.alphaMap=s.alphaMap,v.transparent=s.transparent||s.transmission>0,v.isShadowPassMaterial&&(v.side=s.shadowSide===null?s.side:s.shadowSide,s.depthNode&&s.depthNode.isNode&&(m=v.depthNode,v.depthNode=s.depthNode),s.castShadowNode&&s.castShadowNode.isNode&&(f=v.colorNode,v.colorNode=s.castShadowNode),s.castShadowPositionNode&&s.castShadowPositionNode.isNode&&(c=v.positionNode,v.positionNode=s.castShadowPositionNode)),s=v}s.transparent===!0&&s.side===hs&&s.forceSinglePass===!1?(s.side=Zi,this._handleObjectFunction(e,s,t,i,o,a,l,"backSide"),s.side=Bo,this._handleObjectFunction(e,s,t,i,o,a,l,u),s.side=hs):this._handleObjectFunction(e,s,t,i,o,a,l,u),c!==void 0&&(t.overrideMaterial.positionNode=c),m!==void 0&&(t.overrideMaterial.depthNode=m),f!==void 0&&(t.overrideMaterial.colorNode=f),e.onAfterRender(this,t,i,r,s,a)}_renderObjectDirect(e,t,i,r,s,a,o,l){const u=this._objects.get(e,t,i,r,s,this._currentRenderContext,o,l);u.drawRange=e.geometry.drawRange,u.group=a;const c=this._nodes.needsRefresh(u);c&&(this._nodes.updateBefore(u),this._geometries.updateForRender(u),this._nodes.updateForRender(u),this._bindings.updateForRender(u)),this._pipelines.updateForRender(u),this._currentRenderBundle!==null&&(this.backend.get(this._currentRenderBundle).renderObjects.push(u),u.bundle=this._currentRenderBundle.bundleGroup),this.backend.draw(u,this.info),c&&this._nodes.updateAfter(u)}_createObjectPipeline(e,t,i,r,s,a,o,l){const u=this._objects.get(e,t,i,r,s,this._currentRenderContext,o,l);u.drawRange=e.geometry.drawRange,u.group=a,this._nodes.updateBefore(u),this._geometries.updateForRender(u),this._nodes.updateForRender(u),this._bindings.updateForRender(u),this._pipelines.getForRender(u,this._compilationPromises),this._nodes.updateAfter(u)}get compile(){return this.compileAsync}}class pU{constructor(e=""){this.name=e,this.visibility=0}setVisibility(e){this.visibility|=e}clone(){return Object.assign(new this.constructor,this)}}function pCe(n){return n+($2-n%$2)%$2}class Cne extends pU{constructor(e,t=null){super(e),this.isBuffer=!0,this.bytesPerElement=Float32Array.BYTES_PER_ELEMENT,this._buffer=t}get byteLength(){return pCe(this._buffer.byteLength)}get buffer(){return this._buffer}update(){return!0}}class Nne extends Cne{constructor(e,t=null){super(e,t),this.isUniformBuffer=!0}}let mCe=0;class Dne extends Nne{constructor(e,t){super("UniformBuffer_"+mCe++,e?e.value:null),this.nodeUniform=e,this.groupNode=t}get buffer(){return this.nodeUniform.value}}class gCe extends Nne{constructor(e){super(e),this.isUniformsGroup=!0,this._values=null,this.uniforms=[]}addUniform(e){return this.uniforms.push(e),this}removeUniform(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}get values(){return this._values===null&&(this._values=Array.from(this.buffer)),this._values}get buffer(){let e=this._buffer;if(e===null){const t=this.byteLength;e=new Float32Array(new ArrayBuffer(t)),this._buffer=e}return e}get byteLength(){const e=this.bytesPerElement;let t=0;for(let i=0,r=this.uniforms.length;i<r;i++){const s=this.uniforms[i],a=s.boundary,o=s.itemSize*e,l=t%$2,u=l%a,c=l+u;t+=u,c!==0&&$2-c<o&&(t+=$2-c),s.offset=t/e,t+=o}return Math.ceil(t/$2)*$2}update(){let e=!1;for(const t of this.uniforms)this.updateByType(t)===!0&&(e=!0);return e}updateByType(e){if(e.isNumberUniform)return this.updateNumber(e);if(e.isVector2Uniform)return this.updateVector2(e);if(e.isVector3Uniform)return this.updateVector3(e);if(e.isVector4Uniform)return this.updateVector4(e);if(e.isColorUniform)return this.updateColor(e);if(e.isMatrix3Uniform)return this.updateMatrix3(e);if(e.isMatrix4Uniform)return this.updateMatrix4(e);console.error("THREE.WebGPUUniformsGroup: Unsupported uniform type.",e)}updateNumber(e){let t=!1;const i=this.values,r=e.getValue(),s=e.offset,a=e.getType();if(i[s]!==r){const o=this._getBufferForType(a);o[s]=i[s]=r,t=!0}return t}updateVector2(e){let t=!1;const i=this.values,r=e.getValue(),s=e.offset,a=e.getType();if(i[s+0]!==r.x||i[s+1]!==r.y){const o=this._getBufferForType(a);o[s+0]=i[s+0]=r.x,o[s+1]=i[s+1]=r.y,t=!0}return t}updateVector3(e){let t=!1;const i=this.values,r=e.getValue(),s=e.offset,a=e.getType();if(i[s+0]!==r.x||i[s+1]!==r.y||i[s+2]!==r.z){const o=this._getBufferForType(a);o[s+0]=i[s+0]=r.x,o[s+1]=i[s+1]=r.y,o[s+2]=i[s+2]=r.z,t=!0}return t}updateVector4(e){let t=!1;const i=this.values,r=e.getValue(),s=e.offset,a=e.getType();if(i[s+0]!==r.x||i[s+1]!==r.y||i[s+2]!==r.z||i[s+4]!==r.w){const o=this._getBufferForType(a);o[s+0]=i[s+0]=r.x,o[s+1]=i[s+1]=r.y,o[s+2]=i[s+2]=r.z,o[s+3]=i[s+3]=r.w,t=!0}return t}updateColor(e){let t=!1;const i=this.values,r=e.getValue(),s=e.offset;if(i[s+0]!==r.r||i[s+1]!==r.g||i[s+2]!==r.b){const a=this.buffer;a[s+0]=i[s+0]=r.r,a[s+1]=i[s+1]=r.g,a[s+2]=i[s+2]=r.b,t=!0}return t}updateMatrix3(e){let t=!1;const i=this.values,r=e.getValue().elements,s=e.offset;if(i[s+0]!==r[0]||i[s+1]!==r[1]||i[s+2]!==r[2]||i[s+4]!==r[3]||i[s+5]!==r[4]||i[s+6]!==r[5]||i[s+8]!==r[6]||i[s+9]!==r[7]||i[s+10]!==r[8]){const a=this.buffer;a[s+0]=i[s+0]=r[0],a[s+1]=i[s+1]=r[1],a[s+2]=i[s+2]=r[2],a[s+4]=i[s+4]=r[3],a[s+5]=i[s+5]=r[4],a[s+6]=i[s+6]=r[5],a[s+8]=i[s+8]=r[6],a[s+9]=i[s+9]=r[7],a[s+10]=i[s+10]=r[8],t=!0}return t}updateMatrix4(e){let t=!1;const i=this.values,r=e.getValue().elements,s=e.offset;return vCe(i,r,s)===!1&&(this.buffer.set(r,s),yCe(i,r,s),t=!0),t}_getBufferForType(e){return e==="int"||e==="ivec2"||e==="ivec3"||e==="ivec4"?new Int32Array(this.buffer.buffer):e==="uint"||e==="uvec2"||e==="uvec3"||e==="uvec4"?new Uint32Array(this.buffer.buffer):this.buffer}}function yCe(n,e,t){for(let i=0,r=e.length;i<r;i++)n[t+i]=e[i]}function vCe(n,e,t){for(let i=0,r=e.length;i<r;i++)if(n[t+i]!==e[i])return!1;return!0}let xCe=0;class Pne extends gCe{constructor(e,t){super(e),this.id=xCe++,this.groupNode=t,this.isNodeUniformsGroup=!0}}let _Ce=0;class bCe extends pU{constructor(e,t){super(e),this.id=_Ce++,this.texture=t,this.version=t?t.version:0,this.store=!1,this.generation=null,this.isSampledTexture=!0}needsBindingsUpdate(e){const{texture:t}=this;return e!==this.generation?(this.generation=e,!0):t.isVideoTexture}update(){const{texture:e,version:t}=this;return t!==e.version?(this.version=e.version,!0):!1}}class rT extends bCe{constructor(e,t,i,r=null){super(e,t?t.value:null),this.textureNode=t,this.groupNode=i,this.access=r}needsBindingsUpdate(e){return this.textureNode.value!==this.texture||super.needsBindingsUpdate(e)}update(){const{textureNode:e}=this;return this.texture!==e.value?(this.texture=e.value,!0):super.update()}}class Lne extends rT{constructor(e,t,i,r=null){super(e,t,i,r),this.isSampledCubeTexture=!0}}class Bne extends rT{constructor(e,t,i,r=null){super(e,t,i,r),this.isSampledTexture3D=!0}}const SCe={textureDimensions:"textureSize",equals:"equal"},TCe={low:"lowp",medium:"mediump",high:"highp"},tq={swizzleAssign:!0,storageBuffer:!1},nq={perspective:"smooth",linear:"noperspective"},iq={centroid:"centroid"},rq=`
precision highp float;
precision highp int;
precision highp sampler2D;
precision highp sampler3D;
precision highp samplerCube;
precision highp sampler2DArray;

precision highp usampler2D;
precision highp usampler3D;
precision highp usamplerCube;
precision highp usampler2DArray;

precision highp isampler2D;
precision highp isampler3D;
precision highp isamplerCube;
precision highp isampler2DArray;

precision lowp sampler2DShadow;
precision lowp sampler2DArrayShadow;
precision lowp samplerCubeShadow;
`;class MCe extends Ene{constructor(e,t){super(e,t,new eCe),this.uniformGroups={},this.transforms=[],this.extensions={},this.builtins={vertex:[],fragment:[],compute:[]}}needsToWorkingColorSpace(e){return e.isVideoTexture===!0&&e.colorSpace!==no}getMethod(e){return SCe[e]||e}getOutputStructName(){return""}buildFunctionCode(e){const t=e.layout,i=this.flowShaderNode(e),r=[];for(const a of t.inputs)r.push(this.getType(a.type)+" "+a.name);return`${this.getType(t.type)} ${t.name}( ${r.join(", ")} ) {

	${i.vars}

${i.code}
	return ${i.result};

}`}setupPBO(e){const t=e.value;if(t.pbo===void 0){const i=t.array,r=t.count*t.itemSize,{itemSize:s}=t,a=t.array.constructor.name.toLowerCase().includes("int");let o=a?U3:ph;s===2?o=a?mh:r1:s===3?o=a?pQ:_8:s===4&&(o=a?gh:_r);const l={Float32Array:Mr,Uint8Array:Lr,Uint16Array:w0,Uint32Array:tr,Int8Array:m3,Int16Array:g3,Int32Array:ea,Uint8ClampedArray:Lr},u=Math.pow(2,Math.ceil(Math.log2(Math.sqrt(r/s))));let c=Math.ceil(r/s/u);u*c*s<r&&c++;const f=u*c*s,m=new i.constructor(f);m.set(i,0),t.array=m;const v=new xu(t.array,u,c,o,l[t.array.constructor.name]||Mr);v.needsUpdate=!0,v.isPBOTexture=!0;const _=new M1(v,null,null);_.setPrecision("high"),t.pboNode=_,t.pbo=_.value,this.getUniformFromNode(t.pboNode,"texture",this.shaderStage,this.context.label)}}getPropertyName(e,t=this.shaderStage){return e.isNodeUniform&&e.node.isTextureNode!==!0&&e.node.isBufferNode!==!0?t.charAt(0)+"_"+e.name:super.getPropertyName(e,t)}generatePBO(e){const{node:t,indexNode:i}=e,r=t.value;if(this.renderer.backend.has(r)){const c=this.renderer.backend.get(r);c.pbo=r.pbo}const s=this.getUniformFromNode(r.pboNode,"texture",this.shaderStage,this.context.label),a=this.getPropertyName(s);this.increaseUsage(i);const o=i.build(this,"uint"),l=this.getDataFromNode(e);let u=l.propertyName;if(u===void 0){const c=this.getVarFromNode(e);u=this.getPropertyName(c);const f=this.getDataFromNode(t);let m=f.propertySizeName;m===void 0&&(m=u+"Size",this.getVarFromNode(t,m,"uint"),this.addLineFlowCode(`${m} = uint( textureSize( ${a}, 0 ).x )`,e),f.propertySizeName=m);const{itemSize:v}=r,_="."+Mh.join("").slice(0,v),T=`ivec2(${o} % ${m}, ${o} / ${m})`,M=this.generateTextureLoad(null,a,T,null,"0");let S="vec4";r.pbo.type===tr?S="uvec4":r.pbo.type===ea&&(S="ivec4"),this.addLineFlowCode(`${u} = ${S}(${M})${_}`,e),l.propertyName=u}return u}generateTextureLoad(e,t,i,r,s="0"){return r?`texelFetch( ${t}, ivec3( ${i}, ${r} ), ${s} )`:`texelFetch( ${t}, ${i}, ${s} )`}generateTexture(e,t,i,r){return e.isDepthTexture?(r&&(i=`vec4( ${i}, ${r} )`),`texture( ${t}, ${i} ).x`):(r&&(i=`vec3( ${i}, ${r} )`),`texture( ${t}, ${i} )`)}generateTextureLevel(e,t,i,r){return`textureLod( ${t}, ${i}, ${r} )`}generateTextureBias(e,t,i,r){return`texture( ${t}, ${i}, ${r} )`}generateTextureGrad(e,t,i,r){return`textureGrad( ${t}, ${i}, ${r[0]}, ${r[1]} )`}generateTextureCompare(e,t,i,r,s,a=this.shaderStage){if(a==="fragment")return s?`texture( ${t}, vec4( ${i}, ${s}, ${r} ) )`:`texture( ${t}, vec3( ${i}, ${r} ) )`;console.error(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${a} shader.`)}getVars(e){const t=[],i=this.vars[e];if(i!==void 0)for(const r of i)t.push(`${this.getVar(r.type,r.name,r.count)};`);return t.join(`
	`)}getUniforms(e){const t=this.uniforms[e],i=[],r={};for(const a of t){let o=null,l=!1;if(a.type==="texture"||a.type==="texture3D"){const c=a.node.value;let f="";(c.isDataTexture===!0||c.isData3DTexture===!0)&&(c.type===tr?f="u":c.type===ea&&(f="i")),a.type==="texture3D"&&c.isArrayTexture===!1?o=`${f}sampler3D ${a.name};`:c.compareFunction?c.isArrayTexture===!0?o=`sampler2DArrayShadow ${a.name};`:o=`sampler2DShadow ${a.name};`:c.isArrayTexture===!0||c.isDataArrayTexture===!0||c.isCompressedArrayTexture===!0?o=`${f}sampler2DArray ${a.name};`:o=`${f}sampler2D ${a.name};`}else if(a.type==="cubeTexture")o=`samplerCube ${a.name};`;else if(a.type==="buffer"){const c=a.node,f=this.getType(c.bufferType),m=c.bufferCount,v=m>0?m:"";o=`${c.name} {
	${f} ${a.name}[${v}];
};
`}else o=`${this.getVectorType(a.type)} ${this.getPropertyName(a,e)};`,l=!0;const u=a.node.precision;if(u!==null&&(o=TCe[u]+" "+o),l){o="	"+o;const c=a.groupNode.name;(r[c]||(r[c]=[])).push(o)}else o="uniform "+o,i.push(o)}let s="";for(const a in r){const o=r[a];s+=this._getGLSLUniformStruct(e+"_"+a,o.join(`
`))+`
`}return s+=i.join(`
`),s}getTypeFromAttribute(e){let t=super.getTypeFromAttribute(e);if(/^[iu]/.test(t)&&e.gpuType!==ea){let i=e;e.isInterleavedBufferAttribute&&(i=e.data);const r=i.array;r instanceof Uint32Array||r instanceof Int32Array||(t=t.slice(1))}return t}getAttributes(e){let t="";if(e==="vertex"||e==="compute"){const i=this.getAttributesArray();let r=0;for(const s of i)t+=`layout( location = ${r++} ) in ${s.type} ${s.name};
`}return t}getStructMembers(e){const t=[];for(const i of e.members)t.push(`	${i.type} ${i.name};`);return t.join(`
`)}getStructs(e){const t=[],i=this.structs[e],r=[];for(const s of i)if(s.output)for(const a of s.members)r.push(`layout( location = ${a.index} ) out ${a.type} ${a.name};`);else{let a="struct "+s.name+` {
`;a+=this.getStructMembers(s),a+=`
};
`,t.push(a)}return r.length===0&&r.push("layout( location = 0 ) out vec4 fragColor;"),`
`+r.join(`
`)+`

`+t.join(`
`)}getVaryings(e){let t="";const i=this.varyings;if(e==="vertex"||e==="compute")for(const r of i){e==="compute"&&(r.needsInterpolation=!0);const s=this.getType(r.type);if(r.needsInterpolation)if(r.interpolationType){const a=nq[r.interpolationType]||r.interpolationType,o=iq[r.interpolationSampling]||"";t+=`${a} ${o} out ${s} ${r.name};
`}else{const a=s.includes("int")||s.includes("uv")||s.includes("iv")?"flat ":"";t+=`${a}out ${s} ${r.name};
`}else t+=`${s} ${r.name};
`}else if(e==="fragment"){for(const r of i)if(r.needsInterpolation){const s=this.getType(r.type);if(r.interpolationType){const a=nq[r.interpolationType]||r.interpolationType,o=iq[r.interpolationSampling]||"";t+=`${a} ${o} in ${s} ${r.name};
`}else{const a=s.includes("int")||s.includes("uv")||s.includes("iv")?"flat ":"";t+=`${a}in ${s} ${r.name};
`}}}for(const r of this.builtins[e])t+=`${r};
`;return t}getVertexIndex(){return"uint( gl_VertexID )"}getInstanceIndex(){return"uint( gl_InstanceID )"}getInvocationLocalIndex(){return`uint( gl_InstanceID ) % ${this.object.workgroupSize.reduce((i,r)=>i*r,1)}u`}getDrawIndex(){return this.renderer.backend.extensions.has("WEBGL_multi_draw")?"uint( gl_DrawID )":null}getFrontFacing(){return"gl_FrontFacing"}getFragCoord(){return"gl_FragCoord.xy"}getFragDepth(){return"gl_FragDepth"}enableExtension(e,t,i=this.shaderStage){const r=this.extensions[i]||(this.extensions[i]=new Map);r.has(e)===!1&&r.set(e,{name:e,behavior:t})}getExtensions(e){const t=[];if(e==="vertex"){const r=this.renderer.backend.extensions;this.object.isBatchedMesh&&r.has("WEBGL_multi_draw")&&this.enableExtension("GL_ANGLE_multi_draw","require",e)}const i=this.extensions[e];if(i!==void 0)for(const{name:r,behavior:s}of i.values())t.push(`#extension ${r} : ${s}`);return t.join(`
`)}getClipDistance(){return"gl_ClipDistance"}isAvailable(e){let t=tq[e];if(t===void 0){let i;switch(t=!1,e){case"float32Filterable":i="OES_texture_float_linear";break;case"clipDistance":i="WEBGL_clip_cull_distance";break}if(i!==void 0){const r=this.renderer.backend.extensions;r.has(i)&&(r.get(i),t=!0)}tq[e]=t}return t}isFlipY(){return!0}enableHardwareClipping(e){this.enableExtension("GL_ANGLE_clip_cull_distance","require"),this.builtins.vertex.push(`out float gl_ClipDistance[ ${e} ]`)}enableMultiview(){this.enableExtension("GL_OVR_multiview2","require","fragment"),this.enableExtension("GL_OVR_multiview2","require","vertex"),this.builtins.vertex.push("layout(num_views = 2) in")}registerTransform(e,t){this.transforms.push({varyingName:e,attributeNode:t})}getTransforms(){const e=this.transforms;let t="";for(let i=0;i<e.length;i++){const r=e[i],s=this.getPropertyName(r.attributeNode);s&&(t+=`${r.varyingName} = ${s};
	`)}return t}_getGLSLUniformStruct(e,t){return`
layout( std140 ) uniform ${e} {
${t}
};`}_getGLSLVertexCode(e){return`#version 300 es

${this.getSignature()}

// extensions
${e.extensions}

// precision
${rq}

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// attributes
${e.attributes}

// codes
${e.codes}

void main() {

	// vars
	${e.vars}

	// transforms
	${e.transforms}

	// flow
	${e.flow}

	gl_PointSize = 1.0;

}
`}_getGLSLFragmentCode(e){return`#version 300 es

${this.getSignature()}

// extensions
${e.extensions}

// precision
${rq}

// uniforms
${e.uniforms}

// varyings
${e.varyings}

// codes
${e.codes}

// structs
${e.structs}

void main() {

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}buildCode(){const e=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const t in e){let i=`// code

`;i+=this.flowCode[t];const r=this.flowNodes[t],s=r[r.length-1];for(const o of r){const l=this.getFlowData(o),u=o.name;u&&(i.length>0&&(i+=`
`),i+=`	// flow -> ${u}
	`),i+=`${l.code}
	`,o===s&&t!=="compute"&&(i+=`// result
	`,t==="vertex"?(i+="gl_Position = ",i+=`${l.result};`):t==="fragment"&&(o.outputNode.isOutputStructNode||(i+="fragColor = ",i+=`${l.result};`)))}const a=e[t];a.extensions=this.getExtensions(t),a.uniforms=this.getUniforms(t),a.attributes=this.getAttributes(t),a.varyings=this.getVaryings(t),a.vars=this.getVars(t),a.structs=this.getStructs(t),a.codes=this.getCodes(t),a.transforms=this.getTransforms(t),a.flow=i}this.material!==null?(this.vertexShader=this._getGLSLVertexCode(e.vertex),this.fragmentShader=this._getGLSLFragmentCode(e.fragment)):this.computeShader=this._getGLSLVertexCode(e.compute)}getUniformFromNode(e,t,i,r=null){const s=super.getUniformFromNode(e,t,i,r),a=this.getDataFromNode(e,i,this.globalCache);let o=a.uniformGPU;if(o===void 0){const l=e.groupNode,u=l.name,c=this.getBindGroupArray(u,i);if(t==="texture")o=new rT(s.name,s.node,l),c.push(o);else if(t==="cubeTexture")o=new Lne(s.name,s.node,l),c.push(o);else if(t==="texture3D")o=new Bne(s.name,s.node,l),c.push(o);else if(t==="buffer"){e.name=`NodeBuffer_${e.id}`,s.name=`buffer${e.id}`;const f=new Dne(e,l);f.name=e.name,c.push(f),o=f}else{const f=this.uniformGroups[i]||(this.uniformGroups[i]={});let m=f[u];m===void 0&&(m=new Pne(i+"_"+u,l),f[u]=m,c.push(m)),o=this.getNodeUniform(s,t),m.addUniform(o)}a.uniformGPU=o}return s}}let vw=null,r6=null;class Une{constructor(e={}){this.parameters=Object.assign({},e),this.data=new WeakMap,this.renderer=null,this.domElement=null,this.timestampQueryPool={render:null,compute:null},this.trackTimestamp=e.trackTimestamp===!0}async init(e){this.renderer=e}get coordinateSystem(){}beginRender(){}finishRender(){}beginCompute(){}finishCompute(){}draw(){}compute(){}createProgram(){}destroyProgram(){}createBindings(){}updateBindings(){}updateBinding(){}createRenderPipeline(){}createComputePipeline(){}needsRenderUpdate(){}getRenderCacheKey(){}createNodeBuilder(){}createSampler(){}destroySampler(){}createDefaultTexture(){}createTexture(){}updateTexture(){}generateMipmaps(){}destroyTexture(){}async copyTextureToBuffer(){}copyTextureToTexture(){}copyFramebufferToTexture(){}createAttribute(){}createIndexAttribute(){}createStorageAttribute(){}updateAttribute(){}destroyAttribute(){}getContext(){}updateSize(){}updateViewport(){}isOccluded(){}async resolveTimestampsAsync(e="render"){if(!this.trackTimestamp){jl("WebGPURenderer: Timestamp tracking is disabled.");return}const t=this.timestampQueryPool[e];if(!t){jl(`WebGPURenderer: No timestamp query pool for type '${e}' found.`);return}const i=await t.resolveQueriesAsync();return this.renderer.info[e].timestamp=i,i}async waitForGPU(){}async getArrayBufferAsync(){}async hasFeatureAsync(){}hasFeature(){}getMaxAnisotropy(){}getDrawingBufferSize(){return vw=vw||new Ye,this.renderer.getDrawingBufferSize(vw)}setScissorTest(){}getClearColor(){const e=this.renderer;return r6=r6||new KB,e.getClearColor(r6),r6.getRGB(r6),r6}getDomElement(){let e=this.domElement;return e===null&&(e=this.parameters.canvas!==void 0?this.parameters.canvas:HP(),"setAttribute"in e&&e.setAttribute("data-engine",`three.js r${v8} webgpu`),this.domElement=e),e}set(e,t){this.data.set(e,t)}get(e){let t=this.data.get(e);return t===void 0&&(t={},this.data.set(e,t)),t}has(e){return this.data.has(e)}delete(e){this.data.delete(e)}dispose(){}}let ECe=0;class wCe{constructor(e,t){this.buffers=[e.bufferGPU,t],this.type=e.type,this.bufferType=e.bufferType,this.pbo=e.pbo,this.byteLength=e.byteLength,this.bytesPerElement=e.BYTES_PER_ELEMENT,this.version=e.version,this.isInteger=e.isInteger,this.activeBufferIndex=0,this.baseId=e.id}get id(){return`${this.baseId}|${this.activeBufferIndex}`}get bufferGPU(){return this.buffers[this.activeBufferIndex]}get transformBuffer(){return this.buffers[this.activeBufferIndex^1]}switchBuffers(){this.activeBufferIndex^=1}}class RCe{constructor(e){this.backend=e}createAttribute(e,t){const i=this.backend,{gl:r}=i,s=e.array,a=e.usage||r.STATIC_DRAW,o=e.isInterleavedBufferAttribute?e.data:e,l=i.get(o);let u=l.bufferGPU;u===void 0&&(u=this._createBuffer(r,t,s,a),l.bufferGPU=u,l.bufferType=t,l.version=o.version);let c;if(s instanceof Float32Array)c=r.FLOAT;else if(typeof Float16Array<"u"&&s instanceof Float16Array)c=r.HALF_FLOAT;else if(s instanceof Uint16Array)e.isFloat16BufferAttribute?c=r.HALF_FLOAT:c=r.UNSIGNED_SHORT;else if(s instanceof Int16Array)c=r.SHORT;else if(s instanceof Uint32Array)c=r.UNSIGNED_INT;else if(s instanceof Int32Array)c=r.INT;else if(s instanceof Int8Array)c=r.BYTE;else if(s instanceof Uint8Array)c=r.UNSIGNED_BYTE;else if(s instanceof Uint8ClampedArray)c=r.UNSIGNED_BYTE;else throw new Error("THREE.WebGLBackend: Unsupported buffer data format: "+s);let f={bufferGPU:u,bufferType:t,type:c,byteLength:s.byteLength,bytesPerElement:s.BYTES_PER_ELEMENT,version:e.version,pbo:e.pbo,isInteger:c===r.INT||c===r.UNSIGNED_INT||e.gpuType===ea,id:ECe++};if(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute){const m=this._createBuffer(r,t,s,a);f=new wCe(f,m)}i.set(e,f)}updateAttribute(e){const t=this.backend,{gl:i}=t,r=e.array,s=e.isInterleavedBufferAttribute?e.data:e,a=t.get(s),o=a.bufferType,l=e.isInterleavedBufferAttribute?e.data.updateRanges:e.updateRanges;if(i.bindBuffer(o,a.bufferGPU),l.length===0)i.bufferSubData(o,0,r);else{for(let u=0,c=l.length;u<c;u++){const f=l[u];i.bufferSubData(o,f.start*r.BYTES_PER_ELEMENT,r,f.start,f.count)}s.clearUpdateRanges()}i.bindBuffer(o,null),a.version=s.version}destroyAttribute(e){const t=this.backend,{gl:i}=t;e.isInterleavedBufferAttribute&&t.delete(e.data);const r=t.get(e);i.deleteBuffer(r.bufferGPU),t.delete(e)}async getArrayBufferAsync(e){const t=this.backend,{gl:i}=t,r=e.isInterleavedBufferAttribute?e.data:e,{bufferGPU:s}=t.get(r),a=e.array,o=a.byteLength;i.bindBuffer(i.COPY_READ_BUFFER,s);const l=i.createBuffer();i.bindBuffer(i.COPY_WRITE_BUFFER,l),i.bufferData(i.COPY_WRITE_BUFFER,o,i.STREAM_READ),i.copyBufferSubData(i.COPY_READ_BUFFER,i.COPY_WRITE_BUFFER,0,0,o),await t.utils._clientWaitAsync();const u=new e.array.constructor(a.length);return i.bindBuffer(i.COPY_WRITE_BUFFER,l),i.getBufferSubData(i.COPY_WRITE_BUFFER,0,u),i.deleteBuffer(l),i.bindBuffer(i.COPY_READ_BUFFER,null),i.bindBuffer(i.COPY_WRITE_BUFFER,null),u.buffer}_createBuffer(e,t,i,r){const s=e.createBuffer();return e.bindBuffer(t,s),e.bufferData(t,i,r),e.bindBuffer(t,null),s}}let xw,v9;class CCe{constructor(e){this.backend=e,this.gl=this.backend.gl,this.enabled={},this.currentFlipSided=null,this.currentCullFace=null,this.currentProgram=null,this.currentBlendingEnabled=!1,this.currentBlending=null,this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentPremultipledAlpha=null,this.currentPolygonOffsetFactor=null,this.currentPolygonOffsetUnits=null,this.currentColorMask=null,this.currentDepthFunc=null,this.currentDepthMask=null,this.currentStencilFunc=null,this.currentStencilRef=null,this.currentStencilFuncMask=null,this.currentStencilFail=null,this.currentStencilZFail=null,this.currentStencilZPass=null,this.currentStencilMask=null,this.currentLineWidth=null,this.currentClippingPlanes=0,this.currentVAO=null,this.currentIndex=null,this.currentBoundFramebuffers={},this.currentDrawbuffers=new WeakMap,this.maxTextures=this.gl.getParameter(this.gl.MAX_TEXTURE_IMAGE_UNITS),this.currentTextureSlot=null,this.currentBoundTextures={},this.currentBoundBufferBases={},this._init()}_init(){const e=this.gl;xw={[Oa]:e.FUNC_ADD,[Fb]:e.FUNC_SUBTRACT,[zb]:e.FUNC_REVERSE_SUBTRACT},v9={[Ku]:e.ZERO,[Vb]:e.ONE,[kb]:e.SRC_COLOR,[Sd]:e.SRC_ALPHA,[Xb]:e.SRC_ALPHA_SATURATE,[jb]:e.DST_COLOR,[qb]:e.DST_ALPHA,[Gb]:e.ONE_MINUS_SRC_COLOR,[Td]:e.ONE_MINUS_SRC_ALPHA,[Wb]:e.ONE_MINUS_DST_COLOR,[Hb]:e.ONE_MINUS_DST_ALPHA};const t=e.getParameter(e.SCISSOR_BOX),i=e.getParameter(e.VIEWPORT);this.currentScissor=new ln().fromArray(t),this.currentViewport=new ln().fromArray(i),this._tempVec4=new ln}enable(e){const{enabled:t}=this;t[e]!==!0&&(this.gl.enable(e),t[e]=!0)}disable(e){const{enabled:t}=this;t[e]!==!1&&(this.gl.disable(e),t[e]=!1)}setFlipSided(e){if(this.currentFlipSided!==e){const{gl:t}=this;e?t.frontFace(t.CW):t.frontFace(t.CCW),this.currentFlipSided=e}}setCullFace(e){const{gl:t}=this;e!==RP?(this.enable(t.CULL_FACE),e!==this.currentCullFace&&(e===s_?t.cullFace(t.BACK):e===CP?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):this.disable(t.CULL_FACE),this.currentCullFace=e}setLineWidth(e){const{currentLineWidth:t,gl:i}=this;e!==t&&(i.lineWidth(e),this.currentLineWidth=e)}setBlending(e,t,i,r,s,a,o,l){const{gl:u}=this;if(e===nl){this.currentBlendingEnabled===!0&&(this.disable(u.BLEND),this.currentBlendingEnabled=!1);return}if(this.currentBlendingEnabled===!1&&(this.enable(u.BLEND),this.currentBlendingEnabled=!0),e!==bf){if(e!==this.currentBlending||l!==this.currentPremultipledAlpha){if((this.currentBlendEquation!==Oa||this.currentBlendEquationAlpha!==Oa)&&(u.blendEquation(u.FUNC_ADD),this.currentBlendEquation=Oa,this.currentBlendEquationAlpha=Oa),l)switch(e){case uo:u.blendFuncSeparate(u.ONE,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA);break;case Uf:u.blendFunc(u.ONE,u.ONE);break;case Of:u.blendFuncSeparate(u.ZERO,u.ONE_MINUS_SRC_COLOR,u.ZERO,u.ONE);break;case If:u.blendFuncSeparate(u.DST_COLOR,u.ONE_MINUS_SRC_ALPHA,u.ZERO,u.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}else switch(e){case uo:u.blendFuncSeparate(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA,u.ONE,u.ONE_MINUS_SRC_ALPHA);break;case Uf:u.blendFuncSeparate(u.SRC_ALPHA,u.ONE,u.ONE,u.ONE);break;case Of:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case If:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",e);break}this.currentBlendSrc=null,this.currentBlendDst=null,this.currentBlendSrcAlpha=null,this.currentBlendDstAlpha=null,this.currentBlending=e,this.currentPremultipledAlpha=l}return}s=s||t,a=a||i,o=o||r,(t!==this.currentBlendEquation||s!==this.currentBlendEquationAlpha)&&(u.blendEquationSeparate(xw[t],xw[s]),this.currentBlendEquation=t,this.currentBlendEquationAlpha=s),(i!==this.currentBlendSrc||r!==this.currentBlendDst||a!==this.currentBlendSrcAlpha||o!==this.currentBlendDstAlpha)&&(u.blendFuncSeparate(v9[i],v9[r],v9[a],v9[o]),this.currentBlendSrc=i,this.currentBlendDst=r,this.currentBlendSrcAlpha=a,this.currentBlendDstAlpha=o),this.currentBlending=e,this.currentPremultipledAlpha=!1}setColorMask(e){this.currentColorMask!==e&&(this.gl.colorMask(e,e,e,e),this.currentColorMask=e)}setDepthTest(e){const{gl:t}=this;e?this.enable(t.DEPTH_TEST):this.disable(t.DEPTH_TEST)}setDepthMask(e){this.currentDepthMask!==e&&(this.gl.depthMask(e),this.currentDepthMask=e)}setDepthFunc(e){if(this.currentDepthFunc!==e){const{gl:t}=this;switch(e){case Md:t.depthFunc(t.NEVER);break;case Ed:t.depthFunc(t.ALWAYS);break;case wd:t.depthFunc(t.LESS);break;case Vc:t.depthFunc(t.LEQUAL);break;case Rd:t.depthFunc(t.EQUAL);break;case Cd:t.depthFunc(t.GEQUAL);break;case Nd:t.depthFunc(t.GREATER);break;case Dd:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}this.currentDepthFunc=e}}scissor(e,t,i,r){const s=this._tempVec4.set(e,t,i,r);if(this.currentScissor.equals(s)===!1){const{gl:a}=this;a.scissor(s.x,s.y,s.z,s.w),this.currentScissor.copy(s)}}viewport(e,t,i,r){const s=this._tempVec4.set(e,t,i,r);if(this.currentViewport.equals(s)===!1){const{gl:a}=this;a.viewport(s.x,s.y,s.z,s.w),this.currentViewport.copy(s)}}setScissorTest(e){const t=this.gl;e?t.enable(t.SCISSOR_TEST):t.disable(t.SCISSOR_TEST)}setStencilTest(e){const{gl:t}=this;e?this.enable(t.STENCIL_TEST):this.disable(t.STENCIL_TEST)}setStencilMask(e){this.currentStencilMask!==e&&(this.gl.stencilMask(e),this.currentStencilMask=e)}setStencilFunc(e,t,i){(this.currentStencilFunc!==e||this.currentStencilRef!==t||this.currentStencilFuncMask!==i)&&(this.gl.stencilFunc(e,t,i),this.currentStencilFunc=e,this.currentStencilRef=t,this.currentStencilFuncMask=i)}setStencilOp(e,t,i){(this.currentStencilFail!==e||this.currentStencilZFail!==t||this.currentStencilZPass!==i)&&(this.gl.stencilOp(e,t,i),this.currentStencilFail=e,this.currentStencilZFail=t,this.currentStencilZPass=i)}setMaterial(e,t,i){const{gl:r}=this;e.side===hs?this.disable(r.CULL_FACE):this.enable(r.CULL_FACE);let s=e.side===Zi;t&&(s=!s),this.setFlipSided(s),e.blending===uo&&e.transparent===!1?this.setBlending(nl):this.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha),this.setDepthFunc(e.depthFunc),this.setDepthTest(e.depthTest),this.setDepthMask(e.depthWrite),this.setColorMask(e.colorWrite);const a=e.stencilWrite;if(this.setStencilTest(a),a&&(this.setStencilMask(e.stencilWriteMask),this.setStencilFunc(e.stencilFunc,e.stencilRef,e.stencilFuncMask),this.setStencilOp(e.stencilFail,e.stencilZFail,e.stencilZPass)),this.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits),e.alphaToCoverage===!0&&this.backend.renderer.samples>1?this.enable(r.SAMPLE_ALPHA_TO_COVERAGE):this.disable(r.SAMPLE_ALPHA_TO_COVERAGE),i>0&&this.currentClippingPlanes!==i)for(let l=0;l<8;l++)l<i?this.enable(12288+l):this.disable(12288+l)}setPolygonOffset(e,t,i){const{gl:r}=this;e?(this.enable(r.POLYGON_OFFSET_FILL),(this.currentPolygonOffsetFactor!==t||this.currentPolygonOffsetUnits!==i)&&(r.polygonOffset(t,i),this.currentPolygonOffsetFactor=t,this.currentPolygonOffsetUnits=i)):this.disable(r.POLYGON_OFFSET_FILL)}useProgram(e){return this.currentProgram!==e?(this.gl.useProgram(e),this.currentProgram=e,!0):!1}setVertexState(e,t=null){const i=this.gl;return this.currentVAO!==e||this.currentIndex!==t?(i.bindVertexArray(e),t!==null&&i.bindBuffer(i.ELEMENT_ARRAY_BUFFER,t),this.currentVAO=e,this.currentIndex=t,!0):!1}resetVertexState(){const e=this.gl;e.bindVertexArray(null),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,null),this.currentVAO=null,this.currentIndex=null}bindFramebuffer(e,t){const{gl:i,currentBoundFramebuffers:r}=this;return r[e]!==t?(i.bindFramebuffer(e,t),r[e]=t,e===i.DRAW_FRAMEBUFFER&&(r[i.FRAMEBUFFER]=t),e===i.FRAMEBUFFER&&(r[i.DRAW_FRAMEBUFFER]=t),!0):!1}drawBuffers(e,t){const{gl:i}=this;let r=[],s=!1;if(e.textures!==null){r=this.currentDrawbuffers.get(t),r===void 0&&(r=[],this.currentDrawbuffers.set(t,r));const a=e.textures;if(r.length!==a.length||r[0]!==i.COLOR_ATTACHMENT0){for(let o=0,l=a.length;o<l;o++)r[o]=i.COLOR_ATTACHMENT0+o;r.length=a.length,s=!0}}else r[0]!==i.BACK&&(r[0]=i.BACK,s=!0);s&&i.drawBuffers(r)}activeTexture(e){const{gl:t,currentTextureSlot:i,maxTextures:r}=this;e===void 0&&(e=t.TEXTURE0+r-1),i!==e&&(t.activeTexture(e),this.currentTextureSlot=e)}bindTexture(e,t,i){const{gl:r,currentTextureSlot:s,currentBoundTextures:a,maxTextures:o}=this;i===void 0&&(s===null?i=r.TEXTURE0+o-1:i=s);let l=a[i];l===void 0&&(l={type:void 0,texture:void 0},a[i]=l),(l.type!==e||l.texture!==t)&&(s!==i&&(r.activeTexture(i),this.currentTextureSlot=i),r.bindTexture(e,t),l.type=e,l.texture=t)}bindBufferBase(e,t,i){const{gl:r}=this,s=`${e}-${t}`;return this.currentBoundBufferBases[s]!==i?(r.bindBufferBase(e,t,i),this.currentBoundBufferBases[s]=i,!0):!1}unbindTexture(){const{gl:e,currentTextureSlot:t,currentBoundTextures:i}=this,r=i[t];r!==void 0&&r.type!==void 0&&(e.bindTexture(r.type,null),r.type=void 0,r.texture=void 0)}}class NCe{constructor(e){this.backend=e,this.gl=this.backend.gl,this.extensions=e.extensions}convert(e,t=no){const{gl:i,extensions:r}=this;let s;const a=wn.getTransfer(t);if(e===Lr)return i.UNSIGNED_BYTE;if(e===$p)return i.UNSIGNED_SHORT_4_4_4_4;if(e===Kp)return i.UNSIGNED_SHORT_5_5_5_1;if(e===Zp)return i.UNSIGNED_INT_5_9_9_9_REV;if(e===m3)return i.BYTE;if(e===g3)return i.SHORT;if(e===w0)return i.UNSIGNED_SHORT;if(e===ea)return i.INT;if(e===tr)return i.UNSIGNED_INT;if(e===Mr)return i.FLOAT;if(e===Fs)return i.HALF_FLOAT;if(e===Qb)return i.ALPHA;if(e===_8)return i.RGB;if(e===_r)return i.RGBA;if(e===rl)return i.DEPTH_COMPONENT;if(e===sl)return i.DEPTH_STENCIL;if(e===ph)return i.RED;if(e===U3)return i.RED_INTEGER;if(e===r1)return i.RG;if(e===mh)return i.RG_INTEGER;if(e===gh)return i.RGBA_INTEGER;if(e===y3||e===Mc||e===Ec||e===wc)if(a===Xt)if(s=r.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(e===y3)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(e===Mc)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(e===Ec)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(e===wc)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=r.get("WEBGL_compressed_texture_s3tc"),s!==null){if(e===y3)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Mc)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Ec)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===wc)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(e===Pd||e===Ld||e===Bd||e===Ud)if(s=r.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(e===Pd)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===Ld)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===Bd)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===Ud)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(e===Od||e===Ff||e===zf)if(s=r.get("WEBGL_compressed_texture_etc"),s!==null){if(e===Od||e===Ff)return a===Xt?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(e===zf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(e===Vf||e===kf||e===Gf||e===qf||e===Hf||e===jf||e===Wf||e===Xf||e===Yf||e===Qf||e===$f||e===Kf||e===Zf||e===Jf)if(s=r.get("WEBGL_compressed_texture_astc"),s!==null){if(e===Vf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(e===kf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(e===Gf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(e===qf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(e===Hf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(e===jf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(e===Wf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(e===Xf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(e===Yf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(e===Qf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(e===$f)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(e===Kf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(e===Zf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(e===Jf)return a===Xt?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(e===v3)if(s=r.get("EXT_texture_compression_bptc"),s!==null){if(e===v3)return a===Xt?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(e===$b||e===Id||e===Fd||e===zd)if(s=r.get("EXT_texture_compression_rgtc"),s!==null){if(e===v3)return s.COMPRESSED_RED_RGTC1_EXT;if(e===Id)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(e===Fd)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(e===zd)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return e===il?i.UNSIGNED_INT_24_8:i[e]!==void 0?i[e]:null}_clientWaitAsync(){const{gl:e}=this,t=e.fenceSync(e.SYNC_GPU_COMMANDS_COMPLETE,0);return e.flush(),new Promise((i,r)=>{function s(){const a=e.clientWaitSync(t,e.SYNC_FLUSH_COMMANDS_BIT,0);if(a===e.WAIT_FAILED){e.deleteSync(t),r();return}if(a===e.TIMEOUT_EXPIRED){requestAnimationFrame(s);return}e.deleteSync(t),i()}s()})}}let sq=!1,gv,_w,aq;class DCe{constructor(e){this.backend=e,this.gl=e.gl,this.extensions=e.extensions,this.defaultTextures={},sq===!1&&(this._init(),sq=!0)}_init(){const e=this.gl;gv={[Gc]:e.REPEAT,[Po]:e.CLAMP_TO_EDGE,[qc]:e.MIRRORED_REPEAT},_w={[fr]:e.NEAREST,[Qp]:e.NEAREST_MIPMAP_NEAREST,[Au]:e.NEAREST_MIPMAP_LINEAR,[dr]:e.LINEAR,[p3]:e.LINEAR_MIPMAP_NEAREST,[Fa]:e.LINEAR_MIPMAP_LINEAR},aq={[Zb]:e.NEVER,[iS]:e.ALWAYS,[Jp]:e.LESS,[em]:e.LEQUAL,[Jb]:e.EQUAL,[nS]:e.GEQUAL,[eS]:e.GREATER,[tS]:e.NOTEQUAL}}getGLTextureType(e){const{gl:t}=this;let i;return e.isCubeTexture===!0?i=t.TEXTURE_CUBE_MAP:e.isArrayTexture===!0||e.isDataArrayTexture===!0||e.isCompressedArrayTexture===!0?i=t.TEXTURE_2D_ARRAY:e.isData3DTexture===!0?i=t.TEXTURE_3D:i=t.TEXTURE_2D,i}getInternalFormat(e,t,i,r,s=!1){const{gl:a,extensions:o}=this;if(e!==null){if(a[e]!==void 0)return a[e];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+e+"'")}let l=t;if(t===a.RED&&(i===a.FLOAT&&(l=a.R32F),i===a.HALF_FLOAT&&(l=a.R16F),i===a.UNSIGNED_BYTE&&(l=a.R8),i===a.UNSIGNED_SHORT&&(l=a.R16),i===a.UNSIGNED_INT&&(l=a.R32UI),i===a.BYTE&&(l=a.R8I),i===a.SHORT&&(l=a.R16I),i===a.INT&&(l=a.R32I)),t===a.RED_INTEGER&&(i===a.UNSIGNED_BYTE&&(l=a.R8UI),i===a.UNSIGNED_SHORT&&(l=a.R16UI),i===a.UNSIGNED_INT&&(l=a.R32UI),i===a.BYTE&&(l=a.R8I),i===a.SHORT&&(l=a.R16I),i===a.INT&&(l=a.R32I)),t===a.RG&&(i===a.FLOAT&&(l=a.RG32F),i===a.HALF_FLOAT&&(l=a.RG16F),i===a.UNSIGNED_BYTE&&(l=a.RG8),i===a.UNSIGNED_SHORT&&(l=a.RG16),i===a.UNSIGNED_INT&&(l=a.RG32UI),i===a.BYTE&&(l=a.RG8I),i===a.SHORT&&(l=a.RG16I),i===a.INT&&(l=a.RG32I)),t===a.RG_INTEGER&&(i===a.UNSIGNED_BYTE&&(l=a.RG8UI),i===a.UNSIGNED_SHORT&&(l=a.RG16UI),i===a.UNSIGNED_INT&&(l=a.RG32UI),i===a.BYTE&&(l=a.RG8I),i===a.SHORT&&(l=a.RG16I),i===a.INT&&(l=a.RG32I)),t===a.RGB){const u=s?eh:wn.getTransfer(r);i===a.FLOAT&&(l=a.RGB32F),i===a.HALF_FLOAT&&(l=a.RGB16F),i===a.UNSIGNED_BYTE&&(l=a.RGB8),i===a.UNSIGNED_SHORT&&(l=a.RGB16),i===a.UNSIGNED_INT&&(l=a.RGB32UI),i===a.BYTE&&(l=a.RGB8I),i===a.SHORT&&(l=a.RGB16I),i===a.INT&&(l=a.RGB32I),i===a.UNSIGNED_BYTE&&(l=u===Xt?a.SRGB8:a.RGB8),i===a.UNSIGNED_SHORT_5_6_5&&(l=a.RGB565),i===a.UNSIGNED_SHORT_5_5_5_1&&(l=a.RGB5_A1),i===a.UNSIGNED_SHORT_4_4_4_4&&(l=a.RGB4),i===a.UNSIGNED_INT_5_9_9_9_REV&&(l=a.RGB9_E5)}if(t===a.RGB_INTEGER&&(i===a.UNSIGNED_BYTE&&(l=a.RGB8UI),i===a.UNSIGNED_SHORT&&(l=a.RGB16UI),i===a.UNSIGNED_INT&&(l=a.RGB32UI),i===a.BYTE&&(l=a.RGB8I),i===a.SHORT&&(l=a.RGB16I),i===a.INT&&(l=a.RGB32I)),t===a.RGBA){const u=s?eh:wn.getTransfer(r);i===a.FLOAT&&(l=a.RGBA32F),i===a.HALF_FLOAT&&(l=a.RGBA16F),i===a.UNSIGNED_BYTE&&(l=a.RGBA8),i===a.UNSIGNED_SHORT&&(l=a.RGBA16),i===a.UNSIGNED_INT&&(l=a.RGBA32UI),i===a.BYTE&&(l=a.RGBA8I),i===a.SHORT&&(l=a.RGBA16I),i===a.INT&&(l=a.RGBA32I),i===a.UNSIGNED_BYTE&&(l=u===Xt?a.SRGB8_ALPHA8:a.RGBA8),i===a.UNSIGNED_SHORT_4_4_4_4&&(l=a.RGBA4),i===a.UNSIGNED_SHORT_5_5_5_1&&(l=a.RGB5_A1)}return t===a.RGBA_INTEGER&&(i===a.UNSIGNED_BYTE&&(l=a.RGBA8UI),i===a.UNSIGNED_SHORT&&(l=a.RGBA16UI),i===a.UNSIGNED_INT&&(l=a.RGBA32UI),i===a.BYTE&&(l=a.RGBA8I),i===a.SHORT&&(l=a.RGBA16I),i===a.INT&&(l=a.RGBA32I)),t===a.DEPTH_COMPONENT&&(i===a.UNSIGNED_SHORT&&(l=a.DEPTH_COMPONENT16),i===a.UNSIGNED_INT&&(l=a.DEPTH_COMPONENT24),i===a.FLOAT&&(l=a.DEPTH_COMPONENT32F)),t===a.DEPTH_STENCIL&&i===a.UNSIGNED_INT_24_8&&(l=a.DEPTH24_STENCIL8),(l===a.R16F||l===a.R32F||l===a.RG16F||l===a.RG32F||l===a.RGBA16F||l===a.RGBA32F)&&o.get("EXT_color_buffer_float"),l}setTextureParameters(e,t){const{gl:i,extensions:r,backend:s}=this,a=wn.getPrimaries(wn.workingColorSpace),o=t.colorSpace===no?null:wn.getPrimaries(t.colorSpace),l=t.colorSpace===no||a===o?i.NONE:i.BROWSER_DEFAULT_WEBGL;i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,t.flipY),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),i.pixelStorei(i.UNPACK_ALIGNMENT,t.unpackAlignment),i.pixelStorei(i.UNPACK_COLORSPACE_CONVERSION_WEBGL,l),i.texParameteri(e,i.TEXTURE_WRAP_S,gv[t.wrapS]),i.texParameteri(e,i.TEXTURE_WRAP_T,gv[t.wrapT]),(e===i.TEXTURE_3D||e===i.TEXTURE_2D_ARRAY)&&(t.isArrayTexture||i.texParameteri(e,i.TEXTURE_WRAP_R,gv[t.wrapR])),i.texParameteri(e,i.TEXTURE_MAG_FILTER,_w[t.magFilter]);const u=t.mipmaps!==void 0&&t.mipmaps.length>0,c=t.minFilter===dr&&u?Fa:t.minFilter;if(i.texParameteri(e,i.TEXTURE_MIN_FILTER,_w[c]),t.compareFunction&&(i.texParameteri(e,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE),i.texParameteri(e,i.TEXTURE_COMPARE_FUNC,aq[t.compareFunction])),r.has("EXT_texture_filter_anisotropic")===!0){if(t.magFilter===fr||t.minFilter!==Au&&t.minFilter!==Fa||t.type===Mr&&r.has("OES_texture_float_linear")===!1)return;if(t.anisotropy>1){const f=r.get("EXT_texture_filter_anisotropic");i.texParameterf(e,f.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,s.getMaxAnisotropy()))}}}createDefaultTexture(e){const{gl:t,backend:i,defaultTextures:r}=this,s=this.getGLTextureType(e);let a=r[s];a===void 0&&(a=t.createTexture(),i.state.bindTexture(s,a),t.texParameteri(s,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(s,t.TEXTURE_MAG_FILTER,t.NEAREST),r[s]=a),i.set(e,{textureGPU:a,glTextureType:s,isDefault:!0})}createTexture(e,t){const{gl:i,backend:r}=this,{levels:s,width:a,height:o,depth:l}=t,u=r.utils.convert(e.format,e.colorSpace),c=r.utils.convert(e.type),f=this.getInternalFormat(e.internalFormat,u,c,e.colorSpace,e.isVideoTexture),m=i.createTexture(),v=this.getGLTextureType(e);r.state.bindTexture(v,m),this.setTextureParameters(v,e),e.isArrayTexture||e.isDataArrayTexture||e.isCompressedArrayTexture?i.texStorage3D(i.TEXTURE_2D_ARRAY,s,f,a,o,l):e.isData3DTexture?i.texStorage3D(i.TEXTURE_3D,s,f,a,o,l):e.isVideoTexture||i.texStorage2D(v,s,f,a,o),r.set(e,{textureGPU:m,glTextureType:v,glFormat:u,glType:c,glInternalFormat:f})}copyBufferToTexture(e,t){const{gl:i,backend:r}=this,{textureGPU:s,glTextureType:a,glFormat:o,glType:l}=r.get(t),{width:u,height:c}=t.source.data;i.bindBuffer(i.PIXEL_UNPACK_BUFFER,e),r.state.bindTexture(a,s),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!1),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),i.texSubImage2D(a,0,0,0,u,c,o,l,0),i.bindBuffer(i.PIXEL_UNPACK_BUFFER,null),r.state.unbindTexture()}updateTexture(e,t){const{gl:i}=this,{width:r,height:s}=t,{textureGPU:a,glTextureType:o,glFormat:l,glType:u,glInternalFormat:c}=this.backend.get(e);if(!(e.isRenderTargetTexture||a===void 0))if(this.backend.state.bindTexture(o,a),this.setTextureParameters(o,e),e.isCompressedTexture){const f=e.mipmaps,m=t.image;for(let v=0;v<f.length;v++){const _=f[v];e.isCompressedArrayTexture?e.format!==i.RGBA?l!==null?i.compressedTexSubImage3D(i.TEXTURE_2D_ARRAY,v,0,0,0,_.width,_.height,m.depth,l,_.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):i.texSubImage3D(i.TEXTURE_2D_ARRAY,v,0,0,0,_.width,_.height,m.depth,l,u,_.data):l!==null?i.compressedTexSubImage2D(i.TEXTURE_2D,v,0,0,_.width,_.height,l,_.data):console.warn("Unsupported compressed texture format")}}else if(e.isCubeTexture){const f=t.images;for(let m=0;m<6;m++){const v=oq(f[m]);i.texSubImage2D(i.TEXTURE_CUBE_MAP_POSITIVE_X+m,0,0,0,r,s,l,u,v)}}else if(e.isDataArrayTexture||e.isArrayTexture){const f=t.image;i.texSubImage3D(i.TEXTURE_2D_ARRAY,0,0,0,0,f.width,f.height,f.depth,l,u,f.data)}else if(e.isData3DTexture){const f=t.image;i.texSubImage3D(i.TEXTURE_3D,0,0,0,0,f.width,f.height,f.depth,l,u,f.data)}else if(e.isVideoTexture)e.update(),i.texImage2D(o,0,c,l,u,t.image);else{const f=oq(t.image);i.texSubImage2D(o,0,0,0,r,s,l,u,f)}}generateMipmaps(e){const{gl:t,backend:i}=this,{textureGPU:r,glTextureType:s}=i.get(e);i.state.bindTexture(s,r),t.generateMipmap(s)}deallocateRenderBuffers(e){const{gl:t,backend:i}=this;if(e){const r=i.get(e);if(r.renderBufferStorageSetup=void 0,r.framebuffers){for(const s in r.framebuffers)t.deleteFramebuffer(r.framebuffers[s]);delete r.framebuffers}if(r.depthRenderbuffer&&(t.deleteRenderbuffer(r.depthRenderbuffer),delete r.depthRenderbuffer),r.stencilRenderbuffer&&(t.deleteRenderbuffer(r.stencilRenderbuffer),delete r.stencilRenderbuffer),r.msaaFrameBuffer&&(t.deleteFramebuffer(r.msaaFrameBuffer),delete r.msaaFrameBuffer),r.msaaRenderbuffers){for(let s=0;s<r.msaaRenderbuffers.length;s++)t.deleteRenderbuffer(r.msaaRenderbuffers[s]);delete r.msaaRenderbuffers}}}destroyTexture(e){const{gl:t,backend:i}=this,{textureGPU:r,renderTarget:s}=i.get(e);this.deallocateRenderBuffers(s),t.deleteTexture(r),i.delete(e)}copyTextureToTexture(e,t,i=null,r=null,s=0,a=0){const{gl:o,backend:l}=this,{state:u}=this.backend,{textureGPU:c,glTextureType:f,glType:m,glFormat:v}=l.get(t);u.bindTexture(f,c);let _,T,M,S,R,C,P,B,O;const V=e.isCompressedTexture?e.mipmaps[a]:e.image;if(i!==null)_=i.max.x-i.min.x,T=i.max.y-i.min.y,M=i.isBox3?i.max.z-i.min.z:1,S=i.min.x,R=i.min.y,C=i.isBox3?i.min.z:0;else{const ae=Math.pow(2,-s);_=Math.floor(V.width*ae),T=Math.floor(V.height*ae),e.isDataArrayTexture||e.isArrayTexture?M=V.depth:e.isData3DTexture?M=Math.floor(V.depth*ae):M=1,S=0,R=0,C=0}r!==null?(P=r.x,B=r.y,O=r.z):(P=0,B=0,O=0),o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,t.flipY),o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),o.pixelStorei(o.UNPACK_ALIGNMENT,t.unpackAlignment);const F=o.getParameter(o.UNPACK_ROW_LENGTH),z=o.getParameter(o.UNPACK_IMAGE_HEIGHT),k=o.getParameter(o.UNPACK_SKIP_PIXELS),H=o.getParameter(o.UNPACK_SKIP_ROWS),Z=o.getParameter(o.UNPACK_SKIP_IMAGES);o.pixelStorei(o.UNPACK_ROW_LENGTH,V.width),o.pixelStorei(o.UNPACK_IMAGE_HEIGHT,V.height),o.pixelStorei(o.UNPACK_SKIP_PIXELS,S),o.pixelStorei(o.UNPACK_SKIP_ROWS,R),o.pixelStorei(o.UNPACK_SKIP_IMAGES,C);const $=t.isDataArrayTexture||t.isData3DTexture||t.isArrayTexture;if(e.isRenderTargetTexture||e.isDepthTexture){const ae=l.get(e),ne=l.get(t),Y=l.get(ae.renderTarget),ee=l.get(ne.renderTarget),Q=Y.framebuffers[ae.cacheKey],fe=ee.framebuffers[ne.cacheKey];u.bindFramebuffer(o.READ_FRAMEBUFFER,Q),u.bindFramebuffer(o.DRAW_FRAMEBUFFER,fe);let ge=o.COLOR_BUFFER_BIT;e.isDepthTexture&&(ge=o.DEPTH_BUFFER_BIT),o.blitFramebuffer(S,R,_,T,P,B,_,T,ge,o.NEAREST),u.bindFramebuffer(o.READ_FRAMEBUFFER,null),u.bindFramebuffer(o.DRAW_FRAMEBUFFER,null)}else $?e.isDataTexture||e.isData3DTexture?o.texSubImage3D(f,a,P,B,O,_,T,M,v,m,V.data):t.isCompressedArrayTexture?o.compressedTexSubImage3D(f,a,P,B,O,_,T,M,v,V.data):o.texSubImage3D(f,a,P,B,O,_,T,M,v,m,V):e.isDataTexture?o.texSubImage2D(f,a,P,B,_,T,v,m,V.data):e.isCompressedTexture?o.compressedTexSubImage2D(f,a,P,B,V.width,V.height,v,V.data):o.texSubImage2D(f,a,P,B,_,T,v,m,V);o.pixelStorei(o.UNPACK_ROW_LENGTH,F),o.pixelStorei(o.UNPACK_IMAGE_HEIGHT,z),o.pixelStorei(o.UNPACK_SKIP_PIXELS,k),o.pixelStorei(o.UNPACK_SKIP_ROWS,H),o.pixelStorei(o.UNPACK_SKIP_IMAGES,Z),a===0&&t.generateMipmaps&&o.generateMipmap(f),u.unbindTexture()}copyFramebufferToTexture(e,t,i){const{gl:r}=this,{state:s}=this.backend,{textureGPU:a}=this.backend.get(e),{x:o,y:l,z:u,w:c}=i,f=e.isDepthTexture===!0||t.renderTarget&&t.renderTarget.samples>0,m=t.renderTarget?t.renderTarget.height:this.backend.getDrawingBufferSize().y;if(f){const v=o!==0||l!==0;let _,T;if(e.isDepthTexture===!0?(_=r.DEPTH_BUFFER_BIT,T=r.DEPTH_ATTACHMENT,t.stencil&&(_|=r.STENCIL_BUFFER_BIT)):(_=r.COLOR_BUFFER_BIT,T=r.COLOR_ATTACHMENT0),v){const M=this.backend.get(t.renderTarget),S=M.framebuffers[t.getCacheKey()],R=M.msaaFrameBuffer;s.bindFramebuffer(r.DRAW_FRAMEBUFFER,S),s.bindFramebuffer(r.READ_FRAMEBUFFER,R);const C=m-l-c;r.blitFramebuffer(o,C,o+u,C+c,o,C,o+u,C+c,_,r.NEAREST),s.bindFramebuffer(r.READ_FRAMEBUFFER,S),s.bindTexture(r.TEXTURE_2D,a),r.copyTexSubImage2D(r.TEXTURE_2D,0,0,0,o,C,u,c),s.unbindTexture()}else{const M=r.createFramebuffer();s.bindFramebuffer(r.DRAW_FRAMEBUFFER,M),r.framebufferTexture2D(r.DRAW_FRAMEBUFFER,T,r.TEXTURE_2D,a,0),r.blitFramebuffer(0,0,u,c,0,0,u,c,_,r.NEAREST),r.deleteFramebuffer(M)}}else s.bindTexture(r.TEXTURE_2D,a),r.copyTexSubImage2D(r.TEXTURE_2D,0,0,0,o,m-c-l,u,c),s.unbindTexture();e.generateMipmaps&&this.generateMipmaps(e),this.backend._setFramebuffer(t)}setupRenderBufferStorage(e,t,i,r=!1){const{gl:s}=this,a=t.renderTarget,{depthTexture:o,depthBuffer:l,stencilBuffer:u,width:c,height:f}=a;if(s.bindRenderbuffer(s.RENDERBUFFER,e),l&&!u){let m=s.DEPTH_COMPONENT24;r===!0?this.extensions.get("WEBGL_multisampled_render_to_texture").renderbufferStorageMultisampleEXT(s.RENDERBUFFER,a.samples,m,c,f):i>0?(o&&o.isDepthTexture&&o.type===s.FLOAT&&(m=s.DEPTH_COMPONENT32F),s.renderbufferStorageMultisample(s.RENDERBUFFER,i,m,c,f)):s.renderbufferStorage(s.RENDERBUFFER,m,c,f),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_ATTACHMENT,s.RENDERBUFFER,e)}else l&&u&&(i>0?s.renderbufferStorageMultisample(s.RENDERBUFFER,i,s.DEPTH24_STENCIL8,c,f):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,c,f),s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,e));s.bindRenderbuffer(s.RENDERBUFFER,null)}async copyTextureToBuffer(e,t,i,r,s,a){const{backend:o,gl:l}=this,{textureGPU:u,glFormat:c,glType:f}=this.backend.get(e),m=l.createFramebuffer();l.bindFramebuffer(l.READ_FRAMEBUFFER,m);const v=e.isCubeTexture?l.TEXTURE_CUBE_MAP_POSITIVE_X+a:l.TEXTURE_2D;l.framebufferTexture2D(l.READ_FRAMEBUFFER,l.COLOR_ATTACHMENT0,v,u,0);const _=this._getTypedArrayType(f),T=this._getBytesPerTexel(f,c),S=r*s*T,R=l.createBuffer();l.bindBuffer(l.PIXEL_PACK_BUFFER,R),l.bufferData(l.PIXEL_PACK_BUFFER,S,l.STREAM_READ),l.readPixels(t,i,r,s,c,f,0),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),await o.utils._clientWaitAsync();const C=new _(S/_.BYTES_PER_ELEMENT);return l.bindBuffer(l.PIXEL_PACK_BUFFER,R),l.getBufferSubData(l.PIXEL_PACK_BUFFER,0,C),l.bindBuffer(l.PIXEL_PACK_BUFFER,null),l.deleteFramebuffer(m),C}_getTypedArrayType(e){const{gl:t}=this;if(e===t.UNSIGNED_BYTE)return Uint8Array;if(e===t.UNSIGNED_SHORT_4_4_4_4||e===t.UNSIGNED_SHORT_5_5_5_1||e===t.UNSIGNED_SHORT_5_6_5||e===t.UNSIGNED_SHORT)return Uint16Array;if(e===t.UNSIGNED_INT)return Uint32Array;if(e===t.HALF_FLOAT)return Uint16Array;if(e===t.FLOAT)return Float32Array;throw new Error(`Unsupported WebGL type: ${e}`)}_getBytesPerTexel(e,t){const{gl:i}=this;let r=0;if(e===i.UNSIGNED_BYTE&&(r=1),(e===i.UNSIGNED_SHORT_4_4_4_4||e===i.UNSIGNED_SHORT_5_5_5_1||e===i.UNSIGNED_SHORT_5_6_5||e===i.UNSIGNED_SHORT||e===i.HALF_FLOAT)&&(r=2),(e===i.UNSIGNED_INT||e===i.FLOAT)&&(r=4),t===i.RGBA)return r*4;if(t===i.RGB)return r*3;if(t===i.ALPHA)return r}}function oq(n){return n.isDataTexture?n.image.data:typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?n:n.data}class PCe{constructor(e){this.backend=e,this.gl=this.backend.gl,this.availableExtensions=this.gl.getSupportedExtensions(),this.extensions={}}get(e){let t=this.extensions[e];return t===void 0&&(t=this.gl.getExtension(e),this.extensions[e]=t),t}has(e){return this.availableExtensions.includes(e)}}class LCe{constructor(e){this.backend=e,this.maxAnisotropy=null}getMaxAnisotropy(){if(this.maxAnisotropy!==null)return this.maxAnisotropy;const e=this.backend.gl,t=this.backend.extensions;if(t.has("EXT_texture_filter_anisotropic")===!0){const i=t.get("EXT_texture_filter_anisotropic");this.maxAnisotropy=e.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else this.maxAnisotropy=0;return this.maxAnisotropy}}const lq={WEBGL_multi_draw:"WEBGL_multi_draw",WEBGL_compressed_texture_astc:"texture-compression-astc",WEBGL_compressed_texture_etc:"texture-compression-etc2",WEBGL_compressed_texture_etc1:"texture-compression-etc1",WEBGL_compressed_texture_pvrtc:"texture-compression-pvrtc",WEBKIT_WEBGL_compressed_texture_pvrtc:"texture-compression-pvrtc",WEBGL_compressed_texture_s3tc:"texture-compression-bc",EXT_texture_compression_bptc:"texture-compression-bptc",EXT_disjoint_timer_query_webgl2:"timestamp-query",OVR_multiview2:"OVR_multiview2"};class BCe{constructor(e){this.gl=e.gl,this.extensions=e.extensions,this.info=e.renderer.info,this.mode=null,this.index=0,this.type=null,this.object=null}render(e,t){const{gl:i,mode:r,object:s,type:a,info:o,index:l}=this;l!==0?i.drawElements(r,t,a,e):i.drawArrays(r,e,t),o.update(s,t,1)}renderInstances(e,t,i){const{gl:r,mode:s,type:a,index:o,object:l,info:u}=this;i!==0&&(o!==0?r.drawElementsInstanced(s,t,a,e,i):r.drawArraysInstanced(s,e,t,i),u.update(l,t,i))}renderMultiDraw(e,t,i){const{extensions:r,mode:s,object:a,info:o}=this;if(i===0)return;const l=r.get("WEBGL_multi_draw");if(l===null)for(let u=0;u<i;u++)this.render(e[u],t[u]);else{this.index!==0?l.multiDrawElementsWEBGL(s,t,0,this.type,e,0,i):l.multiDrawArraysWEBGL(s,e,0,t,0,i);let u=0;for(let c=0;c<i;c++)u+=t[c];o.update(a,u,1)}}renderMultiDrawInstances(e,t,i,r){const{extensions:s,mode:a,object:o,info:l}=this;if(i===0)return;const u=s.get("WEBGL_multi_draw");if(u===null)for(let c=0;c<i;c++)this.renderInstances(e[c],t[c],r[c]);else{this.index!==0?u.multiDrawElementsInstancedWEBGL(a,t,0,this.type,e,0,r,0,i):u.multiDrawArraysInstancedWEBGL(a,e,0,t,0,r,0,i);let c=0;for(let f=0;f<i;f++)c+=t[f]*r[f];l.update(o,c,1)}}}class One{constructor(e=256){this.trackTimestamp=!0,this.maxQueries=e,this.currentQueryIndex=0,this.queryOffsets=new Map,this.isDisposed=!1,this.lastValue=0,this.pendingResolve=!1}allocateQueriesForContext(){}async resolveQueriesAsync(){}dispose(){}}class UCe extends One{constructor(e,t,i=2048){if(super(i),this.gl=e,this.type=t,this.ext=e.getExtension("EXT_disjoint_timer_query_webgl2")||e.getExtension("EXT_disjoint_timer_query"),!this.ext){console.warn("EXT_disjoint_timer_query not supported; timestamps will be disabled."),this.trackTimestamp=!1;return}this.queries=[];for(let r=0;r<this.maxQueries;r++)this.queries.push(e.createQuery());this.activeQuery=null,this.queryStates=new Map}allocateQueriesForContext(e){if(!this.trackTimestamp)return null;if(this.currentQueryIndex+2>this.maxQueries)return jl(`WebGPUTimestampQueryPool [${this.type}]: Maximum number of queries exceeded, when using trackTimestamp it is necessary to resolves the queries via renderer.resolveTimestampsAsync( THREE.TimestampQuery.${this.type.toUpperCase()} ).`),null;const t=this.currentQueryIndex;return this.currentQueryIndex+=2,this.queryStates.set(t,"inactive"),this.queryOffsets.set(e.id,t),t}beginQuery(e){if(!this.trackTimestamp||this.isDisposed)return;const t=this.queryOffsets.get(e.id);if(t==null||this.activeQuery!==null)return;const i=this.queries[t];if(i)try{this.queryStates.get(t)==="inactive"&&(this.gl.beginQuery(this.ext.TIME_ELAPSED_EXT,i),this.activeQuery=t,this.queryStates.set(t,"started"))}catch(r){console.error("Error in beginQuery:",r),this.activeQuery=null,this.queryStates.set(t,"inactive")}}endQuery(e){if(!this.trackTimestamp||this.isDisposed)return;const t=this.queryOffsets.get(e.id);if(t!=null&&this.activeQuery===t)try{this.gl.endQuery(this.ext.TIME_ELAPSED_EXT),this.queryStates.set(t,"ended"),this.activeQuery=null}catch(i){console.error("Error in endQuery:",i),this.queryStates.set(t,"inactive"),this.activeQuery=null}}async resolveQueriesAsync(){if(!this.trackTimestamp||this.pendingResolve)return this.lastValue;this.pendingResolve=!0;try{const e=[];for(const[r,s]of this.queryStates)if(s==="ended"){const a=this.queries[r];e.push(this.resolveQuery(a))}if(e.length===0)return this.lastValue;const i=(await Promise.all(e)).reduce((r,s)=>r+s,0);return this.lastValue=i,this.currentQueryIndex=0,this.queryOffsets.clear(),this.queryStates.clear(),this.activeQuery=null,i}catch(e){return console.error("Error resolving queries:",e),this.lastValue}finally{this.pendingResolve=!1}}async resolveQuery(e){return new Promise(t=>{if(this.isDisposed){t(this.lastValue);return}let i,r=!1;const s=()=>{i&&(clearTimeout(i),i=null)},a=l=>{r||(r=!0,s(),t(l))},o=()=>{if(this.isDisposed){a(this.lastValue);return}try{if(this.gl.getParameter(this.ext.GPU_DISJOINT_EXT)){a(this.lastValue);return}if(!this.gl.getQueryParameter(e,this.gl.QUERY_RESULT_AVAILABLE)){i=setTimeout(o,1);return}const c=this.gl.getQueryParameter(e,this.gl.QUERY_RESULT);t(Number(c)/1e6)}catch(l){console.error("Error checking query:",l),t(this.lastValue)}};o()})}dispose(){if(!this.isDisposed&&(this.isDisposed=!0,!!this.trackTimestamp)){for(const e of this.queries)this.gl.deleteQuery(e);this.queries=[],this.queryStates.clear(),this.queryOffsets.clear(),this.lastValue=0,this.activeQuery=null}}}const uq=new Ye;class cq extends Une{constructor(e={}){super(e),this.isWebGLBackend=!0,this.attributeUtils=null,this.extensions=null,this.capabilities=null,this.textureUtils=null,this.bufferRenderer=null,this.gl=null,this.state=null,this.utils=null,this.vaoCache={},this.transformFeedbackCache={},this.discard=!1,this.disjoint=null,this.parallel=null,this._currentContext=null,this._knownBindings=new WeakSet,this._supportsInvalidateFramebuffer=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),this._xrFramebuffer=null}init(e){super.init(e);const t=this.parameters,i={antialias:e.samples>0,alpha:!0,depth:e.depth,stencil:e.stencil},r=t.context!==void 0?t.context:e.domElement.getContext("webgl2",i);function s(a){a.preventDefault();const o={api:"WebGL",message:a.statusMessage||"Unknown reason",reason:null,originalEvent:a};e.onDeviceLost(o)}this._onContextLost=s,e.domElement.addEventListener("webglcontextlost",s,!1),this.gl=r,this.extensions=new PCe(this),this.capabilities=new LCe(this),this.attributeUtils=new RCe(this),this.textureUtils=new DCe(this),this.bufferRenderer=new BCe(this),this.state=new CCe(this),this.utils=new NCe(this),this.extensions.get("EXT_color_buffer_float"),this.extensions.get("WEBGL_clip_cull_distance"),this.extensions.get("OES_texture_float_linear"),this.extensions.get("EXT_color_buffer_half_float"),this.extensions.get("WEBGL_multisampled_render_to_texture"),this.extensions.get("WEBGL_render_shared_exponent"),this.extensions.get("WEBGL_multi_draw"),this.extensions.get("OVR_multiview2"),this.disjoint=this.extensions.get("EXT_disjoint_timer_query_webgl2"),this.parallel=this.extensions.get("KHR_parallel_shader_compile")}get coordinateSystem(){return za}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}async waitForGPU(){await this.utils._clientWaitAsync()}async makeXRCompatible(){this.gl.getContextAttributes().xrCompatible!==!0&&await this.gl.makeXRCompatible()}setXRTarget(e){this._xrFramebuffer=e}setXRRenderTargetTextures(e,t,i=null){const r=this.gl;if(this.set(e.texture,{textureGPU:t,glInternalFormat:r.RGBA8}),i!==null){const s=e.stencilBuffer?r.DEPTH24_STENCIL8:r.DEPTH_COMPONENT24;this.set(e.depthTexture,{textureGPU:i,glInternalFormat:s}),this.extensions.has("WEBGL_multisampled_render_to_texture")===!0&&e._autoAllocateDepthBuffer===!0&&e.multiview===!1&&console.warn("THREE.WebGLBackend: Render-to-texture extension was disabled because an external texture was provided"),e._autoAllocateDepthBuffer=!1}}initTimestampQuery(e){if(!this.disjoint||!this.trackTimestamp)return;const t=e.isComputeNode?"compute":"render";this.timestampQueryPool[t]||(this.timestampQueryPool[t]=new UCe(this.gl,t,2048));const i=this.timestampQueryPool[t];i.allocateQueriesForContext(e)!==null&&i.beginQuery(e)}prepareTimestampBuffer(e){if(!this.disjoint||!this.trackTimestamp)return;const t=e.isComputeNode?"compute":"render";this.timestampQueryPool[t].endQuery(e)}getContext(){return this.gl}beginRender(e){const{state:t}=this,i=this.get(e);if(e.viewport)this.updateViewport(e);else{const{width:s,height:a}=this.getDrawingBufferSize(uq);t.viewport(0,0,s,a)}if(e.scissor){const{x:s,y:a,width:o,height:l}=e.scissorValue;t.scissor(s,e.height-l-a,o,l)}this.initTimestampQuery(e),i.previousContext=this._currentContext,this._currentContext=e,this._setFramebuffer(e),this.clear(e.clearColor,e.clearDepth,e.clearStencil,e,!1);const r=e.occlusionQueryCount;r>0&&(i.currentOcclusionQueries=i.occlusionQueries,i.currentOcclusionQueryObjects=i.occlusionQueryObjects,i.lastOcclusionObject=null,i.occlusionQueries=new Array(r),i.occlusionQueryObjects=new Array(r),i.occlusionQueryIndex=0)}finishRender(e){const{gl:t,state:i}=this,r=this.get(e),s=r.previousContext;i.resetVertexState();const a=e.occlusionQueryCount;a>0&&(a>r.occlusionQueryIndex&&t.endQuery(t.ANY_SAMPLES_PASSED),this.resolveOccludedAsync(e));const o=e.textures;if(o!==null)for(let u=0;u<o.length;u++){const c=o[u];c.generateMipmaps&&this.generateMipmaps(c)}this._currentContext=s;const l=e.renderTarget;if(e.textures!==null&&l){const u=this.get(l);if(l.samples>0&&this._useMultisampledExtension(l)===!1){const c=u.framebuffers[e.getCacheKey()];let f=t.COLOR_BUFFER_BIT;l.resolveDepthBuffer&&(l.depthBuffer&&(f|=t.DEPTH_BUFFER_BIT),l.stencilBuffer&&l.resolveStencilBuffer&&(f|=t.STENCIL_BUFFER_BIT));const m=u.msaaFrameBuffer,v=u.msaaRenderbuffers,_=e.textures,T=_.length>1;if(i.bindFramebuffer(t.READ_FRAMEBUFFER,m),i.bindFramebuffer(t.DRAW_FRAMEBUFFER,c),T)for(let M=0;M<_.length;M++)t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0+M,t.RENDERBUFFER,null),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+M,t.TEXTURE_2D,null,0);for(let M=0;M<_.length;M++){if(T){const{textureGPU:S}=this.get(_[M]);t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,v[M]),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,S,0)}if(e.scissor){const{x:S,y:R,width:C,height:P}=e.scissorValue,B=e.height-P-R;t.blitFramebuffer(S,B,S+C,B+P,S,B,S+C,B+P,f,t.NEAREST)}else t.blitFramebuffer(0,0,e.width,e.height,0,0,e.width,e.height,f,t.NEAREST)}if(T)for(let M=0;M<_.length;M++){const{textureGPU:S}=this.get(_[M]);t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0+M,t.RENDERBUFFER,v[M]),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+M,t.TEXTURE_2D,S,0)}this._supportsInvalidateFramebuffer===!0&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,u.invalidationArray)}else if(l.resolveDepthBuffer===!1&&u.framebuffers){const c=u.framebuffers[e.getCacheKey()];i.bindFramebuffer(t.DRAW_FRAMEBUFFER,c),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,u.depthInvalidationArray)}}if(s!==null)if(this._setFramebuffer(s),s.viewport)this.updateViewport(s);else{const{width:u,height:c}=this.getDrawingBufferSize(uq);i.viewport(0,0,u,c)}this.prepareTimestampBuffer(e)}resolveOccludedAsync(e){const t=this.get(e),{currentOcclusionQueries:i,currentOcclusionQueryObjects:r}=t;if(i&&r){const s=new WeakSet,{gl:a}=this;t.currentOcclusionQueryObjects=null,t.currentOcclusionQueries=null;const o=()=>{let l=0;for(let u=0;u<i.length;u++){const c=i[u];c!==null&&a.getQueryParameter(c,a.QUERY_RESULT_AVAILABLE)&&(a.getQueryParameter(c,a.QUERY_RESULT)===0&&s.add(r[u]),i[u]=null,a.deleteQuery(c),l++)}l<i.length?requestAnimationFrame(o):t.occluded=s};o()}}isOccluded(e,t){const i=this.get(e);return i.occluded&&i.occluded.has(t)}updateViewport(e){const{state:t}=this,{x:i,y:r,width:s,height:a}=e.viewportValue;t.viewport(i,e.height-a-r,s,a)}setScissorTest(e){this.state.setScissorTest(e)}getClearColor(){const e=super.getClearColor();return e.r*=e.a,e.g*=e.a,e.b*=e.a,e}clear(e,t,i,r=null,s=!0){const{gl:a,renderer:o}=this;r===null&&(r={textures:null,clearColorValue:this.getClearColor()});let l=0;if(e&&(l|=a.COLOR_BUFFER_BIT),t&&(l|=a.DEPTH_BUFFER_BIT),i&&(l|=a.STENCIL_BUFFER_BIT),l!==0){let u;r.clearColorValue?u=r.clearColorValue:u=this.getClearColor();const c=o.getClearDepth(),f=o.getClearStencil();if(t&&this.state.setDepthMask(!0),r.textures===null)a.clearColor(u.r,u.g,u.b,u.a),a.clear(l);else{if(s&&this._setFramebuffer(r),e)for(let m=0;m<r.textures.length;m++)m===0?a.clearBufferfv(a.COLOR,m,[u.r,u.g,u.b,u.a]):a.clearBufferfv(a.COLOR,m,[0,0,0,1]);t&&i?a.clearBufferfi(a.DEPTH_STENCIL,0,c,f):t?a.clearBufferfv(a.DEPTH,0,[c]):i&&a.clearBufferiv(a.STENCIL,0,[f])}}}beginCompute(e){const{state:t,gl:i}=this;t.bindFramebuffer(i.FRAMEBUFFER,null),this.initTimestampQuery(e)}compute(e,t,i,r){const{state:s,gl:a}=this;this.discard===!1&&(a.enable(a.RASTERIZER_DISCARD),this.discard=!0);const{programGPU:o,transformBuffers:l,attributes:u}=this.get(r),c=this._getVaoKey(u),f=this.vaoCache[c];f===void 0?this.vaoCache[c]=this._createVao(u):s.setVertexState(f),s.useProgram(o),this._bindUniforms(i);const m=this._getTransformFeedback(l);a.bindTransformFeedback(a.TRANSFORM_FEEDBACK,m),a.beginTransformFeedback(a.POINTS),u[0].isStorageInstancedBufferAttribute?a.drawArraysInstanced(a.POINTS,0,1,t.count):a.drawArrays(a.POINTS,0,t.count),a.endTransformFeedback(),a.bindTransformFeedback(a.TRANSFORM_FEEDBACK,null);for(let v=0;v<l.length;v++){const _=l[v];_.pbo&&this.has(_.pbo)&&this.textureUtils.copyBufferToTexture(_.transformBuffer,_.pbo),_.switchBuffers()}}finishCompute(e){const t=this.gl;this.discard=!1,t.disable(t.RASTERIZER_DISCARD),this.prepareTimestampBuffer(e),this._currentContext&&this._setFramebuffer(this._currentContext)}_isRenderCameraDepthArray(e){return e.depthTexture&&e.depthTexture.isArrayTexture&&e.camera.isArrayCamera}draw(e){const{object:t,pipeline:i,material:r,context:s,hardwareClippingPlanes:a}=e,{programGPU:o}=this.get(i),{gl:l,state:u}=this,c=this.get(s),f=e.getDrawParameters();if(f===null)return;this._bindUniforms(e.getBindings());const m=t.isMesh&&t.matrixWorld.determinant()<0;u.setMaterial(r,m,a),u.useProgram(o);const v=e.getAttributes(),_=this.get(v);let T=_.vaoGPU;if(T===void 0){const F=this._getVaoKey(v);T=this.vaoCache[F],T===void 0&&(T=this._createVao(v),this.vaoCache[F]=T,_.vaoGPU=T)}const M=e.getIndex(),S=M!==null?this.get(M).bufferGPU:null;u.setVertexState(T,S);const R=c.lastOcclusionObject;if(R!==t&&R!==void 0){if(R!==null&&R.occlusionTest===!0&&(l.endQuery(l.ANY_SAMPLES_PASSED),c.occlusionQueryIndex++),t.occlusionTest===!0){const F=l.createQuery();l.beginQuery(l.ANY_SAMPLES_PASSED,F),c.occlusionQueries[c.occlusionQueryIndex]=F,c.occlusionQueryObjects[c.occlusionQueryIndex]=t}c.lastOcclusionObject=t}const C=this.bufferRenderer;t.isPoints?C.mode=l.POINTS:t.isLineSegments?C.mode=l.LINES:t.isLine?C.mode=l.LINE_STRIP:t.isLineLoop?C.mode=l.LINE_LOOP:r.wireframe===!0?(u.setLineWidth(r.wireframeLinewidth*this.renderer.getPixelRatio()),C.mode=l.LINES):C.mode=l.TRIANGLES;const{vertexCount:P,instanceCount:B}=f;let{firstVertex:O}=f;if(C.object=t,M!==null){O*=M.array.BYTES_PER_ELEMENT;const F=this.get(M);C.index=M.count,C.type=F.type}else C.index=0;const V=()=>{t.isBatchedMesh?t._multiDrawInstances!==null?(jl("THREE.WebGLBackend: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),C.renderMultiDrawInstances(t._multiDrawStarts,t._multiDrawCounts,t._multiDrawCount,t._multiDrawInstances)):this.hasFeature("WEBGL_multi_draw")?C.renderMultiDraw(t._multiDrawStarts,t._multiDrawCounts,t._multiDrawCount):jl("THREE.WebGLRenderer: WEBGL_multi_draw not supported."):B>1?C.renderInstances(O,P,B):C.render(O,P)};if(e.camera.isArrayCamera===!0&&e.camera.cameras.length>0&&e.camera.isMultiViewCamera===!1){const F=this.get(e.camera),z=e.camera.cameras,k=e.getBindingGroup("cameraIndex").bindings[0];if(F.indexesGPU===void 0||F.indexesGPU.length!==z.length){const Y=new Uint32Array([0,0,0,0]),ee=[];for(let Q=0,fe=z.length;Q<fe;Q++){const ge=l.createBuffer();Y[0]=Q,l.bindBuffer(l.UNIFORM_BUFFER,ge),l.bufferData(l.UNIFORM_BUFFER,Y,l.STATIC_DRAW),ee.push(ge)}F.indexesGPU=ee}const H=this.get(k),Z=this.renderer.getPixelRatio(),$=this._currentContext.renderTarget,ae=this._isRenderCameraDepthArray(this._currentContext),ne=this._currentContext.activeCubeFace;if(ae){const Y=this.get($.depthTexture);if(Y.clearedRenderId!==this.renderer._nodes.nodeFrame.renderId){Y.clearedRenderId=this.renderer._nodes.nodeFrame.renderId;const{stencilBuffer:ee}=$;for(let Q=0,fe=z.length;Q<fe;Q++)this.renderer._activeCubeFace=Q,this._currentContext.activeCubeFace=Q,this._setFramebuffer(this._currentContext),this.clear(!1,!0,ee,this._currentContext,!1);this.renderer._activeCubeFace=ne,this._currentContext.activeCubeFace=ne}}for(let Y=0,ee=z.length;Y<ee;Y++){const Q=z[Y];if(t.layers.test(Q.layers)){ae&&(this.renderer._activeCubeFace=Y,this._currentContext.activeCubeFace=Y,this._setFramebuffer(this._currentContext));const fe=Q.viewport;if(fe!==void 0){const ge=fe.x*Z,Re=fe.y*Z,Ge=fe.width*Z,We=fe.height*Z;u.viewport(Math.floor(ge),Math.floor(e.context.height-We-Re),Math.floor(Ge),Math.floor(We))}u.bindBufferBase(l.UNIFORM_BUFFER,H.index,F.indexesGPU[Y]),V()}this._currentContext.activeCubeFace=ne,this.renderer._activeCubeFace=ne}}else V()}needsRenderUpdate(){return!1}getRenderCacheKey(){return""}createDefaultTexture(e){this.textureUtils.createDefaultTexture(e)}createTexture(e,t){this.textureUtils.createTexture(e,t)}updateTexture(e,t){this.textureUtils.updateTexture(e,t)}generateMipmaps(e){this.textureUtils.generateMipmaps(e)}destroyTexture(e){this.textureUtils.destroyTexture(e)}async copyTextureToBuffer(e,t,i,r,s,a){return this.textureUtils.copyTextureToBuffer(e,t,i,r,s,a)}createSampler(){}destroySampler(){}createNodeBuilder(e,t){return new MCe(e,t)}createProgram(e){const t=this.gl,{stage:i,code:r}=e,s=i==="fragment"?t.createShader(t.FRAGMENT_SHADER):t.createShader(t.VERTEX_SHADER);t.shaderSource(s,r),t.compileShader(s),this.set(e,{shaderGPU:s})}destroyProgram(e){this.delete(e)}createRenderPipeline(e,t){const i=this.gl,r=e.pipeline,{fragmentProgram:s,vertexProgram:a}=r,o=i.createProgram(),l=this.get(s).shaderGPU,u=this.get(a).shaderGPU;if(i.attachShader(o,l),i.attachShader(o,u),i.linkProgram(o),this.set(r,{programGPU:o,fragmentShader:l,vertexShader:u}),t!==null&&this.parallel){const c=new Promise(f=>{const m=this.parallel,v=()=>{i.getProgramParameter(o,m.COMPLETION_STATUS_KHR)?(this._completeCompile(e,r),f()):requestAnimationFrame(v)};v()});t.push(c);return}this._completeCompile(e,r)}_handleSource(e,t){const i=e.split(`
`),r=[],s=Math.max(t-6,0),a=Math.min(t+6,i.length);for(let o=s;o<a;o++){const l=o+1;r.push(`${l===t?">":" "} ${l}: ${i[o]}`)}return r.join(`
`)}_getShaderErrors(e,t,i){const r=e.getShaderParameter(t,e.COMPILE_STATUS),s=e.getShaderInfoLog(t).trim();if(r&&s==="")return"";const a=/ERROR: 0:(\d+)/.exec(s);if(a){const o=parseInt(a[1]);return i.toUpperCase()+`

`+s+`

`+this._handleSource(e.getShaderSource(t),o)}else return s}_logProgramError(e,t,i){if(this.renderer.debug.checkShaderErrors){const r=this.gl,s=r.getProgramInfoLog(e).trim();if(r.getProgramParameter(e,r.LINK_STATUS)===!1)if(typeof this.renderer.debug.onShaderError=="function")this.renderer.debug.onShaderError(r,e,i,t);else{const a=this._getShaderErrors(r,i,"vertex"),o=this._getShaderErrors(r,t,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(e,r.VALIDATE_STATUS)+`

Program Info Log: `+s+`
`+a+`
`+o)}else s!==""&&console.warn("THREE.WebGLProgram: Program Info Log:",s)}}_completeCompile(e,t){const{state:i,gl:r}=this,s=this.get(t),{programGPU:a,fragmentShader:o,vertexShader:l}=s;r.getProgramParameter(a,r.LINK_STATUS)===!1&&this._logProgramError(a,o,l),i.useProgram(a);const u=e.getBindings();this._setupBindings(u,a),this.set(t,{programGPU:a})}createComputePipeline(e,t){const{state:i,gl:r}=this,s={stage:"fragment",code:`#version 300 es
precision highp float;
void main() {}`};this.createProgram(s);const{computeProgram:a}=e,o=r.createProgram(),l=this.get(s).shaderGPU,u=this.get(a).shaderGPU,c=a.transforms,f=[],m=[];for(let M=0;M<c.length;M++){const S=c[M];f.push(S.varyingName),m.push(S.attributeNode)}r.attachShader(o,l),r.attachShader(o,u),r.transformFeedbackVaryings(o,f,r.SEPARATE_ATTRIBS),r.linkProgram(o),r.getProgramParameter(o,r.LINK_STATUS)===!1&&this._logProgramError(o,l,u),i.useProgram(o),this._setupBindings(t,o);const v=a.attributes,_=[],T=[];for(let M=0;M<v.length;M++){const S=v[M].node.attribute;_.push(S),this.has(S)||this.attributeUtils.createAttribute(S,r.ARRAY_BUFFER)}for(let M=0;M<m.length;M++){const S=m[M].attribute;this.has(S)||this.attributeUtils.createAttribute(S,r.ARRAY_BUFFER);const R=this.get(S);T.push(R)}this.set(e,{programGPU:o,transformBuffers:T,attributes:_})}createBindings(e,t){if(this._knownBindings.has(t)===!1){this._knownBindings.add(t);let i=0,r=0;for(const s of t){this.set(s,{textures:r,uniformBuffers:i});for(const a of s.bindings)a.isUniformBuffer&&i++,a.isSampledTexture&&r++}}this.updateBindings(e,t)}updateBindings(e){const{gl:t}=this,i=this.get(e);let r=i.uniformBuffers,s=i.textures;for(const a of e.bindings)if(a.isUniformsGroup||a.isUniformBuffer){const o=a.buffer,l=t.createBuffer();t.bindBuffer(t.UNIFORM_BUFFER,l),t.bufferData(t.UNIFORM_BUFFER,o,t.DYNAMIC_DRAW),this.set(a,{index:r++,bufferGPU:l})}else if(a.isSampledTexture){const{textureGPU:o,glTextureType:l}=this.get(a.texture);this.set(a,{index:s++,textureGPU:o,glTextureType:l})}}updateBinding(e){const t=this.gl;if(e.isUniformsGroup||e.isUniformBuffer){const r=this.get(e).bufferGPU,s=e.buffer;t.bindBuffer(t.UNIFORM_BUFFER,r),t.bufferData(t.UNIFORM_BUFFER,s,t.DYNAMIC_DRAW)}}createIndexAttribute(e){const t=this.gl;this.attributeUtils.createAttribute(e,t.ELEMENT_ARRAY_BUFFER)}createAttribute(e){if(this.has(e))return;const t=this.gl;this.attributeUtils.createAttribute(e,t.ARRAY_BUFFER)}createStorageAttribute(e){if(this.has(e))return;const t=this.gl;this.attributeUtils.createAttribute(e,t.ARRAY_BUFFER)}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(e){this.attributeUtils.destroyAttribute(e)}hasFeature(e){const t=Object.keys(lq).filter(r=>lq[r]===e),i=this.extensions;for(let r=0;r<t.length;r++)if(i.has(t[r]))return!0;return!1}getMaxAnisotropy(){return this.capabilities.getMaxAnisotropy()}copyTextureToTexture(e,t,i=null,r=null,s=0,a=0){this.textureUtils.copyTextureToTexture(e,t,i,r,s,a)}copyFramebufferToTexture(e,t,i){this.textureUtils.copyFramebufferToTexture(e,t,i)}_setFramebuffer(e){const{gl:t,state:i}=this;let r=null;if(e.textures!==null){const s=e.renderTarget,a=this.get(s),{samples:o,depthBuffer:l,stencilBuffer:u}=s,c=s.isWebGLCubeRenderTarget===!0,f=s.isRenderTarget3D===!0,m=s.depth>1,v=s.isXRRenderTarget===!0,_=v===!0&&s._hasExternalTextures===!0;let T=a.msaaFrameBuffer,M=a.depthRenderbuffer;const S=this.extensions.get("WEBGL_multisampled_render_to_texture"),R=this.extensions.get("OVR_multiview2"),C=this._useMultisampledExtension(s),P=Nte(e);let B;if(c?(a.cubeFramebuffers||(a.cubeFramebuffers={}),B=a.cubeFramebuffers[P]):v&&_===!1?B=this._xrFramebuffer:(a.framebuffers||(a.framebuffers={}),B=a.framebuffers[P]),B===void 0){B=t.createFramebuffer(),i.bindFramebuffer(t.FRAMEBUFFER,B);const O=e.textures,V=[];if(c){a.cubeFramebuffers[P]=B;const{textureGPU:z}=this.get(O[0]),k=this.renderer._activeCubeFace;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+k,z,0)}else{a.framebuffers[P]=B;for(let z=0;z<O.length;z++){const k=O[z],H=this.get(k);H.renderTarget=e.renderTarget,H.cacheKey=P;const Z=t.COLOR_ATTACHMENT0+z;if(s.multiview)R.framebufferTextureMultisampleMultiviewOVR(t.FRAMEBUFFER,Z,H.textureGPU,0,o,0,2);else if(f||m){const $=this.renderer._activeCubeFace;t.framebufferTextureLayer(t.FRAMEBUFFER,Z,H.textureGPU,0,$)}else C?S.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Z,t.TEXTURE_2D,H.textureGPU,0,o):t.framebufferTexture2D(t.FRAMEBUFFER,Z,t.TEXTURE_2D,H.textureGPU,0)}}const F=u?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(s._autoAllocateDepthBuffer===!0){const z=t.createRenderbuffer();this.textureUtils.setupRenderBufferStorage(z,e,0,C),a.xrDepthRenderbuffer=z,V.push(u?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT),t.bindRenderbuffer(t.RENDERBUFFER,z),t.framebufferRenderbuffer(t.FRAMEBUFFER,F,t.RENDERBUFFER,z)}else if(e.depthTexture!==null){V.push(u?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT);const z=this.get(e.depthTexture);if(z.renderTarget=e.renderTarget,z.cacheKey=P,s.multiview)R.framebufferTextureMultisampleMultiviewOVR(t.FRAMEBUFFER,F,z.textureGPU,0,o,0,2);else if(_&&C)S.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,F,t.TEXTURE_2D,z.textureGPU,0,o);else if(e.depthTexture.isArrayTexture){const k=this.renderer._activeCubeFace;t.framebufferTextureLayer(t.FRAMEBUFFER,F,z.textureGPU,0,k)}else t.framebufferTexture2D(t.FRAMEBUFFER,F,t.TEXTURE_2D,z.textureGPU,0)}a.depthInvalidationArray=V}else{if(this._isRenderCameraDepthArray(e)){i.bindFramebuffer(t.FRAMEBUFFER,B);const V=this.renderer._activeCubeFace,F=this.get(e.depthTexture),z=u?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.framebufferTextureLayer(t.FRAMEBUFFER,z,F.textureGPU,0,V)}if((v||C||s.multiview)&&s._isOpaqueFramebuffer!==!0){i.bindFramebuffer(t.FRAMEBUFFER,B);const V=this.get(e.textures[0]);s.multiview?R.framebufferTextureMultisampleMultiviewOVR(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,V.textureGPU,0,o,0,2):C?S.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,V.textureGPU,0,o):t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,V.textureGPU,0);const F=u?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;if(s._autoAllocateDepthBuffer===!0){const z=a.xrDepthRenderbuffer;t.bindRenderbuffer(t.RENDERBUFFER,z),t.framebufferRenderbuffer(t.FRAMEBUFFER,F,t.RENDERBUFFER,z)}else{const z=this.get(e.depthTexture);s.multiview?R.framebufferTextureMultisampleMultiviewOVR(t.FRAMEBUFFER,F,z.textureGPU,0,o,0,2):C?S.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,F,t.TEXTURE_2D,z.textureGPU,0,o):t.framebufferTexture2D(t.FRAMEBUFFER,F,t.TEXTURE_2D,z.textureGPU,0)}}}if(o>0&&C===!1&&!s.multiview){if(T===void 0){const O=[];T=t.createFramebuffer(),i.bindFramebuffer(t.FRAMEBUFFER,T);const V=[],F=e.textures;for(let z=0;z<F.length;z++){V[z]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,V[z]),O.push(t.COLOR_ATTACHMENT0+z);const k=e.textures[z],H=this.get(k);t.renderbufferStorageMultisample(t.RENDERBUFFER,o,H.glInternalFormat,e.width,e.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+z,t.RENDERBUFFER,V[z])}if(t.bindRenderbuffer(t.RENDERBUFFER,null),a.msaaFrameBuffer=T,a.msaaRenderbuffers=V,l&&M===void 0){M=t.createRenderbuffer(),this.textureUtils.setupRenderBufferStorage(M,e,o),a.depthRenderbuffer=M;const z=u?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;O.push(z)}a.invalidationArray=O}r=a.msaaFrameBuffer}else r=B;i.drawBuffers(e,B)}i.bindFramebuffer(t.FRAMEBUFFER,r)}_getVaoKey(e){let t="";for(let i=0;i<e.length;i++){const r=this.get(e[i]);t+=":"+r.id}return t}_createVao(e){const{gl:t}=this,i=t.createVertexArray();t.bindVertexArray(i);for(let r=0;r<e.length;r++){const s=e[r],a=this.get(s);t.bindBuffer(t.ARRAY_BUFFER,a.bufferGPU),t.enableVertexAttribArray(r);let o,l;s.isInterleavedBufferAttribute===!0?(o=s.data.stride*a.bytesPerElement,l=s.offset*a.bytesPerElement):(o=0,l=0),a.isInteger?t.vertexAttribIPointer(r,s.itemSize,a.type,o,l):t.vertexAttribPointer(r,s.itemSize,a.type,s.normalized,o,l),s.isInstancedBufferAttribute&&!s.isInterleavedBufferAttribute?t.vertexAttribDivisor(r,s.meshPerAttribute):s.isInterleavedBufferAttribute&&s.data.isInstancedInterleavedBuffer&&t.vertexAttribDivisor(r,s.data.meshPerAttribute)}return t.bindBuffer(t.ARRAY_BUFFER,null),i}_getTransformFeedback(e){let t="";for(let s=0;s<e.length;s++)t+=":"+e[s].id;let i=this.transformFeedbackCache[t];if(i!==void 0)return i;const{gl:r}=this;i=r.createTransformFeedback(),r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i);for(let s=0;s<e.length;s++){const a=e[s];r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,s,a.transformBuffer)}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),this.transformFeedbackCache[t]=i,i}_setupBindings(e,t){const i=this.gl;for(const r of e)for(const s of r.bindings){const o=this.get(s).index;if(s.isUniformsGroup||s.isUniformBuffer){const l=i.getUniformBlockIndex(t,s.name);i.uniformBlockBinding(t,l,o)}else if(s.isSampledTexture){const l=i.getUniformLocation(t,s.name);i.uniform1i(l,o)}}}_bindUniforms(e){const{gl:t,state:i}=this;for(const r of e)for(const s of r.bindings){const a=this.get(s),o=a.index;s.isUniformsGroup||s.isUniformBuffer?i.bindBufferBase(t.UNIFORM_BUFFER,o,a.bufferGPU):s.isSampledTexture&&i.bindTexture(a.glTextureType,a.textureGPU,t.TEXTURE0+o)}}_useMultisampledExtension(e){return e.multiview===!0?!0:e.samples>0&&this.extensions.has("WEBGL_multisampled_render_to_texture")===!0&&e._autoAllocateDepthBuffer!==!1}dispose(){const e=this.extensions.get("WEBGL_lose_context");e&&e.loseContext(),this.renderer.domElement.removeEventListener("webglcontextlost",this._onContextLost)}}const j6={PointList:"point-list",LineList:"line-list",LineStrip:"line-strip",TriangleList:"triangle-list",TriangleStrip:"triangle-strip"},Ra={Never:"never",Less:"less",Equal:"equal",LessEqual:"less-equal",Greater:"greater",NotEqual:"not-equal",GreaterEqual:"greater-equal",Always:"always"},bo={Store:"store"},ki={Load:"load",Clear:"clear"},bw={CCW:"ccw"},Sw={None:"none",Front:"front",Back:"back"},t8={Uint16:"uint16",Uint32:"uint32"},Me={R8Unorm:"r8unorm",R8Snorm:"r8snorm",R8Uint:"r8uint",R8Sint:"r8sint",R16Uint:"r16uint",R16Sint:"r16sint",R16Float:"r16float",RG8Unorm:"rg8unorm",RG8Snorm:"rg8snorm",RG8Uint:"rg8uint",RG8Sint:"rg8sint",R32Uint:"r32uint",R32Sint:"r32sint",R32Float:"r32float",RG16Uint:"rg16uint",RG16Sint:"rg16sint",RG16Float:"rg16float",RGBA8Unorm:"rgba8unorm",RGBA8UnormSRGB:"rgba8unorm-srgb",RGBA8Snorm:"rgba8snorm",RGBA8Uint:"rgba8uint",RGBA8Sint:"rgba8sint",BGRA8Unorm:"bgra8unorm",BGRA8UnormSRGB:"bgra8unorm-srgb",RGB9E5UFloat:"rgb9e5ufloat",RGB10A2Unorm:"rgb10a2unorm",RG11B10UFloat:"rgb10a2unorm",RG32Uint:"rg32uint",RG32Sint:"rg32sint",RG32Float:"rg32float",RGBA16Uint:"rgba16uint",RGBA16Sint:"rgba16sint",RGBA16Float:"rgba16float",RGBA32Uint:"rgba32uint",RGBA32Sint:"rgba32sint",RGBA32Float:"rgba32float",Depth16Unorm:"depth16unorm",Depth24Plus:"depth24plus",Depth24PlusStencil8:"depth24plus-stencil8",Depth32Float:"depth32float",Depth32FloatStencil8:"depth32float-stencil8",BC1RGBAUnorm:"bc1-rgba-unorm",BC1RGBAUnormSRGB:"bc1-rgba-unorm-srgb",BC2RGBAUnorm:"bc2-rgba-unorm",BC2RGBAUnormSRGB:"bc2-rgba-unorm-srgb",BC3RGBAUnorm:"bc3-rgba-unorm",BC3RGBAUnormSRGB:"bc3-rgba-unorm-srgb",BC4RUnorm:"bc4-r-unorm",BC4RSnorm:"bc4-r-snorm",BC5RGUnorm:"bc5-rg-unorm",BC5RGSnorm:"bc5-rg-snorm",BC6HRGBUFloat:"bc6h-rgb-ufloat",BC6HRGBFloat:"bc6h-rgb-float",BC7RGBAUnorm:"bc7-rgba-unorm",BC7RGBAUnormSRGB:"bc7-rgba-srgb",ETC2RGB8Unorm:"etc2-rgb8unorm",ETC2RGB8UnormSRGB:"etc2-rgb8unorm-srgb",ETC2RGB8A1Unorm:"etc2-rgb8a1unorm",ETC2RGB8A1UnormSRGB:"etc2-rgb8a1unorm-srgb",ETC2RGBA8Unorm:"etc2-rgba8unorm",ETC2RGBA8UnormSRGB:"etc2-rgba8unorm-srgb",EACR11Unorm:"eac-r11unorm",EACR11Snorm:"eac-r11snorm",EACRG11Unorm:"eac-rg11unorm",EACRG11Snorm:"eac-rg11snorm",ASTC4x4Unorm:"astc-4x4-unorm",ASTC4x4UnormSRGB:"astc-4x4-unorm-srgb",ASTC5x4Unorm:"astc-5x4-unorm",ASTC5x4UnormSRGB:"astc-5x4-unorm-srgb",ASTC5x5Unorm:"astc-5x5-unorm",ASTC5x5UnormSRGB:"astc-5x5-unorm-srgb",ASTC6x5Unorm:"astc-6x5-unorm",ASTC6x5UnormSRGB:"astc-6x5-unorm-srgb",ASTC6x6Unorm:"astc-6x6-unorm",ASTC6x6UnormSRGB:"astc-6x6-unorm-srgb",ASTC8x5Unorm:"astc-8x5-unorm",ASTC8x5UnormSRGB:"astc-8x5-unorm-srgb",ASTC8x6Unorm:"astc-8x6-unorm",ASTC8x6UnormSRGB:"astc-8x6-unorm-srgb",ASTC8x8Unorm:"astc-8x8-unorm",ASTC8x8UnormSRGB:"astc-8x8-unorm-srgb",ASTC10x5Unorm:"astc-10x5-unorm",ASTC10x5UnormSRGB:"astc-10x5-unorm-srgb",ASTC10x6Unorm:"astc-10x6-unorm",ASTC10x6UnormSRGB:"astc-10x6-unorm-srgb",ASTC10x8Unorm:"astc-10x8-unorm",ASTC10x8UnormSRGB:"astc-10x8-unorm-srgb",ASTC10x10Unorm:"astc-10x10-unorm",ASTC10x10UnormSRGB:"astc-10x10-unorm-srgb",ASTC12x10Unorm:"astc-12x10-unorm",ASTC12x10UnormSRGB:"astc-12x10-unorm-srgb",ASTC12x12Unorm:"astc-12x12-unorm",ASTC12x12UnormSRGB:"astc-12x12-unorm-srgb"},Tw={ClampToEdge:"clamp-to-edge",Repeat:"repeat",MirrorRepeat:"mirror-repeat"},J4={Linear:"linear",Nearest:"nearest"},_i={Zero:"zero",One:"one",Src:"src",OneMinusSrc:"one-minus-src",SrcAlpha:"src-alpha",OneMinusSrcAlpha:"one-minus-src-alpha",Dst:"dst",OneMinusDst:"one-minus-dst",DstAlpha:"dst-alpha",OneMinusDstAlpha:"one-minus-dst-alpha",SrcAlphaSaturated:"src-alpha-saturated",Constant:"constant",OneMinusConstant:"one-minus-constant"},F4={Add:"add",Subtract:"subtract",ReverseSubtract:"reverse-subtract",Min:"min",Max:"max"},fq={None:0,All:15},L2={Keep:"keep",Zero:"zero",Replace:"replace",Invert:"invert",IncrementClamp:"increment-clamp",DecrementClamp:"decrement-clamp",IncrementWrap:"increment-wrap",DecrementWrap:"decrement-wrap"},Mw={Storage:"storage",ReadOnlyStorage:"read-only-storage"},Ew={WriteOnly:"write-only",ReadOnly:"read-only",ReadWrite:"read-write"},hq={NonFiltering:"non-filtering",Comparison:"comparison"},z4={Float:"float",UnfilterableFloat:"unfilterable-float",Depth:"depth",SInt:"sint",UInt:"uint"},dq={TwoD:"2d",ThreeD:"3d"},Bs={TwoD:"2d",TwoDArray:"2d-array",Cube:"cube",ThreeD:"3d"},OCe={All:"all"},yv={Vertex:"vertex",Instance:"instance"},UN={CoreFeaturesAndLimits:"core-features-and-limits",DepthClipControl:"depth-clip-control",Depth32FloatStencil8:"depth32float-stencil8",TextureCompressionBC:"texture-compression-bc",TextureCompressionBCSliced3D:"texture-compression-bc-sliced-3d",TextureCompressionETC2:"texture-compression-etc2",TextureCompressionASTC:"texture-compression-astc",TextureCompressionASTCSliced3D:"texture-compression-astc-sliced-3d",TimestampQuery:"timestamp-query",IndirectFirstInstance:"indirect-first-instance",ShaderF16:"shader-f16",RG11B10UFloat:"rg11b10ufloat-renderable",BGRA8UNormStorage:"bgra8unorm-storage",Float32Filterable:"float32-filterable",Float32Blendable:"float32-blendable",ClipDistances:"clip-distances",DualSourceBlending:"dual-source-blending",Subgroups:"subgroups",TextureFormatsTier1:"texture-formats-tier1",TextureFormatsTier2:"texture-formats-tier2"};class ICe extends pU{constructor(e,t){super(e),this.texture=t,this.version=t?t.version:0,this.isSampler=!0}}class FCe extends ICe{constructor(e,t,i){super(e,t?t.value:null),this.textureNode=t,this.groupNode=i}update(){this.texture=this.textureNode.value}}class zCe extends Cne{constructor(e,t){super(e,t?t.array:null),this.attribute=t,this.isStorageBuffer=!0}}let VCe=0;class kCe extends zCe{constructor(e,t){super("StorageBuffer_"+VCe++,e?e.value:null),this.nodeUniform=e,this.access=e?e.access:lo.READ_WRITE,this.groupNode=t}get buffer(){return this.nodeUniform.value}}class GCe extends G3{constructor(e){super(),this.device=e;const t=`
struct VarysStruct {
	@builtin( position ) Position: vec4<f32>,
	@location( 0 ) vTex : vec2<f32>
};

@vertex
fn main( @builtin( vertex_index ) vertexIndex : u32 ) -> VarysStruct {

	var Varys : VarysStruct;

	var pos = array< vec2<f32>, 4 >(
		vec2<f32>( -1.0,  1.0 ),
		vec2<f32>(  1.0,  1.0 ),
		vec2<f32>( -1.0, -1.0 ),
		vec2<f32>(  1.0, -1.0 )
	);

	var tex = array< vec2<f32>, 4 >(
		vec2<f32>( 0.0, 0.0 ),
		vec2<f32>( 1.0, 0.0 ),
		vec2<f32>( 0.0, 1.0 ),
		vec2<f32>( 1.0, 1.0 )
	);

	Varys.vTex = tex[ vertexIndex ];
	Varys.Position = vec4<f32>( pos[ vertexIndex ], 0.0, 1.0 );

	return Varys;

}
`,i=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vTex );

}
`,r=`
@group( 0 ) @binding( 0 )
var imgSampler : sampler;

@group( 0 ) @binding( 1 )
var img : texture_2d<f32>;

@fragment
fn main( @location( 0 ) vTex : vec2<f32> ) -> @location( 0 ) vec4<f32> {

	return textureSample( img, imgSampler, vec2( vTex.x, 1.0 - vTex.y ) );

}
`;this.mipmapSampler=e.createSampler({minFilter:J4.Linear}),this.flipYSampler=e.createSampler({minFilter:J4.Nearest}),this.transferPipelines={},this.flipYPipelines={},this.mipmapVertexShaderModule=e.createShaderModule({label:"mipmapVertex",code:t}),this.mipmapFragmentShaderModule=e.createShaderModule({label:"mipmapFragment",code:i}),this.flipYFragmentShaderModule=e.createShaderModule({label:"flipYFragment",code:r})}getTransferPipeline(e){let t=this.transferPipelines[e];return t===void 0&&(t=this.device.createRenderPipeline({label:`mipmap-${e}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.mipmapFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:j6.TriangleStrip,stripIndexFormat:t8.Uint32},layout:"auto"}),this.transferPipelines[e]=t),t}getFlipYPipeline(e){let t=this.flipYPipelines[e];return t===void 0&&(t=this.device.createRenderPipeline({label:`flipY-${e}`,vertex:{module:this.mipmapVertexShaderModule,entryPoint:"main"},fragment:{module:this.flipYFragmentShaderModule,entryPoint:"main",targets:[{format:e}]},primitive:{topology:j6.TriangleStrip,stripIndexFormat:t8.Uint32},layout:"auto"}),this.flipYPipelines[e]=t),t}flipY(e,t,i=0){const r=t.format,{width:s,height:a}=t.size,o=this.getTransferPipeline(r),l=this.getFlipYPipeline(r),u=this.device.createTexture({size:{width:s,height:a,depthOrArrayLayers:1},format:r,usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.TEXTURE_BINDING}),c=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:Bs.TwoD,baseArrayLayer:i}),f=u.createView({baseMipLevel:0,mipLevelCount:1,dimension:Bs.TwoD,baseArrayLayer:0}),m=this.device.createCommandEncoder({}),v=(_,T,M)=>{const S=_.getBindGroupLayout(0),R=this.device.createBindGroup({layout:S,entries:[{binding:0,resource:this.flipYSampler},{binding:1,resource:T}]}),C=m.beginRenderPass({colorAttachments:[{view:M,loadOp:ki.Clear,storeOp:bo.Store,clearValue:[0,0,0,0]}]});C.setPipeline(_),C.setBindGroup(0,R),C.draw(4,1,0,0),C.end()};v(o,c,f),v(l,f,c),this.device.queue.submit([m.finish()]),u.destroy()}generateMipmaps(e,t,i=0){const r=this.get(e);r.useCount===void 0&&(r.useCount=0,r.layers=[]);const s=r.layers[i]||this._mipmapCreateBundles(e,t,i),a=this.device.createCommandEncoder({});this._mipmapRunBundles(a,s),this.device.queue.submit([a.finish()]),r.useCount!==0&&(r.layers[i]=s),r.useCount++}_mipmapCreateBundles(e,t,i){const r=this.getTransferPipeline(t.format),s=r.getBindGroupLayout(0);let a=e.createView({baseMipLevel:0,mipLevelCount:1,dimension:Bs.TwoD,baseArrayLayer:i});const o=[];for(let l=1;l<t.mipLevelCount;l++){const u=this.device.createBindGroup({layout:s,entries:[{binding:0,resource:this.mipmapSampler},{binding:1,resource:a}]}),c=e.createView({baseMipLevel:l,mipLevelCount:1,dimension:Bs.TwoD,baseArrayLayer:i}),f={colorAttachments:[{view:c,loadOp:ki.Clear,storeOp:bo.Store,clearValue:[0,0,0,0]}]},m=this.device.createRenderBundleEncoder({colorFormats:[t.format]});m.setPipeline(r),m.setBindGroup(0,u),m.draw(4,1,0,0),o.push({renderBundles:[m.finish()],passDescriptor:f}),a=c}return o}_mipmapRunBundles(e,t){const i=t.length;for(let r=0;r<i;r++){const s=t[r],a=e.beginRenderPass(s.passDescriptor);a.executeBundles(s.renderBundles),a.end()}}}const qCe={[Zb]:"never",[Jp]:"less",[Jb]:"equal",[em]:"less-equal",[eS]:"greater",[nS]:"greater-equal",[iS]:"always",[tS]:"not-equal"},HCe=[0,1,3,2,4,5];class jCe{constructor(e){this.backend=e,this._passUtils=null,this.defaultTexture={},this.defaultCubeTexture={},this.defaultVideoFrame=null,this.colorBuffer=null,this.depthTexture=new ol,this.depthTexture.name="depthBuffer"}createSampler(e){const t=this.backend,i=t.device,r=t.get(e),s={addressModeU:this._convertAddressMode(e.wrapS),addressModeV:this._convertAddressMode(e.wrapT),addressModeW:this._convertAddressMode(e.wrapR),magFilter:this._convertFilterMode(e.magFilter),minFilter:this._convertFilterMode(e.minFilter),mipmapFilter:this._convertFilterMode(e.minFilter),maxAnisotropy:1};s.magFilter===J4.Linear&&s.minFilter===J4.Linear&&s.mipmapFilter===J4.Linear&&(s.maxAnisotropy=e.anisotropy),e.isDepthTexture&&e.compareFunction!==null&&(s.compare=qCe[e.compareFunction]),r.sampler=i.createSampler(s)}createDefaultTexture(e){let t;const i=ON(e);e.isCubeTexture?t=this._getDefaultCubeTextureGPU(i):e.isVideoTexture?this.backend.get(e).externalTexture=this._getDefaultVideoFrame():t=this._getDefaultTextureGPU(i),this.backend.get(e).texture=t}createTexture(e,t={}){const i=this.backend,r=i.get(e);if(r.initialized)throw new Error("WebGPUTextureUtils: Texture already initialized.");t.needsMipmaps===void 0&&(t.needsMipmaps=!1),t.levels===void 0&&(t.levels=1),t.depth===void 0&&(t.depth=1);const{width:s,height:a,depth:o,levels:l}=t;e.isFramebufferTexture&&(t.renderTarget?t.format=this.backend.utils.getCurrentColorFormat(t.renderTarget):t.format=this.backend.utils.getPreferredCanvasFormat());const u=this._getDimension(e),c=e.internalFormat||t.format||ON(e,i.device);r.format=c;const{samples:f,primarySamples:m,isMSAA:v}=i.utils.getTextureSampleData(e);let _=GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.COPY_SRC;e.isStorageTexture===!0&&(_|=GPUTextureUsage.STORAGE_BINDING),e.isCompressedTexture!==!0&&e.isCompressedArrayTexture!==!0&&(_|=GPUTextureUsage.RENDER_ATTACHMENT);const T={label:e.name,size:{width:s,height:a,depthOrArrayLayers:o},mipLevelCount:l,sampleCount:m,dimension:u,format:c,usage:_};if(e.isVideoTexture){const M=e.source.data,S=new VideoFrame(M);T.size.width=S.displayWidth,T.size.height=S.displayHeight,S.close(),r.externalTexture=M}else{if(c===void 0){console.warn("WebGPURenderer: Texture format not supported."),this.createDefaultTexture(e);return}e.isCubeTexture&&(T.textureBindingViewDimension=Bs.Cube),r.texture=i.device.createTexture(T)}if(v){const M=Object.assign({},T);M.label=M.label+"-msaa",M.sampleCount=f,r.msaaTexture=i.device.createTexture(M)}r.initialized=!0,r.textureDescriptorGPU=T}destroyTexture(e){const t=this.backend,i=t.get(e);i.texture!==void 0&&i.texture.destroy(),i.msaaTexture!==void 0&&i.msaaTexture.destroy(),t.delete(e)}destroySampler(e){const i=this.backend.get(e);delete i.sampler}generateMipmaps(e){const t=this.backend.get(e);if(e.isCubeTexture)for(let i=0;i<6;i++)this._generateMipmaps(t.texture,t.textureDescriptorGPU,i);else{const i=e.image.depth||1;for(let r=0;r<i;r++)this._generateMipmaps(t.texture,t.textureDescriptorGPU,r)}}getColorBuffer(){this.colorBuffer&&this.colorBuffer.destroy();const e=this.backend,{width:t,height:i}=e.getDrawingBufferSize();return this.colorBuffer=e.device.createTexture({label:"colorBuffer",size:{width:t,height:i,depthOrArrayLayers:1},sampleCount:e.utils.getSampleCount(e.renderer.samples),format:e.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC}),this.colorBuffer}getDepthBuffer(e=!0,t=!1){const i=this.backend,{width:r,height:s}=i.getDrawingBufferSize(),a=this.depthTexture,o=i.get(a).texture;let l,u;if(t?(l=sl,u=il):e&&(l=rl,u=tr),o!==void 0){if(a.image.width===r&&a.image.height===s&&a.format===l&&a.type===u)return o;this.destroyTexture(a)}return a.name="depthBuffer",a.format=l,a.type=u,a.image.width=r,a.image.height=s,this.createTexture(a,{width:r,height:s}),i.get(a).texture}updateTexture(e,t){const i=this.backend.get(e),{textureDescriptorGPU:r}=i;if(!(e.isRenderTargetTexture||r===void 0)){if(e.isDataTexture)this._copyBufferToTexture(t.image,i.texture,r,0,e.flipY);else if(e.isArrayTexture||e.isDataArrayTexture||e.isData3DTexture)for(let s=0;s<t.image.depth;s++)this._copyBufferToTexture(t.image,i.texture,r,s,e.flipY,s);else if(e.isCompressedTexture||e.isCompressedArrayTexture)this._copyCompressedBufferToTexture(e.mipmaps,i.texture,r);else if(e.isCubeTexture)this._copyCubeMapToTexture(t.images,i.texture,r,e.flipY,e.premultiplyAlpha);else if(e.isVideoTexture){const s=e.source.data;i.externalTexture=s}else this._copyImageToTexture(t.image,i.texture,r,0,e.flipY,e.premultiplyAlpha);i.version=e.version,e.onUpdate&&e.onUpdate(e)}}async copyTextureToBuffer(e,t,i,r,s,a){const o=this.backend.device,l=this.backend.get(e),u=l.texture,c=l.textureDescriptorGPU.format,f=this._getBytesPerTexel(c);let m=r*f;m=Math.ceil(m/256)*256;const v=o.createBuffer({size:r*s*f,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),_=o.createCommandEncoder();_.copyTextureToBuffer({texture:u,origin:{x:t,y:i,z:a}},{buffer:v,bytesPerRow:m},{width:r,height:s});const T=this._getTypedArrayType(c);o.queue.submit([_.finish()]),await v.mapAsync(GPUMapMode.READ);const M=v.getMappedRange();return new T(M)}_getDefaultTextureGPU(e){let t=this.defaultTexture[e];if(t===void 0){const i=new Ur;i.minFilter=fr,i.magFilter=fr,this.createTexture(i,{width:1,height:1,format:e}),this.defaultTexture[e]=t=i}return this.backend.get(t).texture}_getDefaultCubeTextureGPU(e){let t=this.defaultTexture[e];if(t===void 0){const i=new O3;i.minFilter=fr,i.magFilter=fr,this.createTexture(i,{width:1,height:1,depth:6}),this.defaultCubeTexture[e]=t=i}return this.backend.get(t).texture}_getDefaultVideoFrame(){let e=this.defaultVideoFrame;if(e===null){const t={timestamp:0,codedWidth:1,codedHeight:1,format:"RGBA"};this.defaultVideoFrame=e=new VideoFrame(new Uint8Array([0,0,0,255]),t)}return e}_copyCubeMapToTexture(e,t,i,r,s){for(let a=0;a<6;a++){const o=e[a],l=r===!0?HCe[a]:a;o.isDataTexture?this._copyBufferToTexture(o.image,t,i,l,r):this._copyImageToTexture(o,t,i,l,r,s)}}_copyImageToTexture(e,t,i,r,s,a){this.backend.device.queue.copyExternalImageToTexture({source:e,flipY:s},{texture:t,mipLevel:0,origin:{x:0,y:0,z:r},premultipliedAlpha:a},{width:e.width,height:e.height,depthOrArrayLayers:1})}_getPassUtils(){let e=this._passUtils;return e===null&&(this._passUtils=e=new GCe(this.backend.device)),e}_generateMipmaps(e,t,i=0){this._getPassUtils().generateMipmaps(e,t,i)}_flipY(e,t,i=0){this._getPassUtils().flipY(e,t,i)}_copyBufferToTexture(e,t,i,r,s,a=0){const o=this.backend.device,l=e.data,u=this._getBytesPerTexel(i.format),c=e.width*u;o.queue.writeTexture({texture:t,mipLevel:0,origin:{x:0,y:0,z:r}},l,{offset:e.width*e.height*u*a,bytesPerRow:c},{width:e.width,height:e.height,depthOrArrayLayers:1}),s===!0&&this._flipY(t,i,r)}_copyCompressedBufferToTexture(e,t,i){const r=this.backend.device,s=this._getBlockData(i.format),a=i.size.depthOrArrayLayers>1;for(let o=0;o<e.length;o++){const l=e[o],u=l.width,c=l.height,f=a?i.size.depthOrArrayLayers:1,m=Math.ceil(u/s.width)*s.byteLength,v=m*Math.ceil(c/s.height);for(let _=0;_<f;_++)r.queue.writeTexture({texture:t,mipLevel:o,origin:{x:0,y:0,z:_}},l.data,{offset:_*v,bytesPerRow:m,rowsPerImage:Math.ceil(c/s.height)},{width:Math.ceil(u/s.width)*s.width,height:Math.ceil(c/s.height)*s.height,depthOrArrayLayers:1})}}_getBlockData(e){if(e===Me.BC1RGBAUnorm||e===Me.BC1RGBAUnormSRGB)return{byteLength:8,width:4,height:4};if(e===Me.BC2RGBAUnorm||e===Me.BC2RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===Me.BC3RGBAUnorm||e===Me.BC3RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===Me.BC4RUnorm||e===Me.BC4RSnorm)return{byteLength:8,width:4,height:4};if(e===Me.BC5RGUnorm||e===Me.BC5RGSnorm)return{byteLength:16,width:4,height:4};if(e===Me.BC6HRGBUFloat||e===Me.BC6HRGBFloat)return{byteLength:16,width:4,height:4};if(e===Me.BC7RGBAUnorm||e===Me.BC7RGBAUnormSRGB)return{byteLength:16,width:4,height:4};if(e===Me.ETC2RGB8Unorm||e===Me.ETC2RGB8UnormSRGB)return{byteLength:8,width:4,height:4};if(e===Me.ETC2RGB8A1Unorm||e===Me.ETC2RGB8A1UnormSRGB)return{byteLength:8,width:4,height:4};if(e===Me.ETC2RGBA8Unorm||e===Me.ETC2RGBA8UnormSRGB)return{byteLength:16,width:4,height:4};if(e===Me.EACR11Unorm)return{byteLength:8,width:4,height:4};if(e===Me.EACR11Snorm)return{byteLength:8,width:4,height:4};if(e===Me.EACRG11Unorm)return{byteLength:16,width:4,height:4};if(e===Me.EACRG11Snorm)return{byteLength:16,width:4,height:4};if(e===Me.ASTC4x4Unorm||e===Me.ASTC4x4UnormSRGB)return{byteLength:16,width:4,height:4};if(e===Me.ASTC5x4Unorm||e===Me.ASTC5x4UnormSRGB)return{byteLength:16,width:5,height:4};if(e===Me.ASTC5x5Unorm||e===Me.ASTC5x5UnormSRGB)return{byteLength:16,width:5,height:5};if(e===Me.ASTC6x5Unorm||e===Me.ASTC6x5UnormSRGB)return{byteLength:16,width:6,height:5};if(e===Me.ASTC6x6Unorm||e===Me.ASTC6x6UnormSRGB)return{byteLength:16,width:6,height:6};if(e===Me.ASTC8x5Unorm||e===Me.ASTC8x5UnormSRGB)return{byteLength:16,width:8,height:5};if(e===Me.ASTC8x6Unorm||e===Me.ASTC8x6UnormSRGB)return{byteLength:16,width:8,height:6};if(e===Me.ASTC8x8Unorm||e===Me.ASTC8x8UnormSRGB)return{byteLength:16,width:8,height:8};if(e===Me.ASTC10x5Unorm||e===Me.ASTC10x5UnormSRGB)return{byteLength:16,width:10,height:5};if(e===Me.ASTC10x6Unorm||e===Me.ASTC10x6UnormSRGB)return{byteLength:16,width:10,height:6};if(e===Me.ASTC10x8Unorm||e===Me.ASTC10x8UnormSRGB)return{byteLength:16,width:10,height:8};if(e===Me.ASTC10x10Unorm||e===Me.ASTC10x10UnormSRGB)return{byteLength:16,width:10,height:10};if(e===Me.ASTC12x10Unorm||e===Me.ASTC12x10UnormSRGB)return{byteLength:16,width:12,height:10};if(e===Me.ASTC12x12Unorm||e===Me.ASTC12x12UnormSRGB)return{byteLength:16,width:12,height:12}}_convertAddressMode(e){let t=Tw.ClampToEdge;return e===Gc?t=Tw.Repeat:e===qc&&(t=Tw.MirrorRepeat),t}_convertFilterMode(e){let t=J4.Linear;return(e===fr||e===Qp||e===Au)&&(t=J4.Nearest),t}_getBytesPerTexel(e){if(e===Me.R8Unorm||e===Me.R8Snorm||e===Me.R8Uint||e===Me.R8Sint)return 1;if(e===Me.R16Uint||e===Me.R16Sint||e===Me.R16Float||e===Me.RG8Unorm||e===Me.RG8Snorm||e===Me.RG8Uint||e===Me.RG8Sint)return 2;if(e===Me.R32Uint||e===Me.R32Sint||e===Me.R32Float||e===Me.RG16Uint||e===Me.RG16Sint||e===Me.RG16Float||e===Me.RGBA8Unorm||e===Me.RGBA8UnormSRGB||e===Me.RGBA8Snorm||e===Me.RGBA8Uint||e===Me.RGBA8Sint||e===Me.BGRA8Unorm||e===Me.BGRA8UnormSRGB||e===Me.RGB9E5UFloat||e===Me.RGB10A2Unorm||e===Me.RG11B10UFloat||e===Me.Depth32Float||e===Me.Depth24Plus||e===Me.Depth24PlusStencil8||e===Me.Depth32FloatStencil8)return 4;if(e===Me.RG32Uint||e===Me.RG32Sint||e===Me.RG32Float||e===Me.RGBA16Uint||e===Me.RGBA16Sint||e===Me.RGBA16Float)return 8;if(e===Me.RGBA32Uint||e===Me.RGBA32Sint||e===Me.RGBA32Float)return 16}_getTypedArrayType(e){if(e===Me.R8Uint)return Uint8Array;if(e===Me.R8Sint)return Int8Array;if(e===Me.R8Unorm)return Uint8Array;if(e===Me.R8Snorm)return Int8Array;if(e===Me.RG8Uint)return Uint8Array;if(e===Me.RG8Sint)return Int8Array;if(e===Me.RG8Unorm)return Uint8Array;if(e===Me.RG8Snorm)return Int8Array;if(e===Me.RGBA8Uint)return Uint8Array;if(e===Me.RGBA8Sint)return Int8Array;if(e===Me.RGBA8Unorm)return Uint8Array;if(e===Me.RGBA8Snorm)return Int8Array;if(e===Me.R16Uint)return Uint16Array;if(e===Me.R16Sint)return Int16Array;if(e===Me.RG16Uint)return Uint16Array;if(e===Me.RG16Sint)return Int16Array;if(e===Me.RGBA16Uint)return Uint16Array;if(e===Me.RGBA16Sint)return Int16Array;if(e===Me.R16Float||e===Me.RG16Float||e===Me.RGBA16Float)return Uint16Array;if(e===Me.R32Uint)return Uint32Array;if(e===Me.R32Sint)return Int32Array;if(e===Me.R32Float)return Float32Array;if(e===Me.RG32Uint)return Uint32Array;if(e===Me.RG32Sint)return Int32Array;if(e===Me.RG32Float)return Float32Array;if(e===Me.RGBA32Uint)return Uint32Array;if(e===Me.RGBA32Sint)return Int32Array;if(e===Me.RGBA32Float)return Float32Array;if(e===Me.BGRA8Unorm||e===Me.BGRA8UnormSRGB)return Uint8Array;if(e===Me.RGB10A2Unorm||e===Me.RGB9E5UFloat||e===Me.RG11B10UFloat)return Uint32Array;if(e===Me.Depth32Float)return Float32Array;if(e===Me.Depth24Plus||e===Me.Depth24PlusStencil8)return Uint32Array;if(e===Me.Depth32FloatStencil8)return Float32Array}_getDimension(e){let t;return e.is3DTexture||e.isData3DTexture?t=dq.ThreeD:t=dq.TwoD,t}}function ON(n,e=null){const t=n.format,i=n.type,r=n.colorSpace,s=wn.getTransfer(r);let a;if(n.isCompressedTexture===!0||n.isCompressedArrayTexture===!0)switch(t){case Mc:a=s===Xt?Me.BC1RGBAUnormSRGB:Me.BC1RGBAUnorm;break;case Ec:a=s===Xt?Me.BC2RGBAUnormSRGB:Me.BC2RGBAUnorm;break;case wc:a=s===Xt?Me.BC3RGBAUnormSRGB:Me.BC3RGBAUnorm;break;case Ff:a=s===Xt?Me.ETC2RGB8UnormSRGB:Me.ETC2RGB8Unorm;break;case zf:a=s===Xt?Me.ETC2RGBA8UnormSRGB:Me.ETC2RGBA8Unorm;break;case Vf:a=s===Xt?Me.ASTC4x4UnormSRGB:Me.ASTC4x4Unorm;break;case kf:a=s===Xt?Me.ASTC5x4UnormSRGB:Me.ASTC5x4Unorm;break;case Gf:a=s===Xt?Me.ASTC5x5UnormSRGB:Me.ASTC5x5Unorm;break;case qf:a=s===Xt?Me.ASTC6x5UnormSRGB:Me.ASTC6x5Unorm;break;case Hf:a=s===Xt?Me.ASTC6x6UnormSRGB:Me.ASTC6x6Unorm;break;case jf:a=s===Xt?Me.ASTC8x5UnormSRGB:Me.ASTC8x5Unorm;break;case Wf:a=s===Xt?Me.ASTC8x6UnormSRGB:Me.ASTC8x6Unorm;break;case Xf:a=s===Xt?Me.ASTC8x8UnormSRGB:Me.ASTC8x8Unorm;break;case Yf:a=s===Xt?Me.ASTC10x5UnormSRGB:Me.ASTC10x5Unorm;break;case Qf:a=s===Xt?Me.ASTC10x6UnormSRGB:Me.ASTC10x6Unorm;break;case $f:a=s===Xt?Me.ASTC10x8UnormSRGB:Me.ASTC10x8Unorm;break;case Kf:a=s===Xt?Me.ASTC10x10UnormSRGB:Me.ASTC10x10Unorm;break;case Zf:a=s===Xt?Me.ASTC12x10UnormSRGB:Me.ASTC12x10Unorm;break;case Jf:a=s===Xt?Me.ASTC12x12UnormSRGB:Me.ASTC12x12Unorm;break;case _r:a=s===Xt?Me.RGBA8UnormSRGB:Me.RGBA8Unorm;break;default:console.error("WebGPURenderer: Unsupported texture format.",t)}else switch(t){case _r:switch(i){case m3:a=Me.RGBA8Snorm;break;case g3:a=Me.RGBA16Sint;break;case w0:a=Me.RGBA16Uint;break;case tr:a=Me.RGBA32Uint;break;case ea:a=Me.RGBA32Sint;break;case Lr:a=s===Xt?Me.RGBA8UnormSRGB:Me.RGBA8Unorm;break;case Fs:a=Me.RGBA16Float;break;case Mr:a=Me.RGBA32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBAFormat.",i)}break;case _8:switch(i){case Zp:a=Me.RGB9E5UFloat;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBFormat.",i)}break;case ph:switch(i){case m3:a=Me.R8Snorm;break;case g3:a=Me.R16Sint;break;case w0:a=Me.R16Uint;break;case tr:a=Me.R32Uint;break;case ea:a=Me.R32Sint;break;case Lr:a=Me.R8Unorm;break;case Fs:a=Me.R16Float;break;case Mr:a=Me.R32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RedFormat.",i)}break;case r1:switch(i){case m3:a=Me.RG8Snorm;break;case g3:a=Me.RG16Sint;break;case w0:a=Me.RG16Uint;break;case tr:a=Me.RG32Uint;break;case ea:a=Me.RG32Sint;break;case Lr:a=Me.RG8Unorm;break;case Fs:a=Me.RG16Float;break;case Mr:a=Me.RG32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with RGFormat.",i)}break;case rl:switch(i){case w0:a=Me.Depth16Unorm;break;case tr:a=Me.Depth24Plus;break;case Mr:a=Me.Depth32Float;break;default:console.error("WebGPURenderer: Unsupported texture type with DepthFormat.",i)}break;case sl:switch(i){case il:a=Me.Depth24PlusStencil8;break;case Mr:e&&e.features.has(UN.Depth32FloatStencil8)===!1&&console.error('WebGPURenderer: Depth textures with DepthStencilFormat + FloatType can only be used with the "depth32float-stencil8" GPU feature.'),a=Me.Depth32FloatStencil8;break;default:console.error("WebGPURenderer: Unsupported texture type with DepthStencilFormat.",i)}break;case U3:switch(i){case ea:a=Me.R32Sint;break;case tr:a=Me.R32Uint;break;default:console.error("WebGPURenderer: Unsupported texture type with RedIntegerFormat.",i)}break;case mh:switch(i){case ea:a=Me.RG32Sint;break;case tr:a=Me.RG32Uint;break;default:console.error("WebGPURenderer: Unsupported texture type with RGIntegerFormat.",i)}break;case gh:switch(i){case ea:a=Me.RGBA32Sint;break;case tr:a=Me.RGBA32Uint;break;default:console.error("WebGPURenderer: Unsupported texture type with RGBAIntegerFormat.",i)}break;default:console.error("WebGPURenderer: Unsupported texture format.",t)}return a}const WCe=/^[fn]*\s*([a-z_0-9]+)?\s*\(([\s\S]*?)\)\s*[\-\>]*\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/i,XCe=/([a-z_0-9]+)\s*:\s*([a-z_0-9]+(?:<[\s\S]+?>)?)/ig,Aq={f32:"float",i32:"int",u32:"uint",bool:"bool","vec2<f32>":"vec2","vec2<i32>":"ivec2","vec2<u32>":"uvec2","vec2<bool>":"bvec2",vec2f:"vec2",vec2i:"ivec2",vec2u:"uvec2",vec2b:"bvec2","vec3<f32>":"vec3","vec3<i32>":"ivec3","vec3<u32>":"uvec3","vec3<bool>":"bvec3",vec3f:"vec3",vec3i:"ivec3",vec3u:"uvec3",vec3b:"bvec3","vec4<f32>":"vec4","vec4<i32>":"ivec4","vec4<u32>":"uvec4","vec4<bool>":"bvec4",vec4f:"vec4",vec4i:"ivec4",vec4u:"uvec4",vec4b:"bvec4","mat2x2<f32>":"mat2",mat2x2f:"mat2","mat3x3<f32>":"mat3",mat3x3f:"mat3","mat4x4<f32>":"mat4",mat4x4f:"mat4",sampler:"sampler",texture_1d:"texture",texture_2d:"texture",texture_2d_array:"texture",texture_multisampled_2d:"cubeTexture",texture_depth_2d:"depthTexture",texture_depth_2d_array:"depthTexture",texture_depth_multisampled_2d:"depthTexture",texture_depth_cube:"depthTexture",texture_depth_cube_array:"depthTexture",texture_3d:"texture3D",texture_cube:"cubeTexture",texture_cube_array:"cubeTexture",texture_storage_1d:"storageTexture",texture_storage_2d:"storageTexture",texture_storage_2d_array:"storageTexture",texture_storage_3d:"storageTexture"},YCe=n=>{n=n.trim();const e=n.match(WCe);if(e!==null&&e.length===4){const t=e[2],i=[];let r=null;for(;(r=XCe.exec(t))!==null;)i.push({name:r[1],type:r[2]});const s=[];for(let c=0;c<i.length;c++){const{name:f,type:m}=i[c];let v=m;v.startsWith("ptr")?v="pointer":(v.startsWith("texture")&&(v=m.split("<")[0]),v=Aq[v]),s.push(new hU(v,f))}const a=n.substring(e[0].length),o=e[3]||"void",l=e[1]!==void 0?e[1]:"";return{type:Aq[o]||o,inputs:s,name:l,inputsCode:t,blockCode:a,outputType:o}}else throw new Error("FunctionNode: Function is not a WGSL code.")};class QCe extends AU{constructor(e){const{type:t,inputs:i,name:r,inputsCode:s,blockCode:a,outputType:o}=YCe(e);super(t,i,r),this.inputsCode=s,this.blockCode=a,this.outputType=o}getCode(e=this.name){const t=this.outputType!=="void"?"-> "+this.outputType:"";return`fn ${e} ( ${this.inputsCode.trim()} ) ${t}`+this.blockCode}}class $Ce extends wne{parseFunction(e){return new QCe(e)}}const s6=typeof self<"u"?self.GPUShaderStage:{VERTEX:1,FRAGMENT:2,COMPUTE:4},KCe={[lo.READ_ONLY]:"read",[lo.WRITE_ONLY]:"write",[lo.READ_WRITE]:"read_write"},pq={[Gc]:"repeat",[Po]:"clamp",[qc]:"mirror"},vv={vertex:s6?s6.VERTEX:1,fragment:s6?s6.FRAGMENT:2,compute:s6?s6.COMPUTE:4},mq={instance:!0,swizzleAssign:!1,storageBuffer:!0},ZCe={"^^":"tsl_xor"},JCe={float:"f32",int:"i32",uint:"u32",bool:"bool",color:"vec3<f32>",vec2:"vec2<f32>",ivec2:"vec2<i32>",uvec2:"vec2<u32>",bvec2:"vec2<bool>",vec3:"vec3<f32>",ivec3:"vec3<i32>",uvec3:"vec3<u32>",bvec3:"vec3<bool>",vec4:"vec4<f32>",ivec4:"vec4<i32>",uvec4:"vec4<u32>",bvec4:"vec4<bool>",mat2:"mat2x2<f32>",mat3:"mat3x3<f32>",mat4:"mat4x4<f32>"},gq={},y0={tsl_xor:new Ps("fn tsl_xor( a : bool, b : bool ) -> bool { return ( a || b ) && !( a && b ); }"),mod_float:new Ps("fn tsl_mod_float( x : f32, y : f32 ) -> f32 { return x - y * floor( x / y ); }"),mod_vec2:new Ps("fn tsl_mod_vec2( x : vec2f, y : vec2f ) -> vec2f { return x - y * floor( x / y ); }"),mod_vec3:new Ps("fn tsl_mod_vec3( x : vec3f, y : vec3f ) -> vec3f { return x - y * floor( x / y ); }"),mod_vec4:new Ps("fn tsl_mod_vec4( x : vec4f, y : vec4f ) -> vec4f { return x - y * floor( x / y ); }"),equals_bool:new Ps("fn tsl_equals_bool( a : bool, b : bool ) -> bool { return a == b; }"),equals_bvec2:new Ps("fn tsl_equals_bvec2( a : vec2f, b : vec2f ) -> vec2<bool> { return vec2<bool>( a.x == b.x, a.y == b.y ); }"),equals_bvec3:new Ps("fn tsl_equals_bvec3( a : vec3f, b : vec3f ) -> vec3<bool> { return vec3<bool>( a.x == b.x, a.y == b.y, a.z == b.z ); }"),equals_bvec4:new Ps("fn tsl_equals_bvec4( a : vec4f, b : vec4f ) -> vec4<bool> { return vec4<bool>( a.x == b.x, a.y == b.y, a.z == b.z, a.w == b.w ); }"),repeatWrapping_float:new Ps("fn tsl_repeatWrapping_float( coord: f32 ) -> f32 { return fract( coord ); }"),mirrorWrapping_float:new Ps("fn tsl_mirrorWrapping_float( coord: f32 ) -> f32 { let mirrored = fract( coord * 0.5 ) * 2.0; return 1.0 - abs( 1.0 - mirrored ); }"),clampWrapping_float:new Ps("fn tsl_clampWrapping_float( coord: f32 ) -> f32 { return clamp( coord, 0.0, 1.0 ); }"),biquadraticTexture:new Ps(`
fn tsl_biquadraticTexture( map : texture_2d<f32>, coord : vec2f, iRes : vec2u, level : u32 ) -> vec4f {

	let res = vec2f( iRes );

	let uvScaled = coord * res;
	let uvWrapping = ( ( uvScaled % res ) + res ) % res;

	// https://www.shadertoy.com/view/WtyXRy

	let uv = uvWrapping - 0.5;
	let iuv = floor( uv );
	let f = fract( uv );

	let rg1 = textureLoad( map, vec2u( iuv + vec2( 0.5, 0.5 ) ) % iRes, level );
	let rg2 = textureLoad( map, vec2u( iuv + vec2( 1.5, 0.5 ) ) % iRes, level );
	let rg3 = textureLoad( map, vec2u( iuv + vec2( 0.5, 1.5 ) ) % iRes, level );
	let rg4 = textureLoad( map, vec2u( iuv + vec2( 1.5, 1.5 ) ) % iRes, level );

	return mix( mix( rg1, rg2, f.x ), mix( rg3, rg4, f.x ), f.y );

}
`)},z9={dFdx:"dpdx",dFdy:"- dpdy",mod_float:"tsl_mod_float",mod_vec2:"tsl_mod_vec2",mod_vec3:"tsl_mod_vec3",mod_vec4:"tsl_mod_vec4",equals_bool:"tsl_equals_bool",equals_bvec2:"tsl_equals_bvec2",equals_bvec3:"tsl_equals_bvec3",equals_bvec4:"tsl_equals_bvec4",inversesqrt:"inverseSqrt",bitcast:"bitcast<f32>"};typeof navigator<"u"&&/Windows/g.test(navigator.userAgent)&&(y0.pow_float=new Ps("fn tsl_pow_float( a : f32, b : f32 ) -> f32 { return select( -pow( -a, b ), pow( a, b ), a > 0.0 ); }"),y0.pow_vec2=new Ps("fn tsl_pow_vec2( a : vec2f, b : vec2f ) -> vec2f { return vec2f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ) ); }",[y0.pow_float]),y0.pow_vec3=new Ps("fn tsl_pow_vec3( a : vec3f, b : vec3f ) -> vec3f { return vec3f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ), tsl_pow_float( a.z, b.z ) ); }",[y0.pow_float]),y0.pow_vec4=new Ps("fn tsl_pow_vec4( a : vec4f, b : vec4f ) -> vec4f { return vec4f( tsl_pow_float( a.x, b.x ), tsl_pow_float( a.y, b.y ), tsl_pow_float( a.z, b.z ), tsl_pow_float( a.w, b.w ) ); }",[y0.pow_float]),z9.pow_float="tsl_pow_float",z9.pow_vec2="tsl_pow_vec2",z9.pow_vec3="tsl_pow_vec3",z9.pow_vec4="tsl_pow_vec4");let Ine="";(typeof navigator<"u"&&/Firefox|Deno/g.test(navigator.userAgent))!==!0&&(Ine+=`diagnostic( off, derivative_uniformity );
`);class eNe extends Ene{constructor(e,t){super(e,t,new $Ce),this.uniformGroups={},this.builtins={},this.directives={},this.scopedArrays=new Map}needsToWorkingColorSpace(e){return e.isVideoTexture===!0&&e.colorSpace!==no}_generateTextureSample(e,t,i,r,s=this.shaderStage){return s==="fragment"?r?`textureSample( ${t}, ${t}_sampler, ${i}, ${r} )`:`textureSample( ${t}, ${t}_sampler, ${i} )`:this._generateTextureSampleLevel(e,t,i,"0",r)}_generateVideoSample(e,t,i=this.shaderStage){if(i==="fragment")return`textureSampleBaseClampToEdge( ${e}, ${e}_sampler, vec2<f32>( ${t}.x, 1.0 - ${t}.y ) )`;console.error(`WebGPURenderer: THREE.VideoTexture does not support ${i} shader.`)}_generateTextureSampleLevel(e,t,i,r,s){return this.isUnfilterable(e)===!1?`textureSampleLevel( ${t}, ${t}_sampler, ${i}, ${r} )`:this.isFilteredTexture(e)?this.generateFilteredTexture(e,t,i,r):this.generateTextureLod(e,t,i,s,r)}generateWrapFunction(e){const t=`tsl_coord_${pq[e.wrapS]}S_${pq[e.wrapT]}_${e.isData3DTexture?"3d":"2d"}T`;let i=gq[t];if(i===void 0){const r=[],s=e.isData3DTexture?"vec3f":"vec2f";let a=`fn ${t}( coord : ${s} ) -> ${s} {

	return ${s}(
`;const o=(l,u)=>{l===Gc?(r.push(y0.repeatWrapping_float),a+=`		tsl_repeatWrapping_float( coord.${u} )`):l===Po?(r.push(y0.clampWrapping_float),a+=`		tsl_clampWrapping_float( coord.${u} )`):l===qc?(r.push(y0.mirrorWrapping_float),a+=`		tsl_mirrorWrapping_float( coord.${u} )`):(a+=`		coord.${u}`,console.warn(`WebGPURenderer: Unsupported texture wrap type "${l}" for vertex shader.`))};o(e.wrapS,"x"),a+=`,
`,o(e.wrapT,"y"),e.isData3DTexture&&(a+=`,
`,o(e.wrapR,"z")),a+=`
	);

}
`,gq[t]=i=new Ps(a,r)}return i.build(this),t}generateArrayDeclaration(e,t){return`array< ${this.getType(e)}, ${t} >`}generateTextureDimension(e,t,i){const r=this.getDataFromNode(e,this.shaderStage,this.globalCache);r.dimensionsSnippet===void 0&&(r.dimensionsSnippet={});let s=r.dimensionsSnippet[i];if(r.dimensionsSnippet[i]===void 0){let a,o;const{primarySamples:l}=this.renderer.backend.utils.getTextureSampleData(e),u=l>1;e.isData3DTexture?o="vec3<u32>":o="vec2<u32>",u||e.isVideoTexture||e.isStorageTexture?a=t:a=`${t}${i?`, u32( ${i} )`:""}`,s=new cx(new fx(`textureDimensions( ${a} )`,o)),r.dimensionsSnippet[i]=s,(e.isArrayTexture||e.isDataArrayTexture||e.isData3DTexture)&&(r.arrayLayerCount=new cx(new fx(`textureNumLayers(${t})`,"u32"))),e.isTextureCube&&(r.cubeFaceCount=new cx(new fx("6u","u32")))}return s.build(this)}generateFilteredTexture(e,t,i,r="0u"){this._include("biquadraticTexture");const s=this.generateWrapFunction(e),a=this.generateTextureDimension(e,t,r);return`tsl_biquadraticTexture( ${t}, ${s}( ${i} ), ${a}, u32( ${r} ) )`}generateTextureLod(e,t,i,r,s="0u"){const a=this.generateWrapFunction(e),o=this.generateTextureDimension(e,t,s),l=e.isData3DTexture?"vec3":"vec2",u=`${l}<u32>( ${a}( ${i} ) * ${l}<f32>( ${o} ) )`;return this.generateTextureLoad(e,t,u,r,s)}generateTextureLoad(e,t,i,r,s="0u"){let a;return e.isVideoTexture===!0?a=`textureLoad( ${t}, ${i} )`:r?a=`textureLoad( ${t}, ${i}, ${r}, u32( ${s} ) )`:(a=`textureLoad( ${t}, ${i}, u32( ${s} ) )`,this.renderer.backend.compatibilityMode&&e.isDepthTexture&&(a+=".x")),a}generateTextureStore(e,t,i,r,s){let a;return r?a=`textureStore( ${t}, ${i}, ${r}, ${s} )`:a=`textureStore( ${t}, ${i}, ${s} )`,a}isSampleCompare(e){return e.isDepthTexture===!0&&e.compareFunction!==null}isUnfilterable(e){return this.getComponentTypeFromTexture(e)!=="float"||!this.isAvailable("float32Filterable")&&e.isDataTexture===!0&&e.type===Mr||this.isSampleCompare(e)===!1&&e.minFilter===fr&&e.magFilter===fr||this.renderer.backend.utils.getTextureSampleData(e).primarySamples>1}generateTexture(e,t,i,r,s=this.shaderStage){let a=null;return e.isVideoTexture===!0?a=this._generateVideoSample(t,i,s):this.isUnfilterable(e)?a=this.generateTextureLod(e,t,i,r,"0",s):a=this._generateTextureSample(e,t,i,r,s),a}generateTextureGrad(e,t,i,r,s,a=this.shaderStage){if(a==="fragment")return`textureSampleGrad( ${t}, ${t}_sampler, ${i},  ${r[0]}, ${r[1]} )`;console.error(`WebGPURenderer: THREE.TextureNode.gradient() does not support ${a} shader.`)}generateTextureCompare(e,t,i,r,s,a=this.shaderStage){if(a==="fragment")return e.isDepthTexture===!0&&e.isArrayTexture===!0?`textureSampleCompare( ${t}, ${t}_sampler, ${i}, ${s}, ${r} )`:`textureSampleCompare( ${t}, ${t}_sampler, ${i}, ${r} )`;console.error(`WebGPURenderer: THREE.DepthTexture.compareFunction() does not support ${a} shader.`)}generateTextureLevel(e,t,i,r,s,a=this.shaderStage){let o=null;return e.isVideoTexture===!0?o=this._generateVideoSample(t,i,a):o=this._generateTextureSampleLevel(e,t,i,r,s),o}generateTextureBias(e,t,i,r,s,a=this.shaderStage){if(a==="fragment")return`textureSampleBias( ${t}, ${t}_sampler, ${i}, ${r} )`;console.error(`WebGPURenderer: THREE.TextureNode.biasNode does not support ${a} shader.`)}getPropertyName(e,t=this.shaderStage){if(e.isNodeVarying===!0&&e.needsInterpolation===!0){if(t==="vertex")return`varyings.${e.name}`}else if(e.isNodeUniform===!0){const i=e.name,r=e.type;return r==="texture"||r==="cubeTexture"||r==="storageTexture"||r==="texture3D"?i:r==="buffer"||r==="storageBuffer"||r==="indirectStorageBuffer"?this.isCustomStruct(e)?i:i+".value":e.groupNode.name+"."+i}return super.getPropertyName(e)}getOutputStructName(){return"output"}getFunctionOperator(e){const t=ZCe[e];return t!==void 0?(this._include(t),t):null}getNodeAccess(e,t){return t!=="compute"?lo.READ_ONLY:e.access}getStorageAccess(e,t){return KCe[this.getNodeAccess(e,t)]}getUniformFromNode(e,t,i,r=null){const s=super.getUniformFromNode(e,t,i,r),a=this.getDataFromNode(e,i,this.globalCache);if(a.uniformGPU===void 0){let o;const l=e.groupNode,u=l.name,c=this.getBindGroupArray(u,i);if(t==="texture"||t==="cubeTexture"||t==="storageTexture"||t==="texture3D"){let f=null;const m=this.getNodeAccess(e,i);if(t==="texture"||t==="storageTexture"?f=new rT(s.name,s.node,l,m):t==="cubeTexture"?f=new Lne(s.name,s.node,l,m):t==="texture3D"&&(f=new Bne(s.name,s.node,l,m)),f.store=e.isStorageTextureNode===!0,f.setVisibility(vv[i]),this.isUnfilterable(e.value)===!1&&f.store===!1){const v=new FCe(`${s.name}_sampler`,s.node,l);v.setVisibility(vv[i]),c.push(v,f),o=[v,f]}else c.push(f),o=[f]}else if(t==="buffer"||t==="storageBuffer"||t==="indirectStorageBuffer"){const f=t==="buffer"?Dne:kCe,m=new f(e,l);m.setVisibility(vv[i]),c.push(m),o=m,s.name=r||"NodeBuffer_"+s.id}else{const f=this.uniformGroups[i]||(this.uniformGroups[i]={});let m=f[u];m===void 0&&(m=new Pne(u,l),m.setVisibility(vv[i]),f[u]=m,c.push(m)),o=this.getNodeUniform(s,t),m.addUniform(o)}a.uniformGPU=o}return s}getBuiltin(e,t,i,r=this.shaderStage){const s=this.builtins[r]||(this.builtins[r]=new Map);return s.has(e)===!1&&s.set(e,{name:e,property:t,type:i}),t}hasBuiltin(e,t=this.shaderStage){return this.builtins[t]!==void 0&&this.builtins[t].has(e)}getVertexIndex(){return this.shaderStage==="vertex"?this.getBuiltin("vertex_index","vertexIndex","u32","attribute"):"vertexIndex"}buildFunctionCode(e){const t=e.layout,i=this.flowShaderNode(e),r=[];for(const a of t.inputs)r.push(a.name+" : "+this.getType(a.type));let s=`fn ${t.name}( ${r.join(", ")} ) -> ${this.getType(t.type)} {
${i.vars}
${i.code}
`;return i.result&&(s+=`	return ${i.result};
`),s+=`
}
`,s}getInstanceIndex(){return this.shaderStage==="vertex"?this.getBuiltin("instance_index","instanceIndex","u32","attribute"):"instanceIndex"}getInvocationLocalIndex(){return this.getBuiltin("local_invocation_index","invocationLocalIndex","u32","attribute")}getSubgroupSize(){return this.enableSubGroups(),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute")}getInvocationSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_invocation_id","invocationSubgroupIndex","u32","attribute")}getSubgroupIndex(){return this.enableSubGroups(),this.getBuiltin("subgroup_id","subgroupIndex","u32","attribute")}getDrawIndex(){return null}getFrontFacing(){return this.getBuiltin("front_facing","isFront","bool")}getFragCoord(){return this.getBuiltin("position","fragCoord","vec4<f32>")+".xy"}getFragDepth(){return"output."+this.getBuiltin("frag_depth","depth","f32","output")}getClipDistance(){return"varyings.hw_clip_distances"}isFlipY(){return!1}enableDirective(e,t=this.shaderStage){(this.directives[t]||(this.directives[t]=new Set)).add(e)}getDirectives(e){const t=[],i=this.directives[e];if(i!==void 0)for(const r of i)t.push(`enable ${r};`);return t.join(`
`)}enableSubGroups(){this.enableDirective("subgroups")}enableSubgroupsF16(){this.enableDirective("subgroups-f16")}enableClipDistances(){this.enableDirective("clip_distances")}enableShaderF16(){this.enableDirective("f16")}enableDualSourceBlending(){this.enableDirective("dual_source_blending")}enableHardwareClipping(e){this.enableClipDistances(),this.getBuiltin("clip_distances","hw_clip_distances",`array<f32, ${e} >`,"vertex")}getBuiltins(e){const t=[],i=this.builtins[e];if(i!==void 0)for(const{name:r,property:s,type:a}of i.values())t.push(`@builtin( ${r} ) ${s} : ${a}`);return t.join(`,
	`)}getScopedArray(e,t,i,r){return this.scopedArrays.has(e)===!1&&this.scopedArrays.set(e,{name:e,scope:t,bufferType:i,bufferCount:r}),e}getScopedArrays(e){if(e!=="compute")return;const t=[];for(const{name:i,scope:r,bufferType:s,bufferCount:a}of this.scopedArrays.values()){const o=this.getType(s);t.push(`var<${r}> ${i}: array< ${o}, ${a} >;`)}return t.join(`
`)}getAttributes(e){const t=[];if(e==="compute"&&(this.getBuiltin("global_invocation_id","globalId","vec3<u32>","attribute"),this.getBuiltin("workgroup_id","workgroupId","vec3<u32>","attribute"),this.getBuiltin("local_invocation_id","localId","vec3<u32>","attribute"),this.getBuiltin("num_workgroups","numWorkgroups","vec3<u32>","attribute"),this.renderer.hasFeature("subgroups")&&(this.enableDirective("subgroups",e),this.getBuiltin("subgroup_size","subgroupSize","u32","attribute"))),e==="vertex"||e==="compute"){const i=this.getBuiltins("attribute");i&&t.push(i);const r=this.getAttributesArray();for(let s=0,a=r.length;s<a;s++){const o=r[s],l=o.name,u=this.getType(o.type);t.push(`@location( ${s} ) ${l} : ${u}`)}}return t.join(`,
	`)}getStructMembers(e){const t=[];for(const i of e.members){const r=e.output?"@location( "+i.index+" ) ":"";let s=this.getType(i.type);i.atomic&&(s="atomic< "+s+" >"),t.push(`	${r+i.name} : ${s}`)}return e.output&&t.push(`	${this.getBuiltins("output")}`),t.join(`,
`)}getStructs(e){let t="";const i=this.structs[e];if(i.length>0){const r=[];for(const s of i){let a=`struct ${s.name} {
`;a+=this.getStructMembers(s),a+=`
};`,r.push(a)}t=`
`+r.join(`

`)+`
`}return t}getVar(e,t,i=null){let r=`var ${t} : `;return i!==null?r+=this.generateArrayDeclaration(e,i):r+=this.getType(e),r}getVars(e){const t=[],i=this.vars[e];if(i!==void 0)for(const r of i)t.push(`	${this.getVar(r.type,r.name,r.count)};`);return`
${t.join(`
`)}
`}getVaryings(e){const t=[];if(e==="vertex"&&this.getBuiltin("position","Vertex","vec4<f32>","vertex"),e==="vertex"||e==="fragment"){const s=this.varyings,a=this.vars[e];for(let o=0;o<s.length;o++){const l=s[o];if(l.needsInterpolation){let u=`@location( ${o} )`;if(l.interpolationType){const c=l.interpolationSampling!==null?`, ${l.interpolationSampling} )`:" )";u+=` @interpolate( ${l.interpolationType}${c}`}else/^(int|uint|ivec|uvec)/.test(l.type)&&(u+=` @interpolate( ${this.renderer.backend.compatibilityMode?"flat, either":"flat"} )`);t.push(`${u} ${l.name} : ${this.getType(l.type)}`)}else e==="vertex"&&a.includes(l)===!1&&a.push(l)}}const i=this.getBuiltins(e);i&&t.push(i);const r=t.join(`,
	`);return e==="vertex"?this._getWGSLStruct("VaryingsStruct","	"+r):r}isCustomStruct(e){const t=e.value,i=e.node,r=(t.isBufferAttribute||t.isInstancedBufferAttribute)&&i.structTypeNode!==null,s=i.value&&i.value.array&&typeof i.value.itemSize=="number"&&i.value.array.length>i.value.itemSize;return r&&!s}getUniforms(e){const t=this.uniforms[e],i=[],r=[],s=[],a={};for(const l of t){const u=l.groupNode.name,c=this.bindingsIndexes[u];if(l.type==="texture"||l.type==="cubeTexture"||l.type==="storageTexture"||l.type==="texture3D"){const f=l.node.value;this.isUnfilterable(f)===!1&&l.node.isStorageTextureNode!==!0&&(this.isSampleCompare(f)?i.push(`@binding( ${c.binding++} ) @group( ${c.group} ) var ${l.name}_sampler : sampler_comparison;`):i.push(`@binding( ${c.binding++} ) @group( ${c.group} ) var ${l.name}_sampler : sampler;`));let m,v="";const{primarySamples:_}=this.renderer.backend.utils.getTextureSampleData(f);if(_>1&&(v="_multisampled"),f.isCubeTexture===!0)m="texture_cube<f32>";else if(f.isDepthTexture===!0)this.renderer.backend.compatibilityMode&&f.compareFunction===null?m=`texture${v}_2d<f32>`:m=`texture_depth${v}_2d${f.isArrayTexture===!0?"_array":""}`;else if(l.node.isStorageTextureNode===!0){const T=ON(f),M=this.getStorageAccess(l.node,e),S=l.node.value.is3DTexture,R=l.node.value.isArrayTexture;m=`texture_storage_${S?"3d":`2d${R?"_array":""}`}<${T}, ${M}>`}else if(f.isArrayTexture===!0||f.isDataArrayTexture===!0||f.isCompressedArrayTexture===!0)m="texture_2d_array<f32>";else if(f.is3DTexture===!0||f.isData3DTexture===!0)m="texture_3d<f32>";else if(f.isVideoTexture===!0)m="texture_external";else{const T=this.getComponentTypeFromTexture(f).charAt(0);m=`texture${v}_2d<${T}32>`}i.push(`@binding( ${c.binding++} ) @group( ${c.group} ) var ${l.name} : ${m};`)}else if(l.type==="buffer"||l.type==="storageBuffer"||l.type==="indirectStorageBuffer"){const f=l.node,m=this.getType(f.getNodeType(this)),v=f.bufferCount,_=v>0&&l.type==="buffer"?", "+v:"",T=f.isStorageBufferNode?`storage, ${this.getStorageAccess(f,e)}`:"uniform";if(this.isCustomStruct(l))r.push(`@binding( ${c.binding++} ) @group( ${c.group} ) var<${T}> ${l.name} : ${m};`);else{const S=`	value : array< ${f.isAtomic?`atomic<${m}>`:`${m}`}${_} >`;r.push(this._getWGSLStructBinding(l.name,S,T,c.binding++,c.group))}}else{const f=this.getType(this.getVectorType(l.type)),m=l.groupNode.name;(a[m]||(a[m]={index:c.binding++,id:c.group,snippets:[]})).snippets.push(`	${l.name} : ${f}`)}}for(const l in a){const u=a[l];s.push(this._getWGSLStructBinding(l,u.snippets.join(`,
`),"uniform",u.index,u.id))}let o=i.join(`
`);return o+=r.join(`
`),o+=s.join(`
`),o}buildCode(){const e=this.material!==null?{fragment:{},vertex:{}}:{compute:{}};this.sortBindingGroups();for(const t in e){this.shaderStage=t;const i=e[t];i.uniforms=this.getUniforms(t),i.attributes=this.getAttributes(t),i.varyings=this.getVaryings(t),i.structs=this.getStructs(t),i.vars=this.getVars(t),i.codes=this.getCodes(t),i.directives=this.getDirectives(t),i.scopedArrays=this.getScopedArrays(t);let r=`// code

`;r+=this.flowCode[t];const s=this.flowNodes[t],a=s[s.length-1],o=a.outputNode,l=o!==void 0&&o.isOutputStructNode===!0;for(const u of s){const c=this.getFlowData(u),f=u.name;if(f&&(r.length>0&&(r+=`
`),r+=`	// flow -> ${f}
`),r+=`${c.code}
	`,u===a&&t!=="compute"){if(r+=`// result

	`,t==="vertex")r+=`varyings.Vertex = ${c.result};`;else if(t==="fragment")if(l)i.returnType=o.getNodeType(this),i.structs+="var<private> output : "+i.returnType+";",r+=`return ${c.result};`;else{let m="	@location(0) color: vec4<f32>";const v=this.getBuiltins("output");v&&(m+=`,
	`+v),i.returnType="OutputStruct",i.structs+=this._getWGSLStruct("OutputStruct",m),i.structs+=`
var<private> output : OutputStruct;`,r+=`output.color = ${c.result};

	return output;`}}}i.flow=r}this.shaderStage=null,this.material!==null?(this.vertexShader=this._getWGSLVertexCode(e.vertex),this.fragmentShader=this._getWGSLFragmentCode(e.fragment)):this.computeShader=this._getWGSLComputeCode(e.compute,(this.object.workgroupSize||[64]).join(", "))}getMethod(e,t=null){let i;return t!==null&&(i=this._getWGSLMethod(e+"_"+t)),i===void 0&&(i=this._getWGSLMethod(e)),i||e}getType(e){return JCe[e]||e}isAvailable(e){let t=mq[e];return t===void 0&&(e==="float32Filterable"?t=this.renderer.hasFeature("float32-filterable"):e==="clipDistance"&&(t=this.renderer.hasFeature("clip-distances")),mq[e]=t),t}_getWGSLMethod(e){return y0[e]!==void 0&&this._include(e),z9[e]}_include(e){const t=y0[e];return t.build(this),this.currentFunctionNode!==null&&this.currentFunctionNode.includes.push(t),t}_getWGSLVertexCode(e){return`${this.getSignature()}
// directives
${e.directives}

// structs
${e.structs}

// uniforms
${e.uniforms}

// varyings
${e.varyings}
var<private> varyings : VaryingsStruct;

// codes
${e.codes}

@vertex
fn main( ${e.attributes} ) -> VaryingsStruct {

	// vars
	${e.vars}

	// flow
	${e.flow}

	return varyings;

}
`}_getWGSLFragmentCode(e){return`${this.getSignature()}
// global
${Ine}

// structs
${e.structs}

// uniforms
${e.uniforms}

// codes
${e.codes}

@fragment
fn main( ${e.varyings} ) -> ${e.returnType} {

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}_getWGSLComputeCode(e,t){return`${this.getSignature()}
// directives
${e.directives}

// system
var<private> instanceIndex : u32;

// locals
${e.scopedArrays}

// structs
${e.structs}

// uniforms
${e.uniforms}

// codes
${e.codes}

@compute @workgroup_size( ${t} )
fn main( ${e.attributes} ) {

	// system
	instanceIndex = globalId.x + globalId.y * numWorkgroups.x * u32(${t}) + globalId.z * numWorkgroups.x * numWorkgroups.y * u32(${t});

	// vars
	${e.vars}

	// flow
	${e.flow}

}
`}_getWGSLStruct(e,t){return`
struct ${e} {
${t}
};`}_getWGSLStructBinding(e,t,i,r=0,s=0){const a=e+"Struct";return`${this._getWGSLStruct(a,t)}
@binding( ${r} ) @group( ${s} )
var<${i}> ${e} : ${a};`}}class tNe{constructor(e){this.backend=e}getCurrentDepthStencilFormat(e){let t;return e.depthTexture!==null?t=this.getTextureFormatGPU(e.depthTexture):e.depth&&e.stencil?t=Me.Depth24PlusStencil8:e.depth&&(t=Me.Depth24Plus),t}getTextureFormatGPU(e){return this.backend.get(e).format}getTextureSampleData(e){let t;if(e.isFramebufferTexture)t=1;else if(e.isDepthTexture&&!e.renderTarget){const s=this.backend.renderer,a=s.getRenderTarget();t=a?a.samples:s.samples}else e.renderTarget&&(t=e.renderTarget.samples);t=t||1;const i=t>1&&e.renderTarget!==null&&e.isDepthTexture!==!0&&e.isFramebufferTexture!==!0;return{samples:t,primarySamples:i?1:t,isMSAA:i}}getCurrentColorFormat(e){let t;return e.textures!==null?t=this.getTextureFormatGPU(e.textures[0]):t=this.getPreferredCanvasFormat(),t}getCurrentColorSpace(e){return e.textures!==null?e.textures[0].colorSpace:this.backend.renderer.outputColorSpace}getPrimitiveTopology(e,t){if(e.isPoints)return j6.PointList;if(e.isLineSegments||e.isMesh&&t.wireframe===!0)return j6.LineList;if(e.isLine)return j6.LineStrip;if(e.isMesh)return j6.TriangleList}getSampleCount(e){let t=1;return e>1&&(t=Math.pow(2,Math.floor(Math.log2(e))),t===2&&(t=4)),t}getSampleCountRenderContext(e){return e.textures!==null?this.getSampleCount(e.sampleCount):this.getSampleCount(this.backend.renderer.samples)}getPreferredCanvasFormat(){const e=this.backend.parameters.outputType;if(e===void 0)return navigator.gpu.getPreferredCanvasFormat();if(e===Lr)return Me.BGRA8Unorm;if(e===Fs)return Me.RGBA16Float;throw new Error("Unsupported outputType")}}const Fne=new Map([[Int8Array,["sint8","snorm8"]],[Uint8Array,["uint8","unorm8"]],[Int16Array,["sint16","snorm16"]],[Uint16Array,["uint16","unorm16"]],[Int32Array,["sint32","snorm32"]],[Uint32Array,["uint32","unorm32"]],[Float32Array,["float32"]]]);typeof Float16Array<"u"&&Fne.set(Float16Array,["float16"]);const nNe=new Map([[jP,["float16"]]]),iNe=new Map([[Int32Array,"sint32"],[Int16Array,"sint32"],[Uint32Array,"uint32"],[Uint16Array,"uint32"],[Float32Array,"float32"]]);class rNe{constructor(e){this.backend=e}createAttribute(e,t){const i=this._getBufferAttribute(e),r=this.backend,s=r.get(i);let a=s.buffer;if(a===void 0){const o=r.device;let l=i.array;if(e.normalized===!1){if(l.constructor===Int16Array||l.constructor===Int8Array)l=new Int32Array(l);else if((l.constructor===Uint16Array||l.constructor===Uint8Array)&&(l=new Uint32Array(l),t&GPUBufferUsage.INDEX))for(let f=0;f<l.length;f++)l[f]===65535&&(l[f]=4294967295)}if(i.array=l,(i.isStorageBufferAttribute||i.isStorageInstancedBufferAttribute)&&i.itemSize===3){l=new l.constructor(i.count*4);for(let f=0;f<i.count;f++)l.set(i.array.subarray(f*3,f*3+3),f*4);i.itemSize=4,i.array=l,s._force3to4BytesAlignment=!0}const u=l.byteLength,c=u+(4-u%4)%4;a=o.createBuffer({label:i.name,size:c,usage:t,mappedAtCreation:!0}),new l.constructor(a.getMappedRange()).set(l),a.unmap(),s.buffer=a}}updateAttribute(e){const t=this._getBufferAttribute(e),i=this.backend,r=i.device,s=i.get(t),a=i.get(t).buffer;let o=t.array;if(s._force3to4BytesAlignment===!0){o=new o.constructor(t.count*4);for(let c=0;c<t.count;c++)o.set(t.array.subarray(c*3,c*3+3),c*4);t.array=o}const l=this._isTypedArray(o),u=t.updateRanges;if(u.length===0)r.queue.writeBuffer(a,0,o,0);else{const c=l?1:o.BYTES_PER_ELEMENT;for(let f=0,m=u.length;f<m;f++){const v=u[f];let _,T;if(s._force3to4BytesAlignment===!0){const S=Math.floor(v.start/3),R=Math.ceil(v.count/3);_=S*4*c,T=R*4*c}else _=v.start*c,T=v.count*c;const M=_*(l?o.BYTES_PER_ELEMENT:1);r.queue.writeBuffer(a,M,o,_,T)}t.clearUpdateRanges()}}createShaderVertexBuffers(e){const t=e.getAttributes(),i=new Map;for(let r=0;r<t.length;r++){const s=t[r],a=s.array.BYTES_PER_ELEMENT,o=this._getBufferAttribute(s);let l=i.get(o);if(l===void 0){let f,m;s.isInterleavedBufferAttribute===!0?(f=s.data.stride*a,m=s.data.isInstancedInterleavedBuffer?yv.Instance:yv.Vertex):(f=s.itemSize*a,m=s.isInstancedBufferAttribute?yv.Instance:yv.Vertex),s.normalized===!1&&(s.array.constructor===Int16Array||s.array.constructor===Uint16Array)&&(f=4),l={arrayStride:f,attributes:[],stepMode:m},i.set(o,l)}const u=this._getVertexFormat(s),c=s.isInterleavedBufferAttribute===!0?s.offset*a:0;l.attributes.push({shaderLocation:r,offset:c,format:u})}return Array.from(i.values())}destroyAttribute(e){const t=this.backend;t.get(this._getBufferAttribute(e)).buffer.destroy(),t.delete(e)}async getArrayBufferAsync(e){const t=this.backend,i=t.device,s=t.get(this._getBufferAttribute(e)).buffer,a=s.size,o=i.createBuffer({label:`${e.name}_readback`,size:a,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),l=i.createCommandEncoder({label:`readback_encoder_${e.name}`});l.copyBufferToBuffer(s,0,o,0,a);const u=l.finish();i.queue.submit([u]),await o.mapAsync(GPUMapMode.READ);const c=o.getMappedRange(),f=new e.array.constructor(c.slice(0));return o.unmap(),f.buffer}_getVertexFormat(e){const{itemSize:t,normalized:i}=e,r=e.array.constructor,s=e.constructor;let a;if(t===1)a=iNe.get(r);else{const l=(nNe.get(s)||Fne.get(r))[i?1:0];if(l){const u=r.BYTES_PER_ELEMENT*t,f=Math.floor((u+3)/4)*4/r.BYTES_PER_ELEMENT;if(f%1)throw new Error("THREE.WebGPUAttributeUtils: Bad vertex format item size.");a=`${l}x${f}`}}return a||console.error("THREE.WebGPUAttributeUtils: Vertex format not supported yet."),a}_isTypedArray(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}_getBufferAttribute(e){return e.isInterleavedBufferAttribute&&(e=e.data),e}}class sNe{constructor(e){this.backend=e,this.bindGroupLayoutCache=new WeakMap}createBindingsLayout(e){const t=this.backend,i=t.device,r=[];let s=0;for(const a of e.bindings){const o={binding:s++,visibility:a.visibility};if(a.isUniformBuffer||a.isStorageBuffer){const l={};a.isStorageBuffer&&(a.visibility&4&&(a.access===lo.READ_WRITE||a.access===lo.WRITE_ONLY)?l.type=Mw.Storage:l.type=Mw.ReadOnlyStorage),o.buffer=l}else if(a.isSampler){const l={};a.texture.isDepthTexture&&(a.texture.compareFunction!==null?l.type=hq.Comparison:t.compatibilityMode&&(l.type=hq.NonFiltering)),o.sampler=l}else if(a.isSampledTexture&&a.texture.isVideoTexture)o.externalTexture={};else if(a.isSampledTexture&&a.store){const l={};l.format=this.backend.get(a.texture).texture.format;const u=a.access;u===lo.READ_WRITE?l.access=Ew.ReadWrite:u===lo.WRITE_ONLY?l.access=Ew.WriteOnly:l.access=Ew.ReadOnly,a.texture.isArrayTexture?l.viewDimension=Bs.TwoDArray:a.texture.is3DTexture&&(l.viewDimension=Bs.ThreeD),o.storageTexture=l}else if(a.isSampledTexture){const l={},{primarySamples:u}=t.utils.getTextureSampleData(a.texture);if(u>1&&(l.multisampled=!0,a.texture.isDepthTexture||(l.sampleType=z4.UnfilterableFloat)),a.texture.isDepthTexture)t.compatibilityMode&&a.texture.compareFunction===null?l.sampleType=z4.UnfilterableFloat:l.sampleType=z4.Depth;else if(a.texture.isDataTexture||a.texture.isDataArrayTexture||a.texture.isData3DTexture){const c=a.texture.type;c===ea?l.sampleType=z4.SInt:c===tr?l.sampleType=z4.UInt:c===Mr&&(this.backend.hasFeature("float32-filterable")?l.sampleType=z4.Float:l.sampleType=z4.UnfilterableFloat)}a.isSampledCubeTexture?l.viewDimension=Bs.Cube:a.texture.isArrayTexture||a.texture.isDataArrayTexture||a.texture.isCompressedArrayTexture?l.viewDimension=Bs.TwoDArray:a.isSampledTexture3D&&(l.viewDimension=Bs.ThreeD),o.texture=l}else console.error(`WebGPUBindingUtils: Unsupported binding "${a}".`);r.push(o)}return i.createBindGroupLayout({entries:r})}createBindings(e,t,i,r=0){const{backend:s,bindGroupLayoutCache:a}=this,o=s.get(e);let l=a.get(e.bindingsReference);l===void 0&&(l=this.createBindingsLayout(e),a.set(e.bindingsReference,l));let u;i>0&&(o.groups===void 0&&(o.groups=[],o.versions=[]),o.versions[i]===r&&(u=o.groups[i])),u===void 0&&(u=this.createBindGroup(e,l),i>0&&(o.groups[i]=u,o.versions[i]=r)),o.group=u,o.layout=l}updateBinding(e){const t=this.backend,i=t.device,r=e.buffer,s=t.get(e).buffer;i.queue.writeBuffer(s,0,r,0)}createBindGroupIndex(e,t){const r=this.backend.device,s=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,a=e[0],o=r.createBuffer({label:"bindingCameraIndex_"+a,size:16,usage:s});r.queue.writeBuffer(o,0,e,0);const l=[{binding:0,resource:{buffer:o}}];return r.createBindGroup({label:"bindGroupCameraIndex_"+a,layout:t,entries:l})}createBindGroup(e,t){const i=this.backend,r=i.device;let s=0;const a=[];for(const o of e.bindings){if(o.isUniformBuffer){const l=i.get(o);if(l.buffer===void 0){const u=o.byteLength,c=GPUBufferUsage.UNIFORM|GPUBufferUsage.COPY_DST,f=r.createBuffer({label:"bindingBuffer_"+o.name,size:u,usage:c});l.buffer=f}a.push({binding:s,resource:{buffer:l.buffer}})}else if(o.isStorageBuffer){const l=i.get(o);if(l.buffer===void 0){const u=o.attribute;l.buffer=i.get(u).buffer}a.push({binding:s,resource:{buffer:l.buffer}})}else if(o.isSampler){const l=i.get(o.texture);a.push({binding:s,resource:l.sampler})}else if(o.isSampledTexture){const l=i.get(o.texture);let u;if(l.externalTexture!==void 0)u=r.importExternalTexture({source:l.externalTexture});else{const c=o.store?1:l.texture.mipLevelCount,f=`view-${l.texture.width}-${l.texture.height}-${c}`;if(u=l[f],u===void 0){const m=OCe.All;let v;o.isSampledCubeTexture?v=Bs.Cube:o.isSampledTexture3D?v=Bs.ThreeD:o.texture.isArrayTexture||o.texture.isDataArrayTexture||o.texture.isCompressedArrayTexture?v=Bs.TwoDArray:v=Bs.TwoD,u=l[f]=l.texture.createView({aspect:m,dimension:v,mipLevelCount:c})}}a.push({binding:s,resource:u})}s++}return r.createBindGroup({label:"bindGroup_"+e.name,layout:t,entries:a})}}class aNe{constructor(e){this.backend=e,this._activePipelines=new WeakMap}setPipeline(e,t){this._activePipelines.get(e)!==t&&(e.setPipeline(t),this._activePipelines.set(e,t))}_getSampleCount(e){return this.backend.utils.getSampleCountRenderContext(e)}createRenderPipeline(e,t){const{object:i,material:r,geometry:s,pipeline:a}=e,{vertexProgram:o,fragmentProgram:l}=a,u=this.backend,c=u.device,f=u.utils,m=u.get(a),v=[];for(const $ of e.getBindings()){const ae=u.get($);v.push(ae.layout)}const _=u.attributeUtils.createShaderVertexBuffers(e);let T;r.blending!==nl&&(r.blending!==uo||r.transparent!==!1)&&(T=this._getBlending(r));let M={};r.stencilWrite===!0&&(M={compare:this._getStencilCompare(r),failOp:this._getStencilOperation(r.stencilFail),depthFailOp:this._getStencilOperation(r.stencilZFail),passOp:this._getStencilOperation(r.stencilZPass)});const S=this._getColorWriteMask(r),R=[];if(e.context.textures!==null){const $=e.context.textures;for(let ae=0;ae<$.length;ae++){const ne=f.getTextureFormatGPU($[ae]);R.push({format:ne,blend:T,writeMask:S})}}else{const $=f.getCurrentColorFormat(e.context);R.push({format:$,blend:T,writeMask:S})}const C=u.get(o).module,P=u.get(l).module,B=this._getPrimitiveState(i,s,r),O=this._getDepthCompare(r),V=f.getCurrentDepthStencilFormat(e.context),F=this._getSampleCount(e.context),z={label:`renderPipeline_${r.name||r.type}_${r.id}`,vertex:Object.assign({},C,{buffers:_}),fragment:Object.assign({},P,{targets:R}),primitive:B,multisample:{count:F,alphaToCoverageEnabled:r.alphaToCoverage&&F>1},layout:c.createPipelineLayout({bindGroupLayouts:v})},k={},H=e.context.depth,Z=e.context.stencil;if((H===!0||Z===!0)&&(H===!0&&(k.format=V,k.depthWriteEnabled=r.depthWrite,k.depthCompare=O),Z===!0&&(k.stencilFront=M,k.stencilBack={},k.stencilReadMask=r.stencilFuncMask,k.stencilWriteMask=r.stencilWriteMask),r.polygonOffset===!0&&(k.depthBias=r.polygonOffsetUnits,k.depthBiasSlopeScale=r.polygonOffsetFactor,k.depthBiasClamp=0),z.depthStencil=k),t===null)m.pipeline=c.createRenderPipeline(z);else{const $=new Promise(ae=>{c.createRenderPipelineAsync(z).then(ne=>{m.pipeline=ne,ae()})});t.push($)}}createBundleEncoder(e,t="renderBundleEncoder"){const i=this.backend,{utils:r,device:s}=i,a=r.getCurrentDepthStencilFormat(e),o=r.getCurrentColorFormat(e),l=this._getSampleCount(e),u={label:t,colorFormats:[o],depthStencilFormat:a,sampleCount:l};return s.createRenderBundleEncoder(u)}createComputePipeline(e,t){const i=this.backend,r=i.device,s=i.get(e.computeProgram).module,a=i.get(e),o=[];for(const l of t){const u=i.get(l);o.push(u.layout)}a.pipeline=r.createComputePipeline({compute:s,layout:r.createPipelineLayout({bindGroupLayouts:o})})}_getBlending(e){let t,i;const r=e.blending,s=e.blendSrc,a=e.blendDst,o=e.blendEquation;if(r===bf){const l=e.blendSrcAlpha!==null?e.blendSrcAlpha:s,u=e.blendDstAlpha!==null?e.blendDstAlpha:a,c=e.blendEquationAlpha!==null?e.blendEquationAlpha:o;t={srcFactor:this._getBlendFactor(s),dstFactor:this._getBlendFactor(a),operation:this._getBlendOperation(o)},i={srcFactor:this._getBlendFactor(l),dstFactor:this._getBlendFactor(u),operation:this._getBlendOperation(c)}}else{const l=e.premultipliedAlpha,u=(c,f,m,v)=>{t={srcFactor:c,dstFactor:f,operation:F4.Add},i={srcFactor:m,dstFactor:v,operation:F4.Add}};if(l)switch(r){case uo:u(_i.One,_i.OneMinusSrcAlpha,_i.One,_i.OneMinusSrcAlpha);break;case Uf:u(_i.One,_i.One,_i.One,_i.One);break;case Of:u(_i.Zero,_i.OneMinusSrc,_i.Zero,_i.One);break;case If:u(_i.Dst,_i.OneMinusSrcAlpha,_i.Zero,_i.One);break}else switch(r){case uo:u(_i.SrcAlpha,_i.OneMinusSrcAlpha,_i.One,_i.OneMinusSrcAlpha);break;case Uf:u(_i.SrcAlpha,_i.One,_i.One,_i.One);break;case Of:console.error("THREE.WebGPURenderer: SubtractiveBlending requires material.premultipliedAlpha = true");break;case If:console.error("THREE.WebGPURenderer: MultiplyBlending requires material.premultipliedAlpha = true");break}}if(t!==void 0&&i!==void 0)return{color:t,alpha:i};console.error("THREE.WebGPURenderer: Invalid blending: ",r)}_getBlendFactor(e){let t;switch(e){case Ku:t=_i.Zero;break;case Vb:t=_i.One;break;case kb:t=_i.Src;break;case Gb:t=_i.OneMinusSrc;break;case Sd:t=_i.SrcAlpha;break;case Td:t=_i.OneMinusSrcAlpha;break;case jb:t=_i.Dst;break;case Wb:t=_i.OneMinusDst;break;case qb:t=_i.DstAlpha;break;case Hb:t=_i.OneMinusDstAlpha;break;case Xb:t=_i.SrcAlphaSaturated;break;case pTe:t=_i.Constant;break;case mTe:t=_i.OneMinusConstant;break;default:console.error("THREE.WebGPURenderer: Blend factor not supported.",e)}return t}_getStencilCompare(e){let t;const i=e.stencilFunc;switch(i){case NQ:t=Ra.Never;break;case u_:t=Ra.Always;break;case DQ:t=Ra.Less;break;case LQ:t=Ra.LessEqual;break;case PQ:t=Ra.Equal;break;case OQ:t=Ra.GreaterEqual;break;case BQ:t=Ra.Greater;break;case UQ:t=Ra.NotEqual;break;default:console.error("THREE.WebGPURenderer: Invalid stencil function.",i)}return t}_getStencilOperation(e){let t;switch(e){case V2:t=L2.Keep;break;case SQ:t=L2.Zero;break;case TQ:t=L2.Replace;break;case CQ:t=L2.Invert;break;case MQ:t=L2.IncrementClamp;break;case EQ:t=L2.DecrementClamp;break;case wQ:t=L2.IncrementWrap;break;case RQ:t=L2.DecrementWrap;break;default:console.error("THREE.WebGPURenderer: Invalid stencil operation.",t)}return t}_getBlendOperation(e){let t;switch(e){case Oa:t=F4.Add;break;case Fb:t=F4.Subtract;break;case zb:t=F4.ReverseSubtract;break;case DP:t=F4.Min;break;case PP:t=F4.Max;break;default:console.error("THREE.WebGPUPipelineUtils: Blend equation not supported.",e)}return t}_getPrimitiveState(e,t,i){const r={},s=this.backend.utils;switch(r.topology=s.getPrimitiveTopology(e,i),t.index!==null&&e.isLine===!0&&e.isLineSegments!==!0&&(r.stripIndexFormat=t.index.array instanceof Uint16Array?t8.Uint16:t8.Uint32),i.side){case Bo:r.frontFace=bw.CCW,r.cullMode=Sw.Back;break;case Zi:r.frontFace=bw.CCW,r.cullMode=Sw.Front;break;case hs:r.frontFace=bw.CCW,r.cullMode=Sw.None;break;default:console.error("THREE.WebGPUPipelineUtils: Unknown material.side value.",i.side);break}return r}_getColorWriteMask(e){return e.colorWrite===!0?fq.All:fq.None}_getDepthCompare(e){let t;if(e.depthTest===!1)t=Ra.Always;else{const i=e.depthFunc;switch(i){case Md:t=Ra.Never;break;case Ed:t=Ra.Always;break;case wd:t=Ra.Less;break;case Vc:t=Ra.LessEqual;break;case Rd:t=Ra.Equal;break;case Cd:t=Ra.GreaterEqual;break;case Nd:t=Ra.Greater;break;case Dd:t=Ra.NotEqual;break;default:console.error("THREE.WebGPUPipelineUtils: Invalid depth function.",i)}}return t}}class oNe extends One{constructor(e,t,i=2048){super(i),this.device=e,this.type=t,this.querySet=this.device.createQuerySet({type:"timestamp",count:this.maxQueries,label:`queryset_global_timestamp_${t}`});const r=this.maxQueries*8;this.resolveBuffer=this.device.createBuffer({label:`buffer_timestamp_resolve_${t}`,size:r,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.resultBuffer=this.device.createBuffer({label:`buffer_timestamp_result_${t}`,size:r,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ})}allocateQueriesForContext(e){if(!this.trackTimestamp||this.isDisposed)return null;if(this.currentQueryIndex+2>this.maxQueries)return jl(`WebGPUTimestampQueryPool [${this.type}]: Maximum number of queries exceeded, when using trackTimestamp it is necessary to resolves the queries via renderer.resolveTimestampsAsync( THREE.TimestampQuery.${this.type.toUpperCase()} ).`),null;const t=this.currentQueryIndex;return this.currentQueryIndex+=2,this.queryOffsets.set(e.id,t),t}async resolveQueriesAsync(){if(!this.trackTimestamp||this.currentQueryIndex===0||this.isDisposed)return this.lastValue;if(this.pendingResolve)return this.pendingResolve;this.pendingResolve=this._resolveQueries();try{return await this.pendingResolve}finally{this.pendingResolve=null}}async _resolveQueries(){if(this.isDisposed)return this.lastValue;try{if(this.resultBuffer.mapState!=="unmapped")return this.lastValue;const e=new Map(this.queryOffsets),t=this.currentQueryIndex,i=t*8;this.currentQueryIndex=0,this.queryOffsets.clear();const r=this.device.createCommandEncoder();r.resolveQuerySet(this.querySet,0,t,this.resolveBuffer,0),r.copyBufferToBuffer(this.resolveBuffer,0,this.resultBuffer,0,i);const s=r.finish();if(this.device.queue.submit([s]),this.resultBuffer.mapState!=="unmapped")return this.lastValue;if(await this.resultBuffer.mapAsync(GPUMapMode.READ,0,i),this.isDisposed)return this.resultBuffer.mapState==="mapped"&&this.resultBuffer.unmap(),this.lastValue;const a=new BigUint64Array(this.resultBuffer.getMappedRange(0,i));let o=0;for(const[,l]of e){const u=a[l],c=a[l+1],f=Number(c-u)/1e6;o+=f}return this.resultBuffer.unmap(),this.lastValue=o,o}catch(e){return console.error("Error resolving queries:",e),this.resultBuffer.mapState==="mapped"&&this.resultBuffer.unmap(),this.lastValue}}async dispose(){if(!this.isDisposed){if(this.isDisposed=!0,this.pendingResolve)try{await this.pendingResolve}catch(e){console.error("Error waiting for pending resolve:",e)}if(this.resultBuffer&&this.resultBuffer.mapState==="mapped")try{this.resultBuffer.unmap()}catch(e){console.error("Error unmapping buffer:",e)}this.querySet&&(this.querySet.destroy(),this.querySet=null),this.resolveBuffer&&(this.resolveBuffer.destroy(),this.resolveBuffer=null),this.resultBuffer&&(this.resultBuffer.destroy(),this.resultBuffer=null),this.queryOffsets.clear(),this.pendingResolve=null}}}class lNe extends Une{constructor(e={}){super(e),this.isWebGPUBackend=!0,this.parameters.alpha=e.alpha===void 0?!0:e.alpha,this.parameters.compatibilityMode=e.compatibilityMode===void 0?!1:e.compatibilityMode,this.parameters.requiredLimits=e.requiredLimits===void 0?{}:e.requiredLimits,this.compatibilityMode=this.parameters.compatibilityMode,this.device=null,this.context=null,this.colorBuffer=null,this.defaultRenderPassdescriptor=null,this.utils=new tNe(this),this.attributeUtils=new rNe(this),this.bindingUtils=new sNe(this),this.pipelineUtils=new aNe(this),this.textureUtils=new jCe(this),this.occludedResolveCache=new Map}async init(e){await super.init(e);const t=this.parameters;let i;if(t.device===void 0){const a={powerPreference:t.powerPreference,featureLevel:t.compatibilityMode?"compatibility":void 0},o=typeof navigator<"u"?await navigator.gpu.requestAdapter(a):null;if(o===null)throw new Error("WebGPUBackend: Unable to create WebGPU adapter.");const l=Object.values(UN),u=[];for(const f of l)o.features.has(f)&&u.push(f);const c={requiredFeatures:u,requiredLimits:t.requiredLimits};i=await o.requestDevice(c)}else i=t.device;i.lost.then(a=>{const o={api:"WebGPU",message:a.message||"Unknown reason",reason:a.reason||null,originalEvent:a};e.onDeviceLost(o)});const r=t.context!==void 0?t.context:e.domElement.getContext("webgpu");this.device=i,this.context=r;const s=t.alpha?"premultiplied":"opaque";this.trackTimestamp=this.trackTimestamp&&this.hasFeature(UN.TimestampQuery),this.context.configure({device:this.device,format:this.utils.getPreferredCanvasFormat(),usage:GPUTextureUsage.RENDER_ATTACHMENT|GPUTextureUsage.COPY_SRC,alphaMode:s}),this.updateSize()}get coordinateSystem(){return bu}async getArrayBufferAsync(e){return await this.attributeUtils.getArrayBufferAsync(e)}getContext(){return this.context}_getDefaultRenderPassDescriptor(){let e=this.defaultRenderPassdescriptor;if(e===null){const i=this.renderer;e={colorAttachments:[{view:null}]},(this.renderer.depth===!0||this.renderer.stencil===!0)&&(e.depthStencilAttachment={view:this.textureUtils.getDepthBuffer(i.depth,i.stencil).createView()});const r=e.colorAttachments[0];this.renderer.samples>0?r.view=this.colorBuffer.createView():r.resolveTarget=void 0,this.defaultRenderPassdescriptor=e}const t=e.colorAttachments[0];return this.renderer.samples>0?t.resolveTarget=this.context.getCurrentTexture().createView():t.view=this.context.getCurrentTexture().createView(),e}_isRenderCameraDepthArray(e){return e.depthTexture&&e.depthTexture.image.depth>1&&e.camera.isArrayCamera}_getRenderPassDescriptor(e,t={}){const i=e.renderTarget,r=this.get(i);let s=r.descriptors;if(s===void 0||r.width!==i.width||r.height!==i.height||r.dimensions!==i.dimensions||r.activeMipmapLevel!==e.activeMipmapLevel||r.activeCubeFace!==e.activeCubeFace||r.samples!==i.samples){s={},r.descriptors=s;const u=()=>{i.removeEventListener("dispose",u),this.delete(i)};i.hasEventListener("dispose",u)===!1&&i.addEventListener("dispose",u)}const a=e.getCacheKey();let o=s[a];if(o===void 0){const u=e.textures,c=[];let f;const m=this._isRenderCameraDepthArray(e);for(let v=0;v<u.length;v++){const _=this.get(u[v]),T={label:`colorAttachment_${v}`,baseMipLevel:e.activeMipmapLevel,mipLevelCount:1,baseArrayLayer:e.activeCubeFace,arrayLayerCount:1,dimension:Bs.TwoD};if(i.isRenderTarget3D)f=e.activeCubeFace,T.baseArrayLayer=0,T.dimension=Bs.ThreeD,T.depthOrArrayLayers=u[v].image.depth;else if(i.isRenderTarget&&u[v].image.depth>1)if(m===!0){const M=e.camera.cameras;for(let S=0;S<M.length;S++){const R={...T,baseArrayLayer:S,arrayLayerCount:1,dimension:Bs.TwoD},C=_.texture.createView(R);c.push({view:C,resolveTarget:void 0,depthSlice:void 0})}}else T.dimension=Bs.TwoDArray,T.depthOrArrayLayers=u[v].image.depth;if(m!==!0){const M=_.texture.createView(T);let S,R;_.msaaTexture!==void 0?(S=_.msaaTexture.createView(),R=M):(S=M,R=void 0),c.push({view:S,resolveTarget:R,depthSlice:f})}}if(o={textureViews:c},e.depth){const v=this.get(e.depthTexture),_={};e.depthTexture.isArrayTexture&&(_.dimension=Bs.TwoD,_.arrayLayerCount=1,_.baseArrayLayer=e.activeCubeFace),o.depthStencilView=v.texture.createView(_)}s[a]=o,r.width=i.width,r.height=i.height,r.samples=i.samples,r.activeMipmapLevel=e.activeMipmapLevel,r.activeCubeFace=e.activeCubeFace,r.dimensions=i.dimensions}const l={colorAttachments:[]};for(let u=0;u<o.textureViews.length;u++){const c=o.textureViews[u];let f={r:0,g:0,b:0,a:1};u===0&&t.clearValue&&(f=t.clearValue),l.colorAttachments.push({view:c.view,depthSlice:c.depthSlice,resolveTarget:c.resolveTarget,loadOp:t.loadOp||ki.Load,storeOp:t.storeOp||bo.Store,clearValue:f})}return o.depthStencilView&&(l.depthStencilAttachment={view:o.depthStencilView}),l}beginRender(e){const t=this.get(e),i=this.device,r=e.occlusionQueryCount;let s;r>0&&(t.currentOcclusionQuerySet&&t.currentOcclusionQuerySet.destroy(),t.currentOcclusionQueryBuffer&&t.currentOcclusionQueryBuffer.destroy(),t.currentOcclusionQuerySet=t.occlusionQuerySet,t.currentOcclusionQueryBuffer=t.occlusionQueryBuffer,t.currentOcclusionQueryObjects=t.occlusionQueryObjects,s=i.createQuerySet({type:"occlusion",count:r,label:`occlusionQuerySet_${e.id}`}),t.occlusionQuerySet=s,t.occlusionQueryIndex=0,t.occlusionQueryObjects=new Array(r),t.lastOcclusionObject=null);let a;e.textures===null?a=this._getDefaultRenderPassDescriptor():a=this._getRenderPassDescriptor(e,{loadOp:ki.Load}),this.initTimestampQuery(e,a),a.occlusionQuerySet=s;const o=a.depthStencilAttachment;if(e.textures!==null){const u=a.colorAttachments;for(let c=0;c<u.length;c++){const f=u[c];e.clearColor?(f.clearValue=c===0?e.clearColorValue:{r:0,g:0,b:0,a:1},f.loadOp=ki.Clear):f.loadOp=ki.Load,f.storeOp=bo.Store}}else{const u=a.colorAttachments[0];e.clearColor?(u.clearValue=e.clearColorValue,u.loadOp=ki.Clear):u.loadOp=ki.Load,u.storeOp=bo.Store}e.depth&&(e.clearDepth?(o.depthClearValue=e.clearDepthValue,o.depthLoadOp=ki.Clear):o.depthLoadOp=ki.Load,o.depthStoreOp=bo.Store),e.stencil&&(e.clearStencil?(o.stencilClearValue=e.clearStencilValue,o.stencilLoadOp=ki.Clear):o.stencilLoadOp=ki.Load,o.stencilStoreOp=bo.Store);const l=i.createCommandEncoder({label:"renderContext_"+e.id});if(this._isRenderCameraDepthArray(e)===!0){const u=e.camera.cameras;!t.layerDescriptors||t.layerDescriptors.length!==u.length?this._createDepthLayerDescriptors(e,t,a,u):this._updateDepthLayerDescriptors(e,t,u),t.bundleEncoders=[],t.bundleSets=[];for(let c=0;c<u.length;c++){const f=this.pipelineUtils.createBundleEncoder(e,"renderBundleArrayCamera_"+c),m={attributes:{},bindingGroups:[],pipeline:null,index:null};t.bundleEncoders.push(f),t.bundleSets.push(m)}t.currentPass=null}else{const u=l.beginRenderPass(a);if(t.currentPass=u,e.viewport&&this.updateViewport(e),e.scissor){const{x:c,y:f,width:m,height:v}=e.scissorValue;u.setScissorRect(c,f,m,v)}}t.descriptor=a,t.encoder=l,t.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},t.renderBundles=[]}_createDepthLayerDescriptors(e,t,i,r){const s=i.depthStencilAttachment;t.layerDescriptors=[];const a=this.get(e.depthTexture);a.viewCache||(a.viewCache=[]);for(let o=0;o<r.length;o++){const l={...i,colorAttachments:[{...i.colorAttachments[0],view:i.colorAttachments[o].view}]};if(i.depthStencilAttachment){const u=o;a.viewCache[u]||(a.viewCache[u]=a.texture.createView({dimension:Bs.TwoD,baseArrayLayer:o,arrayLayerCount:1})),l.depthStencilAttachment={view:a.viewCache[u],depthLoadOp:s.depthLoadOp||ki.Clear,depthStoreOp:s.depthStoreOp||bo.Store,depthClearValue:s.depthClearValue||1},e.stencil&&(l.depthStencilAttachment.stencilLoadOp=s.stencilLoadOp,l.depthStencilAttachment.stencilStoreOp=s.stencilStoreOp,l.depthStencilAttachment.stencilClearValue=s.stencilClearValue)}else l.depthStencilAttachment={...s};t.layerDescriptors.push(l)}}_updateDepthLayerDescriptors(e,t,i){for(let r=0;r<i.length;r++){const s=t.layerDescriptors[r];if(s.depthStencilAttachment){const a=s.depthStencilAttachment;e.depth&&(e.clearDepth?(a.depthClearValue=e.clearDepthValue,a.depthLoadOp=ki.Clear):a.depthLoadOp=ki.Load),e.stencil&&(e.clearStencil?(a.stencilClearValue=e.clearStencilValue,a.stencilLoadOp=ki.Clear):a.stencilLoadOp=ki.Load)}}}finishRender(e){const t=this.get(e),i=e.occlusionQueryCount;t.renderBundles.length>0&&t.currentPass.executeBundles(t.renderBundles),i>t.occlusionQueryIndex&&t.currentPass.endOcclusionQuery();const r=t.encoder;if(this._isRenderCameraDepthArray(e)===!0){const s=[];for(let a=0;a<t.bundleEncoders.length;a++){const o=t.bundleEncoders[a];s.push(o.finish())}for(let a=0;a<t.layerDescriptors.length;a++)if(a<s.length){const o=t.layerDescriptors[a],l=r.beginRenderPass(o);if(e.viewport){const{x:u,y:c,width:f,height:m,minDepth:v,maxDepth:_}=e.viewportValue;l.setViewport(u,c,f,m,v,_)}if(e.scissor){const{x:u,y:c,width:f,height:m}=e.scissorValue;l.setScissorRect(u,c,f,m)}l.executeBundles([s[a]]),l.end()}}else t.currentPass&&t.currentPass.end();if(i>0){const s=i*8;let a=this.occludedResolveCache.get(s);a===void 0&&(a=this.device.createBuffer({size:s,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),this.occludedResolveCache.set(s,a));const o=this.device.createBuffer({size:s,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ});t.encoder.resolveQuerySet(t.occlusionQuerySet,0,i,a,0),t.encoder.copyBufferToBuffer(a,0,o,0,s),t.occlusionQueryBuffer=o,this.resolveOccludedAsync(e)}if(this.device.queue.submit([t.encoder.finish()]),e.textures!==null){const s=e.textures;for(let a=0;a<s.length;a++){const o=s[a];o.generateMipmaps===!0&&this.textureUtils.generateMipmaps(o)}}}isOccluded(e,t){const i=this.get(e);return i.occluded&&i.occluded.has(t)}async resolveOccludedAsync(e){const t=this.get(e),{currentOcclusionQueryBuffer:i,currentOcclusionQueryObjects:r}=t;if(i&&r){const s=new WeakSet;t.currentOcclusionQueryObjects=null,t.currentOcclusionQueryBuffer=null,await i.mapAsync(GPUMapMode.READ);const a=i.getMappedRange(),o=new BigUint64Array(a);for(let l=0;l<r.length;l++)o[l]===BigInt(0)&&s.add(r[l]);i.destroy(),t.occluded=s}}updateViewport(e){const{currentPass:t}=this.get(e),{x:i,y:r,width:s,height:a,minDepth:o,maxDepth:l}=e.viewportValue;t.setViewport(i,r,s,a,o,l)}getClearColor(){const e=super.getClearColor();return this.renderer.alpha===!0&&(e.r*=e.a,e.g*=e.a,e.b*=e.a),e}clear(e,t,i,r=null){const s=this.device,a=this.renderer;let o=[],l,u,c,f;if(e){const _=this.getClearColor();u={r:_.r,g:_.g,b:_.b,a:_.a}}if(r===null){c=a.depth,f=a.stencil;const _=this._getDefaultRenderPassDescriptor();if(e){o=_.colorAttachments;const T=o[0];T.clearValue=u,T.loadOp=ki.Clear,T.storeOp=bo.Store}(c||f)&&(l=_.depthStencilAttachment)}else{c=r.depth,f=r.stencil;const _={loadOp:e?ki.Clear:ki.Load,clearValue:e?u:void 0};c&&(_.depthLoadOp=t?ki.Clear:ki.Load,_.depthClearValue=t?a.getClearDepth():void 0,_.depthStoreOp=bo.Store),f&&(_.stencilLoadOp=i?ki.Clear:ki.Load,_.stencilClearValue=i?a.getClearStencil():void 0,_.stencilStoreOp=bo.Store);const T=this._getRenderPassDescriptor(r,_);o=T.colorAttachments,l=T.depthStencilAttachment}c&&l&&l.depthLoadOp===void 0&&(t?(l.depthLoadOp=ki.Clear,l.depthClearValue=a.getClearDepth(),l.depthStoreOp=bo.Store):(l.depthLoadOp=ki.Load,l.depthStoreOp=bo.Store)),f&&l&&l.stencilLoadOp===void 0&&(i?(l.stencilLoadOp=ki.Clear,l.stencilClearValue=a.getClearStencil(),l.stencilStoreOp=bo.Store):(l.stencilLoadOp=ki.Load,l.stencilStoreOp=bo.Store));const m=s.createCommandEncoder({label:"clear"});m.beginRenderPass({colorAttachments:o,depthStencilAttachment:l}).end(),s.queue.submit([m.finish()])}beginCompute(e){const t=this.get(e),i={label:"computeGroup_"+e.id};this.initTimestampQuery(e,i),t.cmdEncoderGPU=this.device.createCommandEncoder({label:"computeGroup_"+e.id}),t.passEncoderGPU=t.cmdEncoderGPU.beginComputePass(i)}compute(e,t,i,r){const{passEncoderGPU:s}=this.get(e),a=this.get(r).pipeline;this.pipelineUtils.setPipeline(s,a);for(let c=0,f=i.length;c<f;c++){const m=i[c],v=this.get(m);s.setBindGroup(c,v.group)}const o=this.device.limits.maxComputeWorkgroupsPerDimension,l=this.get(t);l.dispatchSize===void 0&&(l.dispatchSize={x:0,y:1,z:1});const{dispatchSize:u}=l;t.dispatchCount>o?(u.x=Math.min(t.dispatchCount,o),u.y=Math.ceil(t.dispatchCount/o)):u.x=t.dispatchCount,s.dispatchWorkgroups(u.x,u.y,u.z)}finishCompute(e){const t=this.get(e);t.passEncoderGPU.end(),this.device.queue.submit([t.cmdEncoderGPU.finish()])}async waitForGPU(){await this.device.queue.onSubmittedWorkDone()}draw(e,t){const{object:i,material:r,context:s,pipeline:a}=e,o=e.getBindings(),l=this.get(s),u=this.get(a).pipeline,c=e.getIndex(),f=c!==null,m=e.getDrawParameters();if(m===null)return;const v=(T,M)=>{this.pipelineUtils.setPipeline(T,u),M.pipeline=u;const S=M.bindingGroups;for(let C=0,P=o.length;C<P;C++){const B=o[C],O=this.get(B);S[B.index]!==B.id&&(T.setBindGroup(B.index,O.group),S[B.index]=B.id)}if(f===!0&&M.index!==c){const C=this.get(c).buffer,P=c.array instanceof Uint16Array?t8.Uint16:t8.Uint32;T.setIndexBuffer(C,P),M.index=c}const R=e.getVertexBuffers();for(let C=0,P=R.length;C<P;C++){const B=R[C];if(M.attributes[C]!==B){const O=this.get(B).buffer;T.setVertexBuffer(C,O),M.attributes[C]=B}}s.stencil===!0&&r.stencilWrite===!0&&l.currentStencilRef!==r.stencilRef&&(T.setStencilReference(r.stencilRef),l.currentStencilRef=r.stencilRef)},_=(T,M)=>{if(v(T,M),i.isBatchedMesh===!0){const S=i._multiDrawStarts,R=i._multiDrawCounts,C=i._multiDrawCount,P=i._multiDrawInstances;P!==null&&jl("THREE.WebGPUBackend: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection.");for(let B=0;B<C;B++){const O=P?P[B]:1,V=O>1?0:B;f===!0?T.drawIndexed(R[B],O,S[B]/c.array.BYTES_PER_ELEMENT,0,V):T.draw(R[B],O,S[B],V),t.update(i,R[B],O)}}else if(f===!0){const{vertexCount:S,instanceCount:R,firstVertex:C}=m,P=e.getIndirect();if(P!==null){const B=this.get(P).buffer;T.drawIndexedIndirect(B,0)}else T.drawIndexed(S,R,C,0,0);t.update(i,S,R)}else{const{vertexCount:S,instanceCount:R,firstVertex:C}=m,P=e.getIndirect();if(P!==null){const B=this.get(P).buffer;T.drawIndirect(B,0)}else T.draw(S,R,C,0);t.update(i,S,R)}};if(e.camera.isArrayCamera&&e.camera.cameras.length>0){const T=this.get(e.camera),M=e.camera.cameras,S=e.getBindingGroup("cameraIndex");if(T.indexesGPU===void 0||T.indexesGPU.length!==M.length){const C=this.get(S),P=[],B=new Uint32Array([0,0,0,0]);for(let O=0,V=M.length;O<V;O++){B[0]=O;const F=this.bindingUtils.createBindGroupIndex(B,C.layout);P.push(F)}T.indexesGPU=P}const R=this.renderer.getPixelRatio();for(let C=0,P=M.length;C<P;C++){const B=M[C];if(i.layers.test(B.layers)){const O=B.viewport;let V=l.currentPass,F=l.currentSets;if(l.bundleEncoders){const z=l.bundleEncoders[C],k=l.bundleSets[C];V=z,F=k}O&&V.setViewport(Math.floor(O.x*R),Math.floor(O.y*R),Math.floor(O.width*R),Math.floor(O.height*R),s.viewportValue.minDepth,s.viewportValue.maxDepth),S&&T.indexesGPU&&(V.setBindGroup(S.index,T.indexesGPU[C]),F.bindingGroups[S.index]=S.id),_(V,F)}}}else if(l.currentPass){if(l.occlusionQuerySet!==void 0){const T=l.lastOcclusionObject;T!==i&&(T!==null&&T.occlusionTest===!0&&(l.currentPass.endOcclusionQuery(),l.occlusionQueryIndex++),i.occlusionTest===!0&&(l.currentPass.beginOcclusionQuery(l.occlusionQueryIndex),l.occlusionQueryObjects[l.occlusionQueryIndex]=i),l.lastOcclusionObject=i)}_(l.currentPass,l.currentSets)}}needsRenderUpdate(e){const t=this.get(e),{object:i,material:r}=e,s=this.utils,a=s.getSampleCountRenderContext(e.context),o=s.getCurrentColorSpace(e.context),l=s.getCurrentColorFormat(e.context),u=s.getCurrentDepthStencilFormat(e.context),c=s.getPrimitiveTopology(i,r);let f=!1;return(t.material!==r||t.materialVersion!==r.version||t.transparent!==r.transparent||t.blending!==r.blending||t.premultipliedAlpha!==r.premultipliedAlpha||t.blendSrc!==r.blendSrc||t.blendDst!==r.blendDst||t.blendEquation!==r.blendEquation||t.blendSrcAlpha!==r.blendSrcAlpha||t.blendDstAlpha!==r.blendDstAlpha||t.blendEquationAlpha!==r.blendEquationAlpha||t.colorWrite!==r.colorWrite||t.depthWrite!==r.depthWrite||t.depthTest!==r.depthTest||t.depthFunc!==r.depthFunc||t.stencilWrite!==r.stencilWrite||t.stencilFunc!==r.stencilFunc||t.stencilFail!==r.stencilFail||t.stencilZFail!==r.stencilZFail||t.stencilZPass!==r.stencilZPass||t.stencilFuncMask!==r.stencilFuncMask||t.stencilWriteMask!==r.stencilWriteMask||t.side!==r.side||t.alphaToCoverage!==r.alphaToCoverage||t.sampleCount!==a||t.colorSpace!==o||t.colorFormat!==l||t.depthStencilFormat!==u||t.primitiveTopology!==c||t.clippingContextCacheKey!==e.clippingContextCacheKey)&&(t.material=r,t.materialVersion=r.version,t.transparent=r.transparent,t.blending=r.blending,t.premultipliedAlpha=r.premultipliedAlpha,t.blendSrc=r.blendSrc,t.blendDst=r.blendDst,t.blendEquation=r.blendEquation,t.blendSrcAlpha=r.blendSrcAlpha,t.blendDstAlpha=r.blendDstAlpha,t.blendEquationAlpha=r.blendEquationAlpha,t.colorWrite=r.colorWrite,t.depthWrite=r.depthWrite,t.depthTest=r.depthTest,t.depthFunc=r.depthFunc,t.stencilWrite=r.stencilWrite,t.stencilFunc=r.stencilFunc,t.stencilFail=r.stencilFail,t.stencilZFail=r.stencilZFail,t.stencilZPass=r.stencilZPass,t.stencilFuncMask=r.stencilFuncMask,t.stencilWriteMask=r.stencilWriteMask,t.side=r.side,t.alphaToCoverage=r.alphaToCoverage,t.sampleCount=a,t.colorSpace=o,t.colorFormat=l,t.depthStencilFormat=u,t.primitiveTopology=c,t.clippingContextCacheKey=e.clippingContextCacheKey,f=!0),f}getRenderCacheKey(e){const{object:t,material:i}=e,r=this.utils,s=e.context;return[i.transparent,i.blending,i.premultipliedAlpha,i.blendSrc,i.blendDst,i.blendEquation,i.blendSrcAlpha,i.blendDstAlpha,i.blendEquationAlpha,i.colorWrite,i.depthWrite,i.depthTest,i.depthFunc,i.stencilWrite,i.stencilFunc,i.stencilFail,i.stencilZFail,i.stencilZPass,i.stencilFuncMask,i.stencilWriteMask,i.side,r.getSampleCountRenderContext(s),r.getCurrentColorSpace(s),r.getCurrentColorFormat(s),r.getCurrentDepthStencilFormat(s),r.getPrimitiveTopology(t,i),e.getGeometryCacheKey(),e.clippingContextCacheKey].join()}createSampler(e){this.textureUtils.createSampler(e)}destroySampler(e){this.textureUtils.destroySampler(e)}createDefaultTexture(e){this.textureUtils.createDefaultTexture(e)}createTexture(e,t){this.textureUtils.createTexture(e,t)}updateTexture(e,t){this.textureUtils.updateTexture(e,t)}generateMipmaps(e){this.textureUtils.generateMipmaps(e)}destroyTexture(e){this.textureUtils.destroyTexture(e)}async copyTextureToBuffer(e,t,i,r,s,a){return this.textureUtils.copyTextureToBuffer(e,t,i,r,s,a)}initTimestampQuery(e,t){if(!this.trackTimestamp)return;const i=e.isComputeNode?"compute":"render";this.timestampQueryPool[i]||(this.timestampQueryPool[i]=new oNe(this.device,i,2048));const r=this.timestampQueryPool[i],s=r.allocateQueriesForContext(e);t.timestampWrites={querySet:r.querySet,beginningOfPassWriteIndex:s,endOfPassWriteIndex:s+1}}createNodeBuilder(e,t){return new eNe(e,t)}createProgram(e){const t=this.get(e);t.module={module:this.device.createShaderModule({code:e.code,label:e.stage+(e.name!==""?`_${e.name}`:"")}),entryPoint:"main"}}destroyProgram(e){this.delete(e)}createRenderPipeline(e,t){this.pipelineUtils.createRenderPipeline(e,t)}createComputePipeline(e,t){this.pipelineUtils.createComputePipeline(e,t)}beginBundle(e){const t=this.get(e);t._currentPass=t.currentPass,t._currentSets=t.currentSets,t.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},t.currentPass=this.pipelineUtils.createBundleEncoder(e)}finishBundle(e,t){const i=this.get(e),s=i.currentPass.finish();this.get(t).bundleGPU=s,i.currentSets=i._currentSets,i.currentPass=i._currentPass}addBundle(e,t){this.get(e).renderBundles.push(this.get(t).bundleGPU)}createBindings(e,t,i,r){this.bindingUtils.createBindings(e,t,i,r)}updateBindings(e,t,i,r){this.bindingUtils.createBindings(e,t,i,r)}updateBinding(e){this.bindingUtils.updateBinding(e)}createIndexAttribute(e){let t=GPUBufferUsage.INDEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST;(e.isStorageBufferAttribute||e.isStorageInstancedBufferAttribute)&&(t|=GPUBufferUsage.STORAGE),this.attributeUtils.createAttribute(e,t)}createAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createStorageAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.STORAGE|GPUBufferUsage.VERTEX|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}createIndirectStorageAttribute(e){this.attributeUtils.createAttribute(e,GPUBufferUsage.STORAGE|GPUBufferUsage.INDIRECT|GPUBufferUsage.COPY_SRC|GPUBufferUsage.COPY_DST)}updateAttribute(e){this.attributeUtils.updateAttribute(e)}destroyAttribute(e){this.attributeUtils.destroyAttribute(e)}updateSize(){this.colorBuffer=this.textureUtils.getColorBuffer(),this.defaultRenderPassdescriptor=null}getMaxAnisotropy(){return 16}hasFeature(e){return this.device.features.has(e)}copyTextureToTexture(e,t,i=null,r=null,s=0,a=0){let o=0,l=0,u=0,c=0,f=0,m=0,v=e.image.width,_=e.image.height,T=1;i!==null&&(i.isBox3===!0?(c=i.min.x,f=i.min.y,m=i.min.z,v=i.max.x-i.min.x,_=i.max.y-i.min.y,T=i.max.z-i.min.z):(c=i.min.x,f=i.min.y,v=i.max.x-i.min.x,_=i.max.y-i.min.y,T=1)),r!==null&&(o=r.x,l=r.y,u=r.z||0);const M=this.device.createCommandEncoder({label:"copyTextureToTexture_"+e.id+"_"+t.id}),S=this.get(e).texture,R=this.get(t).texture;M.copyTextureToTexture({texture:S,mipLevel:s,origin:{x:c,y:f,z:m}},{texture:R,mipLevel:a,origin:{x:o,y:l,z:u}},[v,_,T]),this.device.queue.submit([M.finish()]),a===0&&t.generateMipmaps&&this.textureUtils.generateMipmaps(t)}copyFramebufferToTexture(e,t,i){const r=this.get(t);let s=null;t.renderTarget?e.isDepthTexture?s=this.get(t.depthTexture).texture:s=this.get(t.textures[0]).texture:e.isDepthTexture?s=this.textureUtils.getDepthBuffer(t.depth,t.stencil):s=this.context.getCurrentTexture();const a=this.get(e).texture;if(s.format!==a.format){console.error("WebGPUBackend: copyFramebufferToTexture: Source and destination formats do not match.",s.format,a.format);return}let o;if(r.currentPass?(r.currentPass.end(),o=r.encoder):o=this.device.createCommandEncoder({label:"copyFramebufferToTexture_"+e.id}),o.copyTextureToTexture({texture:s,origin:[i.x,i.y,0]},{texture:a},[i.z,i.w]),r.currentPass){const{descriptor:l}=r;for(let u=0;u<l.colorAttachments.length;u++)l.colorAttachments[u].loadOp=ki.Load;if(t.depth&&(l.depthStencilAttachment.depthLoadOp=ki.Load),t.stencil&&(l.depthStencilAttachment.stencilLoadOp=ki.Load),r.currentPass=o.beginRenderPass(l),r.currentSets={attributes:{},bindingGroups:[],pipeline:null,index:null},t.viewport&&this.updateViewport(t),t.scissor){const{x:u,y:c,width:f,height:m}=t.scissorValue;r.currentPass.setScissorRect(u,c,f,m)}}else this.device.queue.submit([o.finish()]);e.generateMipmaps&&this.textureUtils.generateMipmaps(e)}}class uNe extends fm{constructor(e,t,i,r,s,a){super(e,t,i,r,s,a),this.iesMap=null}copy(e,t){return super.copy(e,t),this.iesMap=e.iesMap,this}}class cNe extends fm{constructor(e,t,i,r,s,a){super(e,t,i,r,s,a),this.aspect=null}copy(e,t){return super.copy(e,t),this.aspect=e.aspect,this}}class fNe extends Rne{constructor(){super(),this.addMaterial(cSe,"MeshPhongMaterial"),this.addMaterial(Mte,"MeshStandardMaterial"),this.addMaterial($Se,"MeshPhysicalMaterial"),this.addMaterial(eTe,"MeshToonMaterial"),this.addMaterial(iSe,"MeshBasicMaterial"),this.addMaterial(lSe,"MeshLambertMaterial"),this.addMaterial(Zbe,"MeshNormalMaterial"),this.addMaterial(nTe,"MeshMatcapMaterial"),this.addMaterial(jbe,"LineBasicMaterial"),this.addMaterial(Xbe,"LineDashedMaterial"),this.addMaterial(aTe,"PointsMaterial"),this.addMaterial(wte,"SpriteMaterial"),this.addMaterial(uTe,"ShadowMaterial"),this.addLight(twe,xL),this.addLight(GRe,_L),this.addLight(qRe,SL),this.addLight(dU,fm),this.addLight(XRe,bL),this.addLight(YRe,yL),this.addLight(QRe,TL),this.addLight(HRe,uNe),this.addLight(WRe,cNe),this.addToneMapping(Hte,UP),this.addToneMapping(jte,OP),this.addToneMapping(Wte,IP),this.addToneMapping(Xte,Yb),this.addToneMapping(Yte,FP),this.addToneMapping(Qte,zP)}}class hNe extends ACe{constructor(e={}){let t;e.forceWebGL?t=cq:(t=lNe,e.getFallback=()=>(console.warn("THREE.WebGPURenderer: WebGPU is not available, running under WebGL2 backend."),new cq(e)));const i=new t(e);super(i,e),this.library=new fNe,this.isWebGPURenderer=!0,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */j.BRDF_GGX;j.BRDF_Lambert;j.BasicShadowFilter;j.Break;j.Continue;j.DFGApprox;j.D_GGX;j.Discard;j.EPSILON;j.F_Schlick;const dNe=j.Fn;j.INFINITY;const ANe=j.If;j.Switch;const pNe=j.Loop;j.NodeShaderStage;j.NodeType;j.NodeUpdateType;j.NodeAccess;j.PCFShadowFilter;j.PCFSoftShadowFilter;j.PI;j.PI2;j.Return;j.Schlick_to_F0;j.ScriptableNodeResources;j.ShaderNode;j.TBNViewMatrix;j.VSMShadowFilter;j.V_GGX_SmithCorrelated;j.abs;j.acesFilmicToneMapping;j.acos;j.add;j.addNodeElement;j.agxToneMapping;j.all;j.alphaT;j.and;j.anisotropy;j.anisotropyB;j.anisotropyT;j.any;j.append;j.array;j.arrayBuffer;const mNe=j.asin;j.assign;j.atan;j.atan2;j.atomicAdd;j.atomicAnd;j.atomicFunc;j.atomicMax;j.atomicMin;j.atomicOr;j.atomicStore;j.atomicSub;j.atomicXor;j.atomicLoad;j.attenuationColor;j.attenuationDistance;j.attribute;j.attributeArray;j.backgroundBlurriness;j.backgroundIntensity;j.backgroundRotation;j.batch;j.bentNormalView;j.billboarding;j.bitAnd;j.bitNot;j.bitOr;j.bitXor;j.bitangentGeometry;j.bitangentLocal;j.bitangentView;j.bitangentWorld;j.bitcast;j.blendBurn;j.blendColor;j.blendDodge;j.blendOverlay;j.blendScreen;j.blur;j.bool;j.buffer;j.bufferAttribute;j.bumpMap;j.burn;j.bvec2;j.bvec3;j.bvec4;j.bypass;j.cache;j.call;j.cameraFar;j.cameraIndex;j.cameraNear;j.cameraNormalMatrix;j.cameraPosition;j.cameraProjectionMatrix;j.cameraProjectionMatrixInverse;j.cameraViewMatrix;j.cameraWorldMatrix;j.cbrt;j.cdl;j.ceil;j.checker;j.cineonToneMapping;j.clamp;j.clearcoat;j.clearcoatRoughness;j.code;j.color;j.colorSpaceToWorking;j.colorToDirection;j.compute;j.computeSkinning;j.cond;j.Const;j.context;j.convert;j.convertColorSpace;j.convertToTexture;const gNe=j.cos;j.cross;j.cubeTexture;j.dFdx;j.dFdy;j.dashSize;j.debug;j.decrement;j.decrementBefore;j.defaultBuildStages;j.defaultShaderStages;j.defined;j.degrees;j.deltaTime;j.densityFog;j.densityFogFactor;j.depth;j.depthPass;j.difference;j.diffuseColor;j.directPointLight;j.directionToColor;j.dispersion;j.distance;j.div;j.dodge;j.dot;j.drawIndex;j.dynamicBufferAttribute;j.element;j.emissive;j.equal;j.equals;j.equirectUV;const yNe=j.exp;j.exp2;j.expression;j.faceDirection;j.faceForward;j.faceforward;const vNe=j.float;j.floor;j.fog;j.fract;j.frameGroup;j.frameId;j.frontFacing;j.fwidth;j.gain;j.gapSize;j.getConstNodeType;j.getCurrentStack;j.getDirection;j.getDistanceAttenuation;j.getGeometryRoughness;j.getNormalFromDepth;j.getParallaxCorrectNormal;j.getRoughness;j.getScreenPosition;j.getShIrradianceAt;j.getTextureIndex;j.getViewPosition;j.getShadowMaterial;j.getShadowRenderObjectFunction;j.glsl;j.glslFn;j.grayscale;j.greaterThan;j.greaterThanEqual;j.hash;j.highpModelNormalViewMatrix;j.highpModelViewMatrix;j.hue;j.increment;j.incrementBefore;j.instance;const xNe=j.instanceIndex;j.instancedArray;j.instancedBufferAttribute;j.instancedDynamicBufferAttribute;j.instancedMesh;j.int;j.inverseSqrt;j.inversesqrt;j.invocationLocalIndex;j.invocationSubgroupIndex;j.ior;j.iridescence;j.iridescenceIOR;j.iridescenceThickness;j.ivec2;j.ivec3;j.ivec4;j.js;j.label;j.length;j.lengthSq;j.lessThan;j.lessThanEqual;j.lightPosition;j.lightShadowMatrix;j.lightTargetDirection;j.lightTargetPosition;j.lightViewPosition;j.lightingContext;j.lights;j.linearDepth;j.linearToneMapping;j.localId;j.globalId;j.log;j.log2;j.logarithmicDepthToViewZ;j.loop;j.luminance;j.mediumpModelViewMatrix;j.mat2;j.mat3;j.mat4;j.matcapUV;j.materialAO;j.materialAlphaTest;j.materialAnisotropy;j.materialAnisotropyVector;j.materialAttenuationColor;j.materialAttenuationDistance;j.materialClearcoat;j.materialClearcoatNormal;j.materialClearcoatRoughness;j.materialColor;j.materialDispersion;j.materialEmissive;j.materialIOR;j.materialIridescence;j.materialIridescenceIOR;j.materialIridescenceThickness;j.materialLightMap;j.materialLineDashOffset;j.materialLineDashSize;j.materialLineGapSize;j.materialLineScale;j.materialLineWidth;j.materialMetalness;j.materialNormal;j.materialOpacity;j.materialPointSize;j.materialReference;j.materialReflectivity;j.materialRefractionRatio;j.materialRotation;j.materialRoughness;j.materialSheen;j.materialSheenRoughness;j.materialShininess;j.materialSpecular;j.materialSpecularColor;j.materialSpecularIntensity;j.materialSpecularStrength;j.materialThickness;j.materialTransmission;j.max;j.maxMipLevel;j.metalness;j.min;j.mix;j.mixElement;j.mod;j.modInt;j.modelDirection;j.modelNormalMatrix;j.modelPosition;j.modelRadius;j.modelScale;j.modelViewMatrix;j.modelViewPosition;j.modelViewProjection;j.modelWorldMatrix;j.modelWorldMatrixInverse;j.morphReference;j.mrt;j.mul;j.mx_aastep;j.mx_cell_noise_float;j.mx_contrast;j.mx_fractal_noise_float;j.mx_fractal_noise_vec2;j.mx_fractal_noise_vec3;j.mx_fractal_noise_vec4;j.mx_hsvtorgb;j.mx_noise_float;j.mx_noise_vec3;j.mx_noise_vec4;j.mx_ramplr;j.mx_ramptb;j.mx_rgbtohsv;j.mx_safepower;j.mx_splitlr;j.mx_splittb;j.mx_srgb_texture_to_lin_rec709;j.mx_transform_uv;j.mx_worley_noise_float;j.mx_worley_noise_vec2;j.mx_worley_noise_vec3;const _Ne=j.negate;j.neutralToneMapping;j.nodeArray;j.nodeImmutable;j.nodeObject;j.nodeObjects;j.nodeProxy;j.normalFlat;j.normalGeometry;j.normalLocal;j.normalMap;j.normalView;j.normalViewGeometry;j.normalWorld;j.normalWorldGeometry;j.normalize;j.not;j.notEqual;j.numWorkgroups;j.objectDirection;j.objectGroup;j.objectPosition;j.objectRadius;j.objectScale;j.objectViewPosition;j.objectWorldMatrix;j.oneMinus;j.or;j.orthographicDepthToViewZ;j.oscSawtooth;j.oscSine;j.oscSquare;j.oscTriangle;j.output;j.outputStruct;j.overlay;j.overloadingFn;j.parabola;j.parallaxDirection;j.parallaxUV;j.parameter;j.pass;j.passTexture;j.pcurve;j.perspectiveDepthToViewZ;j.pmremTexture;j.pointUV;j.pointWidth;j.positionGeometry;j.positionLocal;j.positionPrevious;j.positionView;j.positionViewDirection;j.positionWorld;j.positionWorldDirection;j.posterize;j.pow;j.pow2;j.pow3;j.pow4;j.premultiplyAlpha;j.property;j.radians;j.rand;j.range;j.rangeFog;j.rangeFogFactor;j.reciprocal;j.lightProjectionUV;j.reference;j.referenceBuffer;j.reflect;j.reflectVector;j.reflectView;j.reflector;j.refract;j.refractVector;j.refractView;j.reinhardToneMapping;j.remainder;j.remap;j.remapClamp;j.renderGroup;j.renderOutput;j.rendererReference;j.rotate;j.rotateUV;j.roughness;j.round;j.rtt;j.sRGBTransferEOTF;j.sRGBTransferOETF;j.sample;j.sampler;j.samplerComparison;j.saturate;j.saturation;j.screen;j.screenCoordinate;j.screenSize;j.screenUV;j.scriptable;j.scriptableValue;j.select;j.setCurrentStack;j.shaderStages;j.shadow;j.pointShadow;j.shadowPositionWorld;j.sharedUniformGroup;j.shapeCircle;j.sheen;j.sheenRoughness;j.shiftLeft;j.shiftRight;j.shininess;j.sign;const bNe=j.sin;j.sinc;j.skinning;j.smoothstep;j.smoothstepElement;j.specularColor;j.specularF90;j.spherizeUV;j.split;j.spritesheetUV;const SNe=j.sqrt;j.stack;j.step;const TNe=j.storage;j.storageBarrier;j.storageObject;j.storageTexture;j.string;j.struct;j.sub;j.subBuild;j.subgroupIndex;j.subgroupSize;j.tan;j.tangentGeometry;j.tangentLocal;j.tangentView;j.tangentWorld;j.temp;j.texture;j.texture3D;j.textureBarrier;j.textureBicubic;j.textureBicubicLevel;j.textureCubeUV;j.textureLoad;j.textureSize;j.textureStore;j.thickness;j.time;j.timerDelta;j.timerGlobal;j.timerLocal;j.toneMapping;j.toneMappingExposure;j.toonOutlinePass;j.transformDirection;j.transformNormal;j.transformNormalToView;j.transformedClearcoatNormalView;j.transformedNormalView;j.transformedNormalWorld;j.transmission;j.transpose;j.triNoise3D;j.triplanarTexture;j.triplanarTextures;j.trunc;j.tslFn;j.uint;const MNe=j.uniform;j.uniformCubeTexture;j.uniformArray;j.uniformGroup;j.uniformTexture;j.uniforms;j.unpremultiplyAlpha;j.userData;j.uv;j.uvec2;j.uvec3;j.uvec4;j.Var;j.varying;j.varyingProperty;j.vec2;j.vec3;j.vec4;j.vectorComponents;j.velocity;j.vertexColor;j.vertexIndex;j.vibrance;j.viewZToLogarithmicDepth;j.viewZToOrthographicDepth;j.viewZToPerspectiveDepth;j.viewport;j.viewportBottomLeft;j.viewportCoordinate;j.viewportDepthTexture;j.viewportLinearDepth;j.viewportMipTexture;j.viewportResolution;j.viewportSafeUV;j.viewportSharedTexture;j.viewportSize;j.viewportTexture;j.viewportTopLeft;j.viewportUV;j.wgsl;j.wgslFn;j.workgroupArray;j.workgroupBarrier;j.workgroupId;j.workingToColorSpace;j.xor;const yq=new na,xv=new re;class zne extends ML{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],i=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(i),this.setAttribute("position",new Qt(e,3)),this.setAttribute("uv",new Qt(t,2))}applyMatrix4(e){const t=this.attributes.instanceStart,i=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(e),i.applyMatrix4(e),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const i=new np(t,6,1);return this.setAttribute("instanceStart",new Lo(i,3,0)),this.setAttribute("instanceEnd",new Lo(i,3,3)),this.instanceCount=this.attributes.instanceStart.count,this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const i=new np(t,6,1);return this.setAttribute("instanceColorStart",new Lo(i,3,0)),this.setAttribute("instanceColorEnd",new Lo(i,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new rL(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new na);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;e!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(e),yq.setFromBufferAttribute(t),this.boundingBox.union(yq))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Vs),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(e!==void 0&&t!==void 0){const i=this.boundingSphere.center;this.boundingBox.getCenter(i);let r=0;for(let s=0,a=e.count;s<a;s++)xv.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(xv)),xv.fromBufferAttribute(t,s),r=Math.max(r,i.distanceToSquared(xv));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}}zt.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new Ye(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}};To.line={uniforms:lS.merge([zt.common,zt.fog,zt.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );
				vec3 worldUp = normalize( cross( worldDir, tmpFwd ) );
				vec3 worldFwd = cross( worldDir, worldUp );
				worldPos = position.y < 0.5 ? start: end;

				// height offset
				float hw = linewidth * 0.5;
				worldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// cap extension
					worldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;

					// add width to the box
					worldPos.xyz += worldFwd * hw;

					// endcaps
					if ( position.y > 1.0 || position.y < 0.0 ) {

						worldPos.xyz -= worldFwd * 2.0 * hw;

					}

				#endif

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			float alpha = opacity;
			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class mU extends Uo{constructor(e){super({type:"LineMaterial",uniforms:lS.clone(To.line.uniforms),vertexShader:To.line.vertexShader,fragmentShader:To.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this.setValues(e)}get color(){return this.uniforms.diffuse.value}set color(e){this.uniforms.diffuse.value=e}get worldUnits(){return"WORLD_UNITS"in this.defines}set worldUnits(e){e===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}get linewidth(){return this.uniforms.linewidth.value}set linewidth(e){this.uniforms.linewidth&&(this.uniforms.linewidth.value=e)}get dashed(){return"USE_DASH"in this.defines}set dashed(e){e===!0!==this.dashed&&(this.needsUpdate=!0),e===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}get dashScale(){return this.uniforms.dashScale.value}set dashScale(e){this.uniforms.dashScale.value=e}get dashSize(){return this.uniforms.dashSize.value}set dashSize(e){this.uniforms.dashSize.value=e}get dashOffset(){return this.uniforms.dashOffset.value}set dashOffset(e){this.uniforms.dashOffset.value=e}get gapSize(){return this.uniforms.gapSize.value}set gapSize(e){this.uniforms.gapSize.value=e}get opacity(){return this.uniforms.opacity.value}set opacity(e){this.uniforms&&(this.uniforms.opacity.value=e)}get resolution(){return this.uniforms.resolution.value}set resolution(e){this.uniforms.resolution.value.copy(e)}get alphaToCoverage(){return"USE_ALPHA_TO_COVERAGE"in this.defines}set alphaToCoverage(e){this.defines&&(e===!0!==this.alphaToCoverage&&(this.needsUpdate=!0),e===!0?this.defines.USE_ALPHA_TO_COVERAGE="":delete this.defines.USE_ALPHA_TO_COVERAGE)}}const ww=new ln,vq=new re,xq=new re,Ca=new ln,Na=new ln,Xu=new ln,Rw=new re,Cw=new Yt,Da=new g$,_q=new re,_v=new na,bv=new Vs,Yu=new ln;let n1,Nf;function bq(n,e,t){return Yu.set(0,0,-e,1).applyMatrix4(n.projectionMatrix),Yu.multiplyScalar(1/Yu.w),Yu.x=Nf/t.width,Yu.y=Nf/t.height,Yu.applyMatrix4(n.projectionMatrixInverse),Yu.multiplyScalar(1/Yu.w),Math.abs(Math.max(Yu.x,Yu.y))}function ENe(n,e){const t=n.matrixWorld,i=n.geometry,r=i.attributes.instanceStart,s=i.attributes.instanceEnd,a=Math.min(i.instanceCount,r.count);for(let o=0,l=a;o<l;o++){Da.start.fromBufferAttribute(r,o),Da.end.fromBufferAttribute(s,o),Da.applyMatrix4(t);const u=new re,c=new re;n1.distanceSqToSegment(Da.start,Da.end,c,u),c.distanceTo(u)<Nf*.5&&e.push({point:c,pointOnLine:u,distance:n1.origin.distanceTo(c),object:n,face:null,faceIndex:o,uv:null,uv1:null})}}function wNe(n,e,t){const i=e.projectionMatrix,s=n.material.resolution,a=n.matrixWorld,o=n.geometry,l=o.attributes.instanceStart,u=o.attributes.instanceEnd,c=Math.min(o.instanceCount,l.count),f=-e.near;n1.at(1,Xu),Xu.w=1,Xu.applyMatrix4(e.matrixWorldInverse),Xu.applyMatrix4(i),Xu.multiplyScalar(1/Xu.w),Xu.x*=s.x/2,Xu.y*=s.y/2,Xu.z=0,Rw.copy(Xu),Cw.multiplyMatrices(e.matrixWorldInverse,a);for(let m=0,v=c;m<v;m++){if(Ca.fromBufferAttribute(l,m),Na.fromBufferAttribute(u,m),Ca.w=1,Na.w=1,Ca.applyMatrix4(Cw),Na.applyMatrix4(Cw),Ca.z>f&&Na.z>f)continue;if(Ca.z>f){const C=Ca.z-Na.z,P=(Ca.z-f)/C;Ca.lerp(Na,P)}else if(Na.z>f){const C=Na.z-Ca.z,P=(Na.z-f)/C;Na.lerp(Ca,P)}Ca.applyMatrix4(i),Na.applyMatrix4(i),Ca.multiplyScalar(1/Ca.w),Na.multiplyScalar(1/Na.w),Ca.x*=s.x/2,Ca.y*=s.y/2,Na.x*=s.x/2,Na.y*=s.y/2,Da.start.copy(Ca),Da.start.z=0,Da.end.copy(Na),Da.end.z=0;const T=Da.closestPointToPointParameter(Rw,!0);Da.at(T,_q);const M=rS.lerp(Ca.z,Na.z,T),S=M>=-1&&M<=1,R=Rw.distanceTo(_q)<Nf*.5;if(S&&R){Da.start.fromBufferAttribute(l,m),Da.end.fromBufferAttribute(u,m),Da.start.applyMatrix4(a),Da.end.applyMatrix4(a);const C=new re,P=new re;n1.distanceSqToSegment(Da.start,Da.end,P,C),t.push({point:P,pointOnLine:C,distance:n1.origin.distanceTo(P),object:n,face:null,faceIndex:m,uv:null,uv1:null})}}}class RNe extends ii{constructor(e=new zne,t=new mU({color:Math.random()*16777215})){super(e,t),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,i=e.attributes.instanceEnd,r=new Float32Array(2*t.count);for(let a=0,o=0,l=t.count;a<l;a++,o+=2)vq.fromBufferAttribute(t,a),xq.fromBufferAttribute(i,a),r[o]=o===0?0:r[o-1],r[o+1]=r[o]+vq.distanceTo(xq);const s=new np(r,2,1);return e.setAttribute("instanceDistanceStart",new Lo(s,1,0)),e.setAttribute("instanceDistanceEnd",new Lo(s,1,1)),this}raycast(e,t){const i=this.material.worldUnits,r=e.camera;r===null&&!i&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const s=e.params.Line2!==void 0&&e.params.Line2.threshold||0;n1=e.ray;const a=this.matrixWorld,o=this.geometry,l=this.material;Nf=l.linewidth+s,o.boundingSphere===null&&o.computeBoundingSphere(),bv.copy(o.boundingSphere).applyMatrix4(a);let u;if(i)u=Nf*.5;else{const f=Math.max(r.near,bv.distanceToPoint(n1.origin));u=bq(r,f,l.resolution)}if(bv.radius+=u,n1.intersectsSphere(bv)===!1)return;o.boundingBox===null&&o.computeBoundingBox(),_v.copy(o.boundingBox).applyMatrix4(a);let c;if(i)c=Nf*.5;else{const f=Math.max(r.near,_v.distanceToPoint(n1.origin));c=bq(r,f,l.resolution)}_v.expandByScalar(c),n1.intersectsBox(_v)!==!1&&(i?ENe(this,t):wNe(this,r,t))}onBeforeRender(e){const t=this.material.uniforms;t&&t.resolution&&(e.getViewport(ww),this.material.uniforms.resolution.value.set(ww.z,ww.w))}}class Vne extends zne{constructor(){super(),this.isLineGeometry=!0,this.type="LineGeometry"}setPositions(e){const t=e.length-3,i=new Float32Array(2*t);for(let r=0;r<t;r+=3)i[2*r]=e[r],i[2*r+1]=e[r+1],i[2*r+2]=e[r+2],i[2*r+3]=e[r+3],i[2*r+4]=e[r+4],i[2*r+5]=e[r+5];return super.setPositions(i),this}setColors(e){const t=e.length-3,i=new Float32Array(2*t);for(let r=0;r<t;r+=3)i[2*r]=e[r],i[2*r+1]=e[r+1],i[2*r+2]=e[r+2],i[2*r+3]=e[r+3],i[2*r+4]=e[r+4],i[2*r+5]=e[r+5];return super.setColors(i),this}setFromPoints(e){const t=e.length-1,i=new Float32Array(6*t);for(let r=0;r<t;r++)i[6*r]=e[r].x,i[6*r+1]=e[r].y,i[6*r+2]=e[r].z||0,i[6*r+3]=e[r+1].x,i[6*r+4]=e[r+1].y,i[6*r+5]=e[r+1].z||0;return super.setPositions(i),this}fromLine(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}}class CNe extends RNe{constructor(e=new Vne,t=new mU({color:Math.random()*16777215})){super(e,t),this.isLine2=!0,this.type="Line2"}}class Sq extends am{constructor(e,t={}){const i=t.font;if(i===void 0)super();else{const r=i.generateShapes(e,t.size);t.depth===void 0&&(t.depth=50),t.bevelThickness===void 0&&(t.bevelThickness=10),t.bevelSize===void 0&&(t.bevelSize=8),t.bevelEnabled===void 0&&(t.bevelEnabled=!1),super(r,t)}this.type="TextGeometry"}}class NNe{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const i=[],r=DNe(e,t,this.data);for(let s=0,a=r.length;s<a;s++)i.push(...r[s].toShapes());return i}}function DNe(n,e,t){const i=Array.from(n),r=e/t.resolution,s=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*r,a=[];let o=0,l=0;for(let u=0;u<i.length;u++){const c=i[u];if(c===`
`)o=0,l-=s;else{const f=PNe(c,r,o,l,t);o+=f.offsetX,a.push(f.path)}}return a}function PNe(n,e,t,i,r){const s=r.glyphs[n]||r.glyphs["?"];if(!s){console.error('THREE.Font: character "'+n+'" does not exists in font family '+r.familyName+".");return}const a=new v$;let o,l,u,c,f,m,v,_;if(s.o){const T=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let M=0,S=T.length;M<S;)switch(T[M++]){case"m":o=T[M++]*e+t,l=T[M++]*e+i,a.moveTo(o,l);break;case"l":o=T[M++]*e+t,l=T[M++]*e+i,a.lineTo(o,l);break;case"q":u=T[M++]*e+t,c=T[M++]*e+i,f=T[M++]*e+t,m=T[M++]*e+i,a.quadraticCurveTo(f,m,u,c);break;case"b":u=T[M++]*e+t,c=T[M++]*e+i,f=T[M++]*e+t,m=T[M++]*e+i,v=T[M++]*e+t,_=T[M++]*e+i,a.bezierCurveTo(f,m,v,_,u,c);break}}return{offsetX:s.ha*e,path:a}}class LNe extends Mi{constructor(e=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=e,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new Ye(.5,.5),this.addEventListener("removed",function(){this.traverse(function(t){t.element instanceof t.element.ownerDocument.defaultView.Element&&t.element.parentNode!==null&&t.element.remove()})})}copy(e,t){return super.copy(e,t),this.element=e.element.cloneNode(!0),this.center=e.center,this}}new re;new Yt;new Yt;new re;new re;function IN(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=Array(e);t<e;t++)i[t]=n[t];return i}function BNe(n){if(Array.isArray(n))return n}function UNe(n){if(Array.isArray(n))return IN(n)}function kne(n,e,t){if(typeof n=="function"?n===e:n.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function ONe(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Tq(n,e,t,i,r,s,a){try{var o=n[s](a),l=o.value}catch(u){return void t(u)}o.done?e(l):Promise.resolve(l).then(i,r)}function INe(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function a(l){Tq(s,i,r,a,o,"next",l)}function o(l){Tq(s,i,r,a,o,"throw",l)}a(void 0)})}}function sT(n,e,t){return e=n8(e),WNe(n,yU()?Reflect.construct(e,t||[],n8(n).constructor):e.apply(n,t))}function FNe(n,e){if(e.has(n))throw new TypeError("Cannot initialize the same private elements twice on an object")}function aT(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function x9(n,e){return n.get(kne(n,e))}function Nw(n,e,t){FNe(n,e),e.set(n,t)}function Dw(n,e,t){return n.set(kne(n,e),t),t}function gU(n,e,t){if(yU())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,e);var r=new(n.bind.apply(n,i));return r}function zNe(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Gne(i.key),i)}}function oT(n,e,t){return e&&zNe(n.prototype,e),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ma(n,e,t){return(e=Gne(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function FN(){return FN=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(n,e,t){var i=XNe(n,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?n:t):r.value}},FN.apply(null,arguments)}function n8(n){return n8=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n8(n)}function lT(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&VN(n,e)}function yU(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yU=function(){return!!n})()}function VNe(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function kNe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i,r,s,a,o=[],l=!0,u=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;l=!1}else for(;!(l=(i=s.call(t)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(c){u=!0,r=c}finally{try{if(!l&&t.return!=null&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw r}}return o}}function GNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Yi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Mq(Object(t),!0).forEach(function(i){Ma(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Mq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function HNe(n,e){if(n==null)return{};var t,i,r=jNe(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)t=s[i],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(n,t)&&(r[t]=n[t])}return r}function jNe(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function WNe(n,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ONe(n)}function zN(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */var n,e,t=typeof Symbol=="function"?Symbol:{},i=t.iterator||"@@iterator",r=t.toStringTag||"@@toStringTag";function s(v,_,T,M){var S=_&&_.prototype instanceof o?_:o,R=Object.create(S.prototype);return Dl(R,"_invoke",function(C,P,B){var O,V,F,z=0,k=B||[],H=!1,Z={p:0,n:0,v:n,a:$,f:$.bind(n,4),d:function(ae,ne){return O=ae,V=0,F=n,Z.n=ne,a}};function $(ae,ne){for(V=ae,F=ne,e=0;!H&&z&&!Y&&e<k.length;e++){var Y,ee=k[e],Q=Z.p,fe=ee[2];ae>3?(Y=fe===ne)&&(F=ee[(V=ee[4])?5:(V=3,3)],ee[4]=ee[5]=n):ee[0]<=Q&&((Y=ae<2&&Q<ee[1])?(V=0,Z.v=ne,Z.n=ee[1]):Q<fe&&(Y=ae<3||ee[0]>ne||ne>fe)&&(ee[4]=ae,ee[5]=ne,Z.n=fe,V=0))}if(Y||ae>1)return a;throw H=!0,ne}return function(ae,ne,Y){if(z>1)throw TypeError("Generator is already running");for(H&&ne===1&&$(ne,Y),V=ne,F=Y;(e=V<2?n:F)||!H;){O||(V?V<3?(V>1&&(Z.n=-1),$(V,F)):Z.n=F:Z.v=F);try{if(z=2,O){if(V||(ae="next"),e=O[ae]){if(!(e=e.call(O,F)))throw TypeError("iterator result is not an object");if(!e.done)return e;F=e.value,V<2&&(V=0)}else V===1&&(e=O.return)&&e.call(O),V<2&&(F=TypeError("The iterator does not provide a '"+ae+"' method"),V=1);O=n}else if((e=(H=Z.n<0)?F:C.call(P,Z))!==a)break}catch(ee){O=n,V=1,F=ee}finally{z=1}}return{value:e,done:H}}}(v,T,M),!0),R}var a={};function o(){}function l(){}function u(){}e=Object.getPrototypeOf;var c=[][i]?e(e([][i]())):(Dl(e={},i,function(){return this}),e),f=u.prototype=o.prototype=Object.create(c);function m(v){return Object.setPrototypeOf?Object.setPrototypeOf(v,u):(v.__proto__=u,Dl(v,r,"GeneratorFunction")),v.prototype=Object.create(f),v}return l.prototype=u,Dl(f,"constructor",u),Dl(u,"constructor",l),l.displayName="GeneratorFunction",Dl(u,r,"GeneratorFunction"),Dl(f),Dl(f,r,"Generator"),Dl(f,i,function(){return this}),Dl(f,"toString",function(){return"[object Generator]"}),(zN=function(){return{w:s,m}})()}function Dl(n,e,t,i){var r=Object.defineProperty;try{r({},"",{})}catch{r=0}Dl=function(s,a,o,l){if(a)r?r(s,a,{value:o,enumerable:!l,configurable:!l,writable:!l}):s[a]=o;else{let u=function(c,f){Dl(s,c,function(m){return this._invoke(c,f,m)})};u("next",0),u("throw",1),u("return",2)}},Dl(n,e,t,i)}function VN(n,e){return VN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},VN(n,e)}function Br(n,e){return BNe(n)||kNe(n,e)||qne(n,e)||GNe()}function XNe(n,e){for(;!{}.hasOwnProperty.call(n,e)&&(n=n8(n))!==null;);return n}function Pw(n,e,t,i){var r=FN(n8(n.prototype),e,t);return typeof r=="function"?function(s){return r.apply(t,s)}:r}function ir(n){return UNe(n)||VNe(n)||qne(n)||qNe()}function YNe(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Gne(n){var e=YNe(n,"string");return typeof e=="symbol"?e:e+""}function qne(n,e){if(n){if(typeof n=="string")return IN(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?IN(n,e):void 0}}var Hne=function(e){e instanceof Array?e.forEach(Hne):(e.map&&e.map.dispose(),e.dispose())},vU=function(e){e.geometry&&e.geometry.dispose(),e.material&&Hne(e.material),e.texture&&e.texture.dispose(),e.children&&e.children.forEach(vU)},hr=function(e){if(e&&e.children)for(;e.children.length;){var t=e.children[0];e.remove(t),vU(t)}};function Io(n,e){var t=new e;return{linkProp:function(r){return{default:t[r](),onChange:function(a,o){o[n][r](a)},triggerUpdate:!1}},linkMethod:function(r){return function(s){for(var a=s[n],o=arguments.length,l=new Array(o>1?o-1:0),u=1;u<o;u++)l[u-1]=arguments[u];var c=a[r].apply(a,l);return c===a?this:c}}}}var Er=100;function Eq(){return Er}function z0(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=(90-n)*Math.PI/180,r=(90-e)*Math.PI/180,s=Er*(1+t),a=Math.sin(i);return{x:s*a*Math.cos(r),y:s*Math.cos(i),z:s*a*Math.sin(r)}}function jne(n){var e=n.x,t=n.y,i=n.z,r=Math.sqrt(e*e+t*t+i*i),s=Math.acos(t/r),a=Math.atan2(i,e);return{lat:90-s*180/Math.PI,lng:90-a*180/Math.PI-(a<-Math.PI/2?360:0),altitude:r/Er-1}}function ef(n){return n*Math.PI/180}var Tp=window.THREE?window.THREE:{BackSide:Zi,BufferAttribute:di,Color:Nt,Mesh:ii,ShaderMaterial:Uo},QNe=`
uniform float hollowRadius;

varying vec3 vVertexWorldPosition;
varying vec3 vVertexNormal;
varying float vCameraDistanceToObjCenter;
varying float vVertexAngularDistanceToHollowRadius;

void main() {    
  vVertexNormal	= normalize(normalMatrix * normal);
  vVertexWorldPosition = (modelMatrix * vec4(position, 1.0)).xyz;
  
  vec4 objCenterViewPosition = modelViewMatrix * vec4(0.0, 0.0, 0.0, 1.0);
  vCameraDistanceToObjCenter = length(objCenterViewPosition);
  
  float edgeAngle = atan(hollowRadius / vCameraDistanceToObjCenter);
  float vertexAngle = acos(dot(normalize(modelViewMatrix * vec4(position, 1.0)), normalize(objCenterViewPosition)));
  vVertexAngularDistanceToHollowRadius = vertexAngle - edgeAngle;

  gl_Position	= projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}`,$Ne=`
uniform vec3 color;
uniform float coefficient;
uniform float power;
uniform float hollowRadius;

varying vec3 vVertexNormal;
varying vec3 vVertexWorldPosition;
varying float vCameraDistanceToObjCenter;
varying float vVertexAngularDistanceToHollowRadius;

void main() {
  if (vCameraDistanceToObjCenter < hollowRadius) discard; // inside the hollowRadius
  if (vVertexAngularDistanceToHollowRadius < 0.0) discard; // frag position is within the hollow radius

  vec3 worldCameraToVertex = vVertexWorldPosition - cameraPosition;
  vec3 viewCameraToVertex	= (viewMatrix * vec4(worldCameraToVertex, 0.0)).xyz;
  viewCameraToVertex = normalize(viewCameraToVertex);
  float intensity	= pow(
    coefficient + dot(vVertexNormal, viewCameraToVertex),
    power
  );
  gl_FragColor = vec4(color, intensity);
}`;function KNe(n,e,t,i){return new Tp.ShaderMaterial({depthWrite:!1,transparent:!0,vertexShader:QNe,fragmentShader:$Ne,uniforms:{coefficient:{value:n},color:{value:new Tp.Color(e)},power:{value:t},hollowRadius:{value:i}}})}function ZNe(n,e){for(var t=n.clone(),i=new Float32Array(n.attributes.position.count*3),r=0,s=i.length;r<s;r++){var a=n.attributes.normal.array[r],o=n.attributes.position.array[r];i[r]=o+a*e}return t.setAttribute("position",new Tp.BufferAttribute(i,3)),t}var JNe=function(n){function e(t){var i,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.color,a=s===void 0?"gold":s,o=r.size,l=o===void 0?2:o,u=r.coefficient,c=u===void 0?.5:u,f=r.power,m=f===void 0?1:f,v=r.hollowRadius,_=v===void 0?0:v,T=r.backside,M=T===void 0?!0:T;aT(this,e),i=sT(this,e);var S=ZNe(t,l),R=KNe(c,a,m,_);return M&&(R.side=Tp.BackSide),i.geometry=S,i.material=R,i}return lT(e,n),oT(e)}(Tp.Mesh),Qu=window.THREE?window.THREE:{Color:Nt,Group:oo,LineBasicMaterial:aa,LineSegments:k0,Mesh:ii,MeshPhongMaterial:TS,SphereGeometry:q0,SRGBColorSpace:Os,TextureLoader:gL},Wne=Ao({props:{globeImageUrl:{},bumpImageUrl:{},showGlobe:{default:!0,onChange:function(e,t){t.globeGroup.visible=!!e},triggerUpdate:!1},showGraticules:{default:!1,onChange:function(e,t){t.graticulesObj.visible=!!e},triggerUpdate:!1},showAtmosphere:{default:!0,onChange:function(e,t){t.atmosphereObj&&(t.atmosphereObj.visible=!!e)},triggerUpdate:!1},atmosphereColor:{default:"lightskyblue"},atmosphereAltitude:{default:.15},globeCurvatureResolution:{default:4},globeTileEngineUrl:{onChange:function(e,t){t.tileEngine.tileUrl=e}},globeTileEngineMaxLevel:{default:17,onChange:function(e,t){t.tileEngine.maxLevel=e},triggerUpdate:!1},updatePov:{onChange:function(e,t){t.tileEngine.updatePov(e)},triggerUpdate:!1},onReady:{default:function(){},triggerUpdate:!1}},methods:{globeMaterial:function(e,t){return t!==void 0?(e.globeObj.material=t||e.defaultGlobeMaterial,this):e.globeObj.material},_destructor:function(e){hr(e.globeObj),hr(e.tileEngine),hr(e.graticulesObj)}},stateInit:function(){var e=new Qu.MeshPhongMaterial({color:0}),t=new Qu.Mesh(void 0,e);t.rotation.y=-Math.PI/2;var i=new Ime(Er),r=new Qu.Group;r.__globeObjType="globe",r.add(t),r.add(i);var s=new Qu.LineSegments(new EK(tme(),Er,2),new Qu.LineBasicMaterial({color:"lightgrey",transparent:!0,opacity:.1}));return{globeGroup:r,globeObj:t,graticulesObj:s,defaultGlobeMaterial:e,tileEngine:i}},init:function(e,t){hr(e),t.scene=e,t.scene.add(t.globeGroup),t.scene.add(t.graticulesObj),t.ready=!1},update:function(e,t){var i=e.globeObj.material;if(e.tileEngine.visible=!(e.globeObj.visible=!e.globeTileEngineUrl),t.hasOwnProperty("globeCurvatureResolution")){var r;(r=e.globeObj.geometry)===null||r===void 0||r.dispose();var s=Math.max(4,Math.round(360/e.globeCurvatureResolution));e.globeObj.geometry=new Qu.SphereGeometry(Er,s,s/2),e.tileEngine.curvatureResolution=e.globeCurvatureResolution}if(t.hasOwnProperty("globeImageUrl")&&(e.globeImageUrl?new Qu.TextureLoader().load(e.globeImageUrl,function(o){o.colorSpace=Qu.SRGBColorSpace,i.map=o,i.color=null,i.needsUpdate=!0,!e.ready&&(e.ready=!0)&&setTimeout(e.onReady)}):!i.color&&(i.color=new Qu.Color(0))),t.hasOwnProperty("bumpImageUrl")&&(e.bumpImageUrl?e.bumpImageUrl&&new Qu.TextureLoader().load(e.bumpImageUrl,function(o){i.bumpMap=o,i.needsUpdate=!0}):(i.bumpMap=null,i.needsUpdate=!0)),(t.hasOwnProperty("atmosphereColor")||t.hasOwnProperty("atmosphereAltitude"))&&(e.atmosphereObj&&(e.scene.remove(e.atmosphereObj),hr(e.atmosphereObj)),e.atmosphereColor&&e.atmosphereAltitude)){var a=e.atmosphereObj=new JNe(e.globeObj.geometry,{color:e.atmosphereColor,size:Er*e.atmosphereAltitude,hollowRadius:Er,coefficient:.1,power:3.5});a.visible=!!e.showAtmosphere,a.__globeObjType="atmosphere",e.scene.add(a)}!e.ready&&(!e.globeImageUrl||e.globeTileEngineUrl)&&(e.ready=!0,e.onReady())}}),w1=function(e){return isNaN(e)?parseInt(gn(e).toHex(),16):e},_u=function(e){return e&&isNaN(e)?ih(e).opacity:1},N3=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r,s=1,a=/^rgba\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.eE+-]+)\s*\)$/.exec(e.trim().toLowerCase());if(a){var o=a.slice(1),l=Br(o,4),u=l[0],c=l[1],f=l[2],m=l[3];r=new Nt("rgb(".concat(+u,",").concat(+c,",").concat(+f,")")),s=Math.min(+m,1)}else r=new Nt(e);i&&r.convertLinearToSRGB();var v=r.toArray();return t?[].concat(ir(v),[s]):v};function eDe(n,e,t){return n.opacity=e,n.transparent=e<1,n.depthWrite=e>=1,n}var wq=window.THREE?window.THREE:{BufferAttribute:di};function R1(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float32Array;if(e===1)return new wq.BufferAttribute(new t(n),e);for(var i=new wq.BufferAttribute(new t(n.length*e),e),r=0,s=n.length;r<s;r++)i.set(n[r],r*e);return i}function tDe(n){for(var e=n.itemSize,t=[],i=0;i<n.count;i++)t.push(n.array.slice(i*e,(i+1)*e));return t}var Lw=new WeakMap,Sv=new WeakMap,Tv=new WeakMap,Al=function(n){function e(t){var i,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.dataBindAttr,a=s===void 0?"__data":s,o=r.objBindAttr,l=o===void 0?"__threeObj":o,u=r.removeDelay,c=u===void 0?0:u;return aT(this,e),i=sT(this,e),Ma(i,"scene",void 0),Nw(i,Lw,void 0),Nw(i,Sv,void 0),Nw(i,Tv,void 0),i.scene=t,Dw(Lw,i,a),Dw(Sv,i,l),Dw(Tv,i,c),i.onRemoveObj(function(){}),i}return lT(e,n),oT(e,[{key:"onCreateObj",value:function(i){var r=this;return Pw(e,"onCreateObj",this)([function(s){var a=i(s);return s[x9(Sv,r)]=a,a[x9(Lw,r)]=s,r.scene.add(a),a}]),this}},{key:"onRemoveObj",value:function(i){var r=this;return Pw(e,"onRemoveObj",this)([function(s,a){var o=Pw(e,"getData",r)([s]);i(s,a);var l=function(){r.scene.remove(s),hr(s),delete o[x9(Sv,r)]};x9(Tv,r)?setTimeout(l,x9(Tv,r)):l()}]),this}}])}(hye),su=window.THREE?window.THREE:{BufferGeometry:bn,CylinderGeometry:_h,Matrix4:Yt,Mesh:ii,MeshLambertMaterial:wu,Object3D:Mi,Vector3:re},Rq=Object.assign({},HL),Cq=Rq.BufferGeometryUtils||Rq,Xne=Ao({props:{pointsData:{default:[]},pointLat:{default:"lat"},pointLng:{default:"lng"},pointColor:{default:function(){return"#ffffaa"}},pointAltitude:{default:.1},pointRadius:{default:.25},pointResolution:{default:12,triggerUpdate:!1},pointsMerge:{default:!1},pointsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,i){var r=i.tweenGroup;hr(e),t.scene=e,t.tweenGroup=r,t.dataMapper=new Al(e,{objBindAttr:"__threeObjPoint"})},update:function(e,t){var i=yt(e.pointLat),r=yt(e.pointLng),s=yt(e.pointAltitude),a=yt(e.pointRadius),o=yt(e.pointColor),l=new su.CylinderGeometry(1,1,1,e.pointResolution);l.applyMatrix4(new su.Matrix4().makeRotationX(Math.PI/2)),l.applyMatrix4(new su.Matrix4().makeTranslation(0,0,-.5));var u=2*Math.PI*Er/360,c={};if(!e.pointsMerge&&t.hasOwnProperty("pointsMerge")&&hr(e.scene),e.dataMapper.scene=e.pointsMerge?new su.Object3D:e.scene,e.dataMapper.onCreateObj(v).onUpdateObj(_).digest(e.pointsData),e.pointsMerge){var f=e.pointsData.length?(Cq.mergeGeometries||Cq.mergeBufferGeometries)(e.pointsData.map(function(T){var M=e.dataMapper.getObj(T),S=M.geometry.clone();M.updateMatrix(),S.applyMatrix4(M.matrix);var R=N3(o(T));return S.setAttribute("color",R1(Array(S.getAttribute("position").count).fill(R),4)),S})):new su.BufferGeometry,m=new su.Mesh(f,new su.MeshLambertMaterial({color:16777215,transparent:!0,vertexColors:!0}));m.__globeObjType="points",m.__data=e.pointsData,e.dataMapper.clear(),hr(e.scene),e.scene.add(m)}function v(){var T=new su.Mesh(l);return T.__globeObjType="point",T}function _(T,M){var S=function(F){var z=T.__currentTargetD=F,k=z.r,H=z.alt,Z=z.lat,$=z.lng;Object.assign(T.position,z0(Z,$));var ae=e.pointsMerge?new su.Vector3(0,0,0):e.scene.localToWorld(new su.Vector3(0,0,0));T.lookAt(ae),T.scale.x=T.scale.y=Math.min(30,k)*u,T.scale.z=Math.max(H*Er,.1)},R={alt:+s(M),r:+a(M),lat:+i(M),lng:+r(M)},C=T.__currentTargetD||Object.assign({},R,{alt:-.001});if(Object.keys(R).some(function(V){return C[V]!==R[V]})&&(e.pointsMerge||!e.pointsTransitionDuration||e.pointsTransitionDuration<0?S(R):e.tweenGroup.add(new Yl(C).to(R,e.pointsTransitionDuration).easing(Ga.Quadratic.InOut).onUpdate(S).start())),!e.pointsMerge){var P=o(M),B=P?_u(P):0,O=!!B;T.visible=O,O&&(c.hasOwnProperty(P)||(c[P]=new su.MeshLambertMaterial({color:w1(P),transparent:B<1,opacity:B})),T.material=c[P])}}}}),Yne=function(){return{uniforms:{dashOffset:{value:0},dashSize:{value:1},gapSize:{value:0},dashTranslate:{value:0}},vertexShader:`
    `.concat(Hn.common,`
    `).concat(Hn.logdepthbuf_pars_vertex,`
  
    uniform float dashTranslate; 

    attribute vec4 color;
    varying vec4 vColor;
    
    attribute float relDistance;
    varying float vRelDistance;

    void main() {
      // pass through colors and distances
      vColor = color;
      vRelDistance = relDistance + dashTranslate;
      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
  
      `).concat(Hn.logdepthbuf_vertex,`
    }
  `),fragmentShader:`
    `.concat(Hn.logdepthbuf_pars_fragment,`

    uniform float dashOffset; 
    uniform float dashSize;
    uniform float gapSize; 
    
    varying vec4 vColor;
    varying float vRelDistance;
    
    void main() {
      // ignore pixels in the gap
      if (vRelDistance < dashOffset) discard;
      if (mod(vRelDistance - dashOffset, dashSize + gapSize) > dashSize) discard;
    
      // set px color: [r, g, b, a], interpolated between vertices 
      gl_FragColor = vColor; 
  
      `).concat(Hn.logdepthbuf_fragment,`
    }
  `)}},kN=function(e){return e.uniforms.surfaceRadius={type:"float",value:0},e.vertexShader=(`attribute float surfaceRadius;
varying float vSurfaceRadius;
varying vec3 vPos;
`+e.vertexShader).replace("void main() {",["void main() {","vSurfaceRadius = surfaceRadius;","vPos = position;"].join(`
`)),e.fragmentShader=(`uniform float surfaceRadius;
varying float vSurfaceRadius;
varying vec3 vPos;
`+e.fragmentShader).replace("void main() {",["void main() {","if (length(vPos) < max(surfaceRadius, vSurfaceRadius)) discard;"].join(`
`)),e},nDe=function(e){return e.vertexShader=`
    attribute float r;
    
    const float PI = 3.1415926535897932384626433832795;
    float toRad(in float a) {
      return a * PI / 180.0;
    }
    
    vec3 Polar2Cartesian(in vec3 c) { // [lat, lng, r]
      float phi = toRad(90.0 - c.x);
      float theta = toRad(90.0 - c.y);
      float r = c.z;
      return vec3( // x,y,z
        r * sin(phi) * cos(theta),
        r * cos(phi),
        r * sin(phi) * sin(theta)
      );
    }
    
    vec2 Cartesian2Polar(in vec3 p) {
      float r = sqrt(p.x * p.x + p.y * p.y + p.z * p.z);
      float phi = acos(p.y / r);
      float theta = atan(p.z, p.x);
      return vec2( // lat,lng
        90.0 - phi * 180.0 / PI,
        90.0 - theta * 180.0 / PI - (theta < -PI / 2.0 ? 360.0 : 0.0)
      );
    }
    `.concat(e.vertexShader.replace("}",`                  
        vec3 pos = Polar2Cartesian(vec3(Cartesian2Polar(position), r));
        gl_Position = projectionMatrix * modelViewMatrix * vec4(pos, 1.0);
      }
    `),`
  `),e},xU=function(e,t){return e.onBeforeCompile=function(i){e.userData.shader=t(i)},e},iDe=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(r){return r};if(e.userData.shader)t(e.userData.shader.uniforms);else{var i=e.onBeforeCompile;e.onBeforeCompile=function(r){i(r),t(r.uniforms)}}},rDe=["stroke"],au=window.THREE?window.THREE:{BufferGeometry:bn,CubicBezierCurve3:JP,Curve:G0,Group:oo,Line:Su,Mesh:ii,NormalBlending:uo,ShaderMaterial:Uo,TubeGeometry:lm,Vector3:re},sDe=Qd.default||Qd,Qne=Ao({props:{arcsData:{default:[]},arcStartLat:{default:"startLat"},arcStartLng:{default:"startLng"},arcEndLat:{default:"endLat"},arcEndLng:{default:"endLng"},arcColor:{default:function(){return"#ffffaa"}},arcAltitude:{},arcAltitudeAutoScale:{default:.5},arcStroke:{},arcCurveResolution:{default:64,triggerUpdate:!1},arcCircularResolution:{default:6,triggerUpdate:!1},arcDashLength:{default:1},arcDashGap:{default:0},arcDashInitialGap:{default:0},arcDashAnimateTime:{default:0},arcsTransitionDuration:{default:1e3,triggerUpdate:!1}},methods:{pauseAnimation:function(e){var t;(t=e.ticker)===null||t===void 0||t.pause()},resumeAnimation:function(e){var t;(t=e.ticker)===null||t===void 0||t.resume()},_destructor:function(e){var t;e.sharedMaterial.dispose(),(t=e.ticker)===null||t===void 0||t.dispose()}},stateInit:function(e){var t=e.tweenGroup;return{tweenGroup:t,ticker:new sDe,sharedMaterial:new au.ShaderMaterial(Yi(Yi({},Yne()),{},{transparent:!0,blending:au.NormalBlending}))}},init:function(e,t){hr(e),t.scene=e,t.dataMapper=new Al(e,{objBindAttr:"__threeObjArc"}).onCreateObj(function(){var i=new au.Group;return i.__globeObjType="arc",i}),t.ticker.onTick.add(function(i,r){t.dataMapper.entries().map(function(s){var a=Br(s,2),o=a[1];return o}).filter(function(s){return s.children.length&&s.children[0].material&&s.children[0].__dashAnimateStep}).forEach(function(s){var a=s.children[0],o=a.__dashAnimateStep*r,l=a.material.uniforms.dashTranslate.value%1e9;a.material.uniforms.dashTranslate.value=l+o})})},update:function(e){var t=yt(e.arcStartLat),i=yt(e.arcStartLng),r=yt(e.arcEndLat),s=yt(e.arcEndLng),a=yt(e.arcAltitude),o=yt(e.arcAltitudeAutoScale),l=yt(e.arcStroke),u=yt(e.arcColor),c=yt(e.arcDashLength),f=yt(e.arcDashGap),m=yt(e.arcDashInitialGap),v=yt(e.arcDashAnimateTime);e.dataMapper.onUpdateObj(function(S,R){var C=l(R),P=C!=null;if(!S.children.length||P!==(S.children[0].type==="Mesh")){hr(S);var B=P?new au.Mesh:new au.Line(new au.BufferGeometry);B.material=e.sharedMaterial.clone(),S.add(B)}var O=S.children[0];Object.assign(O.material.uniforms,{dashSize:{value:c(R)},gapSize:{value:f(R)},dashOffset:{value:m(R)}});var V=v(R);O.__dashAnimateStep=V>0?1e3/V:0;var F=T(u(R),e.arcCurveResolution,P?e.arcCircularResolution+1:1),z=M(e.arcCurveResolution,P?e.arcCircularResolution+1:1,!0);O.geometry.setAttribute("color",F),O.geometry.setAttribute("relDistance",z);var k=function(ae){var ne=S.__currentTargetD=ae,Y=ne.stroke,ee=HNe(ne,rDe),Q=_(ee);P?(O.geometry&&O.geometry.dispose(),O.geometry=new au.TubeGeometry(Q,e.arcCurveResolution,Y/2,e.arcCircularResolution),O.geometry.setAttribute("color",F),O.geometry.setAttribute("relDistance",z)):O.geometry.setFromPoints(Q.getPoints(e.arcCurveResolution))},H={stroke:C,alt:a(R),altAutoScale:+o(R),startLat:+t(R),startLng:+i(R),endLat:+r(R),endLng:+s(R)},Z=S.__currentTargetD||Object.assign({},H,{altAutoScale:-.001});Object.keys(H).some(function($){return Z[$]!==H[$]})&&(!e.arcsTransitionDuration||e.arcsTransitionDuration<0?k(H):e.tweenGroup.add(new Yl(Z).to(H,e.arcsTransitionDuration).easing(Ga.Quadratic.InOut).onUpdate(k).start()))}).digest(e.arcsData);function _(S){var R=S.alt,C=S.altAutoScale,P=S.startLat,B=S.startLng,O=S.endLat,V=S.endLng,F=function(Re){var Ge=Br(Re,3),We=Ge[0],Se=Ge[1],qe=Ge[2],St=z0(Se,We,qe),at=St.x,Ct=St.y,Jt=St.z;return new au.Vector3(at,Ct,Jt)},z=[B,P],k=[V,O],H=R;if(H==null&&(H=C3(z,k)/2*C),H){var Z=zL(z,k),$=[.25,.75].map(function(ge){return[].concat(ir(Z(ge)),[H*1.5])}),ae=Br($,2),ne=ae[0],Y=ae[1],ee=gU(au.CubicBezierCurve3,ir([z,ne,Y,k].map(F)));return ee}else{var Q=.001;return fe.apply(void 0,ir([[].concat(z,[Q]),[].concat(k,[Q])].map(F)))}function fe(ge,Re){var Ge=ge.angleTo(Re),We=Ge===0?function(){return ge.clone()}:function(qe){return new au.Vector3().addVectors(ge.clone().multiplyScalar(Math.sin((1-qe)*Ge)),Re.clone().multiplyScalar(Math.sin(qe*Ge))).divideScalar(Math.sin(Ge))},Se=new au.Curve;return Se.getPoint=We,Se}}function T(S,R){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=R+1,B;if(S instanceof Array||S instanceof Function){var O=S instanceof Array?jc().domain(S.map(function($,ae){return ae/(S.length-1)})).range(S):S;B=function(ae){return N3(O(ae),!0,!0)}}else{var V=N3(S,!0,!0);B=function(){return V}}for(var F=[],z=0,k=P;z<k;z++)for(var H=B(z/(k-1)),Z=0;Z<C;Z++)F.push(H);return R1(F,4)}function M(S){for(var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,P=S+1,B=[],O=0,V=P;O<V;O++)for(var F=O/(V-1),z=0;z<R;z++)B.push(F);return C&&B.reverse(),R1(B,1)}}}),B2=window.THREE?window.THREE:{BufferGeometry:bn,DoubleSide:hs,Mesh:ii,MeshLambertMaterial:wu,Object3D:Mi},Nq=Object.assign({},HL),Dq=Nq.BufferGeometryUtils||Nq,$ne=Ao({props:{hexBinPointsData:{default:[]},hexBinPointLat:{default:"lat"},hexBinPointLng:{default:"lng"},hexBinPointWeight:{default:1},hexBinResolution:{default:4},hexMargin:{default:.2},hexTopCurvatureResolution:{default:5},hexTopColor:{default:function(){return"#ffffaa"}},hexSideColor:{default:function(){return"#ffffaa"}},hexAltitude:{default:function(e){var t=e.sumWeight;return t*.01}},hexBinMerge:{default:!1},hexTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,i){var r=i.tweenGroup;hr(e),t.scene=e,t.tweenGroup=r,t.dataMapper=new Al(e,{objBindAttr:"__threeObjHexbin"})},update:function(e,t){var i=yt(e.hexBinPointLat),r=yt(e.hexBinPointLng),s=yt(e.hexBinPointWeight),a=yt(e.hexAltitude),o=yt(e.hexTopColor),l=yt(e.hexSideColor),u=yt(e.hexMargin),c=Pve(e.hexBinPointsData.map(function(R){return Yi(Yi({},R),{},{h3Idx:dxe(i(R),r(R),e.hexBinResolution)})}),"h3Idx"),f=Object.entries(c).map(function(R){var C=Br(R,2),P=C[0],B=C[1];return{h3Idx:P,points:B,sumWeight:B.reduce(function(O,V){return O+ +s(V)},0)}}),m={};if(!e.hexBinMerge&&t.hasOwnProperty("hexBinMerge")&&hr(e.scene),e.dataMapper.scene=e.hexBinMerge?new B2.Object3D:e.scene,e.dataMapper.id(function(R){return R.h3Idx}).onCreateObj(M).onUpdateObj(S).digest(f),e.hexBinMerge){var v=f.length?(Dq.mergeGeometries||Dq.mergeBufferGeometries)(f.map(function(R){var C=e.dataMapper.getObj(R),P=C.geometry.toNonIndexed();C.updateMatrix(),P.applyMatrix4(C.matrix);var B=N3(o(R)),O=N3(l(R)),V=P.getAttribute("position").count,F=P.groups[0].count;return P.setAttribute("color",R1(ir(new Array(V)).map(function(z,k){return k>=F?B:O}),4)),P})):new B2.BufferGeometry,_=new B2.MeshLambertMaterial({color:16777215,transparent:!0,vertexColors:!0,side:B2.DoubleSide});_.onBeforeCompile=function(R){_.userData.shader=kN(R)};var T=new B2.Mesh(v,_);T.__globeObjType="hexBinPoints",T.__data=f,e.dataMapper.clear(),hr(e.scene),e.scene.add(T)}function M(R){var C=new B2.Mesh;C.__hexCenter=WK(R.h3Idx),C.__hexGeoJson=XK(R.h3Idx,!0).reverse();var P=C.__hexCenter[1];return C.__hexGeoJson.forEach(function(B){var O=B[0];Math.abs(P-O)>170&&(B[0]+=P>O?360:-360)}),C.__globeObjType="hexbin",C}function S(R,C){var P=function(ee,Q,fe){return ee-(ee-Q)*fe},B=Math.max(0,Math.min(1,+u(C))),O=Br(R.__hexCenter,2),V=O[0],F=O[1],z=B===0?R.__hexGeoJson:R.__hexGeoJson.map(function(Y){var ee=Br(Y,2),Q=ee[0],fe=ee[1];return[[Q,F],[fe,V]].map(function(ge){var Re=Br(ge,2),Ge=Re[0],We=Re[1];return P(Ge,We,B)})}),k=e.hexTopCurvatureResolution;R.geometry&&R.geometry.dispose(),R.geometry=new QL([z],0,Er,!1,!0,!0,k);var H={alt:+a(C)},Z=function(ee){var Q=R.__currentTargetD=ee,fe=Q.alt;R.scale.x=R.scale.y=R.scale.z=1+fe;var ge=Er/(fe+1);R.geometry.setAttribute("surfaceRadius",R1(Array(R.geometry.getAttribute("position").count).fill(ge),1))},$=R.__currentTargetD||Object.assign({},H,{alt:-.001});if(Object.keys(H).some(function(Y){return $[Y]!==H[Y]})&&(e.hexBinMerge||!e.hexTransitionDuration||e.hexTransitionDuration<0?Z(H):e.tweenGroup.add(new Yl($).to(H,e.hexTransitionDuration).easing(Ga.Quadratic.InOut).onUpdate(Z).start())),!e.hexBinMerge){var ae=l(C),ne=o(C);[ae,ne].forEach(function(Y){if(!m.hasOwnProperty(Y)){var ee=_u(Y);m[Y]=xU(new B2.MeshLambertMaterial({color:w1(Y),transparent:ee<1,opacity:ee,side:B2.DoubleSide}),kN)}}),R.material=[ae,ne].map(function(Y){return m[Y]})}}}}),Kne=function(e){return e*e},gc=function(e){return e*Math.PI/180};function aDe(n,e){var t=Math.sqrt,i=Math.cos,r=function(c){return Kne(Math.sin(c/2))},s=gc(n[1]),a=gc(e[1]),o=gc(n[0]),l=gc(e[0]);return 2*Math.asin(t(r(a-s)+i(s)*i(a)*r(l-o)))}var oDe=Math.sqrt(2*Math.PI);function lDe(n,e){return Math.exp(-Kne(n/e)/2)/(e*oDe)}var uDe=function(e){var t=Br(e,2),i=t[0],r=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a.lngAccessor,l=o===void 0?function(M){return M[0]}:o,u=a.latAccessor,c=u===void 0?function(M){return M[1]}:u,f=a.weightAccessor,m=f===void 0?function(){return 1}:f,v=a.bandwidth,_=[i,r],T=v*Math.PI/180;return DAe(s.map(function(M){var S=m(M);if(!S)return 0;var R=aDe(_,[l(M),c(M)]);return lDe(R,T)*S}))},cDe=function(){var n=INe(zN().m(function e(t){var i,r,s,a,o,l,u,c,f,m,v,_,T,M,S,R,C,P,B,O,V,F,z,k,H,Z,$,ae,ne,Y,ee,Q,fe,ge,Re,Ge,We,Se,qe,St,at=arguments,Ct,Jt,It,Sn;return zN().w(function(hn){for(;;)switch(hn.n){case 0:if(r=at.length>1&&at[1]!==void 0?at[1]:[],s=at.length>2&&at[2]!==void 0?at[2]:{},a=s.lngAccessor,o=a===void 0?function($t){return $t[0]}:a,l=s.latAccessor,u=l===void 0?function($t){return $t[1]}:l,c=s.weightAccessor,f=c===void 0?function(){return 1}:c,m=s.bandwidth,(i=navigator)!==null&&i!==void 0&&i.gpu){hn.n=1;break}return console.warn("WebGPU not enabled in browser. Please consider enabling it to improve performance."),hn.a(2,t.map(function($t){return uDe($t,r,{lngAccessor:o,latAccessor:u,weightAccessor:f,bandwidth:m})}));case 1:return v=4,_=dNe,T=ANe,M=MNe,S=TNe,R=vNe,C=xNe,P=pNe,B=SNe,O=bNe,V=gNe,F=mNe,z=yNe,k=_Ne,H=S(new px(new Float32Array(t.flat().map(gc)),2),"vec2",t.length),Z=S(new px(new Float32Array(r.map(function($t){return[gc(o($t)),gc(u($t)),f($t)]}).flat()),3),"vec3",r.length),$=new px(t.length,1),ae=S($,"float",t.length),ne=R(Math.PI),Y=B(ne.mul(2)),ee=function(ce){return ce.mul(ce)},Q=function(ce){return ee(O(ce.div(2)))},fe=function(ce,bt){var At=R(ce[1]),mt=R(bt[1]),et=R(ce[0]),Ft=R(bt[0]);return R(2).mul(F(B(Q(mt.sub(At)).add(V(At).mul(V(mt)).mul(Q(Ft.sub(et)))))))},ge=function(ce,bt){return z(k(ee(ce.div(bt)).div(2))).div(bt.mul(Y))},Re=M(gc(m)),Ge=M(gc(m*v)),We=M(r.length),Se=_(function(){var $t=H.element(C),ce=ae.element(C);ce.assign(0),P(We,function(bt){var At=bt.i,mt=Z.element(At),et=mt.z;T(et,function(){var Ft=fe(mt.xy,$t.xy);T(Ft&&Ft.lessThan(Ge),function(){ce.addAssign(ge(Ft,Re).mul(et))})})})}),qe=Se().compute(t.length),St=new hNe,hn.n=2,St.computeAsync(qe);case 2:return Ct=Array,Jt=Float32Array,hn.n=3,St.getArrayBufferAsync($);case 3:return It=hn.v,Sn=new Jt(It),hn.a(2,Ct.from.call(Ct,Sn))}},e)}));return function(t){return n.apply(this,arguments)}}(),Mv=window.THREE?window.THREE:{Mesh:ii,MeshLambertMaterial:wu,SphereGeometry:q0},fDe=3.5,hDe=.1,Pq=100,dDe=function(e){var t=ih(pxe(e));return t.opacity=Math.cbrt(e),t.formatRgb()},Zne=Ao({props:{heatmapsData:{default:[]},heatmapPoints:{default:function(e){return e}},heatmapPointLat:{default:function(e){return e[0]}},heatmapPointLng:{default:function(e){return e[1]}},heatmapPointWeight:{default:1},heatmapBandwidth:{default:2.5},heatmapColorFn:{default:function(){return dDe}},heatmapColorSaturation:{default:1.5},heatmapBaseAltitude:{default:.01},heatmapTopAltitude:{},heatmapsTransitionDuration:{default:0,triggerUpdate:!1}},init:function(e,t,i){var r=i.tweenGroup;hr(e),t.scene=e,t.tweenGroup=r,t.dataMapper=new Al(e,{objBindAttr:"__threeObjHeatmap"}).onCreateObj(function(){var s=new Mv.Mesh(new Mv.SphereGeometry(Er),xU(new Mv.MeshLambertMaterial({vertexColors:!0,transparent:!0}),nDe));return s.__globeObjType="heatmap",s})},update:function(e){var t=yt(e.heatmapPoints),i=yt(e.heatmapPointLat),r=yt(e.heatmapPointLng),s=yt(e.heatmapPointWeight),a=yt(e.heatmapBandwidth),o=yt(e.heatmapColorFn),l=yt(e.heatmapColorSaturation),u=yt(e.heatmapBaseAltitude),c=yt(e.heatmapTopAltitude);e.dataMapper.onUpdateObj(function(f,m){var v=a(m),_=o(m),T=l(m),M=u(m),S=c(m),R=t(m).map(function(V){var F=i(V),z=r(V),k=z0(F,z),H=k.x,Z=k.y,$=k.z;return{x:H,y:Z,z:$,lat:F,lng:z,weight:s(V)}}),C=Math.max(hDe,v/fDe),P=Math.ceil(360/(C||-1));f.geometry.parameters.widthSegments!==P&&(f.geometry.dispose(),f.geometry=new Mv.SphereGeometry(Er,P,P/2));var B=tDe(f.geometry.getAttribute("position")),O=B.map(function(V){var F=Br(V,3),z=F[0],k=F[1],H=F[2],Z=jne({x:z,y:k,z:H}),$=Z.lng,ae=Z.lat;return[$,ae]});cDe(O,R,{latAccessor:function(F){return F.lat},lngAccessor:function(F){return F.lng},weightAccessor:function(F){return F.weight},bandwidth:v}).then(function(V){var F=ir(new Array(Pq)).map(function(Z,$){return N3(_($/(Pq-1)))}),z=function($){var ae=f.__currentTargetD=$,ne=ae.kdeVals,Y=ae.topAlt,ee=ae.saturation,Q=RAe(ne.map(Math.abs))||1e-15,fe=W$([0,Q/ee],F);f.geometry.setAttribute("color",R1(ne.map(function(Re){return fe(Math.abs(Re))}),4));var ge=jc([0,Q],[Er*(1+M),Er*(1+(Y||M))]);f.geometry.setAttribute("r",R1(ne.map(ge)))},k={kdeVals:V,topAlt:S,saturation:T},H=f.__currentTargetD||Object.assign({},k,{kdeVals:V.map(function(){return 0}),topAlt:S&&M,saturation:.5});H.kdeVals.length!==V.length&&(H.kdeVals=V.slice()),Object.keys(k).some(function(Z){return H[Z]!==k[Z]})&&(!e.heatmapsTransitionDuration||e.heatmapsTransitionDuration<0?z(k):e.tweenGroup.add(new Yl(H).to(k,e.heatmapsTransitionDuration).easing(Ga.Quadratic.InOut).onUpdate(z).start()))})}).digest(e.heatmapsData)}}),U2=window.THREE?window.THREE:{DoubleSide:hs,Group:oo,LineBasicMaterial:aa,LineSegments:k0,Mesh:ii,MeshBasicMaterial:Ia},Jne=Ao({props:{polygonsData:{default:[]},polygonGeoJsonGeometry:{default:"geometry"},polygonSideColor:{default:function(){return"#ffffaa"}},polygonSideMaterial:{},polygonCapColor:{default:function(){return"#ffffaa"}},polygonCapMaterial:{},polygonStrokeColor:{},polygonAltitude:{default:.01},polygonCapCurvatureResolution:{default:5},polygonsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,i){var r=i.tweenGroup;hr(e),t.scene=e,t.tweenGroup=r,t.dataMapper=new Al(e,{objBindAttr:"__threeObjPolygon"}).id(function(s){return s.id}).onCreateObj(function(){var s=new U2.Group;return s.__defaultSideMaterial=xU(new U2.MeshBasicMaterial({side:U2.DoubleSide,depthWrite:!0}),kN),s.__defaultCapMaterial=new U2.MeshBasicMaterial({side:U2.DoubleSide,depthWrite:!0}),s.add(new U2.Mesh(void 0,[s.__defaultSideMaterial,s.__defaultCapMaterial])),s.add(new U2.LineSegments(void 0,new U2.LineBasicMaterial)),s.__globeObjType="polygon",s})},update:function(e){var t=yt(e.polygonGeoJsonGeometry),i=yt(e.polygonAltitude),r=yt(e.polygonCapCurvatureResolution),s=yt(e.polygonCapColor),a=yt(e.polygonCapMaterial),o=yt(e.polygonSideColor),l=yt(e.polygonSideMaterial),u=yt(e.polygonStrokeColor),c=[];e.polygonsData.forEach(function(f){var m={data:f,capColor:s(f),capMaterial:a(f),sideColor:o(f),sideMaterial:l(f),strokeColor:u(f),altitude:+i(f),capCurvatureResolution:+r(f)},v=t(f),_=f.__id||"".concat(Math.round(Math.random()*1e9));f.__id=_,v.type==="Polygon"?c.push(Yi({id:"".concat(_,"_0"),coords:v.coordinates},m)):v.type==="MultiPolygon"?c.push.apply(c,ir(v.coordinates.map(function(T,M){return Yi({id:"".concat(_,"_").concat(M),coords:T},m)}))):console.warn("Unsupported GeoJson geometry type: ".concat(v.type,". Skipping geometry..."))}),e.dataMapper.onUpdateObj(function(f,m){var v=m.coords,_=m.capColor,T=m.capMaterial,M=m.sideColor,S=m.sideMaterial,R=m.strokeColor,C=m.altitude,P=m.capCurvatureResolution,B=Br(f.children,2),O=B[0],V=B[1],F=!!R;V.visible=F;var z=!!(_||T),k=!!(M||S);ADe(O.geometry.parameters||{},{polygonGeoJson:v,curvatureResolution:P,closedTop:z,includeSides:k})||(O.geometry&&O.geometry.dispose(),O.geometry=new QL(v,0,Er,!1,z,k,P)),F&&(!V.geometry.parameters||V.geometry.parameters.geoJson.coordinates!==v||V.geometry.parameters.resolution!==P)&&(V.geometry&&V.geometry.dispose(),V.geometry=new EK({type:"Polygon",coordinates:v},Er,P));var H=k?0:-1,Z=z?k?1:0:-1;if(H>=0&&(O.material[H]=S||f.__defaultSideMaterial),Z>=0&&(O.material[Z]=T||f.__defaultCapMaterial),[[!S&&M,H],[!T&&_,Z]].forEach(function(Q){var fe=Br(Q,2),ge=fe[0],Re=fe[1];if(!(!ge||Re<0)){var Ge=O.material[Re],We=_u(ge);Ge.color.set(w1(ge)),Ge.transparent=We<1,Ge.opacity=We}}),F){var $=V.material,ae=_u(R);$.color.set(w1(R)),$.transparent=ae<1,$.opacity=ae}var ne={alt:C},Y=function(fe){var ge=f.__currentTargetD=fe,Re=ge.alt;O.scale.x=O.scale.y=O.scale.z=1+Re,F&&(V.scale.x=V.scale.y=V.scale.z=1+Re+1e-4),iDe(f.__defaultSideMaterial,function(Ge){return Ge.surfaceRadius.value=Er/(Re+1)})},ee=f.__currentTargetD||Object.assign({},ne,{alt:-.001});Object.keys(ne).some(function(Q){return ee[Q]!==ne[Q]})&&(!e.polygonsTransitionDuration||e.polygonsTransitionDuration<0||ee.alt===ne.alt?Y(ne):e.tweenGroup.add(new Yl(ee).to(ne,e.polygonsTransitionDuration).easing(Ga.Quadratic.InOut).onUpdate(Y).start()))}).digest(c)}});function ADe(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){return function(i,r){return i===r}};return Object.entries(e).every(function(i){var r=Br(i,2),s=r[0],a=r[1];return n.hasOwnProperty(s)&&t(s)(n[s],a)})}var a6=window.THREE?window.THREE:{BufferGeometry:bn,DoubleSide:hs,Mesh:ii,MeshLambertMaterial:wu,Vector3:re},Lq=Object.assign({},HL),Bq=Lq.BufferGeometryUtils||Lq,eie=Ao({props:{hexPolygonsData:{default:[]},hexPolygonGeoJsonGeometry:{default:"geometry"},hexPolygonColor:{default:function(){return"#ffffaa"}},hexPolygonAltitude:{default:.001},hexPolygonResolution:{default:3},hexPolygonMargin:{default:.2},hexPolygonUseDots:{default:!1},hexPolygonCurvatureResolution:{default:5},hexPolygonDotResolution:{default:12},hexPolygonsTransitionDuration:{default:0,triggerUpdate:!1}},init:function(e,t,i){var r=i.tweenGroup;hr(e),t.scene=e,t.tweenGroup=r,t.dataMapper=new Al(e,{objBindAttr:"__threeObjHexPolygon"}).onCreateObj(function(){var s=new a6.Mesh(void 0,new a6.MeshLambertMaterial({side:a6.DoubleSide}));return s.__globeObjType="hexPolygon",s})},update:function(e){var t=yt(e.hexPolygonGeoJsonGeometry),i=yt(e.hexPolygonColor),r=yt(e.hexPolygonAltitude),s=yt(e.hexPolygonResolution),a=yt(e.hexPolygonMargin),o=yt(e.hexPolygonUseDots),l=yt(e.hexPolygonCurvatureResolution),u=yt(e.hexPolygonDotResolution);e.dataMapper.onUpdateObj(function(c,f){var m=t(f),v=s(f),_=r(f),T=Math.max(0,Math.min(1,+a(f))),M=o(f),S=l(f),R=u(f),C=i(f),P=_u(C);c.material.color.set(w1(C)),c.material.transparent=P<1,c.material.opacity=P;var B={alt:_,margin:T,curvatureResolution:S},O={geoJson:m,h3Res:v},V=c.__currentTargetD||Object.assign({},B,{alt:-.001}),F=c.__currentMemD||O;if(Object.keys(B).some(function(Z){return V[Z]!==B[Z]})||Object.keys(O).some(function(Z){return F[Z]!==O[Z]})){c.__currentMemD=O;var z=[];m.type==="Polygon"?Jk(m.coordinates,v,!0).forEach(function(Z){return z.push(Z)}):m.type==="MultiPolygon"?m.coordinates.forEach(function(Z){return Jk(Z,v,!0).forEach(function($){return z.push($)})}):console.warn("Unsupported GeoJson geometry type: ".concat(m.type,". Skipping geometry..."));var k=z.map(function(Z){var $=WK(Z),ae=XK(Z,!0).reverse(),ne=$[1];return ae.forEach(function(Y){var ee=Y[0];Math.abs(ne-ee)>170&&(Y[0]+=ne>ee?360:-360)}),{h3Idx:Z,hexCenter:$,hexGeoJson:ae}}),H=function($){var ae=c.__currentTargetD=$,ne=ae.alt,Y=ae.margin,ee=ae.curvatureResolution;c.geometry&&c.geometry.dispose(),c.geometry=k.length?(Bq.mergeGeometries||Bq.mergeBufferGeometries)(k.map(function(Q){var fe=Br(Q.hexCenter,2),ge=fe[0],Re=fe[1];if(M){var Ge=z0(ge,Re,ne),We=z0(Q.hexGeoJson[0][1],Q.hexGeoJson[0][0],ne),Se=.85*(1-Y)*new a6.Vector3(Ge.x,Ge.y,Ge.z).distanceTo(new a6.Vector3(We.x,We.y,We.z)),qe=new S8(Se,R);return qe.rotateX(ef(-ge)),qe.rotateY(ef(Re)),qe.translate(Ge.x,Ge.y,Ge.z),qe}else{var St=function(Jt,It,Sn){return Jt-(Jt-It)*Sn},at=Y===0?Q.hexGeoJson:Q.hexGeoJson.map(function(Ct){var Jt=Br(Ct,2),It=Jt[0],Sn=Jt[1];return[[It,Re],[Sn,ge]].map(function(hn){var $t=Br(hn,2),ce=$t[0],bt=$t[1];return St(ce,bt,Y)})});return new QL([at],Er,Er*(1+ne),!1,!0,!1,ee)}})):new a6.BufferGeometry};!e.hexPolygonsTransitionDuration||e.hexPolygonsTransitionDuration<0?H(B):e.tweenGroup.add(new Yl(V).to(B,e.hexPolygonsTransitionDuration).easing(Ga.Quadratic.InOut).onUpdate(H).start())}}).digest(e.hexPolygonsData)}}),pDe=window.THREE?window.THREE:{Vector3:re};function mDe(n,e){var t=function(a,o){var l=a[a.length-1];return[].concat(ir(a),ir(Array(o-a.length).fill(l)))},i=Math.max(n.length,e.length),r=XAe.apply(void 0,ir([n,e].map(function(s){return s.map(function(a){var o=a.x,l=a.y,u=a.z;return[o,l,u]})}).map(function(s){return t(s,i)})));return function(s){return s===0?n:s===1?e:r(s).map(function(a){var o=Br(a,3),l=o[0],u=o[1],c=o[2];return new pDe.Vector3(l,u,c)})}}var V4=window.THREE?window.THREE:{BufferGeometry:bn,Color:Nt,Group:oo,Line:Su,NormalBlending:uo,ShaderMaterial:Uo,Vector3:re},gDe=Qd.default||Qd,tie=Ao({props:{pathsData:{default:[]},pathPoints:{default:function(e){return e}},pathPointLat:{default:function(e){return e[0]}},pathPointLng:{default:function(e){return e[1]}},pathPointAlt:{default:.001},pathResolution:{default:2},pathColor:{default:function(){return"#ffffaa"}},pathStroke:{},pathDashLength:{default:1},pathDashGap:{default:0},pathDashInitialGap:{default:0},pathDashAnimateTime:{default:0},pathTransitionDuration:{default:1e3,triggerUpdate:!1},rendererSize:{}},methods:{pauseAnimation:function(e){var t;(t=e.ticker)===null||t===void 0||t.pause()},resumeAnimation:function(e){var t;(t=e.ticker)===null||t===void 0||t.resume()},_destructor:function(e){var t;(t=e.ticker)===null||t===void 0||t.dispose()}},stateInit:function(e){var t=e.tweenGroup;return{tweenGroup:t,ticker:new gDe,sharedMaterial:new V4.ShaderMaterial(Yi(Yi({},Yne()),{},{transparent:!0,blending:V4.NormalBlending}))}},init:function(e,t){hr(e),t.scene=e,t.dataMapper=new Al(e,{objBindAttr:"__threeObjPath"}).onCreateObj(function(){var i=new V4.Group;return i.__globeObjType="path",i}),t.ticker.onTick.add(function(i,r){t.dataMapper.entries().map(function(s){var a=Br(s,2),o=a[1];return o}).filter(function(s){return s.children.length&&s.children[0].material&&s.children[0].__dashAnimateStep}).forEach(function(s){var a=s.children[0],o=a.__dashAnimateStep*r;if(a.type==="Line"){var l=a.material.uniforms.dashTranslate.value%1e9;a.material.uniforms.dashTranslate.value=l+o}else if(a.type==="Line2"){for(var u=a.material.dashOffset-o,c=a.material.dashSize+a.material.gapSize;u<=-c;)u+=c;a.material.dashOffset=u}})})},update:function(e){var t=yt(e.pathPoints),i=yt(e.pathPointLat),r=yt(e.pathPointLng),s=yt(e.pathPointAlt),a=yt(e.pathStroke),o=yt(e.pathColor),l=yt(e.pathDashLength),u=yt(e.pathDashGap),c=yt(e.pathDashInitialGap),f=yt(e.pathDashAnimateTime);e.dataMapper.onUpdateObj(function(M,S){var R=a(S),C=R!=null;if(!M.children.length||C===(M.children[0].type==="Line")){hr(M);var P=C?new CNe(new Vne,new mU):new V4.Line(new V4.BufferGeometry,e.sharedMaterial.clone());M.add(P)}var B=M.children[0],O=v(t(S),i,r,s,e.pathResolution),V=f(S);if(B.__dashAnimateStep=V>0?1e3/V:0,C){B.material.resolution=e.rendererSize;{var k=l(S),H=u(S),Z=c(S);B.material.dashed=H>0,B.material.dashed?B.material.defines.USE_DASH="":delete B.material.defines.USE_DASH,B.material.dashed&&(B.material.dashScale=1/m(O),B.material.dashSize=k,B.material.gapSize=H,B.material.dashOffset=-Z)}{var $=o(S);if($ instanceof Array){var ae=_(o(S),O.length-1,1,!1);B.geometry.setColors(ae.array),B.material.vertexColors=!0}else{var ne=$,Y=_u(ne);B.material.color=new V4.Color(w1(ne)),B.material.transparent=Y<1,B.material.opacity=Y,B.material.vertexColors=!1}}B.material.needsUpdate=!0}else{Object.assign(B.material.uniforms,{dashSize:{value:l(S)},gapSize:{value:u(S)},dashOffset:{value:c(S)}});var F=_(o(S),O.length),z=T(O.length,1,!0);B.geometry.setAttribute("color",F),B.geometry.setAttribute("relDistance",z)}var ee=mDe(M.__currentTargetD&&M.__currentTargetD.points||[O[0]],O),Q=function(Ge){var We=M.__currentTargetD=Ge,Se=We.stroke,qe=We.interpolK,St=M.__currentTargetD.points=ee(qe);if(C){var at;B.geometry.setPositions((at=[]).concat.apply(at,ir(St.map(function(Ct){var Jt=Ct.x,It=Ct.y,Sn=Ct.z;return[Jt,It,Sn]})))),B.material.linewidth=Se,B.material.dashed&&B.computeLineDistances()}else B.geometry.setFromPoints(St),B.geometry.computeBoundingSphere()},fe={stroke:R,interpolK:1},ge=Object.assign({},M.__currentTargetD||fe,{interpolK:0});Object.keys(fe).some(function(Re){return ge[Re]!==fe[Re]})&&(!e.pathTransitionDuration||e.pathTransitionDuration<0?Q(fe):e.tweenGroup.add(new Yl(ge).to(fe,e.pathTransitionDuration).easing(Ga.Quadratic.InOut).onUpdate(Q).start()))}).digest(e.pathsData);function m(M){var S=0,R;return M.forEach(function(C){R&&(S+=R.distanceTo(C)),R=C}),S}function v(M,S,R,C,P){var B=function(z,k,H){for(var Z=[],$=1;$<=H;$++)Z.push(z+(k-z)*$/(H+1));return Z},O=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,H=[],Z=null;return z.forEach(function($){if(Z){for(;Math.abs(Z[1]-$[1])>180;)Z[1]+=360*(Z[1]<$[1]?1:-1);var ae=Math.sqrt(Math.pow($[0]-Z[0],2)+Math.pow($[1]-Z[1],2));if(ae>k)for(var ne=Math.floor(ae/k),Y=B(Z[0],$[0],ne),ee=B(Z[1],$[1],ne),Q=B(Z[2],$[2],ne),fe=0,ge=Y.length;fe<ge;fe++)H.push([Y[fe],ee[fe],Q[fe]])}H.push(Z=$)}),H},V=function(z){var k=Br(z,3),H=k[0],Z=k[1],$=k[2],ae=z0(H,Z,$),ne=ae.x,Y=ae.y,ee=ae.z;return new V4.Vector3(ne,Y,ee)};return O(M.map(function(F){return[S(F),R(F),C(F)]}),P).map(V)}function _(M,S){var R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,P=S+1,B;if(M instanceof Array||M instanceof Function){var O=M instanceof Array?jc().domain(M.map(function($,ae){return ae/(M.length-1)})).range(M):M;B=function(ae){return N3(O(ae),C,!0)}}else{var V=N3(M,C,!0);B=function(){return V}}for(var F=[],z=0,k=P;z<k;z++)for(var H=B(z/(k-1)),Z=0;Z<R;Z++)F.push(H);return R1(F,C?4:3)}function T(M){for(var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,C=M+1,P=[],B=0,O=C;B<O;B++)for(var V=B/(O-1),F=0;F<S;F++)P.push(V);return R&&P.reverse(),R1(P,1)}}}),Ev=window.THREE?window.THREE:{Euler:Sa,Mesh:ii,MeshLambertMaterial:wu,SphereGeometry:q0},nie=Ao({props:{tilesData:{default:[]},tileLat:{default:"lat"},tileLng:{default:"lng"},tileAltitude:{default:.01},tileWidth:{default:1},tileHeight:{default:1},tileUseGlobeProjection:{default:!0},tileMaterial:{default:function(){return new Ev.MeshLambertMaterial({color:"#ffbb88",opacity:.4,transparent:!0})}},tileCurvatureResolution:{default:5},tilesTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,i){var r=i.tweenGroup;hr(e),t.scene=e,t.tweenGroup=r,t.dataMapper=new Al(e,{objBindAttr:"__threeObjTile"}).onCreateObj(function(){var s=new Ev.Mesh;return s.__globeObjType="tile",s})},update:function(e){var t=yt(e.tileLat),i=yt(e.tileLng),r=yt(e.tileAltitude),s=yt(e.tileWidth),a=yt(e.tileHeight),o=yt(e.tileUseGlobeProjection),l=yt(e.tileMaterial),u=yt(e.tileCurvatureResolution);e.dataMapper.onUpdateObj(function(c,f){c.material=l(f);var m=o(f),v=u(f),_=function(R){var C=c.__currentTargetD=R,P=C.lat,B=C.lng,O=C.alt,V=C.width,F=C.height,z=o6(B),k=o6(-P);c.geometry&&c.geometry.dispose(),c.geometry=new Ev.SphereGeometry(Er*(1+O),Math.ceil(V/(v||-1)),Math.ceil(F/(v||-1)),o6(90-V/2)+(m?z:0),o6(V),o6(90-F/2)+(m?k:0),o6(F)),m||c.setRotationFromEuler(new Ev.Euler(k,z,0,"YXZ"))},T={lat:+t(f),lng:+i(f),alt:+r(f),width:+s(f),height:+a(f)},M=c.__currentTargetD||Object.assign({},T,{width:0,height:0});Object.keys(T).some(function(S){return M[S]!==T[S]})&&(!e.tilesTransitionDuration||e.tilesTransitionDuration<0?_(T):e.tweenGroup.add(new Yl(M).to(T,e.tilesTransitionDuration).easing(Ga.Quadratic.InOut).onUpdate(_).start()))}).digest(e.tilesData)}}),o6=function(e){return e*Math.PI/180},_9=window.THREE?window.THREE:{BufferGeometry:bn,Color:Nt,Points:QP,PointsMaterial:rm},iie=Ao({props:{particlesData:{default:[]},particlesList:{default:function(e){return e}},particleLat:{default:"lat"},particleLng:{default:"lng"},particleAltitude:{default:.01},particlesSize:{default:.5},particlesSizeAttenuation:{default:!0},particlesColor:{default:function(){return"white"}},particlesTexture:{}},init:function(e,t){hr(e),t.scene=e,t.dataMapper=new Al(e,{objBindAttr:"__threeObjParticles"}).onCreateObj(function(){var i=new _9.Points(new _9.BufferGeometry,new _9.PointsMaterial);return i.__globeObjType="particles",i}).onUpdateObj(function(i,r){var s=yt(t.particlesList),a=yt(t.particleLat),o=yt(t.particleLng),l=yt(t.particleAltitude);i.geometry.setAttribute("position",R1(s(r).map(function(u){return Object.values(z0(a(u),o(u),l(u)))}),3))})},update:function(e,t){["particlesData","particlesList","particleLat","particleLng","particleAltitude"].some(function(o){return t.hasOwnProperty(o)})&&e.dataMapper.digest(e.particlesData);var i=yt(e.particlesColor),r=yt(e.particlesSize),s=yt(e.particlesSizeAttenuation),a=yt(e.particlesTexture);e.dataMapper.entries().forEach(function(o){var l=Br(o,2),u=l[0],c=l[1];if(c.material.size=r(u),c.material.sizeAttenuation=s(u),e.particlesTexture)c.material.color=new _9.Color(16777215),c.material.transparent=!1,c.material.alphaTest=.5,c.material.map=a(u);else{var f=i(u),m=_u(f);c.material.color=new _9.Color(w1(f)),c.material.transparent=m<1,c.material.opacity=m,c.material.alphaTest=0}})}}),yDe=window.THREE?window.THREE:{BufferGeometry:bn},vDe=function(n){function e(){var t,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:32;aT(this,e),t=sT(this,e),t.type="CircleLineGeometry",t.parameters={radius:i,segmentCount:r};for(var s=[],a=0;a<=r;a++){var o=(a/r-.25)*Math.PI*2;s.push({x:Math.cos(o)*i,y:Math.sin(o)*i,z:0})}return t.setFromPoints(s),t}return lT(e,n),oT(e)}(yDe.BufferGeometry),l6=window.THREE?window.THREE:{Color:Nt,Group:oo,Line:Su,LineBasicMaterial:aa,Vector3:re},xDe=Qd.default||Qd,rie=Ao({props:{ringsData:{default:[]},ringLat:{default:"lat"},ringLng:{default:"lng"},ringAltitude:{default:.0015},ringColor:{default:function(){return"#ffffaa"},triggerUpdate:!1},ringResolution:{default:64,triggerUpdate:!1},ringMaxRadius:{default:2,triggerUpdate:!1},ringPropagationSpeed:{default:1,triggerUpdate:!1},ringRepeatPeriod:{default:700,triggerUpdate:!1}},methods:{pauseAnimation:function(e){var t;(t=e.ticker)===null||t===void 0||t.pause()},resumeAnimation:function(e){var t;(t=e.ticker)===null||t===void 0||t.resume()},_destructor:function(e){var t;(t=e.ticker)===null||t===void 0||t.dispose()}},init:function(e,t,i){var r=i.tweenGroup;hr(e),t.scene=e,t.tweenGroup=r,t.dataMapper=new Al(e,{objBindAttr:"__threeObjRing",removeDelay:3e4}).onCreateObj(function(){var s=new l6.Group;return s.__globeObjType="ring",s}),t.ticker=new xDe,t.ticker.onTick.add(function(s){if(t.ringsData.length){var a=yt(t.ringColor),o=yt(t.ringAltitude),l=yt(t.ringMaxRadius),u=yt(t.ringPropagationSpeed),c=yt(t.ringRepeatPeriod);t.dataMapper.entries().filter(function(f){var m=Br(f,2),v=m[1];return v}).forEach(function(f){var m=Br(f,2),v=m[0],_=m[1];if((_.__nextRingTime||0)<=s){var T=c(v)/1e3;_.__nextRingTime=s+(T<=0?1/0:T);var M=new l6.Line(new vDe(1,t.ringResolution),new l6.LineBasicMaterial),S=a(v),R=S instanceof Array||S instanceof Function,C;R?S instanceof Array?(C=jc().domain(S.map(function(H,Z){return Z/(S.length-1)})).range(S),M.material.transparent=S.some(function(H){return _u(H)<1})):(C=S,M.material.transparent=!0):(M.material.color=new l6.Color(w1(S)),eDe(M.material,_u(S)));var P=Er*(1+o(v)),B=l(v),O=B*Math.PI/180,V=u(v),F=V<=0,z=function(Z){var $=Z.t,ae=(F?1-$:$)*O;if(M.scale.x=M.scale.y=P*Math.sin(ae),M.position.z=P*(1-Math.cos(ae)),R){var ne=C($);M.material.color=new l6.Color(w1(ne)),M.material.transparent&&(M.material.opacity=_u(ne))}};if(V===0)z({t:0}),_.add(M);else{var k=Math.abs(B/V)*1e3;t.tweenGroup.add(new Yl({t:0}).to({t:1},k).onUpdate(z).onStart(function(){return _.add(M)}).onComplete(function(){_.remove(M),vU(M)}).start())}}})}})},update:function(e){var t=yt(e.ringLat),i=yt(e.ringLng),r=yt(e.ringAltitude),s=e.scene.localToWorld(new l6.Vector3(0,0,0));e.dataMapper.onUpdateObj(function(a,o){var l=t(o),u=i(o),c=r(o);Object.assign(a.position,z0(l,u,c)),a.lookAt(s)}).digest(e.ringsData)}}),_De={0:{x_min:73,x_max:715,ha:792,o:"m 394 -29 q 153 129 242 -29 q 73 479 73 272 q 152 829 73 687 q 394 989 241 989 q 634 829 545 989 q 715 479 715 684 q 635 129 715 270 q 394 -29 546 -29 m 394 89 q 546 211 489 89 q 598 479 598 322 q 548 748 598 640 q 394 871 491 871 q 241 748 298 871 q 190 479 190 637 q 239 211 190 319 q 394 89 296 89 "},1:{x_min:215.671875,x_max:574,ha:792,o:"m 574 0 l 442 0 l 442 697 l 215 697 l 215 796 q 386 833 330 796 q 475 986 447 875 l 574 986 l 574 0 "},2:{x_min:59,x_max:731,ha:792,o:"m 731 0 l 59 0 q 197 314 59 188 q 457 487 199 315 q 598 691 598 580 q 543 819 598 772 q 411 867 488 867 q 272 811 328 867 q 209 630 209 747 l 81 630 q 182 901 81 805 q 408 986 271 986 q 629 909 536 986 q 731 694 731 826 q 613 449 731 541 q 378 316 495 383 q 201 122 235 234 l 731 122 l 731 0 "},3:{x_min:54,x_max:737,ha:792,o:"m 737 284 q 635 55 737 141 q 399 -25 541 -25 q 156 52 248 -25 q 54 308 54 140 l 185 308 q 245 147 185 202 q 395 96 302 96 q 539 140 484 96 q 602 280 602 190 q 510 429 602 390 q 324 454 451 454 l 324 565 q 487 584 441 565 q 565 719 565 617 q 515 835 565 791 q 395 879 466 879 q 255 824 307 879 q 203 661 203 769 l 78 661 q 166 909 78 822 q 387 992 250 992 q 603 921 513 992 q 701 723 701 844 q 669 607 701 656 q 578 524 637 558 q 696 434 655 499 q 737 284 737 369 "},4:{x_min:48,x_max:742.453125,ha:792,o:"m 742 243 l 602 243 l 602 0 l 476 0 l 476 243 l 48 243 l 48 368 l 476 958 l 602 958 l 602 354 l 742 354 l 742 243 m 476 354 l 476 792 l 162 354 l 476 354 "},5:{x_min:54.171875,x_max:738,ha:792,o:"m 738 314 q 626 60 738 153 q 382 -23 526 -23 q 155 47 248 -23 q 54 256 54 125 l 183 256 q 259 132 204 174 q 382 91 314 91 q 533 149 471 91 q 602 314 602 213 q 538 469 602 411 q 386 528 475 528 q 284 506 332 528 q 197 439 237 484 l 81 439 l 159 958 l 684 958 l 684 840 l 254 840 l 214 579 q 306 627 258 612 q 407 643 354 643 q 636 552 540 643 q 738 314 738 457 "},6:{x_min:53,x_max:739,ha:792,o:"m 739 312 q 633 62 739 162 q 400 -31 534 -31 q 162 78 257 -31 q 53 439 53 206 q 178 859 53 712 q 441 986 284 986 q 643 912 559 986 q 732 713 732 833 l 601 713 q 544 830 594 786 q 426 875 494 875 q 268 793 331 875 q 193 517 193 697 q 301 597 240 570 q 427 624 362 624 q 643 540 552 624 q 739 312 739 451 m 603 298 q 540 461 603 400 q 404 516 484 516 q 268 461 323 516 q 207 300 207 401 q 269 137 207 198 q 405 83 325 83 q 541 137 486 83 q 603 298 603 197 "},7:{x_min:58.71875,x_max:730.953125,ha:792,o:"m 730 839 q 469 448 560 641 q 335 0 378 255 l 192 0 q 328 441 235 252 q 593 830 421 630 l 58 830 l 58 958 l 730 958 l 730 839 "},8:{x_min:55,x_max:736,ha:792,o:"m 571 527 q 694 424 652 491 q 736 280 736 358 q 648 71 736 158 q 395 -26 551 -26 q 142 69 238 -26 q 55 279 55 157 q 96 425 55 359 q 220 527 138 491 q 120 615 153 562 q 88 726 88 668 q 171 904 88 827 q 395 986 261 986 q 618 905 529 986 q 702 727 702 830 q 670 616 702 667 q 571 527 638 565 m 394 565 q 519 610 475 565 q 563 717 563 655 q 521 823 563 781 q 392 872 474 872 q 265 824 312 872 q 224 720 224 783 q 265 613 224 656 q 394 565 312 565 m 395 91 q 545 150 488 91 q 597 280 597 204 q 546 408 597 355 q 395 465 492 465 q 244 408 299 465 q 194 280 194 356 q 244 150 194 203 q 395 91 299 91 "},9:{x_min:53,x_max:739,ha:792,o:"m 739 524 q 619 94 739 241 q 362 -32 516 -32 q 150 47 242 -32 q 59 244 59 126 l 191 244 q 246 129 191 176 q 373 82 301 82 q 526 161 466 82 q 597 440 597 255 q 363 334 501 334 q 130 432 216 334 q 53 650 53 521 q 134 880 53 786 q 383 986 226 986 q 659 841 566 986 q 739 524 739 719 m 388 449 q 535 514 480 449 q 585 658 585 573 q 535 805 585 744 q 388 873 480 873 q 242 809 294 873 q 191 658 191 745 q 239 514 191 572 q 388 449 292 449 "},:{x_min:0,x_max:712,ha:815,o:"m 356 -25 q 96 88 192 -25 q 0 368 0 201 q 92 642 0 533 q 356 761 192 761 q 617 644 517 761 q 712 368 712 533 q 619 91 712 201 q 356 -25 520 -25 m 356 85 q 527 175 465 85 q 583 369 583 255 q 528 562 583 484 q 356 651 466 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 356 85 250 85 "},S:{x_min:0,x_max:788,ha:890,o:"m 788 291 q 662 54 788 144 q 397 -26 550 -26 q 116 68 226 -26 q 0 337 0 168 l 131 337 q 200 152 131 220 q 384 85 269 85 q 557 129 479 85 q 650 270 650 183 q 490 429 650 379 q 194 513 341 470 q 33 739 33 584 q 142 964 33 881 q 388 1041 242 1041 q 644 957 543 1041 q 756 716 756 867 l 625 716 q 561 874 625 816 q 395 933 497 933 q 243 891 309 933 q 164 759 164 841 q 325 609 164 656 q 625 526 475 568 q 788 291 788 454 "},"":{x_min:343,x_max:449,ha:792,o:"m 449 462 l 343 462 l 343 986 l 449 986 l 449 462 m 449 -242 l 343 -242 l 343 280 l 449 280 l 449 -242 "},"/":{x_min:183.25,x_max:608.328125,ha:792,o:"m 608 1041 l 266 -129 l 183 -129 l 520 1041 l 608 1041 "},:{x_min:-.4375,x_max:777.453125,ha:839,o:"m 777 893 l 458 893 l 458 0 l 319 0 l 319 892 l 0 892 l 0 1013 l 777 1013 l 777 893 "},y:{x_min:0,x_max:684.78125,ha:771,o:"m 684 738 l 388 -83 q 311 -216 356 -167 q 173 -279 252 -279 q 97 -266 133 -279 l 97 -149 q 132 -155 109 -151 q 168 -160 155 -160 q 240 -114 213 -160 q 274 -26 248 -98 l 0 738 l 137 737 l 341 139 l 548 737 l 684 738 "},:{x_min:0,x_max:803,ha:917,o:"m 803 0 l 667 0 l 667 886 l 140 886 l 140 0 l 0 0 l 0 1012 l 803 1012 l 803 0 "},:{x_min:-111,x_max:339,ha:361,o:"m 339 800 l 229 800 l 229 925 l 339 925 l 339 800 m -1 800 l -111 800 l -111 925 l -1 925 l -1 800 m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 737 l 167 737 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 103 239 101 q 284 112 257 104 l 284 3 m 302 1040 l 113 819 l 30 819 l 165 1040 l 302 1040 "},g:{x_min:0,x_max:686,ha:838,o:"m 686 34 q 586 -213 686 -121 q 331 -306 487 -306 q 131 -252 216 -306 q 31 -84 31 -190 l 155 -84 q 228 -174 166 -138 q 345 -207 284 -207 q 514 -109 454 -207 q 564 89 564 -27 q 461 6 521 36 q 335 -23 401 -23 q 88 100 184 -23 q 0 370 0 215 q 87 634 0 522 q 330 758 183 758 q 457 728 398 758 q 564 644 515 699 l 564 737 l 686 737 l 686 34 m 582 367 q 529 560 582 481 q 358 652 468 652 q 189 561 250 652 q 135 369 135 482 q 189 176 135 255 q 361 85 251 85 q 529 176 468 85 q 582 367 582 255 "},"":{x_min:0,x_max:442,ha:539,o:"m 442 383 l 0 383 q 91 566 0 492 q 260 668 176 617 q 354 798 354 727 q 315 875 354 845 q 227 905 277 905 q 136 869 173 905 q 99 761 99 833 l 14 761 q 82 922 14 864 q 232 974 141 974 q 379 926 316 974 q 442 797 442 878 q 351 635 442 704 q 183 539 321 611 q 92 455 92 491 l 442 455 l 442 383 "},"":{x_min:0,x_max:705.5625,ha:803,o:"m 705 334 l 0 334 l 0 410 l 705 410 l 705 334 "},:{x_min:0,x_max:819.5625,ha:893,o:"m 819 0 l 650 0 l 294 509 l 139 356 l 139 0 l 0 0 l 0 1013 l 139 1013 l 139 526 l 626 1013 l 809 1013 l 395 600 l 819 0 "},:{x_min:-46.265625,x_max:392,ha:513,o:"m 392 651 l 259 651 l 79 -279 l -46 -278 l 134 651 l 14 651 l 14 751 l 135 751 q 151 948 135 900 q 304 1041 185 1041 q 334 1040 319 1041 q 392 1034 348 1039 l 392 922 q 337 931 360 931 q 271 883 287 931 q 260 793 260 853 l 260 751 l 392 751 l 392 651 "},e:{x_min:0,x_max:714,ha:813,o:"m 714 326 l 140 326 q 200 157 140 227 q 359 87 260 87 q 488 130 431 87 q 561 245 545 174 l 697 245 q 577 48 670 123 q 358 -26 484 -26 q 97 85 195 -26 q 0 363 0 197 q 94 642 0 529 q 358 765 195 765 q 626 627 529 765 q 714 326 714 503 m 576 429 q 507 583 564 522 q 355 650 445 650 q 206 583 266 650 q 140 429 152 522 l 576 429 "},:{x_min:0,x_max:712,ha:815,o:"m 356 -25 q 94 91 194 -25 q 0 368 0 202 q 92 642 0 533 q 356 761 192 761 q 617 644 517 761 q 712 368 712 533 q 619 91 712 201 q 356 -25 520 -25 m 356 85 q 527 175 465 85 q 583 369 583 255 q 528 562 583 484 q 356 651 466 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 356 85 250 85 m 576 1040 l 387 819 l 303 819 l 438 1040 l 576 1040 "},J:{x_min:0,x_max:588,ha:699,o:"m 588 279 q 287 -26 588 -26 q 58 73 126 -26 q 0 327 0 158 l 133 327 q 160 172 133 227 q 288 96 198 96 q 426 171 391 96 q 449 336 449 219 l 449 1013 l 588 1013 l 588 279 "},"":{x_min:-1,x_max:503,ha:601,o:"m 503 302 l 280 136 l 281 256 l 429 373 l 281 486 l 280 608 l 503 440 l 503 302 m 221 302 l 0 136 l 0 255 l 145 372 l 0 486 l -1 608 l 221 440 l 221 302 "},"":{x_min:-3,x_max:1008,ha:1106,o:"m 502 -7 q 123 151 263 -7 q -3 501 -3 294 q 123 851 -3 706 q 502 1011 263 1011 q 881 851 739 1011 q 1008 501 1008 708 q 883 151 1008 292 q 502 -7 744 -7 m 502 60 q 830 197 709 60 q 940 501 940 322 q 831 805 940 681 q 502 944 709 944 q 174 805 296 944 q 65 501 65 680 q 173 197 65 320 q 502 60 294 60 m 741 394 q 661 246 731 302 q 496 190 591 190 q 294 285 369 190 q 228 497 228 370 q 295 714 228 625 q 499 813 370 813 q 656 762 588 813 q 733 625 724 711 l 634 625 q 589 704 629 673 q 498 735 550 735 q 377 666 421 735 q 334 504 334 597 q 374 340 334 408 q 490 272 415 272 q 589 304 549 272 q 638 394 628 337 l 741 394 "},:{x_min:0,x_max:922,ha:1030,o:"m 687 1040 l 498 819 l 415 819 l 549 1040 l 687 1040 m 922 339 q 856 97 922 203 q 650 -26 780 -26 q 538 9 587 -26 q 461 103 489 44 q 387 12 436 46 q 277 -22 339 -22 q 69 97 147 -22 q 0 338 0 202 q 45 551 0 444 q 161 737 84 643 l 302 737 q 175 552 219 647 q 124 336 124 446 q 155 179 124 248 q 275 88 197 88 q 375 163 341 88 q 400 294 400 219 l 400 572 l 524 572 l 524 294 q 561 135 524 192 q 643 88 591 88 q 762 182 719 88 q 797 341 797 257 q 745 555 797 450 q 619 737 705 637 l 760 737 q 874 551 835 640 q 922 339 922 444 "},"^":{x_min:193.0625,x_max:598.609375,ha:792,o:"m 598 772 l 515 772 l 395 931 l 277 772 l 193 772 l 326 1013 l 462 1013 l 598 772 "},"":{x_min:0,x_max:507.203125,ha:604,o:"m 506 136 l 284 302 l 284 440 l 506 608 l 507 485 l 360 371 l 506 255 l 506 136 m 222 136 l 0 302 l 0 440 l 222 608 l 221 486 l 73 373 l 222 256 l 222 136 "},D:{x_min:0,x_max:828,ha:935,o:"m 389 1013 q 714 867 593 1013 q 828 521 828 729 q 712 161 828 309 q 382 0 587 0 l 0 0 l 0 1013 l 389 1013 m 376 124 q 607 247 523 124 q 681 510 681 355 q 607 771 681 662 q 376 896 522 896 l 139 896 l 139 124 l 376 124 "},"":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 "},:{x_min:0,x_max:47,ha:125,o:"m 47 3 q 37 -7 47 -7 q 28 0 30 -7 q 39 -4 32 -4 q 45 3 45 -1 l 37 0 q 28 9 28 0 q 39 19 28 19 l 47 16 l 47 19 l 47 3 m 37 1 q 44 8 44 1 q 37 16 44 16 q 30 8 30 16 q 37 1 30 1 m 26 1 l 23 22 l 14 0 l 3 22 l 3 3 l 0 25 l 13 1 l 22 25 l 26 1 "},w:{x_min:0,x_max:1009.71875,ha:1100,o:"m 1009 738 l 783 0 l 658 0 l 501 567 l 345 0 l 222 0 l 0 738 l 130 738 l 284 174 l 432 737 l 576 738 l 721 173 l 881 737 l 1009 738 "},$:{x_min:0,x_max:700,ha:793,o:"m 664 717 l 542 717 q 490 825 531 785 q 381 872 450 865 l 381 551 q 620 446 540 522 q 700 241 700 370 q 618 45 700 116 q 381 -25 536 -25 l 381 -152 l 307 -152 l 307 -25 q 81 62 162 -25 q 0 297 0 149 l 124 297 q 169 146 124 204 q 307 81 215 89 l 307 441 q 80 536 148 469 q 13 725 13 603 q 96 910 13 839 q 307 982 180 982 l 307 1077 l 381 1077 l 381 982 q 574 917 494 982 q 664 717 664 845 m 307 565 l 307 872 q 187 831 233 872 q 142 724 142 791 q 180 618 142 656 q 307 565 218 580 m 381 76 q 562 237 562 96 q 517 361 562 313 q 381 423 472 409 l 381 76 "},"\\":{x_min:-.015625,x_max:425.0625,ha:522,o:"m 425 -129 l 337 -129 l 0 1041 l 83 1041 l 425 -129 "},:{x_min:0,x_max:697.21875,ha:747,o:"m 697 -4 q 629 -14 658 -14 q 498 97 513 -14 q 422 9 470 41 q 313 -23 374 -23 q 207 4 258 -23 q 119 81 156 32 l 119 -278 l 0 -278 l 0 738 l 124 738 l 124 343 q 165 173 124 246 q 308 83 216 83 q 452 178 402 83 q 493 359 493 255 l 493 738 l 617 738 l 617 214 q 623 136 617 160 q 673 92 637 92 q 697 96 684 92 l 697 -4 "},:{x_min:42,x_max:181,ha:297,o:"m 181 0 l 42 0 l 42 1013 l 181 1013 l 181 0 "},:{x_min:0,x_max:1144.5,ha:1214,o:"m 1144 1012 l 807 416 l 807 0 l 667 0 l 667 416 l 325 1012 l 465 1012 l 736 533 l 1004 1012 l 1144 1012 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"":{x_min:0,x_max:139,ha:236,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 "},:{x_min:0,x_max:801,ha:915,o:"m 801 0 l 651 0 l 131 822 l 131 0 l 0 0 l 0 1013 l 151 1013 l 670 191 l 670 1013 l 801 1013 l 801 0 "},"-":{x_min:8.71875,x_max:350.390625,ha:478,o:"m 350 317 l 8 317 l 8 428 l 350 428 l 350 317 "},Q:{x_min:0,x_max:968,ha:1072,o:"m 954 5 l 887 -79 l 744 35 q 622 -11 687 2 q 483 -26 556 -26 q 127 130 262 -26 q 0 504 0 279 q 127 880 0 728 q 484 1041 262 1041 q 841 884 708 1041 q 968 507 968 735 q 933 293 968 398 q 832 104 899 188 l 954 5 m 723 191 q 802 330 777 248 q 828 499 828 412 q 744 790 828 673 q 483 922 650 922 q 228 791 322 922 q 142 505 142 673 q 227 221 142 337 q 487 91 323 91 q 632 123 566 91 l 520 215 l 587 301 l 723 191 "},:{x_min:1,x_max:676.28125,ha:740,o:"m 676 460 l 551 460 q 498 595 542 546 q 365 651 448 651 q 199 578 263 651 q 136 401 136 505 q 266 178 136 241 q 508 106 387 142 q 640 -50 640 62 q 625 -158 640 -105 q 583 -278 611 -211 l 465 -278 q 498 -182 490 -211 q 515 -80 515 -126 q 381 12 515 -15 q 134 91 197 51 q 1 388 1 179 q 100 651 1 542 q 354 761 199 761 q 587 680 498 761 q 676 460 676 599 "},M:{x_min:0,x_max:954,ha:1067,o:"m 954 0 l 819 0 l 819 869 l 537 0 l 405 0 l 128 866 l 128 0 l 0 0 l 0 1013 l 200 1013 l 472 160 l 757 1013 l 954 1013 l 954 0 "},:{x_min:0,x_max:1006,ha:1094,o:"m 1006 678 q 914 319 1006 429 q 571 200 814 200 l 571 0 l 433 0 l 433 200 q 92 319 194 200 q 0 678 0 429 l 0 1013 l 139 1013 l 139 679 q 191 417 139 492 q 433 326 255 326 l 433 1013 l 571 1013 l 571 326 l 580 326 q 813 423 747 326 q 868 679 868 502 l 868 1013 l 1006 1013 l 1006 678 "},C:{x_min:0,x_max:886,ha:944,o:"m 886 379 q 760 87 886 201 q 455 -26 634 -26 q 112 136 236 -26 q 0 509 0 283 q 118 882 0 737 q 469 1041 245 1041 q 748 955 630 1041 q 879 708 879 859 l 745 708 q 649 862 724 805 q 473 920 573 920 q 219 791 312 920 q 136 509 136 675 q 217 229 136 344 q 470 99 311 99 q 672 179 591 99 q 753 379 753 259 l 886 379 "},"!":{x_min:0,x_max:138,ha:236,o:"m 138 684 q 116 409 138 629 q 105 244 105 299 l 33 244 q 16 465 33 313 q 0 684 0 616 l 0 1013 l 138 1013 l 138 684 m 138 0 l 0 0 l 0 151 l 138 151 l 138 0 "},"{":{x_min:0,x_max:480.5625,ha:578,o:"m 480 -286 q 237 -213 303 -286 q 187 -45 187 -159 q 194 48 187 -15 q 201 141 201 112 q 164 264 201 225 q 0 314 118 314 l 0 417 q 164 471 119 417 q 201 605 201 514 q 199 665 201 644 q 193 772 193 769 q 241 941 193 887 q 480 1015 308 1015 l 480 915 q 336 866 375 915 q 306 742 306 828 q 310 662 306 717 q 314 577 314 606 q 288 452 314 500 q 176 365 256 391 q 289 275 257 337 q 314 143 314 226 q 313 84 314 107 q 310 -11 310 -5 q 339 -131 310 -94 q 480 -182 377 -182 l 480 -286 "},X:{x_min:-.015625,x_max:854.15625,ha:940,o:"m 854 0 l 683 0 l 423 409 l 166 0 l 0 0 l 347 519 l 18 1013 l 186 1013 l 428 637 l 675 1013 l 836 1013 l 504 520 l 854 0 "},"#":{x_min:0,x_max:963.890625,ha:1061,o:"m 963 690 l 927 590 l 719 590 l 655 410 l 876 410 l 840 310 l 618 310 l 508 -3 l 393 -2 l 506 309 l 329 310 l 215 -2 l 102 -3 l 212 310 l 0 310 l 36 410 l 248 409 l 312 590 l 86 590 l 120 690 l 347 690 l 459 1006 l 573 1006 l 462 690 l 640 690 l 751 1006 l 865 1006 l 754 690 l 963 690 m 606 590 l 425 590 l 362 410 l 543 410 l 606 590 "},:{x_min:42,x_max:284,ha:361,o:"m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 738 l 167 738 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 103 239 101 q 284 112 257 104 l 284 3 "},:{x_min:0,x_max:906.953125,ha:982,o:"m 283 1040 l 88 799 l 5 799 l 145 1040 l 283 1040 m 906 0 l 756 0 l 650 303 l 251 303 l 143 0 l 0 0 l 376 1012 l 529 1012 l 906 0 m 609 421 l 452 866 l 293 421 l 609 421 "},")":{x_min:0,x_max:318,ha:415,o:"m 318 365 q 257 25 318 191 q 87 -290 197 -141 l 0 -290 q 140 21 93 -128 q 193 360 193 189 q 141 704 193 537 q 0 1024 97 850 l 87 1024 q 257 706 197 871 q 318 365 318 542 "},:{x_min:0,x_max:634.71875,ha:714,o:"m 634 234 q 527 38 634 110 q 300 -25 433 -25 q 98 29 183 -25 q 0 204 0 93 q 37 314 0 265 q 128 390 67 353 q 56 460 82 419 q 26 555 26 505 q 114 712 26 654 q 295 763 191 763 q 499 700 416 763 q 589 515 589 631 l 478 515 q 419 618 464 580 q 307 657 374 657 q 207 630 253 657 q 151 547 151 598 q 238 445 151 469 q 389 434 280 434 l 389 331 l 349 331 q 206 315 255 331 q 125 210 125 287 q 183 107 125 145 q 302 76 233 76 q 436 117 379 76 q 509 234 493 159 l 634 234 "},:{x_min:0,x_max:952.78125,ha:1028,o:"m 952 0 l 0 0 l 400 1013 l 551 1013 l 952 0 m 762 124 l 476 867 l 187 124 l 762 124 "},"}":{x_min:0,x_max:481,ha:578,o:"m 481 314 q 318 262 364 314 q 282 136 282 222 q 284 65 282 97 q 293 -58 293 -48 q 241 -217 293 -166 q 0 -286 174 -286 l 0 -182 q 143 -130 105 -182 q 171 -2 171 -93 q 168 81 171 22 q 165 144 165 140 q 188 275 165 229 q 306 365 220 339 q 191 455 224 391 q 165 588 165 505 q 168 681 165 624 q 171 742 171 737 q 141 865 171 827 q 0 915 102 915 l 0 1015 q 243 942 176 1015 q 293 773 293 888 q 287 675 293 741 q 282 590 282 608 q 318 466 282 505 q 481 417 364 417 l 481 314 "},"":{x_min:-3,x_max:1672,ha:1821,o:"m 846 0 q 664 76 732 0 q 603 244 603 145 q 662 412 603 344 q 846 489 729 489 q 1027 412 959 489 q 1089 244 1089 343 q 1029 76 1089 144 q 846 0 962 0 m 845 103 q 945 143 910 103 q 981 243 981 184 q 947 340 981 301 q 845 385 910 385 q 745 342 782 385 q 709 243 709 300 q 742 147 709 186 q 845 103 781 103 m 888 986 l 284 -25 l 199 -25 l 803 986 l 888 986 m 241 468 q 58 545 126 468 q -3 715 -3 615 q 56 881 -3 813 q 238 958 124 958 q 421 881 353 958 q 483 712 483 813 q 423 544 483 612 q 241 468 356 468 m 241 855 q 137 811 175 855 q 100 710 100 768 q 136 612 100 653 q 240 572 172 572 q 344 614 306 572 q 382 713 382 656 q 347 810 382 771 q 241 855 308 855 m 1428 0 q 1246 76 1314 0 q 1185 244 1185 145 q 1244 412 1185 344 q 1428 489 1311 489 q 1610 412 1542 489 q 1672 244 1672 343 q 1612 76 1672 144 q 1428 0 1545 0 m 1427 103 q 1528 143 1492 103 q 1564 243 1564 184 q 1530 340 1564 301 q 1427 385 1492 385 q 1327 342 1364 385 q 1291 243 1291 300 q 1324 147 1291 186 q 1427 103 1363 103 "},a:{x_min:0,x_max:698.609375,ha:794,o:"m 698 0 q 661 -12 679 -7 q 615 -17 643 -17 q 536 12 564 -17 q 500 96 508 41 q 384 6 456 37 q 236 -25 312 -25 q 65 31 130 -25 q 0 194 0 88 q 118 390 0 334 q 328 435 180 420 q 488 483 476 451 q 495 523 495 504 q 442 619 495 584 q 325 654 389 654 q 209 617 257 654 q 152 513 161 580 l 33 513 q 123 705 33 633 q 332 772 207 772 q 528 712 448 772 q 617 531 617 645 l 617 163 q 624 108 617 126 q 664 90 632 90 l 698 94 l 698 0 m 491 262 l 491 372 q 272 329 350 347 q 128 201 128 294 q 166 113 128 144 q 264 83 205 83 q 414 130 346 83 q 491 262 491 183 "},"":{x_min:0,x_max:941.671875,ha:1039,o:"m 941 334 l 0 334 l 0 410 l 941 410 l 941 334 "},"=":{x_min:8.71875,x_max:780.953125,ha:792,o:"m 780 510 l 8 510 l 8 606 l 780 606 l 780 510 m 780 235 l 8 235 l 8 332 l 780 332 l 780 235 "},N:{x_min:0,x_max:801,ha:914,o:"m 801 0 l 651 0 l 131 823 l 131 0 l 0 0 l 0 1013 l 151 1013 l 670 193 l 670 1013 l 801 1013 l 801 0 "},:{x_min:0,x_max:712,ha:797,o:"m 712 369 q 620 94 712 207 q 362 -26 521 -26 q 230 2 292 -26 q 119 83 167 30 l 119 -278 l 0 -278 l 0 362 q 91 643 0 531 q 355 764 190 764 q 617 647 517 764 q 712 369 712 536 m 583 366 q 530 559 583 480 q 359 651 469 651 q 190 562 252 651 q 135 370 135 483 q 189 176 135 257 q 359 85 250 85 q 528 175 466 85 q 583 366 583 254 "},"":{x_min:0,x_max:941.671875,ha:938,o:"m 941 1033 l 0 1033 l 0 1109 l 941 1109 l 941 1033 "},Z:{x_min:0,x_max:779,ha:849,o:"m 779 0 l 0 0 l 0 113 l 621 896 l 40 896 l 40 1013 l 779 1013 l 778 887 l 171 124 l 779 124 l 779 0 "},u:{x_min:0,x_max:617,ha:729,o:"m 617 0 l 499 0 l 499 110 q 391 10 460 45 q 246 -25 322 -25 q 61 58 127 -25 q 0 258 0 136 l 0 738 l 125 738 l 125 284 q 156 148 125 202 q 273 82 197 82 q 433 165 369 82 q 493 340 493 243 l 493 738 l 617 738 l 617 0 "},k:{x_min:0,x_max:612.484375,ha:697,o:"m 612 738 l 338 465 l 608 0 l 469 0 l 251 382 l 121 251 l 121 0 l 0 0 l 0 1013 l 121 1013 l 121 402 l 456 738 l 612 738 "},:{x_min:0,x_max:803,ha:917,o:"m 803 0 l 667 0 l 667 475 l 140 475 l 140 0 l 0 0 l 0 1013 l 140 1013 l 140 599 l 667 599 l 667 1013 l 803 1013 l 803 0 "},:{x_min:0,x_max:906.953125,ha:985,o:"m 906 0 l 756 0 l 650 303 l 251 303 l 143 0 l 0 0 l 376 1013 l 529 1013 l 906 0 m 609 421 l 452 866 l 293 421 l 609 421 "},s:{x_min:0,x_max:604,ha:697,o:"m 604 217 q 501 36 604 104 q 292 -23 411 -23 q 86 43 166 -23 q 0 238 0 114 l 121 237 q 175 122 121 164 q 300 85 223 85 q 415 112 363 85 q 479 207 479 147 q 361 309 479 276 q 140 372 141 370 q 21 544 21 426 q 111 708 21 647 q 298 761 190 761 q 492 705 413 761 q 583 531 583 643 l 462 531 q 412 625 462 594 q 298 657 363 657 q 199 636 242 657 q 143 558 143 608 q 262 454 143 486 q 484 394 479 397 q 604 217 604 341 "},B:{x_min:0,x_max:778,ha:876,o:"m 580 546 q 724 469 670 535 q 778 311 778 403 q 673 83 778 171 q 432 0 575 0 l 0 0 l 0 1013 l 411 1013 q 629 957 541 1013 q 732 768 732 892 q 691 633 732 693 q 580 546 650 572 m 393 899 l 139 899 l 139 588 l 379 588 q 521 624 462 588 q 592 744 592 667 q 531 859 592 819 q 393 899 471 899 m 419 124 q 566 169 504 124 q 635 303 635 219 q 559 436 635 389 q 402 477 494 477 l 139 477 l 139 124 l 419 124 "},"":{x_min:0,x_max:614,ha:708,o:"m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 m 378 0 l 236 0 l 236 151 l 378 151 l 378 0 m 614 0 l 472 0 l 472 151 l 614 151 l 614 0 "},"?":{x_min:0,x_max:607,ha:704,o:"m 607 777 q 543 599 607 674 q 422 474 482 537 q 357 272 357 391 l 236 272 q 297 487 236 395 q 411 619 298 490 q 474 762 474 691 q 422 885 474 838 q 301 933 371 933 q 179 880 228 933 q 124 706 124 819 l 0 706 q 94 963 0 872 q 302 1044 177 1044 q 511 973 423 1044 q 607 777 607 895 m 370 0 l 230 0 l 230 151 l 370 151 l 370 0 "},H:{x_min:0,x_max:803,ha:915,o:"m 803 0 l 667 0 l 667 475 l 140 475 l 140 0 l 0 0 l 0 1013 l 140 1013 l 140 599 l 667 599 l 667 1013 l 803 1013 l 803 0 "},:{x_min:0,x_max:675,ha:761,o:"m 675 738 l 404 0 l 272 0 l 0 738 l 133 738 l 340 147 l 541 738 l 675 738 "},c:{x_min:1,x_max:701.390625,ha:775,o:"m 701 264 q 584 53 681 133 q 353 -26 487 -26 q 91 91 188 -26 q 1 370 1 201 q 92 645 1 537 q 353 761 190 761 q 572 688 479 761 q 690 493 666 615 l 556 493 q 487 606 545 562 q 356 650 428 650 q 186 563 246 650 q 134 372 134 487 q 188 179 134 258 q 359 88 250 88 q 492 136 437 88 q 566 264 548 185 l 701 264 "},"":{x_min:0,x_max:566.671875,ha:678,o:"m 21 892 l 52 892 l 98 761 l 145 892 l 176 892 l 178 741 l 157 741 l 157 867 l 108 741 l 88 741 l 40 871 l 40 741 l 21 741 l 21 892 m 308 854 l 308 731 q 252 691 308 691 q 227 691 240 691 q 207 696 213 695 l 207 712 l 253 706 q 288 733 288 706 l 288 763 q 244 741 279 741 q 193 797 193 741 q 261 860 193 860 q 287 860 273 860 q 308 854 302 855 m 288 842 l 263 843 q 213 796 213 843 q 248 756 213 756 q 288 796 288 756 l 288 842 m 566 988 l 502 988 l 502 -1 l 439 -1 l 439 988 l 317 988 l 317 -1 l 252 -1 l 252 602 q 81 653 155 602 q 0 805 0 711 q 101 989 0 918 q 309 1053 194 1053 l 566 1053 l 566 988 "},:{x_min:0,x_max:660,ha:745,o:"m 471 550 q 610 450 561 522 q 660 280 660 378 q 578 64 660 151 q 367 -22 497 -22 q 239 5 299 -22 q 126 82 178 32 l 126 -278 l 0 -278 l 0 593 q 54 903 0 801 q 318 1042 127 1042 q 519 964 436 1042 q 603 771 603 887 q 567 644 603 701 q 471 550 532 586 m 337 79 q 476 138 418 79 q 535 279 535 198 q 427 437 535 386 q 226 477 344 477 l 226 583 q 398 620 329 583 q 486 762 486 668 q 435 884 486 833 q 312 935 384 935 q 169 861 219 935 q 126 698 126 797 l 126 362 q 170 169 126 242 q 337 79 224 79 "},:{x_min:0,x_max:954,ha:1068,o:"m 954 0 l 819 0 l 819 868 l 537 0 l 405 0 l 128 865 l 128 0 l 0 0 l 0 1013 l 199 1013 l 472 158 l 758 1013 l 954 1013 l 954 0 "},:{x_min:.109375,x_max:1120,ha:1217,o:"m 1120 505 q 994 132 1120 282 q 642 -29 861 -29 q 290 130 422 -29 q 167 505 167 280 q 294 883 167 730 q 650 1046 430 1046 q 999 882 868 1046 q 1120 505 1120 730 m 977 504 q 896 784 977 669 q 644 915 804 915 q 391 785 484 915 q 307 504 307 669 q 391 224 307 339 q 644 95 486 95 q 894 224 803 95 q 977 504 977 339 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},:{x_min:0,x_max:1158,ha:1275,o:"m 1158 0 l 1022 0 l 1022 475 l 496 475 l 496 0 l 356 0 l 356 1012 l 496 1012 l 496 599 l 1022 599 l 1022 1012 l 1158 1012 l 1158 0 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},"":{x_min:0,x_max:663.890625,ha:775,o:"m 663 529 q 566 293 663 391 q 331 196 469 196 q 97 294 194 196 q 0 529 0 393 q 96 763 0 665 q 331 861 193 861 q 566 763 469 861 q 663 529 663 665 "},"":{x_min:.1875,x_max:819.546875,ha:886,o:"m 563 561 l 697 561 l 696 487 l 520 487 l 482 416 l 482 380 l 697 380 l 695 308 l 482 308 l 482 0 l 342 0 l 342 308 l 125 308 l 125 380 l 342 380 l 342 417 l 303 487 l 125 487 l 125 561 l 258 561 l 0 1013 l 140 1013 l 411 533 l 679 1013 l 819 1013 l 563 561 "},"(":{x_min:0,x_max:318.0625,ha:415,o:"m 318 -290 l 230 -290 q 61 23 122 -142 q 0 365 0 190 q 62 712 0 540 q 230 1024 119 869 l 318 1024 q 175 705 219 853 q 125 360 125 542 q 176 22 125 187 q 318 -290 223 -127 "},U:{x_min:0,x_max:796,ha:904,o:"m 796 393 q 681 93 796 212 q 386 -25 566 -25 q 101 95 208 -25 q 0 393 0 211 l 0 1013 l 138 1013 l 138 391 q 204 191 138 270 q 394 107 276 107 q 586 191 512 107 q 656 391 656 270 l 656 1013 l 796 1013 l 796 393 "},:{x_min:.5,x_max:744.953125,ha:822,o:"m 744 737 l 463 54 l 463 -278 l 338 -278 l 338 54 l 154 495 q 104 597 124 569 q 13 651 67 651 l 0 651 l 0 751 l 39 753 q 168 711 121 753 q 242 594 207 676 l 403 208 l 617 737 l 744 737 "},:{x_min:0,x_max:765.5625,ha:809,o:"m 765 -4 q 698 -14 726 -14 q 564 97 586 -14 q 466 7 525 40 q 337 -26 407 -26 q 88 98 186 -26 q 0 369 0 212 q 88 637 0 525 q 337 760 184 760 q 465 728 407 760 q 563 637 524 696 l 563 739 l 685 739 l 685 222 q 693 141 685 168 q 748 94 708 94 q 765 96 760 94 l 765 -4 m 584 371 q 531 562 584 485 q 360 653 470 653 q 192 566 254 653 q 135 379 135 489 q 186 181 135 261 q 358 84 247 84 q 528 176 465 84 q 584 371 584 260 "},F:{x_min:0,x_max:683.328125,ha:717,o:"m 683 888 l 140 888 l 140 583 l 613 583 l 613 458 l 140 458 l 140 0 l 0 0 l 0 1013 l 683 1013 l 683 888 "},"":{x_min:0,x_max:705.5625,ha:803,o:"m 705 334 l 0 334 l 0 410 l 705 410 l 705 334 "},":":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 "},:{x_min:0,x_max:854.171875,ha:935,o:"m 854 0 l 683 0 l 423 409 l 166 0 l 0 0 l 347 519 l 18 1013 l 186 1013 l 427 637 l 675 1013 l 836 1013 l 504 521 l 854 0 "},"*":{x_min:116,x_max:674,ha:792,o:"m 674 768 l 475 713 l 610 544 l 517 477 l 394 652 l 272 478 l 178 544 l 314 713 l 116 766 l 153 876 l 341 812 l 342 1013 l 446 1013 l 446 811 l 635 874 l 674 768 "},"":{x_min:0,x_max:777,ha:835,o:"m 458 804 l 777 804 l 777 683 l 458 683 l 458 0 l 319 0 l 319 681 l 0 683 l 0 804 l 319 804 l 319 1015 l 458 1013 l 458 804 "},"":{x_min:0,x_max:347,ha:444,o:"m 173 802 q 43 856 91 802 q 0 977 0 905 q 45 1101 0 1049 q 173 1153 90 1153 q 303 1098 255 1153 q 347 977 347 1049 q 303 856 347 905 q 173 802 256 802 m 173 884 q 238 910 214 884 q 262 973 262 937 q 239 1038 262 1012 q 173 1064 217 1064 q 108 1037 132 1064 q 85 973 85 1010 q 108 910 85 937 q 173 884 132 884 "},V:{x_min:0,x_max:862.71875,ha:940,o:"m 862 1013 l 505 0 l 361 0 l 0 1013 l 143 1013 l 434 165 l 718 1012 l 862 1013 "},:{x_min:0,x_max:734.71875,ha:763,o:"m 723 889 l 9 889 l 9 1013 l 723 1013 l 723 889 m 673 463 l 61 463 l 61 589 l 673 589 l 673 463 m 734 0 l 0 0 l 0 124 l 734 124 l 734 0 "},"":{x_min:0,x_max:0,ha:853},:{x_min:.328125,x_max:819.515625,ha:889,o:"m 588 1046 l 460 1046 l 460 1189 l 588 1189 l 588 1046 m 360 1046 l 232 1046 l 232 1189 l 360 1189 l 360 1046 m 819 1012 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1012 l 140 1012 l 411 533 l 679 1012 l 819 1012 "},"":{x_min:0,x_max:347,ha:454,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 m 347 851 q 310 737 347 784 q 208 669 273 690 l 208 734 q 267 787 250 741 q 280 873 280 821 l 208 873 l 208 1013 l 347 1013 l 347 851 "},"@":{x_min:0,x_max:1260,ha:1357,o:"m 1098 -45 q 877 -160 1001 -117 q 633 -203 752 -203 q 155 -29 327 -203 q 0 360 0 127 q 176 802 0 616 q 687 1008 372 1008 q 1123 854 969 1008 q 1260 517 1260 718 q 1155 216 1260 341 q 868 82 1044 82 q 772 106 801 82 q 737 202 737 135 q 647 113 700 144 q 527 82 594 82 q 367 147 420 82 q 314 312 314 212 q 401 565 314 452 q 639 690 498 690 q 810 588 760 690 l 849 668 l 938 668 q 877 441 900 532 q 833 226 833 268 q 853 182 833 198 q 902 167 873 167 q 1088 272 1012 167 q 1159 512 1159 372 q 1051 793 1159 681 q 687 925 925 925 q 248 747 415 925 q 97 361 97 586 q 226 26 97 159 q 627 -122 370 -122 q 856 -87 737 -122 q 1061 8 976 -53 l 1098 -45 m 786 488 q 738 580 777 545 q 643 615 700 615 q 483 517 548 615 q 425 322 425 430 q 457 203 425 250 q 552 156 490 156 q 722 273 665 156 q 786 488 738 309 "},:{x_min:0,x_max:499,ha:613,o:"m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 m 499 0 l 360 0 l 360 1012 l 499 1012 l 499 0 "},i:{x_min:14,x_max:136,ha:275,o:"m 136 873 l 14 873 l 14 1013 l 136 1013 l 136 873 m 136 0 l 14 0 l 14 737 l 136 737 l 136 0 "},:{x_min:0,x_max:778,ha:877,o:"m 580 545 q 724 468 671 534 q 778 310 778 402 q 673 83 778 170 q 432 0 575 0 l 0 0 l 0 1013 l 411 1013 q 629 957 541 1013 q 732 768 732 891 q 691 632 732 692 q 580 545 650 571 m 393 899 l 139 899 l 139 587 l 379 587 q 521 623 462 587 q 592 744 592 666 q 531 859 592 819 q 393 899 471 899 m 419 124 q 566 169 504 124 q 635 302 635 219 q 559 435 635 388 q 402 476 494 476 l 139 476 l 139 124 l 419 124 "},:{x_min:0,x_max:617,ha:725,o:"m 617 352 q 540 94 617 199 q 308 -24 455 -24 q 76 94 161 -24 q 0 352 0 199 l 0 739 l 126 739 l 126 355 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 355 492 257 l 492 739 l 617 739 l 617 352 "},"]":{x_min:0,x_max:275,ha:372,o:"m 275 -281 l 0 -281 l 0 -187 l 151 -187 l 151 920 l 0 920 l 0 1013 l 275 1013 l 275 -281 "},m:{x_min:0,x_max:1019,ha:1128,o:"m 1019 0 l 897 0 l 897 454 q 860 591 897 536 q 739 660 816 660 q 613 586 659 660 q 573 436 573 522 l 573 0 l 447 0 l 447 455 q 412 591 447 535 q 294 657 372 657 q 165 586 213 657 q 122 437 122 521 l 122 0 l 0 0 l 0 738 l 117 738 l 117 640 q 202 730 150 697 q 316 763 254 763 q 437 730 381 763 q 525 642 494 697 q 621 731 559 700 q 753 763 682 763 q 943 694 867 763 q 1019 512 1019 625 l 1019 0 "},:{x_min:8.328125,x_max:780.5625,ha:815,o:"m 780 -278 q 715 -294 747 -294 q 616 -257 663 -294 q 548 -175 576 -227 l 379 133 l 143 -277 l 9 -277 l 313 254 l 163 522 q 127 586 131 580 q 36 640 91 640 q 8 637 27 640 l 8 752 l 52 757 q 162 719 113 757 q 236 627 200 690 l 383 372 l 594 737 l 726 737 l 448 250 l 625 -69 q 670 -153 647 -110 q 743 -188 695 -188 q 780 -184 759 -188 l 780 -278 "},:{x_min:42,x_max:326.71875,ha:361,o:"m 284 3 q 233 -10 258 -5 q 182 -15 207 -15 q 85 26 119 -15 q 42 200 42 79 l 42 737 l 167 737 l 168 215 q 172 141 168 157 q 226 101 183 101 q 248 102 239 101 q 284 112 257 104 l 284 3 m 326 1040 l 137 819 l 54 819 l 189 1040 l 326 1040 "},:{x_min:0,x_max:779.171875,ha:850,o:"m 779 0 l 0 0 l 0 113 l 620 896 l 40 896 l 40 1013 l 779 1013 l 779 887 l 170 124 l 779 124 l 779 0 "},R:{x_min:0,x_max:781.953125,ha:907,o:"m 781 0 l 623 0 q 587 242 590 52 q 407 433 585 433 l 138 433 l 138 0 l 0 0 l 0 1013 l 396 1013 q 636 946 539 1013 q 749 731 749 868 q 711 597 749 659 q 608 502 674 534 q 718 370 696 474 q 729 207 722 352 q 781 26 736 62 l 781 0 m 373 551 q 533 594 465 551 q 614 731 614 645 q 532 859 614 815 q 373 896 465 896 l 138 896 l 138 551 l 373 551 "},o:{x_min:0,x_max:713,ha:821,o:"m 357 -25 q 94 91 194 -25 q 0 368 0 202 q 93 642 0 533 q 357 761 193 761 q 618 644 518 761 q 713 368 713 533 q 619 91 713 201 q 357 -25 521 -25 m 357 85 q 528 175 465 85 q 584 369 584 255 q 529 562 584 484 q 357 651 467 651 q 189 560 250 651 q 135 369 135 481 q 187 177 135 257 q 357 85 250 85 "},K:{x_min:0,x_max:819.46875,ha:906,o:"m 819 0 l 649 0 l 294 509 l 139 355 l 139 0 l 0 0 l 0 1013 l 139 1013 l 139 526 l 626 1013 l 809 1013 l 395 600 l 819 0 "},",":{x_min:0,x_max:142,ha:239,o:"m 142 -12 q 105 -132 142 -82 q 0 -205 68 -182 l 0 -138 q 57 -82 40 -124 q 70 0 70 -51 l 0 0 l 0 151 l 142 151 l 142 -12 "},d:{x_min:0,x_max:683,ha:796,o:"m 683 0 l 564 0 l 564 93 q 456 6 516 38 q 327 -25 395 -25 q 87 100 181 -25 q 0 365 0 215 q 90 639 0 525 q 343 763 187 763 q 564 647 486 763 l 564 1013 l 683 1013 l 683 0 m 582 373 q 529 562 582 484 q 361 653 468 653 q 190 561 253 653 q 135 365 135 479 q 189 175 135 254 q 358 85 251 85 q 529 178 468 85 q 582 373 582 258 "},"":{x_min:-109,x_max:247,ha:232,o:"m 247 1046 l 119 1046 l 119 1189 l 247 1189 l 247 1046 m 19 1046 l -109 1046 l -109 1189 l 19 1189 l 19 1046 "},E:{x_min:0,x_max:736.109375,ha:789,o:"m 736 0 l 0 0 l 0 1013 l 725 1013 l 725 889 l 139 889 l 139 585 l 677 585 l 677 467 l 139 467 l 139 125 l 736 125 l 736 0 "},Y:{x_min:0,x_max:820,ha:886,o:"m 820 1013 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1013 l 140 1013 l 411 534 l 679 1012 l 820 1013 "},'"':{x_min:0,x_max:299,ha:396,o:"m 299 606 l 203 606 l 203 988 l 299 988 l 299 606 m 96 606 l 0 606 l 0 988 l 96 988 l 96 606 "},"":{x_min:17.984375,x_max:773.609375,ha:792,o:"m 773 40 l 18 376 l 17 465 l 773 799 l 773 692 l 159 420 l 773 149 l 773 40 "},"":{x_min:0,x_max:364,ha:467,o:"m 141 -12 q 104 -132 141 -82 q 0 -205 67 -182 l 0 -138 q 56 -82 40 -124 q 69 0 69 -51 l 0 0 l 0 151 l 141 151 l 141 -12 m 364 -12 q 327 -132 364 -82 q 222 -205 290 -182 l 222 -138 q 279 -82 262 -124 q 292 0 292 -51 l 222 0 l 222 151 l 364 151 l 364 -12 "},:{x_min:1,x_max:710,ha:810,o:"m 710 360 q 616 87 710 196 q 356 -28 518 -28 q 99 82 197 -28 q 1 356 1 192 q 100 606 1 509 q 355 703 199 703 q 180 829 288 754 q 70 903 124 866 l 70 1012 l 643 1012 l 643 901 l 258 901 q 462 763 422 794 q 636 592 577 677 q 710 360 710 485 m 584 365 q 552 501 584 447 q 451 602 521 555 q 372 611 411 611 q 197 541 258 611 q 136 355 136 472 q 190 171 136 245 q 358 85 252 85 q 528 173 465 85 q 584 365 584 252 "},:{x_min:0,x_max:634.71875,ha:714,o:"m 634 234 q 527 38 634 110 q 300 -25 433 -25 q 98 29 183 -25 q 0 204 0 93 q 37 313 0 265 q 128 390 67 352 q 56 459 82 419 q 26 555 26 505 q 114 712 26 654 q 295 763 191 763 q 499 700 416 763 q 589 515 589 631 l 478 515 q 419 618 464 580 q 307 657 374 657 q 207 630 253 657 q 151 547 151 598 q 238 445 151 469 q 389 434 280 434 l 389 331 l 349 331 q 206 315 255 331 q 125 210 125 287 q 183 107 125 145 q 302 76 233 76 q 436 117 379 76 q 509 234 493 159 l 634 234 m 520 1040 l 331 819 l 248 819 l 383 1040 l 520 1040 "},:{x_min:0,x_max:922,ha:1031,o:"m 922 339 q 856 97 922 203 q 650 -26 780 -26 q 538 9 587 -26 q 461 103 489 44 q 387 12 436 46 q 277 -22 339 -22 q 69 97 147 -22 q 0 339 0 203 q 45 551 0 444 q 161 738 84 643 l 302 738 q 175 553 219 647 q 124 336 124 446 q 155 179 124 249 q 275 88 197 88 q 375 163 341 88 q 400 294 400 219 l 400 572 l 524 572 l 524 294 q 561 135 524 192 q 643 88 591 88 q 762 182 719 88 q 797 342 797 257 q 745 556 797 450 q 619 738 705 638 l 760 738 q 874 551 835 640 q 922 339 922 444 "},"":{x_min:0,x_max:96,ha:251,o:"m 96 606 l 0 606 l 0 988 l 96 988 l 96 606 "},"":{x_min:11,x_max:781,ha:792,o:"m 781 490 l 446 490 l 446 255 l 349 255 l 349 490 l 11 490 l 11 586 l 349 586 l 349 819 l 446 819 l 446 586 l 781 586 l 781 490 m 781 21 l 11 21 l 11 115 l 781 115 l 781 21 "},"|":{x_min:343,x_max:449,ha:792,o:"m 449 462 l 343 462 l 343 986 l 449 986 l 449 462 m 449 -242 l 343 -242 l 343 280 l 449 280 l 449 -242 "},:{x_min:0,x_max:617,ha:725,o:"m 482 800 l 372 800 l 372 925 l 482 925 l 482 800 m 239 800 l 129 800 l 129 925 l 239 925 l 239 800 m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 "},"":{x_min:0,x_max:593,ha:690,o:"m 593 425 q 554 312 593 369 q 467 233 516 254 q 537 83 537 172 q 459 -74 537 -12 q 288 -133 387 -133 q 115 -69 184 -133 q 47 96 47 -6 l 166 96 q 199 7 166 40 q 288 -26 232 -26 q 371 -5 332 -26 q 420 60 420 21 q 311 201 420 139 q 108 309 210 255 q 0 490 0 383 q 33 602 0 551 q 124 687 66 654 q 75 743 93 712 q 58 812 58 773 q 133 984 58 920 q 300 1043 201 1043 q 458 987 394 1043 q 529 814 529 925 l 411 814 q 370 908 404 877 q 289 939 336 939 q 213 911 246 939 q 180 841 180 883 q 286 720 180 779 q 484 612 480 615 q 593 425 593 534 m 467 409 q 355 544 467 473 q 196 630 228 612 q 146 587 162 609 q 124 525 124 558 q 239 387 124 462 q 398 298 369 315 q 448 345 429 316 q 467 409 467 375 "},b:{x_min:0,x_max:685,ha:783,o:"m 685 372 q 597 99 685 213 q 347 -25 501 -25 q 219 5 277 -25 q 121 93 161 36 l 121 0 l 0 0 l 0 1013 l 121 1013 l 121 634 q 214 723 157 692 q 341 754 272 754 q 591 637 493 754 q 685 372 685 526 m 554 356 q 499 550 554 470 q 328 644 437 644 q 162 556 223 644 q 108 369 108 478 q 160 176 108 256 q 330 83 221 83 q 498 169 435 83 q 554 356 554 245 "},q:{x_min:0,x_max:683,ha:876,o:"m 683 -278 l 564 -278 l 564 97 q 474 8 533 39 q 345 -23 415 -23 q 91 93 188 -23 q 0 364 0 203 q 87 635 0 522 q 337 760 184 760 q 466 727 408 760 q 564 637 523 695 l 564 737 l 683 737 l 683 -278 m 582 375 q 527 564 582 488 q 358 652 466 652 q 190 565 253 652 q 135 377 135 488 q 189 179 135 261 q 361 84 251 84 q 530 179 469 84 q 582 375 582 260 "},:{x_min:-.171875,x_max:969.5625,ha:1068,o:"m 969 0 l 555 0 l 555 123 q 744 308 675 194 q 814 558 814 423 q 726 812 814 709 q 484 922 633 922 q 244 820 334 922 q 154 567 154 719 q 223 316 154 433 q 412 123 292 199 l 412 0 l 0 0 l 0 124 l 217 124 q 68 327 122 210 q 15 572 15 444 q 144 911 15 781 q 484 1041 274 1041 q 822 909 691 1041 q 953 569 953 777 q 899 326 953 443 q 750 124 846 210 l 969 124 l 969 0 "},:{x_min:0,x_max:617,ha:725,o:"m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 m 535 1040 l 346 819 l 262 819 l 397 1040 l 535 1040 "},z:{x_min:-.015625,x_max:613.890625,ha:697,o:"m 613 0 l 0 0 l 0 100 l 433 630 l 20 630 l 20 738 l 594 738 l 593 636 l 163 110 l 613 110 l 613 0 "},"":{x_min:0,x_max:894,ha:1e3,o:"m 389 951 l 229 951 l 229 503 l 160 503 l 160 951 l 0 951 l 0 1011 l 389 1011 l 389 951 m 894 503 l 827 503 l 827 939 l 685 503 l 620 503 l 481 937 l 481 503 l 417 503 l 417 1011 l 517 1011 l 653 580 l 796 1010 l 894 1011 l 894 503 "},:{x_min:.78125,x_max:697,ha:810,o:"m 697 -278 l 572 -278 l 572 454 q 540 587 572 536 q 425 650 501 650 q 271 579 337 650 q 206 420 206 509 l 206 0 l 81 0 l 81 489 q 73 588 81 562 q 0 644 56 644 l 0 741 q 68 755 38 755 q 158 721 124 755 q 200 630 193 687 q 297 726 234 692 q 434 761 359 761 q 620 692 544 761 q 697 516 697 624 l 697 -278 m 479 1040 l 290 819 l 207 819 l 341 1040 l 479 1040 "},:{x_min:0,x_max:960,ha:1056,o:"m 960 507 q 833 129 960 280 q 476 -32 698 -32 q 123 129 255 -32 q 0 507 0 280 q 123 883 0 732 q 476 1045 255 1045 q 832 883 696 1045 q 960 507 960 732 m 817 500 q 733 789 817 669 q 476 924 639 924 q 223 792 317 924 q 142 507 142 675 q 222 222 142 339 q 476 89 315 89 q 730 218 636 89 q 817 500 817 334 m 716 449 l 243 449 l 243 571 l 716 571 l 716 449 "},"":{x_min:-3,x_max:1008,ha:1106,o:"m 503 532 q 614 562 566 532 q 672 658 672 598 q 614 747 672 716 q 503 772 569 772 l 338 772 l 338 532 l 503 532 m 502 -7 q 123 151 263 -7 q -3 501 -3 294 q 123 851 -3 706 q 502 1011 263 1011 q 881 851 739 1011 q 1008 501 1008 708 q 883 151 1008 292 q 502 -7 744 -7 m 502 60 q 830 197 709 60 q 940 501 940 322 q 831 805 940 681 q 502 944 709 944 q 174 805 296 944 q 65 501 65 680 q 173 197 65 320 q 502 60 294 60 m 788 146 l 678 146 q 653 316 655 183 q 527 449 652 449 l 338 449 l 338 146 l 241 146 l 241 854 l 518 854 q 688 808 621 854 q 766 658 766 755 q 739 563 766 607 q 668 497 713 519 q 751 331 747 472 q 788 164 756 190 l 788 146 "},"~":{x_min:0,x_max:833,ha:931,o:"m 833 958 q 778 753 833 831 q 594 665 716 665 q 402 761 502 665 q 240 857 302 857 q 131 795 166 857 q 104 665 104 745 l 0 665 q 54 867 0 789 q 237 958 116 958 q 429 861 331 958 q 594 765 527 765 q 704 827 670 765 q 729 958 729 874 l 833 958 "},:{x_min:0,x_max:736.21875,ha:778,o:"m 736 0 l 0 0 l 0 1013 l 725 1013 l 725 889 l 139 889 l 139 585 l 677 585 l 677 467 l 139 467 l 139 125 l 736 125 l 736 0 "},"":{x_min:0,x_max:450,ha:547,o:"m 450 552 q 379 413 450 464 q 220 366 313 366 q 69 414 130 366 q 0 567 0 470 l 85 567 q 126 470 85 504 q 225 437 168 437 q 320 467 280 437 q 360 552 360 498 q 318 632 360 608 q 213 657 276 657 q 195 657 203 657 q 176 657 181 657 l 176 722 q 279 733 249 722 q 334 815 334 752 q 300 881 334 856 q 220 907 267 907 q 133 875 169 907 q 97 781 97 844 l 15 781 q 78 926 15 875 q 220 972 135 972 q 364 930 303 972 q 426 817 426 888 q 344 697 426 733 q 421 642 392 681 q 450 552 450 603 "},"[":{x_min:0,x_max:273.609375,ha:371,o:"m 273 -281 l 0 -281 l 0 1013 l 273 1013 l 273 920 l 124 920 l 124 -187 l 273 -187 l 273 -281 "},L:{x_min:0,x_max:645.828125,ha:696,o:"m 645 0 l 0 0 l 0 1013 l 140 1013 l 140 126 l 645 126 l 645 0 "},:{x_min:0,x_max:803.390625,ha:894,o:"m 803 628 l 633 628 q 713 368 713 512 q 618 93 713 204 q 357 -25 518 -25 q 94 91 194 -25 q 0 368 0 201 q 94 644 0 533 q 356 761 194 761 q 481 750 398 761 q 608 739 564 739 l 803 739 l 803 628 m 360 85 q 529 180 467 85 q 584 374 584 262 q 527 566 584 490 q 352 651 463 651 q 187 559 247 651 q 135 368 135 478 q 189 175 135 254 q 360 85 251 85 "},:{x_min:0,x_max:573,ha:642,o:"m 573 -40 q 553 -162 573 -97 q 510 -278 543 -193 l 400 -278 q 441 -187 428 -219 q 462 -90 462 -132 q 378 -14 462 -14 q 108 45 197 -14 q 0 290 0 117 q 108 631 0 462 q 353 901 194 767 l 55 901 l 55 1012 l 561 1012 l 561 924 q 261 669 382 831 q 128 301 128 489 q 243 117 128 149 q 458 98 350 108 q 573 -40 573 80 "},:{x_min:0,x_max:674,ha:778,o:"m 674 496 q 601 160 674 304 q 336 -26 508 -26 q 73 153 165 -26 q 0 485 0 296 q 72 840 0 683 q 343 1045 166 1045 q 605 844 516 1045 q 674 496 674 692 m 546 579 q 498 798 546 691 q 336 935 437 935 q 178 798 237 935 q 126 579 137 701 l 546 579 m 546 475 l 126 475 q 170 233 126 348 q 338 80 230 80 q 504 233 447 80 q 546 475 546 346 "},:{x_min:0,x_max:958,ha:1054,o:"m 485 1042 q 834 883 703 1042 q 958 511 958 735 q 834 136 958 287 q 481 -26 701 -26 q 126 130 261 -26 q 0 504 0 279 q 127 880 0 729 q 485 1042 263 1042 m 480 98 q 731 225 638 98 q 815 504 815 340 q 733 783 815 670 q 480 913 640 913 q 226 785 321 913 q 142 504 142 671 q 226 224 142 339 q 480 98 319 98 "},:{x_min:0,x_max:705.28125,ha:749,o:"m 705 886 l 140 886 l 140 0 l 0 0 l 0 1012 l 705 1012 l 705 886 "}," ":{x_min:0,x_max:0,ha:375},"%":{x_min:-3,x_max:1089,ha:1186,o:"m 845 0 q 663 76 731 0 q 602 244 602 145 q 661 412 602 344 q 845 489 728 489 q 1027 412 959 489 q 1089 244 1089 343 q 1029 76 1089 144 q 845 0 962 0 m 844 103 q 945 143 909 103 q 981 243 981 184 q 947 340 981 301 q 844 385 909 385 q 744 342 781 385 q 708 243 708 300 q 741 147 708 186 q 844 103 780 103 m 888 986 l 284 -25 l 199 -25 l 803 986 l 888 986 m 241 468 q 58 545 126 468 q -3 715 -3 615 q 56 881 -3 813 q 238 958 124 958 q 421 881 353 958 q 483 712 483 813 q 423 544 483 612 q 241 468 356 468 m 241 855 q 137 811 175 855 q 100 710 100 768 q 136 612 100 653 q 240 572 172 572 q 344 614 306 572 q 382 713 382 656 q 347 810 382 771 q 241 855 308 855 "},P:{x_min:0,x_max:726,ha:806,o:"m 424 1013 q 640 931 555 1013 q 726 719 726 850 q 637 506 726 587 q 413 426 548 426 l 140 426 l 140 0 l 0 0 l 0 1013 l 424 1013 m 379 889 l 140 889 l 140 548 l 372 548 q 522 589 459 548 q 593 720 593 637 q 528 845 593 801 q 379 889 463 889 "},:{x_min:0,x_max:1078.21875,ha:1118,o:"m 1078 0 l 342 0 l 342 1013 l 1067 1013 l 1067 889 l 481 889 l 481 585 l 1019 585 l 1019 467 l 481 467 l 481 125 l 1078 125 l 1078 0 m 277 1040 l 83 799 l 0 799 l 140 1040 l 277 1040 "},:{x_min:.125,x_max:1136.546875,ha:1235,o:"m 1136 0 l 722 0 l 722 123 q 911 309 842 194 q 981 558 981 423 q 893 813 981 710 q 651 923 800 923 q 411 821 501 923 q 321 568 321 720 q 390 316 321 433 q 579 123 459 200 l 579 0 l 166 0 l 166 124 l 384 124 q 235 327 289 210 q 182 572 182 444 q 311 912 182 782 q 651 1042 441 1042 q 989 910 858 1042 q 1120 569 1120 778 q 1066 326 1120 443 q 917 124 1013 210 l 1136 124 l 1136 0 m 277 1040 l 83 800 l 0 800 l 140 1041 l 277 1040 "},_:{x_min:0,x_max:705.5625,ha:803,o:"m 705 -334 l 0 -334 l 0 -234 l 705 -234 l 705 -334 "},:{x_min:-110,x_max:246,ha:275,o:"m 246 1046 l 118 1046 l 118 1189 l 246 1189 l 246 1046 m 18 1046 l -110 1046 l -110 1189 l 18 1189 l 18 1046 m 136 0 l 0 0 l 0 1012 l 136 1012 l 136 0 "},"+":{x_min:23,x_max:768,ha:792,o:"m 768 372 l 444 372 l 444 0 l 347 0 l 347 372 l 23 372 l 23 468 l 347 468 l 347 840 l 444 840 l 444 468 l 768 468 l 768 372 "},"":{x_min:0,x_max:1050,ha:1149,o:"m 1050 0 l 625 0 q 712 178 625 108 q 878 277 722 187 q 967 385 967 328 q 932 456 967 429 q 850 484 897 484 q 759 450 798 484 q 721 352 721 416 l 640 352 q 706 502 640 448 q 851 551 766 551 q 987 509 931 551 q 1050 385 1050 462 q 976 251 1050 301 q 829 179 902 215 q 717 68 740 133 l 1050 68 l 1050 0 m 834 985 l 215 -28 l 130 -28 l 750 984 l 834 985 m 224 422 l 142 422 l 142 811 l 0 811 l 0 867 q 104 889 62 867 q 164 973 157 916 l 224 973 l 224 422 "},:{x_min:0,x_max:720,ha:783,o:"m 424 1013 q 637 933 554 1013 q 720 723 720 853 q 633 508 720 591 q 413 426 546 426 l 140 426 l 140 0 l 0 0 l 0 1013 l 424 1013 m 378 889 l 140 889 l 140 548 l 371 548 q 521 589 458 548 q 592 720 592 637 q 527 845 592 801 q 378 889 463 889 "},"'":{x_min:0,x_max:139,ha:236,o:"m 139 851 q 102 737 139 784 q 0 669 65 690 l 0 734 q 59 787 42 741 q 72 873 72 821 l 0 873 l 0 1013 l 139 1013 l 139 851 "},:{x_min:0,x_max:350,ha:397,o:"m 350 625 q 307 616 328 616 q 266 631 281 616 q 247 673 251 645 q 190 628 225 644 q 116 613 156 613 q 32 641 64 613 q 0 722 0 669 q 72 826 0 800 q 247 866 159 846 l 247 887 q 220 934 247 916 q 162 953 194 953 q 104 934 129 953 q 76 882 80 915 l 16 882 q 60 976 16 941 q 166 1011 104 1011 q 266 979 224 1011 q 308 891 308 948 l 308 706 q 311 679 308 688 q 331 670 315 670 l 350 672 l 350 625 m 247 757 l 247 811 q 136 790 175 798 q 64 726 64 773 q 83 682 64 697 q 132 667 103 667 q 207 690 174 667 q 247 757 247 718 "},"":{x_min:0,x_max:450,ha:553,o:"m 450 800 l 340 800 l 340 925 l 450 925 l 450 800 m 406 1040 l 212 800 l 129 800 l 269 1040 l 406 1040 m 110 800 l 0 800 l 0 925 l 110 925 l 110 800 "},T:{x_min:0,x_max:777,ha:835,o:"m 777 894 l 458 894 l 458 0 l 319 0 l 319 894 l 0 894 l 0 1013 l 777 1013 l 777 894 "},:{x_min:0,x_max:915,ha:997,o:"m 527 0 l 389 0 l 389 122 q 110 231 220 122 q 0 509 0 340 q 110 785 0 677 q 389 893 220 893 l 389 1013 l 527 1013 l 527 893 q 804 786 693 893 q 915 509 915 679 q 805 231 915 341 q 527 122 696 122 l 527 0 m 527 226 q 712 310 641 226 q 779 507 779 389 q 712 705 779 627 q 527 787 641 787 l 527 226 m 389 226 l 389 787 q 205 698 275 775 q 136 505 136 620 q 206 308 136 391 q 389 226 276 226 "},"":{x_min:0,x_max:0,ha:694},j:{x_min:-77.78125,x_max:167,ha:349,o:"m 167 871 l 42 871 l 42 1013 l 167 1013 l 167 871 m 167 -80 q 121 -231 167 -184 q -26 -278 76 -278 l -77 -278 l -77 -164 l -41 -164 q 26 -143 11 -164 q 42 -65 42 -122 l 42 737 l 167 737 l 167 -80 "},:{x_min:0,x_max:756.953125,ha:819,o:"m 756 0 l 0 0 l 0 107 l 395 523 l 22 904 l 22 1013 l 745 1013 l 745 889 l 209 889 l 566 523 l 187 125 l 756 125 l 756 0 "},"":{x_min:18.0625,x_max:774,ha:792,o:"m 774 376 l 18 40 l 18 149 l 631 421 l 18 692 l 18 799 l 774 465 l 774 376 "},"<":{x_min:17.984375,x_max:773.609375,ha:792,o:"m 773 40 l 18 376 l 17 465 l 773 799 l 773 692 l 159 420 l 773 149 l 773 40 "},"":{x_min:0,x_max:704.484375,ha:801,o:"m 704 41 q 623 -10 664 5 q 543 -26 583 -26 q 359 15 501 -26 q 243 36 288 36 q 158 23 197 36 q 73 -21 119 10 l 6 76 q 125 195 90 150 q 175 331 175 262 q 147 443 175 383 l 0 443 l 0 512 l 108 512 q 43 734 43 623 q 120 929 43 854 q 358 1010 204 1010 q 579 936 487 1010 q 678 729 678 857 l 678 684 l 552 684 q 504 838 552 780 q 362 896 457 896 q 216 852 263 896 q 176 747 176 815 q 199 627 176 697 q 248 512 217 574 l 468 512 l 468 443 l 279 443 q 297 356 297 398 q 230 194 297 279 q 153 107 211 170 q 227 133 190 125 q 293 142 264 142 q 410 119 339 142 q 516 96 482 96 q 579 105 550 96 q 648 142 608 115 l 704 41 "},t:{x_min:0,x_max:367,ha:458,o:"m 367 0 q 312 -5 339 -2 q 262 -8 284 -8 q 145 28 183 -8 q 108 143 108 64 l 108 638 l 0 638 l 0 738 l 108 738 l 108 944 l 232 944 l 232 738 l 367 738 l 367 638 l 232 638 l 232 185 q 248 121 232 140 q 307 102 264 102 q 345 104 330 102 q 367 107 360 107 l 367 0 "},"":{x_min:0,x_max:706,ha:803,o:"m 706 411 l 706 158 l 630 158 l 630 335 l 0 335 l 0 411 l 706 411 "},:{x_min:0,x_max:750,ha:803,o:"m 750 -7 q 679 -15 716 -15 q 538 59 591 -15 q 466 214 512 97 l 336 551 l 126 0 l 0 0 l 270 705 q 223 837 247 770 q 116 899 190 899 q 90 898 100 899 l 90 1004 q 152 1011 125 1011 q 298 938 244 1011 q 373 783 326 901 l 605 192 q 649 115 629 136 q 716 95 669 95 l 736 95 q 750 97 745 97 l 750 -7 "},W:{x_min:0,x_max:1263.890625,ha:1351,o:"m 1263 1013 l 995 0 l 859 0 l 627 837 l 405 0 l 265 0 l 0 1013 l 136 1013 l 342 202 l 556 1013 l 701 1013 l 921 207 l 1133 1012 l 1263 1013 "},">":{x_min:18.0625,x_max:774,ha:792,o:"m 774 376 l 18 40 l 18 149 l 631 421 l 18 692 l 18 799 l 774 465 l 774 376 "},v:{x_min:0,x_max:675.15625,ha:761,o:"m 675 738 l 404 0 l 272 0 l 0 738 l 133 737 l 340 147 l 541 737 l 675 738 "},:{x_min:.28125,x_max:644.5,ha:703,o:"m 644 628 l 382 628 l 382 179 q 388 120 382 137 q 436 91 401 91 q 474 94 447 91 q 504 97 501 97 l 504 0 q 454 -9 482 -5 q 401 -14 426 -14 q 278 67 308 -14 q 260 233 260 118 l 260 628 l 0 628 l 0 739 l 644 739 l 644 628 "},:{x_min:0,x_max:624.9375,ha:699,o:"m 624 -37 q 608 -153 624 -96 q 563 -278 593 -211 l 454 -278 q 491 -183 486 -200 q 511 -83 511 -126 q 484 -23 511 -44 q 370 1 452 1 q 323 0 354 1 q 283 -1 293 -1 q 84 76 169 -1 q 0 266 0 154 q 56 431 0 358 q 197 538 108 498 q 94 613 134 562 q 54 730 54 665 q 77 823 54 780 q 143 901 101 867 l 27 901 l 27 1012 l 576 1012 l 576 901 l 380 901 q 244 863 303 901 q 178 745 178 820 q 312 600 178 636 q 532 582 380 582 l 532 479 q 276 455 361 479 q 118 281 118 410 q 165 173 118 217 q 274 120 208 133 q 494 101 384 110 q 624 -37 624 76 "},"&":{x_min:-3,x_max:894.25,ha:992,o:"m 894 0 l 725 0 l 624 123 q 471 0 553 40 q 306 -41 390 -41 q 168 -7 231 -41 q 62 92 105 26 q 14 187 31 139 q -3 276 -3 235 q 55 433 -3 358 q 248 581 114 508 q 170 689 196 640 q 137 817 137 751 q 214 985 137 922 q 384 1041 284 1041 q 548 988 483 1041 q 622 824 622 928 q 563 666 622 739 q 431 556 516 608 l 621 326 q 649 407 639 361 q 663 493 653 426 l 781 493 q 703 229 781 352 l 894 0 m 504 818 q 468 908 504 877 q 384 940 433 940 q 293 907 331 940 q 255 818 255 875 q 289 714 255 767 q 363 628 313 678 q 477 729 446 682 q 504 818 504 771 m 556 209 l 314 499 q 179 395 223 449 q 135 283 135 341 q 146 222 135 253 q 183 158 158 192 q 333 80 241 80 q 556 209 448 80 "},:{x_min:0,x_max:862.5,ha:942,o:"m 862 0 l 719 0 l 426 847 l 143 0 l 0 0 l 356 1013 l 501 1013 l 862 0 "},I:{x_min:41,x_max:180,ha:293,o:"m 180 0 l 41 0 l 41 1013 l 180 1013 l 180 0 "},G:{x_min:0,x_max:921,ha:1011,o:"m 921 0 l 832 0 l 801 136 q 655 15 741 58 q 470 -28 568 -28 q 126 133 259 -28 q 0 499 0 284 q 125 881 0 731 q 486 1043 259 1043 q 763 957 647 1043 q 905 709 890 864 l 772 709 q 668 866 747 807 q 486 926 589 926 q 228 795 322 926 q 142 507 142 677 q 228 224 142 342 q 483 94 323 94 q 712 195 625 94 q 796 435 796 291 l 477 435 l 477 549 l 921 549 l 921 0 "},:{x_min:0,x_max:617,ha:725,o:"m 524 800 l 414 800 l 414 925 l 524 925 l 524 800 m 183 800 l 73 800 l 73 925 l 183 925 l 183 800 m 617 352 q 540 93 617 199 q 308 -24 455 -24 q 76 93 161 -24 q 0 352 0 199 l 0 738 l 126 738 l 126 354 q 169 185 126 257 q 312 98 220 98 q 451 185 402 98 q 492 354 492 257 l 492 738 l 617 738 l 617 352 m 489 1040 l 300 819 l 216 819 l 351 1040 l 489 1040 "},"`":{x_min:0,x_max:138.890625,ha:236,o:"m 138 699 l 0 699 l 0 861 q 36 974 0 929 q 138 1041 72 1020 l 138 977 q 82 931 95 969 q 69 839 69 893 l 138 839 l 138 699 "},"":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 "},:{x_min:.328125,x_max:819.515625,ha:889,o:"m 819 1013 l 482 416 l 482 0 l 342 0 l 342 416 l 0 1013 l 140 1013 l 411 533 l 679 1013 l 819 1013 "},r:{x_min:0,x_max:355.5625,ha:432,o:"m 355 621 l 343 621 q 179 569 236 621 q 122 411 122 518 l 122 0 l 0 0 l 0 737 l 117 737 l 117 604 q 204 719 146 686 q 355 753 262 753 l 355 621 "},x:{x_min:0,x_max:675,ha:764,o:"m 675 0 l 525 0 l 331 286 l 144 0 l 0 0 l 256 379 l 12 738 l 157 737 l 336 473 l 516 738 l 661 738 l 412 380 l 675 0 "},:{x_min:0,x_max:696.609375,ha:747,o:"m 696 -4 q 628 -14 657 -14 q 498 97 513 -14 q 422 8 470 41 q 313 -24 374 -24 q 207 3 258 -24 q 120 80 157 31 l 120 -278 l 0 -278 l 0 738 l 124 738 l 124 343 q 165 172 124 246 q 308 82 216 82 q 451 177 402 82 q 492 358 492 254 l 492 738 l 616 738 l 616 214 q 623 136 616 160 q 673 92 636 92 q 696 95 684 92 l 696 -4 "},h:{x_min:0,x_max:615,ha:724,o:"m 615 472 l 615 0 l 490 0 l 490 454 q 456 590 490 535 q 338 654 416 654 q 186 588 251 654 q 122 436 122 522 l 122 0 l 0 0 l 0 1013 l 122 1013 l 122 633 q 218 727 149 694 q 362 760 287 760 q 552 676 484 760 q 615 472 615 600 "},".":{x_min:0,x_max:142,ha:239,o:"m 142 0 l 0 0 l 0 151 l 142 151 l 142 0 "},:{x_min:-2,x_max:878,ha:974,o:"m 496 -279 l 378 -279 l 378 -17 q 101 88 204 -17 q -2 367 -2 194 q 68 626 -2 510 q 283 758 151 758 l 283 646 q 167 537 209 626 q 133 373 133 462 q 192 177 133 254 q 378 93 259 93 l 378 758 q 445 764 426 763 q 476 765 464 765 q 765 659 653 765 q 878 377 878 553 q 771 96 878 209 q 496 -17 665 -17 l 496 -279 m 496 93 l 514 93 q 687 183 623 93 q 746 380 746 265 q 691 569 746 491 q 522 658 629 658 l 496 656 l 496 93 "},";":{x_min:0,x_max:142,ha:239,o:"m 142 585 l 0 585 l 0 738 l 142 738 l 142 585 m 142 -12 q 105 -132 142 -82 q 0 -206 68 -182 l 0 -138 q 58 -82 43 -123 q 68 0 68 -56 l 0 0 l 0 151 l 142 151 l 142 -12 "},f:{x_min:0,x_max:378,ha:472,o:"m 378 638 l 246 638 l 246 0 l 121 0 l 121 638 l 0 638 l 0 738 l 121 738 q 137 935 121 887 q 290 1028 171 1028 q 320 1027 305 1028 q 378 1021 334 1026 l 378 908 q 323 918 346 918 q 257 870 273 918 q 246 780 246 840 l 246 738 l 378 738 l 378 638 "},"":{x_min:1,x_max:348.21875,ha:454,o:"m 140 670 l 1 670 l 1 830 q 37 943 1 897 q 140 1011 74 990 l 140 947 q 82 900 97 940 q 68 810 68 861 l 140 810 l 140 670 m 348 670 l 209 670 l 209 830 q 245 943 209 897 q 348 1011 282 990 l 348 947 q 290 900 305 940 q 276 810 276 861 l 348 810 l 348 670 "},A:{x_min:.03125,x_max:906.953125,ha:1008,o:"m 906 0 l 756 0 l 648 303 l 251 303 l 142 0 l 0 0 l 376 1013 l 529 1013 l 906 0 m 610 421 l 452 867 l 293 421 l 610 421 "},"":{x_min:1,x_max:139.890625,ha:236,o:"m 139 670 l 1 670 l 1 830 q 37 943 1 897 q 139 1011 74 990 l 139 947 q 82 900 97 940 q 68 810 68 861 l 139 810 l 139 670 "},:{x_min:-70,x_max:283,ha:361,o:"m 283 800 l 173 800 l 173 925 l 283 925 l 283 800 m 40 800 l -70 800 l -70 925 l 40 925 l 40 800 m 283 3 q 232 -10 257 -5 q 181 -15 206 -15 q 84 26 118 -15 q 41 200 41 79 l 41 737 l 166 737 l 167 215 q 171 141 167 157 q 225 101 182 101 q 247 103 238 101 q 283 112 256 104 l 283 3 "},:{x_min:-.21875,x_max:773.21875,ha:857,o:"m 773 -7 l 707 -11 q 575 40 607 -11 q 552 174 552 77 l 552 226 l 552 626 l 222 626 l 222 0 l 97 0 l 97 626 l 0 626 l 0 737 l 773 737 l 773 626 l 676 626 l 676 171 q 695 103 676 117 q 773 90 714 90 l 773 -7 "},:{x_min:0,x_max:765.5625,ha:809,o:"m 765 -4 q 698 -14 726 -14 q 564 97 586 -14 q 466 7 525 40 q 337 -26 407 -26 q 88 98 186 -26 q 0 369 0 212 q 88 637 0 525 q 337 760 184 760 q 465 727 407 760 q 563 637 524 695 l 563 738 l 685 738 l 685 222 q 693 141 685 168 q 748 94 708 94 q 765 95 760 94 l 765 -4 m 584 371 q 531 562 584 485 q 360 653 470 653 q 192 566 254 653 q 135 379 135 489 q 186 181 135 261 q 358 84 247 84 q 528 176 465 84 q 584 371 584 260 m 604 1040 l 415 819 l 332 819 l 466 1040 l 604 1040 "},O:{x_min:0,x_max:958,ha:1057,o:"m 485 1041 q 834 882 702 1041 q 958 512 958 734 q 834 136 958 287 q 481 -26 702 -26 q 126 130 261 -26 q 0 504 0 279 q 127 880 0 728 q 485 1041 263 1041 m 480 98 q 731 225 638 98 q 815 504 815 340 q 733 783 815 669 q 480 912 640 912 q 226 784 321 912 q 142 504 142 670 q 226 224 142 339 q 480 98 319 98 "},n:{x_min:0,x_max:615,ha:724,o:"m 615 463 l 615 0 l 490 0 l 490 454 q 453 592 490 537 q 331 656 410 656 q 178 585 240 656 q 117 421 117 514 l 117 0 l 0 0 l 0 738 l 117 738 l 117 630 q 218 728 150 693 q 359 764 286 764 q 552 675 484 764 q 615 463 615 593 "},l:{x_min:41,x_max:166,ha:279,o:"m 166 0 l 41 0 l 41 1013 l 166 1013 l 166 0 "},"":{x_min:40.09375,x_max:728.796875,ha:825,o:"m 728 304 l 649 224 l 512 363 q 383 331 458 331 q 256 363 310 331 l 119 224 l 40 304 l 177 441 q 150 553 150 493 q 184 673 150 621 l 40 818 l 119 898 l 267 749 q 321 766 291 759 q 384 773 351 773 q 447 766 417 773 q 501 749 477 759 l 649 898 l 728 818 l 585 675 q 612 618 604 648 q 621 553 621 587 q 591 441 621 491 l 728 304 m 384 682 q 280 643 318 682 q 243 551 243 604 q 279 461 243 499 q 383 423 316 423 q 487 461 449 423 q 525 553 525 500 q 490 641 525 605 q 384 682 451 682 "},:{x_min:0,x_max:632.328125,ha:679,o:"m 632 0 l 482 0 l 225 384 l 124 288 l 124 0 l 0 0 l 0 738 l 124 738 l 124 446 l 433 738 l 596 738 l 312 466 l 632 0 "},p:{x_min:0,x_max:685,ha:786,o:"m 685 364 q 598 96 685 205 q 350 -23 504 -23 q 121 89 205 -23 l 121 -278 l 0 -278 l 0 738 l 121 738 l 121 633 q 220 726 159 691 q 351 761 280 761 q 598 636 504 761 q 685 364 685 522 m 557 371 q 501 560 557 481 q 330 651 437 651 q 162 559 223 651 q 108 366 108 479 q 162 177 108 254 q 333 87 224 87 q 502 178 441 87 q 557 371 557 258 "},"":{x_min:0,x_max:777,ha:835,o:"m 458 238 l 458 0 l 319 0 l 319 238 l 0 238 l 0 360 l 319 360 l 319 681 l 0 683 l 0 804 l 319 804 l 319 1015 l 458 1013 l 458 804 l 777 804 l 777 683 l 458 683 l 458 360 l 777 360 l 777 238 l 458 238 "},:{x_min:0,x_max:808,ha:907,o:"m 465 -278 l 341 -278 l 341 -15 q 87 102 180 -15 q 0 378 0 210 l 0 739 l 133 739 l 133 379 q 182 195 133 275 q 341 98 242 98 l 341 922 l 465 922 l 465 98 q 623 195 563 98 q 675 382 675 278 l 675 742 l 808 742 l 808 381 q 720 104 808 213 q 466 -13 627 -13 l 465 -278 "},:{x_min:.78125,x_max:697,ha:810,o:"m 697 -278 l 572 -278 l 572 454 q 540 587 572 536 q 425 650 501 650 q 271 579 337 650 q 206 420 206 509 l 206 0 l 81 0 l 81 489 q 73 588 81 562 q 0 644 56 644 l 0 741 q 68 755 38 755 q 158 720 124 755 q 200 630 193 686 q 297 726 234 692 q 434 761 359 761 q 620 692 544 761 q 697 516 697 624 l 697 -278 "}},bDe="normal",SDe=1189,TDe=-100,MDe="normal",EDe={yMin:-334,xMin:-111,yMax:1189,xMax:1672},wDe=1e3,RDe={postscript_name:"Helvetiker-Regular",version_string:"Version 1.00 2004 initial release",vendor_url:"http://www.magenta.gr/",full_font_name:"Helvetiker",font_family_name:"Helvetiker",copyright:"Copyright (c) agenta ltd, 2004",description:"",trademark:"",designer:"",designer_url:"",unique_font_identifier:"agenta ltd:Helvetiker:22-10-104",license_url:"http://www.ellak.gr/fonts/MgOpen/license.html",license_description:`Copyright (c) 2004 by MAGENTA Ltd. All Rights Reserved.\r
\r
Permission is hereby granted, free of charge, to any person obtaining a copy of the fonts accompanying this license ("Fonts") and associated documentation files (the "Font Software"), to reproduce and distribute the Font Software, including without limitation the rights to use, copy, merge, publish, distribute, and/or sell copies of the Font Software, and to permit persons to whom the Font Software is furnished to do so, subject to the following conditions: \r
\r
The above copyright and this permission notice shall be included in all copies of one or more of the Font Software typefaces.\r
\r
The Font Software may be modified, altered, or added to, and in particular the designs of glyphs or characters in the Fonts may be modified and additional glyphs or characters may be added to the Fonts, only if the fonts are renamed to names not containing the word "MgOpen", or if the modifications are accepted for inclusion in the Font Software itself by the each appointed Administrator.\r
\r
This License becomes null and void to the extent applicable to Fonts or Font Software that has been modified and is distributed under the "MgOpen" name.\r
\r
The Font Software may be sold as part of a larger software package but no copy of one or more of the Font Software typefaces may be sold by itself. \r
\r
THE FONT SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO ANY WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT OF COPYRIGHT, PATENT, TRADEMARK, OR OTHER RIGHT. IN NO EVENT SHALL MAGENTA OR PERSONS OR BODIES IN CHARGE OF ADMINISTRATION AND MAINTENANCE OF THE FONT SOFTWARE BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, INCLUDING ANY GENERAL, SPECIAL, INDIRECT, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF THE USE OR INABILITY TO USE THE FONT SOFTWARE OR FROM OTHER DEALINGS IN THE FONT SOFTWARE.`,manufacturer_name:"agenta ltd",font_sub_family_name:"Regular"},CDe=-334,NDe="Helvetiker",DDe=1522,PDe=50,LDe={glyphs:_De,cssFontWeight:bDe,ascender:SDe,underlinePosition:TDe,cssFontStyle:MDe,boundingBox:EDe,resolution:wDe,original_font_information:RDe,descender:CDe,familyName:NDe,lineHeight:DDe,underlineThickness:PDe},ou=Yi(Yi({},window.THREE?window.THREE:{BoxGeometry:D1,CircleGeometry:S8,DoubleSide:hs,Group:oo,Mesh:ii,MeshLambertMaterial:wu,TextGeometry:Sq,Vector3:re}),{},{Font:NNe,TextGeometry:Sq}),sie=Ao({props:{labelsData:{default:[]},labelLat:{default:"lat"},labelLng:{default:"lng"},labelAltitude:{default:.002},labelText:{default:"text"},labelSize:{default:.5},labelTypeFace:{default:LDe,onChange:function(e,t){t.font=new ou.Font(e)}},labelColor:{default:function(){return"lightgrey"}},labelRotation:{default:0},labelResolution:{default:3},labelIncludeDot:{default:!0},labelDotRadius:{default:.1},labelDotOrientation:{default:function(){return"bottom"}},labelsTransitionDuration:{default:1e3,triggerUpdate:!1}},init:function(e,t,i){var r=i.tweenGroup;hr(e),t.scene=e,t.tweenGroup=r;var s=new ou.CircleGeometry(1,32);t.dataMapper=new Al(e,{objBindAttr:"__threeObjLabel"}).onCreateObj(function(){var a=new ou.MeshLambertMaterial;a.side=hs;var o=new ou.Group;o.add(new ou.Mesh(s,a));var l=new ou.Mesh(void 0,a);o.add(l);var u=new ou.Mesh;return u.visible=!1,l.add(u),o.__globeObjType="label",o})},update:function(e){var t=yt(e.labelLat),i=yt(e.labelLng),r=yt(e.labelAltitude),s=yt(e.labelText),a=yt(e.labelSize),o=yt(e.labelRotation),l=yt(e.labelColor),u=yt(e.labelIncludeDot),c=yt(e.labelDotRadius),f=yt(e.labelDotOrientation),m=new Set(["right","top","bottom"]),v=2*Math.PI*Er/360;e.dataMapper.onUpdateObj(function(_,T){var M=Br(_.children,2),S=M[0],R=M[1],C=Br(R.children,1),P=C[0],B=l(T),O=_u(B);R.material.color.set(w1(B)),R.material.transparent=O<1,R.material.opacity=O;var V=u(T),F=f(T);!V||!m.has(F)&&(F="bottom");var z=V?+c(T)*v:1e-12;S.scale.x=S.scale.y=z;var k=+a(T)*v;if(R.geometry&&R.geometry.dispose(),R.geometry=new ou.TextGeometry(s(T),{font:e.font,size:k,depth:0,bevelEnabled:!0,bevelThickness:0,bevelSize:0,curveSegments:e.labelResolution}),P.geometry&&P.geometry.dispose(),R.geometry.computeBoundingBox(),P.geometry=gU(ou.BoxGeometry,ir(new ou.Vector3().subVectors(R.geometry.boundingBox.max,R.geometry.boundingBox.min).clampScalar(0,1/0).toArray())),F!=="right"&&R.geometry.center(),V){var H=z+k/2;F==="right"&&(R.position.x=H),R.position.y={right:-k/2,top:H+k/2,bottom:-H-k/2}[F]}var Z=function(Y){var ee=_.__currentTargetD=Y,Q=ee.lat,fe=ee.lng,ge=ee.alt,Re=ee.rot,Ge=ee.scale;Object.assign(_.position,z0(Q,fe,ge)),_.lookAt(e.scene.localToWorld(new ou.Vector3(0,0,0))),_.rotateY(Math.PI),_.rotateZ(-Re*Math.PI/180),_.scale.x=_.scale.y=_.scale.z=Ge},$={lat:+t(T),lng:+i(T),alt:+r(T),rot:+o(T),scale:1},ae=_.__currentTargetD||Object.assign({},$,{scale:1e-12});Object.keys($).some(function(ne){return ae[ne]!==$[ne]})&&(!e.labelsTransitionDuration||e.labelsTransitionDuration<0?Z($):e.tweenGroup.add(new Yl(ae).to($,e.labelsTransitionDuration).easing(Ga.Quadratic.InOut).onUpdate(Z).start()))}).digest(e.labelsData)}}),BDe=Yi(Yi({},window.THREE?window.THREE:{}),{},{CSS2DObject:LNe}),aie=Ao({props:{htmlElementsData:{default:[]},htmlLat:{default:"lat"},htmlLng:{default:"lng"},htmlAltitude:{default:0},htmlElement:{},htmlElementVisibilityModifier:{triggerUpdate:!1},htmlTransitionDuration:{default:1e3,triggerUpdate:!1},isBehindGlobe:{onChange:function(){this.updateObjVisibility()},triggerUpdate:!1}},methods:{updateObjVisibility:function(e,t){if(e.dataMapper){var i=t?[t]:e.dataMapper.entries().map(function(r){var s=Br(r,2),a=s[1];return a}).filter(function(r){return r});i.forEach(function(r){var s=!e.isBehindGlobe||!e.isBehindGlobe(r.position);e.htmlElementVisibilityModifier?(r.visible=!0,e.htmlElementVisibilityModifier(r.element,s)):r.visible=s})}}},init:function(e,t,i){var r=i.tweenGroup;hr(e),t.scene=e,t.tweenGroup=r,t.dataMapper=new Al(e,{objBindAttr:"__threeObjHtml"}).onCreateObj(function(s){var a=yt(t.htmlElement)(s),o=new BDe.CSS2DObject(a);return o.__globeObjType="html",o})},update:function(e,t){var i=this,r=yt(e.htmlLat),s=yt(e.htmlLng),a=yt(e.htmlAltitude);t.hasOwnProperty("htmlElement")&&e.dataMapper.clear(),e.dataMapper.onUpdateObj(function(o,l){var u=function(m){var v=o.__currentTargetD=m,_=v.alt,T=v.lat,M=v.lng;Object.assign(o.position,z0(T,M,_)),i.updateObjVisibility(o)},c={lat:+r(l),lng:+s(l),alt:+a(l)};!e.htmlTransitionDuration||e.htmlTransitionDuration<0||!o.__currentTargetD?u(c):e.tweenGroup.add(new Yl(o.__currentTargetD).to(c,e.htmlTransitionDuration).easing(Ga.Quadratic.InOut).onUpdate(u).start())}).digest(e.htmlElementsData)}}),wv=window.THREE?window.THREE:{Group:oo,Mesh:ii,MeshLambertMaterial:wu,SphereGeometry:q0},oie=Ao({props:{objectsData:{default:[]},objectLat:{default:"lat"},objectLng:{default:"lng"},objectAltitude:{default:.01},objectFacesSurface:{default:!0},objectRotation:{},objectThreeObject:{default:new wv.Mesh(new wv.SphereGeometry(1,16,8),new wv.MeshLambertMaterial({color:"#ffffaa",transparent:!0,opacity:.7}))}},init:function(e,t){hr(e),t.scene=e,t.dataMapper=new Al(e,{objBindAttr:"__threeObjObject"}).onCreateObj(function(i){var r=yt(t.objectThreeObject)(i);t.objectThreeObject===r&&(r=r.clone());var s=new wv.Group;return s.add(r),s.__globeObjType="object",s})},update:function(e,t){var i=yt(e.objectLat),r=yt(e.objectLng),s=yt(e.objectAltitude),a=yt(e.objectFacesSurface),o=yt(e.objectRotation);t.hasOwnProperty("objectThreeObject")&&e.dataMapper.clear(),e.dataMapper.onUpdateObj(function(l,u){var c=+i(u),f=+r(u),m=+s(u);Object.assign(l.position,z0(c,f,m)),a(u)?l.setRotationFromEuler(new Sa(ef(-c),ef(f),0,"YXZ")):l.rotation.set(0,0,0);var v=l.children[0],_=o(u);_&&v.setRotationFromEuler(new Sa(ef(_.x||0),ef(_.y||0),ef(_.z||0)))}).digest(e.objectsData)}}),lie=Ao({props:{customLayerData:{default:[]},customThreeObject:{},customThreeObjectUpdate:{triggerUpdate:!1}},init:function(e,t){hr(e),t.scene=e,t.dataMapper=new Al(e,{objBindAttr:"__threeObjCustom"}).onCreateObj(function(i){var r=yt(t.customThreeObject)(i,Er);return r&&(t.customThreeObject===r&&(r=r.clone()),r.__globeObjType="custom"),r})},update:function(e,t){e.customThreeObjectUpdate||hr(e.scene);var i=yt(e.customThreeObjectUpdate);t.hasOwnProperty("customThreeObject")&&e.dataMapper.clear(),e.dataMapper.onUpdateObj(function(r,s){return i(r,s,Er)}).digest(e.customLayerData)}}),Rv=window.THREE?window.THREE:{Camera:vh,Group:oo,Vector2:Ye,Vector3:re},UDe=["globeLayer","pointsLayer","arcsLayer","hexBinLayer","heatmapsLayer","polygonsLayer","hexedPolygonsLayer","pathsLayer","tilesLayer","particlesLayer","ringsLayer","labelsLayer","htmlElementsLayer","objectsLayer","customLayer"],uie=Io("globeLayer",Wne),ODe=Object.assign.apply(Object,ir(["globeImageUrl","bumpImageUrl","globeCurvatureResolution","globeTileEngineUrl","globeTileEngineMaxLevel","showGlobe","showGraticules","showAtmosphere","atmosphereColor","atmosphereAltitude"].map(function(n){return Ma({},n,uie.linkProp(n))}))),IDe=Object.assign.apply(Object,ir(["globeMaterial"].map(function(n){return Ma({},n,uie.linkMethod(n))}))),FDe=Io("pointsLayer",Xne),zDe=Object.assign.apply(Object,ir(["pointsData","pointLat","pointLng","pointColor","pointAltitude","pointRadius","pointResolution","pointsMerge","pointsTransitionDuration"].map(function(n){return Ma({},n,FDe.linkProp(n))}))),VDe=Io("arcsLayer",Qne),kDe=Object.assign.apply(Object,ir(["arcsData","arcStartLat","arcStartLng","arcEndLat","arcEndLng","arcColor","arcAltitude","arcAltitudeAutoScale","arcStroke","arcCurveResolution","arcCircularResolution","arcDashLength","arcDashGap","arcDashInitialGap","arcDashAnimateTime","arcsTransitionDuration"].map(function(n){return Ma({},n,VDe.linkProp(n))}))),GDe=Io("hexBinLayer",$ne),qDe=Object.assign.apply(Object,ir(["hexBinPointsData","hexBinPointLat","hexBinPointLng","hexBinPointWeight","hexBinResolution","hexMargin","hexTopCurvatureResolution","hexTopColor","hexSideColor","hexAltitude","hexBinMerge","hexTransitionDuration"].map(function(n){return Ma({},n,GDe.linkProp(n))}))),HDe=Io("heatmapsLayer",Zne),jDe=Object.assign.apply(Object,ir(["heatmapsData","heatmapPoints","heatmapPointLat","heatmapPointLng","heatmapPointWeight","heatmapBandwidth","heatmapColorFn","heatmapColorSaturation","heatmapBaseAltitude","heatmapTopAltitude","heatmapsTransitionDuration"].map(function(n){return Ma({},n,HDe.linkProp(n))}))),WDe=Io("hexedPolygonsLayer",eie),XDe=Object.assign.apply(Object,ir(["hexPolygonsData","hexPolygonGeoJsonGeometry","hexPolygonColor","hexPolygonAltitude","hexPolygonResolution","hexPolygonMargin","hexPolygonUseDots","hexPolygonCurvatureResolution","hexPolygonDotResolution","hexPolygonsTransitionDuration"].map(function(n){return Ma({},n,WDe.linkProp(n))}))),YDe=Io("polygonsLayer",Jne),QDe=Object.assign.apply(Object,ir(["polygonsData","polygonGeoJsonGeometry","polygonCapColor","polygonCapMaterial","polygonSideColor","polygonSideMaterial","polygonStrokeColor","polygonAltitude","polygonCapCurvatureResolution","polygonsTransitionDuration"].map(function(n){return Ma({},n,YDe.linkProp(n))}))),$De=Io("pathsLayer",tie),KDe=Object.assign.apply(Object,ir(["pathsData","pathPoints","pathPointLat","pathPointLng","pathPointAlt","pathResolution","pathColor","pathStroke","pathDashLength","pathDashGap","pathDashInitialGap","pathDashAnimateTime","pathTransitionDuration"].map(function(n){return Ma({},n,$De.linkProp(n))}))),ZDe=Io("tilesLayer",nie),JDe=Object.assign.apply(Object,ir(["tilesData","tileLat","tileLng","tileAltitude","tileWidth","tileHeight","tileUseGlobeProjection","tileMaterial","tileCurvatureResolution","tilesTransitionDuration"].map(function(n){return Ma({},n,ZDe.linkProp(n))}))),ePe=Io("particlesLayer",iie),tPe=Object.assign.apply(Object,ir(["particlesData","particlesList","particleLat","particleLng","particleAltitude","particlesSize","particlesSizeAttenuation","particlesColor","particlesTexture"].map(function(n){return Ma({},n,ePe.linkProp(n))}))),nPe=Io("ringsLayer",rie),iPe=Object.assign.apply(Object,ir(["ringsData","ringLat","ringLng","ringAltitude","ringColor","ringResolution","ringMaxRadius","ringPropagationSpeed","ringRepeatPeriod"].map(function(n){return Ma({},n,nPe.linkProp(n))}))),rPe=Io("labelsLayer",sie),sPe=Object.assign.apply(Object,ir(["labelsData","labelLat","labelLng","labelAltitude","labelRotation","labelText","labelSize","labelTypeFace","labelColor","labelResolution","labelIncludeDot","labelDotRadius","labelDotOrientation","labelsTransitionDuration"].map(function(n){return Ma({},n,rPe.linkProp(n))}))),aPe=Io("htmlElementsLayer",aie),oPe=Object.assign.apply(Object,ir(["htmlElementsData","htmlLat","htmlLng","htmlAltitude","htmlElement","htmlElementVisibilityModifier","htmlTransitionDuration"].map(function(n){return Ma({},n,aPe.linkProp(n))}))),lPe=Io("objectsLayer",oie),uPe=Object.assign.apply(Object,ir(["objectsData","objectLat","objectLng","objectAltitude","objectRotation","objectFacesSurface","objectThreeObject"].map(function(n){return Ma({},n,lPe.linkProp(n))}))),cPe=Io("customLayer",lie),fPe=Object.assign.apply(Object,ir(["customLayerData","customThreeObject","customThreeObjectUpdate"].map(function(n){return Ma({},n,cPe.linkProp(n))}))),hPe=Ao({props:Yi(Yi(Yi(Yi(Yi(Yi(Yi(Yi(Yi(Yi(Yi(Yi(Yi(Yi(Yi({onGlobeReady:{triggerUpdate:!1},rendererSize:{default:new Rv.Vector2(window.innerWidth,window.innerHeight),onChange:function(e,t){t.pathsLayer.rendererSize(e)},triggerUpdate:!1}},ODe),zDe),kDe),qDe),jDe),QDe),XDe),KDe),JDe),tPe),iPe),sPe),oPe),uPe),fPe),methods:Yi({getGlobeRadius:Eq,getCoords:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return z0.apply(void 0,i)},toGeoCoords:function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return jne.apply(void 0,i)},setPointOfView:function(e,t){var i=t instanceof Rv.Camera?t.position:t,r=Eq(),s=void 0;if(e.scene&&i){var a,o,l,u;s=function(f){a===void 0&&(a=i.clone().applyMatrix4(e.scene.matrixWorld.clone().invert())),o===void 0&&(o=a.length()),l===void 0&&(l=Math.sqrt(Math.pow(o,2)-Math.pow(r,2))),u===void 0&&(u=Math.acos(l/o));var m=a.distanceTo(f);if(m<l)return!1;var v=f.length(),_=Math.acos((Math.pow(o,2)+Math.pow(m,2)-Math.pow(v,2))/(2*o*m));return _<u}}e.layersThatNeedUpdatePov.forEach(function(c){return c.updatePov(t)}),e.layersThatNeedBehindGlobeChecker.forEach(function(c){return c.isBehindGlobe(s)})},pauseAnimation:function(e){return e.animationFrameRequestId!==null&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),e.pausableLayers.forEach(function(t){var i;return(i=t.pauseAnimation)===null||i===void 0?void 0:i.call(t)}),this},resumeAnimation:function(e){return e.animationFrameRequestId===null&&this._animationCycle(),e.pausableLayers.forEach(function(t){var i;return(i=t.resumeAnimation)===null||i===void 0?void 0:i.call(t)}),this},_animationCycle:function(e){e.animationFrameRequestId=requestAnimationFrame(this._animationCycle),e.tweenGroup.update()},_destructor:function(e){this.pauseAnimation(),e.destructableLayers.forEach(function(t){return t._destructor()})}},IDe),stateInit:function(){var e=new C$,t={tweenGroup:e},i={globeLayer:Wne(t),pointsLayer:Xne(t),arcsLayer:Qne(t),hexBinLayer:$ne(t),heatmapsLayer:Zne(t),polygonsLayer:Jne(t),hexedPolygonsLayer:eie(t),pathsLayer:tie(t),tilesLayer:nie(t),particlesLayer:iie(t),ringsLayer:rie(t),labelsLayer:sie(t),htmlElementsLayer:aie(t),objectsLayer:oie(t),customLayer:lie(t)};return Yi(Yi({tweenGroup:e},i),{},{layersThatNeedUpdatePov:Object.values(i).filter(function(r){return r.hasOwnProperty("updatePov")}),layersThatNeedBehindGlobeChecker:Object.values(i).filter(function(r){return r.hasOwnProperty("isBehindGlobe")}),destructableLayers:Object.values(i).filter(function(r){return r.hasOwnProperty("_destructor")}),pausableLayers:Object.values(i).filter(function(r){return r.hasOwnProperty("pauseAnimation")})})},init:function(e,t,i){var r=i.animateIn,s=r===void 0?!0:r,a=i.waitForGlobeReady,o=a===void 0?!0:a;hr(e),t.scene=e,t.scene.visible=!1,UDe.forEach(function(u){var c=new Rv.Group;t.scene.add(c),t[u](c)});var l=function(){if(s){t.scene.scale.set(1e-6,1e-6,1e-6),t.tweenGroup.add(new Yl({k:1e-6}).to({k:1},600).easing(Ga.Quadratic.Out).onUpdate(function(f){var m=f.k;return t.scene.scale.set(m,m,m)}).start());var c=new Rv.Vector3(0,1,0);t.tweenGroup.add(new Yl({rot:Math.PI*2}).to({rot:0},1200).easing(Ga.Quintic.Out).onUpdate(function(f){var m=f.rot;return t.scene.setRotationFromAxisAngle(c,m)}).start())}t.scene.visible=!0,t.onGlobeReady&&t.onGlobeReady()};o?t.globeLayer.onReady(l):l(),this._animationCycle()},update:function(e){}});function dPe(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Object,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=function(r){function s(){var a;aT(this,s);for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];return a=sT(this,s,[].concat(l)),a.__kapsuleInstance=gU(n,[].concat(ir(t?[a]:[]),l)),a}return lT(s,r),oT(s)}(e);return Object.keys(n()).forEach(function(r){return i.prototype[r]=function(){var s,a=(s=this.__kapsuleInstance)[r].apply(s,arguments);return a===this.__kapsuleInstance?this:a}}),i}var APe=window.THREE?window.THREE:{Group:oo},cie=dPe(hPe,APe.Group,!0),fie={exports:{}},H3={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */H3.ConcurrentRoot=1;H3.ContinuousEventPriority=8;H3.DefaultEventPriority=32;H3.DiscreteEventPriority=2;H3.IdleEventPriority=268435456;H3.LegacyRoot=0;H3.NoEventPriority=0;fie.exports=H3;var yx=fie.exports,hie={exports:{}},die={},Aie={exports:{}},pie={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i8=be;function pPe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var mPe=typeof Object.is=="function"?Object.is:pPe,gPe=i8.useState,yPe=i8.useEffect,vPe=i8.useLayoutEffect,xPe=i8.useDebugValue;function _Pe(n,e){var t=e(),i=gPe({inst:{value:t,getSnapshot:e}}),r=i[0].inst,s=i[1];return vPe(function(){r.value=t,r.getSnapshot=e,Bw(r)&&s({inst:r})},[n,t,e]),yPe(function(){return Bw(r)&&s({inst:r}),n(function(){Bw(r)&&s({inst:r})})},[n]),xPe(t),t}function Bw(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!mPe(n,t)}catch{return!0}}function bPe(n,e){return e()}var SPe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?bPe:_Pe;pie.useSyncExternalStore=i8.useSyncExternalStore!==void 0?i8.useSyncExternalStore:SPe;Aie.exports=pie;var TPe=Aie.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uT=be,MPe=TPe;function EPe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var wPe=typeof Object.is=="function"?Object.is:EPe,RPe=MPe.useSyncExternalStore,CPe=uT.useRef,NPe=uT.useEffect,DPe=uT.useMemo,PPe=uT.useDebugValue;die.useSyncExternalStoreWithSelector=function(n,e,t,i,r){var s=CPe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=DPe(function(){function l(v){if(!u){if(u=!0,c=v,v=i(v),r!==void 0&&a.hasValue){var _=a.value;if(r(_,v))return f=_}return f=v}if(_=f,wPe(c,v))return _;var T=i(v);return r!==void 0&&r(_,T)?(c=v,_):(c=v,f=T)}var u=!1,c,f,m=t===void 0?null:t;return[function(){return l(e())},m===null?void 0:function(){return l(m())}]},[e,t,i,r]);var o=RPe(n,s[0],s[1]);return NPe(function(){a.hasValue=!0,a.value=o},[o]),PPe(o),o};hie.exports=die;var LPe=hie.exports;const BPe=s8(LPe),Uq=n=>{let e;const t=new Set,i=(u,c)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const m=e;e=c??(typeof f!="object"||f===null)?f:Object.assign({},e,f),t.forEach(v=>v(e,m))}},r=()=>e,o={setState:i,getState:r,getInitialState:()=>l,subscribe:u=>(t.add(u),()=>t.delete(u))},l=e=n(i,r,o);return o},UPe=n=>n?Uq(n):Uq,{useSyncExternalStoreWithSelector:OPe}=BPe,IPe=n=>n;function FPe(n,e=IPe,t){const i=OPe(n.subscribe,n.getState,n.getInitialState,e,t);return yr.useDebugValue(i),i}const Oq=(n,e)=>{const t=UPe(n),i=(r,s=e)=>FPe(t,r,s);return Object.assign(i,t),i},zPe=(n,e)=>n?Oq(n,e):Oq;var mie={exports:{}},gie={exports:{}},Uw={exports:{}},Ow={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iq;function VPe(){return Iq||(Iq=1,function(n){function e(Y,ee){var Q=Y.length;Y.push(ee);e:for(;0<Q;){var fe=Q-1>>>1,ge=Y[fe];if(0<r(ge,ee))Y[fe]=ee,Y[Q]=ge,Q=fe;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var ee=Y[0],Q=Y.pop();if(Q!==ee){Y[0]=Q;e:for(var fe=0,ge=Y.length,Re=ge>>>1;fe<Re;){var Ge=2*(fe+1)-1,We=Y[Ge],Se=Ge+1,qe=Y[Se];if(0>r(We,Q))Se<ge&&0>r(qe,We)?(Y[fe]=qe,Y[Se]=Q,fe=Se):(Y[fe]=We,Y[Ge]=Q,fe=Ge);else if(Se<ge&&0>r(qe,Q))Y[fe]=qe,Y[Se]=Q,fe=Se;else break e}}return ee}function r(Y,ee){var Q=Y.sortIndex-ee.sortIndex;return Q!==0?Q:Y.id-ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,f=null,m=3,v=!1,_=!1,T=!1,M=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function C(Y){for(var ee=t(u);ee!==null;){if(ee.callback===null)i(u);else if(ee.startTime<=Y)i(u),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=t(u)}}function P(Y){if(T=!1,C(Y),!_)if(t(l)!==null)_=!0,ae();else{var ee=t(u);ee!==null&&ne(P,ee.startTime-Y)}}var B=!1,O=-1,V=5,F=-1;function z(){return!(n.unstable_now()-F<V)}function k(){if(B){var Y=n.unstable_now();F=Y;var ee=!0;try{e:{_=!1,T&&(T=!1,S(O),O=-1),v=!0;var Q=m;try{t:{for(C(Y),f=t(l);f!==null&&!(f.expirationTime>Y&&z());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,m=f.priorityLevel;var ge=fe(f.expirationTime<=Y);if(Y=n.unstable_now(),typeof ge=="function"){f.callback=ge,C(Y),ee=!0;break t}f===t(l)&&i(l),C(Y)}else i(l);f=t(l)}if(f!==null)ee=!0;else{var Re=t(u);Re!==null&&ne(P,Re.startTime-Y),ee=!1}}break e}finally{f=null,m=Q,v=!1}ee=void 0}}finally{ee?H():B=!1}}}var H;if(typeof R=="function")H=function(){R(k)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,$=Z.port2;Z.port1.onmessage=k,H=function(){$.postMessage(null)}}else H=function(){M(k,0)};function ae(){B||(B=!0,H())}function ne(Y,ee){O=M(function(){Y(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){_||v||(_=!0,ae())},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(Y){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var Q=m;m=ee;try{return Y()}finally{m=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,ee){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Q=m;m=Y;try{return ee()}finally{m=Q}},n.unstable_scheduleCallback=function(Y,ee,Q){var fe=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?fe+Q:fe):Q=fe,Y){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Q+ge,Y={id:c++,callback:ee,priorityLevel:Y,startTime:Q,expirationTime:ge,sortIndex:-1},Q>fe?(Y.sortIndex=Q,e(u,Y),t(l)===null&&Y===t(u)&&(T?(S(O),O=-1):T=!0,ne(P,Q-fe))):(Y.sortIndex=ge,e(l,Y),_||v||(_=!0,ae())),Y},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(Y){var ee=m;return function(){var Q=m;m=ee;try{return Y.apply(this,arguments)}finally{m=Q}}}}(Ow)),Ow}var Fq;function kPe(){return Fq||(Fq=1,Uw.exports=VPe()),Uw.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){n.exports=function(e){function t(p,y,E,L){return new ag(p,y,E,L)}function i(){}function r(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(p){return p===null||typeof p!="object"?null:(p=w&&p[w]||p["@@iterator"],typeof p=="function"?p:null)}function a(p){if(p==null)return null;if(typeof p=="function")return p.$$typeof===N?null:p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case j1:return"Fragment";case xt:return"Portal";case h2:return"Profiler";case m7:return"StrictMode";case i0:return"Suspense";case h:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case Ya:return(p.displayName||"Context")+".Provider";case W1:return(p._context.displayName||"Context")+".Consumer";case a5:var y=p.render;return p=p.displayName,p||(p=y.displayName||y.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case A:return y=p.displayName||null,y!==null?y:a(p.type)||"Memo";case g:y=p._payload,p=p._init;try{return a(p(y))}catch{}}return null}function o(p){if(U===void 0)try{throw Error()}catch(E){var y=E.stack.trim().match(/\n( *(at )?)/);U=y&&y[1]||"",G=-1<E.stack.indexOf(`
    at`)?" (<anonymous>)":-1<E.stack.indexOf("@")?"@unknown:0:0":""}return`
`+U+p+G}function l(p,y){if(!p||X)return"";X=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var L={DetermineComponentFrameRoot:function(){try{if(y){var jt=function(){throw Error()};if(Object.defineProperty(jt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(jt,[])}catch(ti){var Zt=ti}Reflect.construct(p,[],jt)}else{try{jt.call()}catch(ti){Zt=ti}p.call(jt.prototype)}}else{try{throw Error()}catch(ti){Zt=ti}(jt=p())&&typeof jt.catch=="function"&&jt.catch(function(){})}}catch(ti){if(ti&&Zt&&typeof ti.stack=="string")return[ti.stack,Zt.stack]}return[null,null]}};L.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var I=Object.getOwnPropertyDescriptor(L.DetermineComponentFrameRoot,"name");I&&I.configurable&&Object.defineProperty(L.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var q=L.DetermineComponentFrameRoot(),ue=q[0],xe=q[1];if(ue&&xe){var Oe=ue.split(`
`),it=xe.split(`
`);for(I=L=0;L<Oe.length&&!Oe[L].includes("DetermineComponentFrameRoot");)L++;for(;I<it.length&&!it[I].includes("DetermineComponentFrameRoot");)I++;if(L===Oe.length||I===it.length)for(L=Oe.length-1,I=it.length-1;1<=L&&0<=I&&Oe[L]!==it[I];)I--;for(;1<=L&&0<=I;L--,I--)if(Oe[L]!==it[I]){if(L!==1||I!==1)do if(L--,I--,0>I||Oe[L]!==it[I]){var Lt=`
`+Oe[L].replace(" at new "," at ");return p.displayName&&Lt.includes("<anonymous>")&&(Lt=Lt.replace("<anonymous>",p.displayName)),Lt}while(1<=L&&0<=I);break}}}finally{X=!1,Error.prepareStackTrace=E}return(E=p?p.displayName||p.name:"")?o(E):""}function u(p){switch(p.tag){case 26:case 27:case 5:return o(p.type);case 16:return o("Lazy");case 13:return o("Suspense");case 19:return o("SuspenseList");case 0:case 15:return p=l(p.type,!1),p;case 11:return p=l(p.type.render,!1),p;case 1:return p=l(p.type,!0),p;default:return""}}function c(p){try{var y="";do y+=u(p),p=p.return;while(p);return y}catch(E){return`
Error generating stack: `+E.message+`
`+E.stack}}function f(p){var y=p,E=p;if(p.alternate)for(;y.return;)y=y.return;else{p=y;do y=p,y.flags&4098&&(E=y.return),p=y.return;while(p)}return y.tag===3?E:null}function m(p){if(f(p)!==p)throw Error(r(188))}function v(p){var y=p.alternate;if(!y){if(y=f(p),y===null)throw Error(r(188));return y!==p?null:p}for(var E=p,L=y;;){var I=E.return;if(I===null)break;var q=I.alternate;if(q===null){if(L=I.return,L!==null){E=L;continue}break}if(I.child===q.child){for(q=I.child;q;){if(q===E)return m(I),p;if(q===L)return m(I),y;q=q.sibling}throw Error(r(188))}if(E.return!==L.return)E=I,L=q;else{for(var ue=!1,xe=I.child;xe;){if(xe===E){ue=!0,E=I,L=q;break}if(xe===L){ue=!0,L=I,E=q;break}xe=xe.sibling}if(!ue){for(xe=q.child;xe;){if(xe===E){ue=!0,E=q,L=I;break}if(xe===L){ue=!0,L=q,E=I;break}xe=xe.sibling}if(!ue)throw Error(r(189))}}if(E.alternate!==L)throw Error(r(190))}if(E.tag!==3)throw Error(r(188));return E.stateNode.current===E?p:y}function _(p){var y=p.tag;if(y===5||y===26||y===27||y===6)return p;for(p=p.child;p!==null;){if(y=_(p),y!==null)return y;p=p.sibling}return null}function T(p){var y=p.tag;if(y===5||y===26||y===27||y===6)return p;for(p=p.child;p!==null;){if(p.tag!==4&&(y=T(p),y!==null))return y;p=p.sibling}return null}function M(p){return{current:p}}function S(p){0>l5||(p.current=ST[l5],ST[l5]=null,l5--)}function R(p,y){l5++,ST[l5]=p.current,p.current=y}function C(p){return p>>>=0,p===0?32:31-(tse(p)/nse|0)|0}function P(p){var y=p&42;if(y!==0)return y;switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return p&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return p}}function B(p,y){var E=p.pendingLanes;if(E===0)return 0;var L=0,I=p.suspendedLanes,q=p.pingedLanes,ue=p.warmLanes;p=p.finishedLanes!==0;var xe=E&134217727;return xe!==0?(E=xe&~I,E!==0?L=P(E):(q&=xe,q!==0?L=P(q):p||(ue=xe&~ue,ue!==0&&(L=P(ue))))):(xe=E&~I,xe!==0?L=P(xe):q!==0?L=P(q):p||(ue=E&~ue,ue!==0&&(L=P(ue)))),L===0?0:y!==0&&y!==L&&!(y&I)&&(I=L&-L,ue=y&-y,I>=ue||I===32&&(ue&4194176)!==0)?y:L}function O(p,y){return(p.pendingLanes&~(p.suspendedLanes&~p.pingedLanes)&y)===0}function V(p,y){switch(p){case 1:case 2:case 4:case 8:return y+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return y+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function F(){var p=cg;return cg<<=1,!(cg&4194176)&&(cg=128),p}function z(){var p=fg;return fg<<=1,!(fg&62914560)&&(fg=4194304),p}function k(p){for(var y=[],E=0;31>E;E++)y.push(p);return y}function H(p,y){p.pendingLanes|=y,y!==268435456&&(p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0)}function Z(p,y,E,L,I,q){var ue=p.pendingLanes;p.pendingLanes=E,p.suspendedLanes=0,p.pingedLanes=0,p.warmLanes=0,p.expiredLanes&=E,p.entangledLanes&=E,p.errorRecoveryDisabledLanes&=E,p.shellSuspendCounter=0;var xe=p.entanglements,Oe=p.expirationTimes,it=p.hiddenUpdates;for(E=ue&~E;0<E;){var Lt=31-vl(E),jt=1<<Lt;xe[Lt]=0,Oe[Lt]=-1;var Zt=it[Lt];if(Zt!==null)for(it[Lt]=null,Lt=0;Lt<Zt.length;Lt++){var ti=Zt[Lt];ti!==null&&(ti.lane&=-536870913)}E&=~jt}L!==0&&$(p,L,0),q!==0&&I===0&&p.tag!==0&&(p.suspendedLanes|=q&~(ue&~y))}function $(p,y,E){p.pendingLanes|=y,p.suspendedLanes&=~y;var L=31-vl(y);p.entangledLanes|=y,p.entanglements[L]=p.entanglements[L]|1073741824|E&4194218}function ae(p,y){var E=p.entangledLanes|=y;for(p=p.entanglements;E;){var L=31-vl(E),I=1<<L;I&y|p[L]&y&&(p[L]|=y),E&=~I}}function ne(p){return p&=-p,2<p?8<p?p&134217727?32:268435456:8:2}function Y(p){if(xl&&typeof xl.onCommitFiberRoot=="function")try{xl.onCommitFiberRoot(v7,p,void 0,(p.current.flags&128)===128)}catch{}}function ee(p){if(typeof ose=="function"&&lse(p),xl&&typeof xl.setStrictMode=="function")try{xl.setStrictMode(v7,p)}catch{}}function Q(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}function fe(p,y){if(typeof p=="object"&&p!==null){var E=XU.get(p);return E!==void 0?E:(y={value:p,source:y,stack:c(y)},XU.set(p,y),y)}return{value:p,source:y,stack:c(y)}}function ge(p,y){c5[f5++]=Ag,c5[f5++]=dg,dg=p,Ag=y}function Re(p,y,E){s0[a0++]=X1,s0[a0++]=Y1,s0[a0++]=r4,r4=p;var L=X1;p=Y1;var I=32-vl(L)-1;L&=~(1<<I),E+=1;var q=32-vl(y)+I;if(30<q){var ue=I-I%5;q=(L&(1<<ue)-1).toString(32),L>>=ue,I-=ue,X1=1<<32-vl(y)+I|E<<I|L,Y1=q+p}else X1=1<<q|E<<I|L,Y1=p}function Ge(p){p.return!==null&&(ge(p,1),Re(p,1,0))}function We(p){for(;p===dg;)dg=c5[--f5],c5[f5]=null,Ag=c5[--f5],c5[f5]=null;for(;p===r4;)r4=s0[--a0],s0[a0]=null,Y1=s0[--a0],s0[a0]=null,X1=s0[--a0],s0[a0]=null}function Se(p,y){R(d2,y),R(x7,p),R(wa,null),p=Ne(y),S(wa),R(wa,p)}function qe(){S(wa),S(x7),S(d2)}function St(p){p.memoizedState!==null&&R(pg,p);var y=wa.current,E=ke(y,p.type);y!==E&&(R(x7,p),R(wa,E))}function at(p){x7.current===p&&(S(wa),S(x7)),pg.current===p&&(S(pg),Wt?i4._currentValue=o5:i4._currentValue2=o5)}function Ct(p){var y=Error(r(418,""));throw $t(fe(y,p)),ET}function Jt(p,y){if(!ei)throw Error(r(175));Ire(p.stateNode,p.type,p.memoizedProps,y,p)||Ct(p)}function It(p){for(yo=p.return;yo;)switch(yo.tag){case 3:case 27:Iu=!0;return;case 5:case 13:Iu=!1;return;default:yo=yo.return}}function Sn(p){if(!ei||p!==yo)return!1;if(!Ui)return It(p),Ui=!0,!1;var y=!1;if(Qa?p.tag!==3&&p.tag!==27&&(p.tag!==5||OU(p.type)&&!Ht(p.type,p.memoizedProps))&&(y=!0):p.tag!==3&&(p.tag!==5||OU(p.type)&&!Ht(p.type,p.memoizedProps))&&(y=!0),y&&$a&&Ct(p),It(p),p.tag===13){if(!ei)throw Error(r(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));$a=Vre(p)}else $a=yo?BU(p.stateNode):null;return!0}function hn(){ei&&($a=yo=null,Ui=!1)}function $t(p){J0===null?J0=[p]:J0.push(p)}function ce(){for(var p=h5,y=wT=h5=0;y<p;){var E=o0[y];o0[y++]=null;var L=o0[y];o0[y++]=null;var I=o0[y];o0[y++]=null;var q=o0[y];if(o0[y++]=null,L!==null&&I!==null){var ue=L.pending;ue===null?I.next=I:(I.next=ue.next,ue.next=I),L.pending=I}q!==0&&et(E,I,q)}}function bt(p,y,E,L){o0[h5++]=p,o0[h5++]=y,o0[h5++]=E,o0[h5++]=L,wT|=L,p.lanes|=L,p=p.alternate,p!==null&&(p.lanes|=L)}function At(p,y,E,L){return bt(p,y,E,L),Ft(p)}function mt(p,y){return bt(p,null,null,y),Ft(p)}function et(p,y,E){p.lanes|=E;var L=p.alternate;L!==null&&(L.lanes|=E);for(var I=!1,q=p.return;q!==null;)q.childLanes|=E,L=q.alternate,L!==null&&(L.childLanes|=E),q.tag===22&&(p=q.stateNode,p===null||p._visibility&1||(I=!0)),p=q,q=q.return;I&&y!==null&&p.tag===3&&(q=p.stateNode,I=31-vl(E),q=q.hiddenUpdates,p=q[I],p===null?q[I]=[y]:p.push(y),y.lane=E|536870912)}function Ft(p){if(50<C7)throw C7=0,qT=null,Error(r(185));for(var y=p.return;y!==null;)p=y,y=p.return;return p.tag===3?p.stateNode:null}function gt(p){p!==d5&&p.next===null&&(d5===null?mg=d5=p:d5=d5.next=p),gg=!0,RT||(RT=!0,Ke(Tn))}function Ut(p,y){if(!CT&&gg){CT=!0;do for(var E=!1,L=mg;L!==null;){if(p!==0){var I=L.pendingLanes;if(I===0)var q=0;else{var ue=L.suspendedLanes,xe=L.pingedLanes;q=(1<<31-vl(42|p)+1)-1,q&=I&~(ue&~xe),q=q&201326677?q&201326677|1:q?q|2:0}q!==0&&(E=!0,Ie(L,q))}else q=Ri,q=B(L,L===br?q:0),!(q&3)||O(L,q)||(E=!0,Ie(L,q));L=L.next}while(E);CT=!1}}function Tn(){gg=RT=!1;var p=0;A5!==0&&(Zie()&&(p=A5),A5=0);for(var y=Z0(),E=null,L=mg;L!==null;){var I=L.next,q=me(L,y);q===0?(L.next=null,E===null?mg=I:E.next=I,I===null&&(d5=E)):(E=L,(p!==0||q&3)&&(gg=!0)),L=I}Ut(p)}function me(p,y){for(var E=p.suspendedLanes,L=p.pingedLanes,I=p.expirationTimes,q=p.pendingLanes&-62914561;0<q;){var ue=31-vl(q),xe=1<<ue,Oe=I[ue];Oe===-1?(!(xe&E)||xe&L)&&(I[ue]=V(xe,y)):Oe<=y&&(p.expiredLanes|=xe),q&=~xe}if(y=br,E=Ri,E=B(p,p===y?E:0),L=p.callbackNode,E===0||p===y&&Sr===2||p.cancelPendingCommit!==null)return L!==null&&L!==null&&TT(L),p.callbackNode=null,p.callbackPriority=0;if(!(E&3)||O(p,E)){if(y=E&-E,y===p.callbackPriority)return y;switch(L!==null&&TT(L),ne(E)){case 2:case 8:E=sse;break;case 32:E=MT;break;case 268435456:E=ase;break;default:E=MT}return L=ie.bind(null,p),E=hg(E,L),p.callbackPriority=y,p.callbackNode=E,y}return L!==null&&L!==null&&TT(L),p.callbackPriority=2,p.callbackNode=null,2}function ie(p,y){var E=p.callbackNode;if(sr()&&p.callbackNode!==E)return null;var L=Ri;return L=B(p,p===br?L:0),L===0?null:(Kh(p,L,y),me(p,Z0()),p.callbackNode!=null&&p.callbackNode===E?ie.bind(null,p):null)}function Ie(p,y){if(sr())return null;Kh(p,y,!0)}function Ke(p){rre?sre(function(){or&6?hg(WU,p):p()}):hg(WU,p)}function ut(){return A5===0&&(A5=F()),A5}function Ze(p,y){if(_7===null){var E=_7=[];NT=0,p5=ut(),m5={status:"pending",value:void 0,then:function(L){E.push(L)}}}return NT++,y.then(nn,nn),y}function nn(){if(--NT===0&&_7!==null){m5!==null&&(m5.status="fulfilled");var p=_7;_7=null,p5=0,m5=null;for(var y=0;y<p.length;y++)(0,p[y])()}}function Ot(p,y){var E=[],L={status:"pending",value:null,reason:null,then:function(I){E.push(I)}};return p.then(function(){L.status="fulfilled",L.value=y;for(var I=0;I<E.length;I++)(0,E[I])(y)},function(I){for(L.status="rejected",L.reason=I,I=0;I<E.length;I++)(0,E[I])(void 0)}),L}function Kt(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tn(p,y){p=p.updateQueue,y.updateQueue===p&&(y.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,callbacks:null})}function ct(p){return{lane:p,tag:0,payload:null,callback:null,next:null}}function Vt(p,y,E){var L=p.updateQueue;if(L===null)return null;if(L=L.shared,or&2){var I=L.pending;return I===null?y.next=y:(y.next=I.next,I.next=y),L.pending=y,y=Ft(p),et(p,null,E),y}return bt(p,L,y,E),Ft(p)}function fn(p,y,E){if(y=y.updateQueue,y!==null&&(y=y.shared,(E&4194176)!==0)){var L=y.lanes;L&=p.pendingLanes,E|=L,y.lanes=E,ae(p,E)}}function ve(p,y){var E=p.updateQueue,L=p.alternate;if(L!==null&&(L=L.updateQueue,E===L)){var I=null,q=null;if(E=E.firstBaseUpdate,E!==null){do{var ue={lane:E.lane,tag:E.tag,payload:E.payload,callback:null,next:null};q===null?I=q=ue:q=q.next=ue,E=E.next}while(E!==null);q===null?I=q=y:q=q.next=y}else I=q=y;E={baseState:L.baseState,firstBaseUpdate:I,lastBaseUpdate:q,shared:L.shared,callbacks:L.callbacks},p.updateQueue=E;return}p=E.lastBaseUpdate,p===null?E.firstBaseUpdate=y:p.next=y,E.lastBaseUpdate=y}function Fe(){if(DT){var p=m5;if(p!==null)throw p}}function Tt(p,y,E,L){DT=!1;var I=p.updateQueue;A2=!1;var q=I.firstBaseUpdate,ue=I.lastBaseUpdate,xe=I.shared.pending;if(xe!==null){I.shared.pending=null;var Oe=xe,it=Oe.next;Oe.next=null,ue===null?q=it:ue.next=it,ue=Oe;var Lt=p.alternate;Lt!==null&&(Lt=Lt.updateQueue,xe=Lt.lastBaseUpdate,xe!==ue&&(xe===null?Lt.firstBaseUpdate=it:xe.next=it,Lt.lastBaseUpdate=Oe))}if(q!==null){var jt=I.baseState;ue=0,Lt=it=Oe=null,xe=q;do{var Zt=xe.lane&-536870913,ti=Zt!==xe.lane;if(ti?(Ri&Zt)===Zt:(L&Zt)===Zt){Zt!==0&&Zt===p5&&(DT=!0),Lt!==null&&(Lt=Lt.next={lane:0,tag:xe.tag,payload:xe.payload,callback:null,next:null});e:{var c0=p,N7=xe;Zt=y;var d4=E;switch(N7.tag){case 1:if(c0=N7.payload,typeof c0=="function"){jt=c0.call(d4,jt,Zt);break e}jt=c0;break e;case 3:c0.flags=c0.flags&-65537|128;case 0:if(c0=N7.payload,Zt=typeof c0=="function"?c0.call(d4,jt,Zt):c0,Zt==null)break e;jt=Uu({},jt,Zt);break e;case 2:A2=!0}}Zt=xe.callback,Zt!==null&&(p.flags|=64,ti&&(p.flags|=8192),ti=I.callbacks,ti===null?I.callbacks=[Zt]:ti.push(Zt))}else ti={lane:Zt,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null},Lt===null?(it=Lt=ti,Oe=jt):Lt=Lt.next=ti,ue|=Zt;if(xe=xe.next,xe===null){if(xe=I.shared.pending,xe===null)break;ti=xe,xe=ti.next,ti.next=null,I.lastBaseUpdate=ti,I.shared.pending=null}}while(!0);Lt===null&&(Oe=jt),I.baseState=Oe,I.firstBaseUpdate=it,I.lastBaseUpdate=Lt,q===null&&(I.shared.lanes=0),g2|=ue,p.lanes=ue,p.memoizedState=jt}}function le(p,y){if(typeof p!="function")throw Error(r(191,p));p.call(y)}function wt(p,y){var E=p.callbacks;if(E!==null)for(p.callbacks=null,p=0;p<E.length;p++)le(E[p],y)}function ft(p,y){if(_l(p,y))return!0;if(typeof p!="object"||p===null||typeof y!="object"||y===null)return!1;var E=Object.keys(p),L=Object.keys(y);if(E.length!==L.length)return!1;for(L=0;L<E.length;L++){var I=E[L];if(!use.call(y,I)||!_l(p[I],y[I]))return!1}return!0}function Gt(p){return p=p.status,p==="fulfilled"||p==="rejected"}function Mt(){}function rt(p,y,E){switch(E=p[E],E===void 0?p.push(y):E!==y&&(y.then(Mt,Mt),y=E),y.status){case"fulfilled":return y.value;case"rejected":throw p=y.reason,p===b7?Error(r(483)):p;default:if(typeof y.status=="string")y.then(Mt,Mt);else{if(p=br,p!==null&&100<p.shellSuspendCounter)throw Error(r(482));p=y,p.status="pending",p.then(function(L){if(y.status==="pending"){var I=y;I.status="fulfilled",I.value=L}},function(L){if(y.status==="pending"){var I=y;I.status="rejected",I.reason=L}})}switch(y.status){case"fulfilled":return y.value;case"rejected":throw p=y.reason,p===b7?Error(r(483)):p}throw g5=y,b7}}function qt(){if(g5===null)throw Error(r(459));var p=g5;return g5=null,p}function cn(p){var y=S7;return S7+=1,y5===null&&(y5=[]),rt(y5,p,y)}function ai(p,y){y=y.props.ref,p.ref=y!==void 0?y:null}function Yn(p,y){throw y.$$typeof===ug?Error(r(525)):(p=Object.prototype.toString.call(y),Error(r(31,p==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":p)))}function Fr(p){var y=p._init;return y(p._payload)}function zr(p){function y(je,Be){if(p){var Xe=je.deletions;Xe===null?(je.deletions=[Be],je.flags|=16):Xe.push(Be)}}function E(je,Be){if(!p)return null;for(;Be!==null;)y(je,Be),Be=Be.sibling;return null}function L(je){for(var Be=new Map;je!==null;)je.key!==null?Be.set(je.key,je):Be.set(je.index,je),je=je.sibling;return Be}function I(je,Be){return je=K0(je,Be),je.index=0,je.sibling=null,je}function q(je,Be,Xe){return je.index=Xe,p?(Xe=je.alternate,Xe!==null?(Xe=Xe.index,Xe<Be?(je.flags|=33554434,Be):Xe):(je.flags|=33554434,Be)):(je.flags|=1048576,Be)}function ue(je){return p&&je.alternate===null&&(je.flags|=33554434),je}function xe(je,Be,Xe,Rt){return Be===null||Be.tag!==6?(Be=t0(Xe,je.mode,Rt),Be.return=je,Be):(Be=I(Be,Xe),Be.return=je,Be)}function Oe(je,Be,Xe,Rt){var xn=Xe.type;return xn===j1?Lt(je,Be,Xe.props.children,Rt,Xe.key):Be!==null&&(Be.elementType===xn||typeof xn=="object"&&xn!==null&&xn.$$typeof===g&&Fr(xn)===Be.type)?(Be=I(Be,Xe.props),ai(Be,Xe),Be.return=je,Be):(Be=i5(Xe.type,Xe.key,Xe.props,null,je.mode,Rt),ai(Be,Xe),Be.return=je,Be)}function it(je,Be,Xe,Rt){return Be===null||Be.tag!==4||Be.stateNode.containerInfo!==Xe.containerInfo||Be.stateNode.implementation!==Xe.implementation?(Be=ko(Xe,je.mode,Rt),Be.return=je,Be):(Be=I(Be,Xe.children||[]),Be.return=je,Be)}function Lt(je,Be,Xe,Rt,xn){return Be===null||Be.tag!==7?(Be=H1(Xe,je.mode,Rt,xn),Be.return=je,Be):(Be=I(Be,Xe),Be.return=je,Be)}function jt(je,Be,Xe){if(typeof Be=="string"&&Be!==""||typeof Be=="number"||typeof Be=="bigint")return Be=t0(""+Be,je.mode,Xe),Be.return=je,Be;if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case ht:return Xe=i5(Be.type,Be.key,Be.props,null,je.mode,Xe),ai(Xe,Be),Xe.return=je,Xe;case xt:return Be=ko(Be,je.mode,Xe),Be.return=je,Be;case g:var Rt=Be._init;return Be=Rt(Be._payload),jt(je,Be,Xe)}if(se(Be)||s(Be))return Be=H1(Be,je.mode,Xe,null),Be.return=je,Be;if(typeof Be.then=="function")return jt(je,cn(Be),Xe);if(Be.$$typeof===Ya)return jt(je,r2(je,Be),Xe);Yn(je,Be)}return null}function Zt(je,Be,Xe,Rt){var xn=Be!==null?Be.key:null;if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint")return xn!==null?null:xe(je,Be,""+Xe,Rt);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case ht:return Xe.key===xn?Oe(je,Be,Xe,Rt):null;case xt:return Xe.key===xn?it(je,Be,Xe,Rt):null;case g:return xn=Xe._init,Xe=xn(Xe._payload),Zt(je,Be,Xe,Rt)}if(se(Xe)||s(Xe))return xn!==null?null:Lt(je,Be,Xe,Rt,null);if(typeof Xe.then=="function")return Zt(je,Be,cn(Xe),Rt);if(Xe.$$typeof===Ya)return Zt(je,Be,r2(je,Xe),Rt);Yn(je,Xe)}return null}function ti(je,Be,Xe,Rt,xn){if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint")return je=je.get(Xe)||null,xe(Be,je,""+Rt,xn);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case ht:return je=je.get(Rt.key===null?Xe:Rt.key)||null,Oe(Be,je,Rt,xn);case xt:return je=je.get(Rt.key===null?Xe:Rt.key)||null,it(Be,je,Rt,xn);case g:var Nr=Rt._init;return Rt=Nr(Rt._payload),ti(je,Be,Xe,Rt,xn)}if(se(Rt)||s(Rt))return je=je.get(Xe)||null,Lt(Be,je,Rt,xn,null);if(typeof Rt.then=="function")return ti(je,Be,Xe,cn(Rt),xn);if(Rt.$$typeof===Ya)return ti(je,Be,Xe,r2(Be,Rt),xn);Yn(Be,Rt)}return null}function c0(je,Be,Xe,Rt){for(var xn=null,Nr=null,zn=Be,Oi=Be=0,Aa=null;zn!==null&&Oi<Xe.length;Oi++){zn.index>Oi?(Aa=zn,zn=null):Aa=zn.sibling;var Ii=Zt(je,zn,Xe[Oi],Rt);if(Ii===null){zn===null&&(zn=Aa);break}p&&zn&&Ii.alternate===null&&y(je,zn),Be=q(Ii,Be,Oi),Nr===null?xn=Ii:Nr.sibling=Ii,Nr=Ii,zn=Aa}if(Oi===Xe.length)return E(je,zn),Ui&&ge(je,Oi),xn;if(zn===null){for(;Oi<Xe.length;Oi++)zn=jt(je,Xe[Oi],Rt),zn!==null&&(Be=q(zn,Be,Oi),Nr===null?xn=zn:Nr.sibling=zn,Nr=zn);return Ui&&ge(je,Oi),xn}for(zn=L(zn);Oi<Xe.length;Oi++)Aa=ti(zn,je,Oi,Xe[Oi],Rt),Aa!==null&&(p&&Aa.alternate!==null&&zn.delete(Aa.key===null?Oi:Aa.key),Be=q(Aa,Be,Oi),Nr===null?xn=Aa:Nr.sibling=Aa,Nr=Aa);return p&&zn.forEach(function(v2){return y(je,v2)}),Ui&&ge(je,Oi),xn}function N7(je,Be,Xe,Rt){if(Xe==null)throw Error(r(151));for(var xn=null,Nr=null,zn=Be,Oi=Be=0,Aa=null,Ii=Xe.next();zn!==null&&!Ii.done;Oi++,Ii=Xe.next()){zn.index>Oi?(Aa=zn,zn=null):Aa=zn.sibling;var v2=Zt(je,zn,Ii.value,Rt);if(v2===null){zn===null&&(zn=Aa);break}p&&zn&&v2.alternate===null&&y(je,zn),Be=q(v2,Be,Oi),Nr===null?xn=v2:Nr.sibling=v2,Nr=v2,zn=Aa}if(Ii.done)return E(je,zn),Ui&&ge(je,Oi),xn;if(zn===null){for(;!Ii.done;Oi++,Ii=Xe.next())Ii=jt(je,Ii.value,Rt),Ii!==null&&(Be=q(Ii,Be,Oi),Nr===null?xn=Ii:Nr.sibling=Ii,Nr=Ii);return Ui&&ge(je,Oi),xn}for(zn=L(zn);!Ii.done;Oi++,Ii=Xe.next())Ii=ti(zn,je,Oi,Ii.value,Rt),Ii!==null&&(p&&Ii.alternate!==null&&zn.delete(Ii.key===null?Oi:Ii.key),Be=q(Ii,Be,Oi),Nr===null?xn=Ii:Nr.sibling=Ii,Nr=Ii);return p&&zn.forEach(function(mse){return y(je,mse)}),Ui&&ge(je,Oi),xn}function d4(je,Be,Xe,Rt){if(typeof Xe=="object"&&Xe!==null&&Xe.type===j1&&Xe.key===null&&(Xe=Xe.props.children),typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case ht:e:{for(var xn=Xe.key;Be!==null;){if(Be.key===xn){if(xn=Xe.type,xn===j1){if(Be.tag===7){E(je,Be.sibling),Rt=I(Be,Xe.props.children),Rt.return=je,je=Rt;break e}}else if(Be.elementType===xn||typeof xn=="object"&&xn!==null&&xn.$$typeof===g&&Fr(xn)===Be.type){E(je,Be.sibling),Rt=I(Be,Xe.props),ai(Rt,Xe),Rt.return=je,je=Rt;break e}E(je,Be);break}else y(je,Be);Be=Be.sibling}Xe.type===j1?(Rt=H1(Xe.props.children,je.mode,Rt,Xe.key),Rt.return=je,je=Rt):(Rt=i5(Xe.type,Xe.key,Xe.props,null,je.mode,Rt),ai(Rt,Xe),Rt.return=je,je=Rt)}return ue(je);case xt:e:{for(xn=Xe.key;Be!==null;){if(Be.key===xn)if(Be.tag===4&&Be.stateNode.containerInfo===Xe.containerInfo&&Be.stateNode.implementation===Xe.implementation){E(je,Be.sibling),Rt=I(Be,Xe.children||[]),Rt.return=je,je=Rt;break e}else{E(je,Be);break}else y(je,Be);Be=Be.sibling}Rt=ko(Xe,je.mode,Rt),Rt.return=je,je=Rt}return ue(je);case g:return xn=Xe._init,Xe=xn(Xe._payload),d4(je,Be,Xe,Rt)}if(se(Xe))return c0(je,Be,Xe,Rt);if(s(Xe)){if(xn=s(Xe),typeof xn!="function")throw Error(r(150));return Xe=xn.call(Xe),N7(je,Be,Xe,Rt)}if(typeof Xe.then=="function")return d4(je,Be,cn(Xe),Rt);if(Xe.$$typeof===Ya)return d4(je,Be,r2(je,Xe),Rt);Yn(je,Xe)}return typeof Xe=="string"&&Xe!==""||typeof Xe=="number"||typeof Xe=="bigint"?(Xe=""+Xe,Be!==null&&Be.tag===6?(E(je,Be.sibling),Rt=I(Be,Xe),Rt.return=je,je=Rt):(E(je,Be),Rt=t0(Xe,je.mode,Rt),Rt.return=je,je=Rt),ue(je)):E(je,Be)}return function(je,Be,Xe,Rt){try{S7=0;var xn=d4(je,Be,Xe,Rt);return y5=null,xn}catch(zn){if(zn===b7)throw zn;var Nr=t(29,zn,null,je.mode);return Nr.lanes=Rt,Nr.return=je,Nr}finally{}}}function He(p,y){p=Z1,R(vg,p),R(v5,y),Z1=p|y.baseLanes}function st(){R(vg,Z1),R(v5,v5.current)}function Pt(){Z1=vg.current,S(v5),S(vg)}function nt(p){var y=p.alternate;R($s,$s.current&1),R(l0,p),Fu===null&&(y===null||v5.current!==null||y.memoizedState!==null)&&(Fu=p)}function d(p){if(p.tag===22){if(R($s,$s.current),R(l0,p),Fu===null){var y=p.alternate;y!==null&&y.memoizedState!==null&&(Fu=p)}}else J()}function J(){R($s,$s.current),R(l0,l0.current)}function Dn(p){S(l0),Fu===p&&(Fu=null),S($s)}function Ai(p){for(var y=p;y!==null;){if(y.tag===13){var E=y.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||xT(E)||_T(E)))return y}else if(y.tag===19&&y.memoizedProps.revealOrder!==void 0){if(y.flags&128)return y}else if(y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return null;y=y.return}y.sibling.return=y.return,y=y.sibling}return null}function Qn(){throw Error(r(321))}function Pn(p,y){if(y===null)return!1;for(var E=0;E<y.length&&E<p.length;E++)if(!_l(p[E],y[E]))return!1;return!0}function ri(p,y,E,L,I,q){return p2=q,ci=y,y.memoizedState=null,y.updateQueue=null,y.lanes=0,D.H=p===null||p.memoizedState===null?o4:m2,a4=!1,q=E(L,I),a4=!1,x5&&(q=yi(y,E,L,I)),pl(p),q}function pl(p){D.H=zu;var y=ar!==null&&ar.next!==null;if(p2=0,Cs=ar=ci=null,xg=!1,T7=0,_5=null,y)throw Error(r(300));p===null||ha||(p=p.dependencies,p!==null&&Q3(p)&&(ha=!0))}function yi(p,y,E,L){ci=p;var I=0;do{if(x5&&(_5=null),T7=0,x5=!1,25<=I)throw Error(r(301));if(I+=1,Cs=ar=null,p.updateQueue!=null){var q=p.updateQueue;q.lastEffect=null,q.events=null,q.stores=null,q.memoCache!=null&&(q.memoCache.index=0)}D.H=l4,q=y(E,L)}while(x5);return q}function qn(){var p=D.H,y=p.useState()[0];return y=typeof y.then=="function"?Ve(y):y,p=p.useState()[0],(ar!==null?ar.memoizedState:null)!==p&&(ci.flags|=1024),y}function la(){var p=_g!==0;return _g=0,p}function Cu(p,y,E){y.updateQueue=p.updateQueue,y.flags&=-2053,p.lanes&=~E}function j3(p){if(xg){for(p=p.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}xg=!1}p2=0,Cs=ar=ci=null,x5=!1,T7=_g=0,_5=null}function oe(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cs===null?ci.memoizedState=Cs=p:Cs=Cs.next=p,Cs}function Ee(){if(ar===null){var p=ci.alternate;p=p!==null?p.memoizedState:null}else p=ar.next;var y=Cs===null?ci.memoizedState:Cs.next;if(y!==null)Cs=y,ar=p;else{if(p===null)throw ci.alternate===null?Error(r(467)):Error(r(310));ar=p,p={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},Cs===null?ci.memoizedState=Cs=p:Cs=Cs.next=p}return Cs}function Ve(p){var y=T7;return T7+=1,_5===null&&(_5=[]),p=rt(_5,p,y),y=ci,(Cs===null?y.memoizedState:Cs.next)===null&&(y=y.alternate,D.H=y===null||y.memoizedState===null?o4:m2),p}function ze(p){if(p!==null&&typeof p=="object"){if(typeof p.then=="function")return Ve(p);if(p.$$typeof===Ya)return ca(p)}throw Error(r(438,String(p)))}function Pe(p){var y=null,E=ci.updateQueue;if(E!==null&&(y=E.memoCache),y==null){var L=ci.alternate;L!==null&&(L=L.updateQueue,L!==null&&(L=L.memoCache,L!=null&&(y={data:L.data.map(function(I){return I.slice()}),index:0})))}if(y==null&&(y={data:[],index:0}),E===null&&(E=LT(),ci.updateQueue=E),E.memoCache=y,E=y.data[y.index],E===void 0)for(E=y.data[y.index]=Array(p),L=0;L<p;L++)E[L]=b;return y.index++,E}function vt(p,y){return typeof y=="function"?y(p):y}function Bt(p){var y=Ee();return dt(y,ar,p)}function dt(p,y,E){var L=p.queue;if(L===null)throw Error(r(311));L.lastRenderedReducer=E;var I=p.baseQueue,q=L.pending;if(q!==null){if(I!==null){var ue=I.next;I.next=q.next,q.next=ue}y.baseQueue=I=q,L.pending=null}if(q=p.baseState,I===null)p.memoizedState=q;else{y=I.next;var xe=ue=null,Oe=null,it=y,Lt=!1;do{var jt=it.lane&-536870913;if(jt!==it.lane?(Ri&jt)===jt:(p2&jt)===jt){var Zt=it.revertLane;if(Zt===0)Oe!==null&&(Oe=Oe.next={lane:0,revertLane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),jt===p5&&(Lt=!0);else if((p2&Zt)===Zt){it=it.next,Zt===p5&&(Lt=!0);continue}else jt={lane:0,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},Oe===null?(xe=Oe=jt,ue=q):Oe=Oe.next=jt,ci.lanes|=Zt,g2|=Zt;jt=it.action,a4&&E(q,jt),q=it.hasEagerState?it.eagerState:E(q,jt)}else Zt={lane:jt,revertLane:it.revertLane,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null},Oe===null?(xe=Oe=Zt,ue=q):Oe=Oe.next=Zt,ci.lanes|=jt,g2|=jt;it=it.next}while(it!==null&&it!==y);if(Oe===null?ue=q:Oe.next=xe,!_l(q,p.memoizedState)&&(ha=!0,Lt&&(E=m5,E!==null)))throw E;p.memoizedState=q,p.baseState=ue,p.baseQueue=Oe,L.lastRenderedState=q}return I===null&&(L.lanes=0),[p.memoizedState,L.dispatch]}function te(p){var y=Ee(),E=y.queue;if(E===null)throw Error(r(311));E.lastRenderedReducer=p;var L=E.dispatch,I=E.pending,q=y.memoizedState;if(I!==null){E.pending=null;var ue=I=I.next;do q=p(q,ue.action),ue=ue.next;while(ue!==I);_l(q,y.memoizedState)||(ha=!0),y.memoizedState=q,y.baseQueue===null&&(y.baseState=q),E.lastRenderedState=q}return[q,L]}function Et(p,y,E){var L=ci,I=Ee(),q=Ui;if(q){if(E===void 0)throw Error(r(407));E=E()}else E=y();var ue=!_l((ar||I).memoizedState,E);if(ue&&(I.memoizedState=E,ha=!0),I=I.queue,Ji(si.bind(null,L,I,p),[p]),I.getSnapshot!==y||ue||Cs!==null&&Cs.memoizedState.tag&1){if(L.flags|=2048,Zl(9,dn.bind(null,L,I,E,y),{destroy:void 0},null),br===null)throw Error(r(349));q||p2&60||Rn(L,y,E)}return E}function Rn(p,y,E){p.flags|=16384,p={getSnapshot:y,value:E},y=ci.updateQueue,y===null?(y=LT(),ci.updateQueue=y,y.stores=[p]):(E=y.stores,E===null?y.stores=[p]:E.push(p))}function dn(p,y,E,L){y.value=E,y.getSnapshot=L,Ni(y)&&pr(p)}function si(p,y,E){return E(function(){Ni(y)&&pr(p)})}function Ni(p){var y=p.getSnapshot;p=p.value;try{var E=y();return!_l(p,E)}catch{return!0}}function pr(p){var y=mt(p,2);y!==null&&Vr(y,p,2)}function K(p){var y=oe();if(typeof p=="function"){var E=p;if(p=E(),a4){ee(!0);try{E()}finally{ee(!1)}}}return y.memoizedState=y.baseState=p,y.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vt,lastRenderedState:p},y}function Bi(p,y,E,L){return p.baseState=E,dt(p,ar,typeof L=="function"?L:vt)}function yn(p,y,E,L,I){if(Fh(p))throw Error(r(485));if(p=y.action,p!==null){var q={payload:I,action:p,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ue){q.listeners.push(ue)}};D.T!==null?E(!0):q.isTransition=!1,L(q),E=y.pending,E===null?(q.next=y.pending=q,rr(y,q)):(q.next=E.next,y.pending=E.next=q)}}function rr(p,y){var E=y.action,L=y.payload,I=p.state;if(y.isTransition){var q=D.T,ue={};D.T=ue;try{var xe=E(I,L),Oe=D.S;Oe!==null&&Oe(ue,xe),vi(p,y,xe)}catch(it){Kl(p,y,it)}finally{D.T=q}}else try{q=E(I,L),vi(p,y,q)}catch(it){Kl(p,y,it)}}function vi(p,y,E){E!==null&&typeof E=="object"&&typeof E.then=="function"?E.then(function(L){ua(p,y,L)},function(L){return Kl(p,y,L)}):ua(p,y,E)}function ua(p,y,E){y.status="fulfilled",y.value=E,Ws(y),p.state=E,y=p.pending,y!==null&&(E=y.next,E===y?p.pending=null:(E=E.next,y.next=E,rr(p,E)))}function Kl(p,y,E){var L=p.pending;if(p.pending=null,L!==null){L=L.next;do y.status="rejected",y.reason=E,Ws(y),y=y.next;while(y!==L)}p.action=null}function Ws(p){p=p.listeners;for(var y=0;y<p.length;y++)(0,p[y])()}function W0(p,y){return y}function Wi(p,y){if(Ui){var E=br.formState;if(E!==null){e:{var L=ci;if(Ui){if($a){var I=Nre($a,Iu);if(I){$a=BU(I),L=Dre(I);break e}}Ct(L)}L=!1}L&&(y=E[0])}}E=oe(),E.memoizedState=E.baseState=y,L={pending:null,lanes:0,dispatch:null,lastRenderedReducer:W0,lastRenderedState:y},E.queue=L,E=B8.bind(null,ci,L),L.dispatch=E,L=K(!1);var q=Ih.bind(null,ci,!1,L.queue);return L=oe(),I={state:y,dispatch:null,action:p,pending:null},L.queue=I,E=yn.bind(null,ci,I,q,E),I.dispatch=E,L.memoizedState=p,[y,E,!1]}function Cr(p){var y=Ee();return wi(y,ar,p)}function wi(p,y,E){y=dt(p,y,W0)[0],p=Bt(vt)[0],y=typeof y=="object"&&y!==null&&typeof y.then=="function"?Ve(y):y;var L=Ee(),I=L.queue,q=I.dispatch;return E!==L.memoizedState&&(ci.flags|=2048,Zl(9,gs.bind(null,I,E),{destroy:void 0},null)),[y,q,p]}function gs(p,y){p.action=y}function Xs(p){var y=Ee(),E=ar;if(E!==null)return wi(y,E,p);Ee(),y=y.memoizedState,E=Ee();var L=E.queue.dispatch;return E.memoizedState=p,[y,L,!1]}function Zl(p,y,E,L){return p={tag:p,create:y,inst:E,deps:L,next:null},y=ci.updateQueue,y===null&&(y=LT(),ci.updateQueue=y),E=y.lastEffect,E===null?y.lastEffect=p.next=p:(L=E.next,E.next=p,p.next=L,y.lastEffect=p),p}function ml(){return Ee().memoizedState}function Dh(p,y,E,L){var I=oe();ci.flags|=p,I.memoizedState=Zl(1|y,E,{destroy:void 0},L===void 0?null:L)}function Ph(p,y,E,L){var I=Ee();L=L===void 0?null:L;var q=I.memoizedState.inst;ar!==null&&L!==null&&Pn(L,ar.memoizedState.deps)?I.memoizedState=Zl(y,E,q,L):(ci.flags|=p,I.memoizedState=Zl(1|y,E,q,L))}function wm(p,y){Dh(8390656,8,p,y)}function Ji(p,y){Ph(2048,8,p,y)}function Lh(p,y){return Ph(4,2,p,y)}function N8(p,y){return Ph(4,4,p,y)}function Rm(p,y){if(typeof y=="function"){p=p();var E=y(p);return function(){typeof E=="function"?E():y(null)}}if(y!=null)return p=p(),y.current=p,function(){y.current=null}}function Cm(p,y,E){E=E!=null?E.concat([p]):null,Ph(4,4,Rm.bind(null,y,p),E)}function D8(){}function P8(p,y){var E=Ee();y=y===void 0?null:y;var L=E.memoizedState;return y!==null&&Pn(y,L[1])?L[0]:(E.memoizedState=[p,y],p)}function Bh(p,y){var E=Ee();y=y===void 0?null:y;var L=E.memoizedState;if(y!==null&&Pn(y,L[1]))return L[0];if(L=p(),a4){ee(!0);try{p()}finally{ee(!1)}}return E.memoizedState=[L,y],L}function W3(p,y,E){return E===void 0||p2&1073741824?p.memoizedState=y:(p.memoizedState=E,p=Qm(),ci.lanes|=p,g2|=p,E)}function Nm(p,y,E,L){return _l(E,y)?E:v5.current!==null?(p=W3(p,E,L),_l(p,y)||(ha=!0),p):p2&42?(p=Qm(),ci.lanes|=p,g2|=p,y):(ha=!0,p.memoizedState=E)}function Dm(p,y,E,L,I){var q=Ou();Xi(q!==0&&8>q?q:8);var ue=D.T,xe={};D.T=xe,Ih(p,!1,y,E);try{var Oe=I(),it=D.S;if(it!==null&&it(xe,Oe),Oe!==null&&typeof Oe=="object"&&typeof Oe.then=="function"){var Lt=Ot(Oe,L);t2(p,y,Lt,mo(p))}else t2(p,y,L,mo(p))}catch(jt){t2(p,y,{then:function(){},status:"rejected",reason:jt},mo())}finally{Xi(q),D.T=ue}}function Pm(p){var y=p.memoizedState;if(y!==null)return y;y={memoizedState:o5,baseState:o5,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vt,lastRenderedState:o5},next:null};var E={};return y.next={memoizedState:E,baseState:E,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vt,lastRenderedState:E},next:null},p.memoizedState=y,p=p.alternate,p!==null&&(p.memoizedState=y),y}function Uh(){return ca(i4)}function Lm(){return Ee().memoizedState}function Oh(){return Ee().memoizedState}function L8(p){for(var y=p.return;y!==null;){switch(y.tag){case 24:case 3:var E=mo();p=ct(E);var L=Vt(y,p,E);L!==null&&(Vr(L,y,E),fn(L,y,E)),y={cache:K8()},p.payload=y;return}y=y.return}}function fT(p,y,E){var L=mo();E={lane:L,revertLane:0,action:E,hasEagerState:!1,eagerState:null,next:null},Fh(p)?Bm(y,E):(E=At(p,y,E,L),E!==null&&(Vr(E,p,L),Um(E,y,L)))}function B8(p,y,E){var L=mo();t2(p,y,E,L)}function t2(p,y,E,L){var I={lane:L,revertLane:0,action:E,hasEagerState:!1,eagerState:null,next:null};if(Fh(p))Bm(y,I);else{var q=p.alternate;if(p.lanes===0&&(q===null||q.lanes===0)&&(q=y.lastRenderedReducer,q!==null))try{var ue=y.lastRenderedState,xe=q(ue,E);if(I.hasEagerState=!0,I.eagerState=xe,_l(xe,ue))return bt(p,y,I,0),br===null&&ce(),!1}catch{}finally{}if(E=At(p,y,I,L),E!==null)return Vr(E,p,L),Um(E,y,L),!0}return!1}function Ih(p,y,E,L){if(L={lane:2,revertLane:ut(),action:L,hasEagerState:!1,eagerState:null,next:null},Fh(p)){if(y)throw Error(r(479))}else y=At(p,E,L,2),y!==null&&Vr(y,p,2)}function Fh(p){var y=p.alternate;return p===ci||y!==null&&y===ci}function Bm(p,y){x5=xg=!0;var E=p.pending;E===null?y.next=y:(y.next=E.next,E.next=y),p.pending=y}function Um(p,y,E){if(E&4194176){var L=y.lanes;L&=p.pendingLanes,E|=L,y.lanes=E,ae(p,E)}}function U8(p,y,E,L){y=p.memoizedState,E=E(L,y),E=E==null?y:Uu({},y,E),p.memoizedState=E,p.lanes===0&&(p.updateQueue.baseState=E)}function Ys(p,y,E,L,I,q,ue){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(L,q,ue):y.prototype&&y.prototype.isPureReactComponent?!ft(E,L)||!ft(I,q):!0}function Nu(p,y,E,L){p=y.state,typeof y.componentWillReceiveProps=="function"&&y.componentWillReceiveProps(E,L),typeof y.UNSAFE_componentWillReceiveProps=="function"&&y.UNSAFE_componentWillReceiveProps(E,L),y.state!==p&&BT.enqueueReplaceState(y,y.state,null)}function Xr(p,y){var E=y;if("ref"in y){E={};for(var L in y)L!=="ref"&&(E[L]=y[L])}if(p=p.defaultProps){E===y&&(E=Uu({},E));for(var I in p)E[I]===void 0&&(E[I]=p[I])}return E}function n2(p,y){try{var E=p.onUncaughtError;E(y.value,{componentStack:y.stack})}catch(L){setTimeout(function(){throw L})}}function O8(p,y,E){try{var L=p.onCaughtError;L(E.value,{componentStack:E.stack,errorBoundary:y.tag===1?y.stateNode:null})}catch(I){setTimeout(function(){throw I})}}function i2(p,y,E){return E=ct(E),E.tag=3,E.payload={element:null},E.callback=function(){n2(p,y)},E}function Om(p){return p=ct(p),p.tag=3,p}function Im(p,y,E,L){var I=E.type.getDerivedStateFromError;if(typeof I=="function"){var q=L.value;p.payload=function(){return I(q)},p.callback=function(){O8(y,E,L)}}var ue=E.stateNode;ue!==null&&typeof ue.componentDidCatch=="function"&&(p.callback=function(){O8(y,E,L),typeof I!="function"&&(y2===null?y2=new Set([this]):y2.add(this));var xe=L.stack;this.componentDidCatch(L.value,{componentStack:xe!==null?xe:""})})}function hT(p,y,E,L,I){if(E.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){if(y=E.alternate,y!==null&&O1(y,E,I,!0),E=l0.current,E!==null){switch(E.tag){case 13:return Fu===null?c2():E.alternate===null&&rs===0&&(rs=3),E.flags&=-257,E.flags|=65536,E.lanes=I,L===yg?E.flags|=16384:(y=E.updateQueue,y===null?E.updateQueue=new Set([L]):y.add(L),q1(p,L,I)),!1;case 22:return E.flags|=65536,L===yg?E.flags|=16384:(y=E.updateQueue,y===null?(y={transitions:null,markerInstances:null,retryQueue:new Set([L])},E.updateQueue=y):(E=y.retryQueue,E===null?y.retryQueue=new Set([L]):E.add(L)),q1(p,L,I)),!1}throw Error(r(435,E.tag))}return q1(p,L,I),c2(),!1}if(Ui)return y=l0.current,y!==null?(!(y.flags&65536)&&(y.flags|=256),y.flags|=65536,y.lanes=I,L!==ET&&(p=Error(r(422),{cause:L}),$t(fe(p,E)))):(L!==ET&&(y=Error(r(423),{cause:L}),$t(fe(y,E))),p=p.current.alternate,p.flags|=65536,I&=-I,p.lanes|=I,L=fe(L,E),I=i2(p.stateNode,L,I),ve(p,I),rs!==4&&(rs=2)),!1;var q=Error(r(520),{cause:L});if(q=fe(q,E),E7===null?E7=[q]:E7.push(q),rs!==4&&(rs=2),y===null)return!0;L=fe(L,E),E=y;do{switch(E.tag){case 3:return E.flags|=65536,p=I&-I,E.lanes|=p,p=i2(E.stateNode,L,p),ve(E,p),!1;case 1:if(y=E.type,q=E.stateNode,(E.flags&128)===0&&(typeof y.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(y2===null||!y2.has(q))))return E.flags|=65536,I&=-I,E.lanes|=I,I=Om(I),Im(I,p,E,L),ve(E,I),!1}E=E.return}while(E!==null);return!1}function Ms(p,y,E,L){y.child=p===null?YU(y,null,E,L):s4(y,p.child,E,L)}function X3(p,y,E,L,I){E=E.render;var q=y.ref;if("ref"in L){var ue={};for(var xe in L)xe!=="ref"&&(ue[xe]=L[xe])}else ue=L;return Fo(y),L=ri(p,y,E,ue,q,I),xe=la(),p!==null&&!ha?(Cu(p,y,I),X0(p,y,I)):(Ui&&xe&&Ge(y),y.flags|=1,Ms(p,y,L,I),y.child)}function Du(p,y,E,L,I){if(p===null){var q=E.type;return typeof q=="function"&&!n5(q)&&q.defaultProps===void 0&&E.compare===null?(y.tag=15,y.type=q,I8(p,y,q,L,I)):(p=i5(E.type,null,L,y,y.mode,I),p.ref=y.ref,p.return=y,y.child=p)}if(q=p.child,!Y8(p,I)){var ue=q.memoizedProps;if(E=E.compare,E=E!==null?E:ft,E(ue,L)&&p.ref===y.ref)return X0(p,y,I)}return y.flags|=1,p=K0(q,L),p.ref=y.ref,p.return=y,y.child=p}function I8(p,y,E,L,I){if(p!==null){var q=p.memoizedProps;if(ft(q,L)&&p.ref===y.ref)if(ha=!1,y.pendingProps=L=q,Y8(p,I))p.flags&131072&&(ha=!0);else return y.lanes=p.lanes,X0(p,y,I)}return Jl(p,y,E,L,I)}function F8(p,y,E){var L=y.pendingProps,I=L.children,q=(y.stateNode._pendingVisibility&2)!==0,ue=p!==null?p.memoizedState:null;if(gl(p,y),L.mode==="hidden"||q){if(y.flags&128){if(L=ue!==null?ue.baseLanes|E:E,p!==null){for(I=y.child=p.child,q=0;I!==null;)q=q|I.lanes|I.childLanes,I=I.sibling;y.childLanes=q&~L}else y.childLanes=0,y.child=null;return Y3(p,y,L,E)}if(E&536870912)y.memoizedState={baseLanes:0,cachePool:null},p!==null&&a2(y,ue!==null?ue.cachePool:null),ue!==null?He(y,ue):st(),d(y);else return y.lanes=y.childLanes=536870912,Y3(p,y,ue!==null?ue.baseLanes|E:E,E)}else ue!==null?(a2(y,ue.cachePool),He(y,ue),J(),y.memoizedState=null):(p!==null&&a2(y,null),st(),J());return Ms(p,y,I,E),y.child}function Y3(p,y,E,L){var I=$3();return I=I===null?null:{parent:Wt?ns._currentValue:ns._currentValue2,pool:I},y.memoizedState={baseLanes:E,cachePool:I},p!==null&&a2(y,null),st(),d(y),p!==null&&O1(p,y,L,!0),null}function gl(p,y){var E=y.ref;if(E===null)p!==null&&p.ref!==null&&(y.flags|=2097664);else{if(typeof E!="function"&&typeof E!="object")throw Error(r(284));(p===null||p.ref!==E)&&(y.flags|=2097664)}}function Jl(p,y,E,L,I){return Fo(y),E=ri(p,y,E,L,void 0,I),L=la(),p!==null&&!ha?(Cu(p,y,I),X0(p,y,I)):(Ui&&L&&Ge(y),y.flags|=1,Ms(p,y,E,I),y.child)}function z8(p,y,E,L,I,q){return Fo(y),y.updateQueue=null,E=yi(y,L,E,I),pl(p),L=la(),p!==null&&!ha?(Cu(p,y,q),X0(p,y,q)):(Ui&&L&&Ge(y),y.flags|=1,Ms(p,y,E,q),y.child)}function V8(p,y,E,L,I){if(Fo(y),y.stateNode===null){var q=u5,ue=E.contextType;typeof ue=="object"&&ue!==null&&(q=ca(ue)),q=new E(L,q),y.memoizedState=q.state!==null&&q.state!==void 0?q.state:null,q.updater=BT,y.stateNode=q,q._reactInternals=y,q=y.stateNode,q.props=L,q.state=y.memoizedState,q.refs={},Kt(y),ue=E.contextType,q.context=typeof ue=="object"&&ue!==null?ca(ue):u5,q.state=y.memoizedState,ue=E.getDerivedStateFromProps,typeof ue=="function"&&(U8(y,E,ue,L),q.state=y.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof q.getSnapshotBeforeUpdate=="function"||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(ue=q.state,typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount(),ue!==q.state&&BT.enqueueReplaceState(q,q.state,null),Tt(y,L,q,I),Fe(),q.state=y.memoizedState),typeof q.componentDidMount=="function"&&(y.flags|=4194308),L=!0}else if(p===null){q=y.stateNode;var xe=y.memoizedProps,Oe=Xr(E,xe);q.props=Oe;var it=q.context,Lt=E.contextType;ue=u5,typeof Lt=="object"&&Lt!==null&&(ue=ca(Lt));var jt=E.getDerivedStateFromProps;Lt=typeof jt=="function"||typeof q.getSnapshotBeforeUpdate=="function",xe=y.pendingProps!==xe,Lt||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(xe||it!==ue)&&Nu(y,q,L,ue),A2=!1;var Zt=y.memoizedState;q.state=Zt,Tt(y,L,q,I),Fe(),it=y.memoizedState,xe||Zt!==it||A2?(typeof jt=="function"&&(U8(y,E,jt,L),it=y.memoizedState),(Oe=A2||Ys(y,E,Oe,L,Zt,it,ue))?(Lt||typeof q.UNSAFE_componentWillMount!="function"&&typeof q.componentWillMount!="function"||(typeof q.componentWillMount=="function"&&q.componentWillMount(),typeof q.UNSAFE_componentWillMount=="function"&&q.UNSAFE_componentWillMount()),typeof q.componentDidMount=="function"&&(y.flags|=4194308)):(typeof q.componentDidMount=="function"&&(y.flags|=4194308),y.memoizedProps=L,y.memoizedState=it),q.props=L,q.state=it,q.context=ue,L=Oe):(typeof q.componentDidMount=="function"&&(y.flags|=4194308),L=!1)}else{q=y.stateNode,tn(p,y),ue=y.memoizedProps,Lt=Xr(E,ue),q.props=Lt,jt=y.pendingProps,Zt=q.context,it=E.contextType,Oe=u5,typeof it=="object"&&it!==null&&(Oe=ca(it)),xe=E.getDerivedStateFromProps,(it=typeof xe=="function"||typeof q.getSnapshotBeforeUpdate=="function")||typeof q.UNSAFE_componentWillReceiveProps!="function"&&typeof q.componentWillReceiveProps!="function"||(ue!==jt||Zt!==Oe)&&Nu(y,q,L,Oe),A2=!1,Zt=y.memoizedState,q.state=Zt,Tt(y,L,q,I),Fe();var ti=y.memoizedState;ue!==jt||Zt!==ti||A2||p!==null&&p.dependencies!==null&&Q3(p.dependencies)?(typeof xe=="function"&&(U8(y,E,xe,L),ti=y.memoizedState),(Lt=A2||Ys(y,E,Lt,L,Zt,ti,Oe)||p!==null&&p.dependencies!==null&&Q3(p.dependencies))?(it||typeof q.UNSAFE_componentWillUpdate!="function"&&typeof q.componentWillUpdate!="function"||(typeof q.componentWillUpdate=="function"&&q.componentWillUpdate(L,ti,Oe),typeof q.UNSAFE_componentWillUpdate=="function"&&q.UNSAFE_componentWillUpdate(L,ti,Oe)),typeof q.componentDidUpdate=="function"&&(y.flags|=4),typeof q.getSnapshotBeforeUpdate=="function"&&(y.flags|=1024)):(typeof q.componentDidUpdate!="function"||ue===p.memoizedProps&&Zt===p.memoizedState||(y.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ue===p.memoizedProps&&Zt===p.memoizedState||(y.flags|=1024),y.memoizedProps=L,y.memoizedState=ti),q.props=L,q.state=ti,q.context=Oe,L=Lt):(typeof q.componentDidUpdate!="function"||ue===p.memoizedProps&&Zt===p.memoizedState||(y.flags|=4),typeof q.getSnapshotBeforeUpdate!="function"||ue===p.memoizedProps&&Zt===p.memoizedState||(y.flags|=1024),L=!1)}return q=L,gl(p,y),L=(y.flags&128)!==0,q||L?(q=y.stateNode,E=L&&typeof E.getDerivedStateFromError!="function"?null:q.render(),y.flags|=1,p!==null&&L?(y.child=s4(y,p.child,null,I),y.child=s4(y,null,E,I)):Ms(p,y,E,I),y.memoizedState=q.state,p=y.child):p=X0(p,y,I),p}function zh(p,y,E,L){return hn(),y.flags|=256,Ms(p,y,E,L),y.child}function k8(p){return{baseLanes:p,cachePool:kh()}}function G8(p,y,E){return p=p!==null?p.childLanes&~E:0,y&&(p|=u0),p}function q8(p,y,E){var L=y.pendingProps,I=!1,q=(y.flags&128)!==0,ue;if((ue=q)||(ue=p!==null&&p.memoizedState===null?!1:($s.current&2)!==0),ue&&(I=!0,y.flags&=-129),ue=(y.flags&32)!==0,y.flags&=-33,p===null){if(Ui){if(I?nt(y):J(),Ui){var xe=$a,Oe;(Oe=xe)&&(xe=Ore(xe,Iu),xe!==null?(y.memoizedState={dehydrated:xe,treeContext:r4!==null?{id:X1,overflow:Y1}:null,retryLane:536870912},Oe=t(18,null,null,0),Oe.stateNode=xe,Oe.return=y,y.child=Oe,yo=y,$a=null,Oe=!0):Oe=!1),Oe||Ct(y)}if(xe=y.memoizedState,xe!==null&&(xe=xe.dehydrated,xe!==null))return _T(xe)?y.lanes=16:y.lanes=536870912,null;Dn(y)}return xe=L.children,L=L.fallback,I?(J(),I=y.mode,xe=j8({mode:"hidden",children:xe},I),L=H1(L,I,E,null),xe.return=y,L.return=y,xe.sibling=L,y.child=xe,I=y.child,I.memoizedState=k8(E),I.childLanes=G8(p,ue,E),y.memoizedState=UT,L):(nt(y),H8(y,xe))}if(Oe=p.memoizedState,Oe!==null&&(xe=Oe.dehydrated,xe!==null)){if(q)y.flags&256?(nt(y),y.flags&=-257,y=W8(p,y,E)):y.memoizedState!==null?(J(),y.child=p.child,y.flags|=128,y=null):(J(),I=L.fallback,xe=y.mode,L=j8({mode:"visible",children:L.children},xe),I=H1(I,xe,E,null),I.flags|=2,L.return=y,I.return=y,L.sibling=I,y.child=L,s4(y,p.child,null,E),L=y.child,L.memoizedState=k8(E),L.childLanes=G8(p,ue,E),y.memoizedState=UT,y=I);else if(nt(y),_T(xe))ue=Rre(xe).digest,L=Error(r(419)),L.stack="",L.digest=ue,$t({value:L,source:null,stack:null}),y=W8(p,y,E);else if(ha||O1(p,y,E,!1),ue=(E&p.childLanes)!==0,ha||ue){if(ue=br,ue!==null){if(L=E&-E,L&42)L=1;else switch(L){case 2:L=1;break;case 8:L=4;break;case 32:L=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:L=64;break;case 268435456:L=134217728;break;default:L=0}if(L=L&(ue.suspendedLanes|E)?0:L,L!==0&&L!==Oe.retryLane)throw Oe.retryLane=L,mt(p,L),Vr(ue,p,L),$U}xT(xe)||c2(),y=W8(p,y,E)}else xT(xe)?(y.flags|=128,y.child=p.child,y=yT.bind(null,p),Cre(xe,y),y=null):(p=Oe.treeContext,ei&&($a=Lre(xe),yo=y,Ui=!0,J0=null,Iu=!1,p!==null&&(s0[a0++]=X1,s0[a0++]=Y1,s0[a0++]=r4,X1=p.id,Y1=p.overflow,r4=y)),y=H8(y,L.children),y.flags|=4096);return y}return I?(J(),I=L.fallback,xe=y.mode,Oe=p.child,q=Oe.sibling,L=K0(Oe,{mode:"hidden",children:L.children}),L.subtreeFlags=Oe.subtreeFlags&31457280,q!==null?I=K0(q,I):(I=H1(I,xe,E,null),I.flags|=2),I.return=y,L.return=y,L.sibling=I,y.child=L,L=I,I=y.child,xe=p.child.memoizedState,xe===null?xe=k8(E):(Oe=xe.cachePool,Oe!==null?(q=Wt?ns._currentValue:ns._currentValue2,Oe=Oe.parent!==q?{parent:q,pool:q}:Oe):Oe=kh(),xe={baseLanes:xe.baseLanes|E,cachePool:Oe}),I.memoizedState=xe,I.childLanes=G8(p,ue,E),y.memoizedState=UT,L):(nt(y),E=p.child,p=E.sibling,E=K0(E,{mode:"visible",children:L.children}),E.return=y,E.sibling=null,p!==null&&(ue=y.deletions,ue===null?(y.deletions=[p],y.flags|=16):ue.push(p)),y.child=E,y.memoizedState=null,E)}function H8(p,y){return y=j8({mode:"visible",children:y},p.mode),y.return=p,p.child=y}function j8(p,y){return lg(p,y,0,null)}function W8(p,y,E){return s4(y,p.child,null,E),p=H8(y,y.pendingProps.children),p.flags|=2,y.memoizedState=null,p}function Fm(p,y,E){p.lanes|=y;var L=p.alternate;L!==null&&(L.lanes|=y),U1(p.return,y,E)}function X8(p,y,E,L,I){var q=p.memoizedState;q===null?p.memoizedState={isBackwards:y,rendering:null,renderingStartTime:0,last:L,tail:E,tailMode:I}:(q.isBackwards=y,q.rendering=null,q.renderingStartTime=0,q.last=L,q.tail=E,q.tailMode=I)}function zm(p,y,E){var L=y.pendingProps,I=L.revealOrder,q=L.tail;if(Ms(p,y,L.children,E),L=$s.current,L&2)L=L&1|2,y.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=y.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&Fm(p,E,y);else if(p.tag===19)Fm(p,E,y);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===y)break e;for(;p.sibling===null;){if(p.return===null||p.return===y)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}L&=1}switch(R($s,L),I){case"forwards":for(E=y.child,I=null;E!==null;)p=E.alternate,p!==null&&Ai(p)===null&&(I=E),E=E.sibling;E=I,E===null?(I=y.child,y.child=null):(I=E.sibling,E.sibling=null),X8(y,!1,I,E,q);break;case"backwards":for(E=null,I=y.child,y.child=null;I!==null;){if(p=I.alternate,p!==null&&Ai(p)===null){y.child=I;break}p=I.sibling,I.sibling=E,E=I,I=p}X8(y,!0,E,null,q);break;case"together":X8(y,!1,null,null,void 0);break;default:y.memoizedState=null}return y.child}function X0(p,y,E){if(p!==null&&(y.dependencies=p.dependencies),g2|=y.lanes,!(E&y.childLanes))if(p!==null){if(O1(p,y,E,!1),(E&y.childLanes)===0)return null}else return null;if(p!==null&&y.child!==p.child)throw Error(r(153));if(y.child!==null){for(p=y.child,E=K0(p,p.pendingProps),y.child=E,E.return=y;p.sibling!==null;)p=p.sibling,E=E.sibling=K0(p,p.pendingProps),E.return=y;E.sibling=null}return y.child}function Y8(p,y){return p.lanes&y?!0:(p=p.dependencies,!!(p!==null&&Q3(p)))}function Vh(p,y,E){switch(y.tag){case 3:Se(y,y.stateNode.containerInfo),Pu(y,ns,p.memoizedState.cache),hn();break;case 27:case 5:St(y);break;case 4:Se(y,y.stateNode.containerInfo);break;case 10:Pu(y,y.type,y.memoizedProps.value);break;case 13:var L=y.memoizedState;if(L!==null)return L.dehydrated!==null?(nt(y),y.flags|=128,null):E&y.child.childLanes?q8(p,y,E):(nt(y),p=X0(p,y,E),p!==null?p.sibling:null);nt(y);break;case 19:var I=(p.flags&128)!==0;if(L=(E&y.childLanes)!==0,L||(O1(p,y,E,!1),L=(E&y.childLanes)!==0),I){if(L)return zm(p,y,E);y.flags|=128}if(I=y.memoizedState,I!==null&&(I.rendering=null,I.tail=null,I.lastEffect=null),R($s,$s.current),L)break;return null;case 22:case 23:return y.lanes=0,F8(p,y,E);case 24:Pu(y,ns,p.memoizedState.cache)}return X0(p,y,E)}function Vm(p,y,E){if(p!==null)if(p.memoizedProps!==y.pendingProps)ha=!0;else{if(!Y8(p,E)&&!(y.flags&128))return ha=!1,Vh(p,y,E);ha=!!(p.flags&131072)}else ha=!1,Ui&&y.flags&1048576&&Re(y,Ag,y.index);switch(y.lanes=0,y.tag){case 16:e:{p=y.pendingProps;var L=y.elementType,I=L._init;if(L=I(L._payload),y.type=L,typeof L=="function")n5(L)?(p=Xr(L,p),y.tag=1,y=V8(null,y,L,p,E)):(y.tag=0,y=Jl(null,y,L,p,E));else{if(L!=null){if(I=L.$$typeof,I===a5){y.tag=11,y=X3(null,y,L,p,E);break e}else if(I===A){y.tag=14,y=Du(null,y,L,p,E);break e}}throw y=a(L)||L,Error(r(306,y,""))}}return y;case 0:return Jl(p,y,y.type,y.pendingProps,E);case 1:return L=y.type,I=Xr(L,y.pendingProps),V8(p,y,L,I,E);case 3:e:{if(Se(y,y.stateNode.containerInfo),p===null)throw Error(r(387));var q=y.pendingProps;I=y.memoizedState,L=I.element,tn(p,y),Tt(y,q,null,E);var ue=y.memoizedState;if(q=ue.cache,Pu(y,ns,q),q!==I.cache&&Q8(y,[ns],E,!0),Fe(),q=ue.element,ei&&I.isDehydrated)if(I={element:q,isDehydrated:!1,cache:ue.cache},y.updateQueue.baseState=I,y.memoizedState=I,y.flags&256){y=zh(p,y,q,E);break e}else if(q!==L){L=fe(Error(r(424)),y),$t(L),y=zh(p,y,q,E);break e}else for(ei&&($a=Pre(y.stateNode.containerInfo),yo=y,Ui=!0,J0=null,Iu=!0),E=YU(y,null,q,E),y.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(hn(),q===L){y=X0(p,y,E);break e}Ms(p,y,q,E)}y=y.child}return y;case 26:if(r0)return gl(p,y),p===null?(E=FU(y.type,null,y.pendingProps,null))?y.memoizedState=E:Ui||(y.stateNode=Yre(y.type,y.pendingProps,d2.current,y)):y.memoizedState=FU(y.type,p.memoizedProps,y.pendingProps,p.memoizedState),null;case 27:if(Qa)return St(y),p===null&&Qa&&Ui&&(L=y.stateNode=HU(y.type,y.pendingProps,d2.current,wa.current,!1),yo=y,Iu=!0,$a=UU(L)),L=y.pendingProps.children,p!==null||Ui?Ms(p,y,L,E):y.child=s4(y,null,L,E),gl(p,y),y.child;case 5:return p===null&&Ui&&(jre(y.type,y.pendingProps,wa.current),(I=L=$a)&&(L=Bre(L,y.type,y.pendingProps,Iu),L!==null?(y.stateNode=L,yo=y,$a=UU(L),Iu=!1,I=!0):I=!1),I||Ct(y)),St(y),I=y.type,q=y.pendingProps,ue=p!==null?p.memoizedProps:null,L=q.children,Ht(I,q)?L=null:ue!==null&&Ht(I,ue)&&(y.flags|=32),y.memoizedState!==null&&(I=ri(p,y,qn,null,null,E),Wt?i4._currentValue=I:i4._currentValue2=I),gl(p,y),Ms(p,y,L,E),y.child;case 6:return p===null&&Ui&&(Wre(y.pendingProps,wa.current),(p=E=$a)&&(E=Ure(E,y.pendingProps,Iu),E!==null?(y.stateNode=E,yo=y,$a=null,p=!0):p=!1),p||Ct(y)),null;case 13:return q8(p,y,E);case 4:return Se(y,y.stateNode.containerInfo),L=y.pendingProps,p===null?y.child=s4(y,null,L,E):Ms(p,y,L,E),y.child;case 11:return X3(p,y,y.type,y.pendingProps,E);case 7:return Ms(p,y,y.pendingProps,E),y.child;case 8:return Ms(p,y,y.pendingProps.children,E),y.child;case 12:return Ms(p,y,y.pendingProps.children,E),y.child;case 10:return L=y.pendingProps,Pu(y,y.type,L.value),Ms(p,y,L.children,E),y.child;case 9:return I=y.type._context,L=y.pendingProps.children,Fo(y),I=ca(I),L=L(I),y.flags|=1,Ms(p,y,L,E),y.child;case 14:return Du(p,y,y.type,y.pendingProps,E);case 15:return I8(p,y,y.type,y.pendingProps,E);case 19:return zm(p,y,E);case 22:return F8(p,y,E);case 24:return Fo(y),L=ca(ns),p===null?(I=$3(),I===null&&(I=br,q=K8(),I.pooledCache=q,q.refCount++,q!==null&&(I.pooledCacheLanes|=E),I=q),y.memoizedState={parent:L,cache:I},Kt(y),Pu(y,ns,I)):(p.lanes&E&&(tn(p,y),Tt(y,null,null,E),Fe()),I=p.memoizedState,q=y.memoizedState,I.parent!==L?(I={parent:L,cache:L},y.memoizedState=I,y.lanes===0&&(y.memoizedState=y.updateQueue.baseState=I),Pu(y,ns,L)):(L=q.cache,Pu(y,ns,L),L!==I.cache&&Q8(y,[ns],E,!0))),Ms(p,y,y.pendingProps.children,E),y.child;case 29:throw y.pendingProps}throw Error(r(156,y.tag))}function Pu(p,y,E){Wt?(R(bg,y._currentValue),y._currentValue=E):(R(bg,y._currentValue2),y._currentValue2=E)}function Y0(p){var y=bg.current;Wt?p._currentValue=y:p._currentValue2=y,S(bg)}function U1(p,y,E){for(;p!==null;){var L=p.alternate;if((p.childLanes&y)!==y?(p.childLanes|=y,L!==null&&(L.childLanes|=y)):L!==null&&(L.childLanes&y)!==y&&(L.childLanes|=y),p===E)break;p=p.return}}function Q8(p,y,E,L){var I=p.child;for(I!==null&&(I.return=p);I!==null;){var q=I.dependencies;if(q!==null){var ue=I.child;q=q.firstContext;e:for(;q!==null;){var xe=q;q=I;for(var Oe=0;Oe<y.length;Oe++)if(xe.context===y[Oe]){q.lanes|=E,xe=q.alternate,xe!==null&&(xe.lanes|=E),U1(q.return,E,p),L||(ue=null);break e}q=xe.next}}else if(I.tag===18){if(ue=I.return,ue===null)throw Error(r(341));ue.lanes|=E,q=ue.alternate,q!==null&&(q.lanes|=E),U1(ue,E,p),ue=null}else ue=I.child;if(ue!==null)ue.return=I;else for(ue=I;ue!==null;){if(ue===p){ue=null;break}if(I=ue.sibling,I!==null){I.return=ue.return,ue=I;break}ue=ue.return}I=ue}}function O1(p,y,E,L){p=null;for(var I=y,q=!1;I!==null;){if(!q){if(I.flags&524288)q=!0;else if(I.flags&262144)break}if(I.tag===10){var ue=I.alternate;if(ue===null)throw Error(r(387));if(ue=ue.memoizedProps,ue!==null){var xe=I.type;_l(I.pendingProps.value,ue.value)||(p!==null?p.push(xe):p=[xe])}}else if(I===pg.current){if(ue=I.alternate,ue===null)throw Error(r(387));ue.memoizedState.memoizedState!==I.memoizedState.memoizedState&&(p!==null?p.push(i4):p=[i4])}I=I.return}p!==null&&Q8(y,p,E,L),y.flags|=262144}function Q3(p){for(p=p.firstContext;p!==null;){var y=p.context;if(!_l(Wt?y._currentValue:y._currentValue2,p.memoizedValue))return!0;p=p.next}return!1}function Fo(p){u4=p,Q1=null,p=p.dependencies,p!==null&&(p.firstContext=null)}function ca(p){return $8(u4,p)}function r2(p,y){return u4===null&&Fo(p),$8(p,y)}function $8(p,y){var E=Wt?y._currentValue:y._currentValue2;if(y={context:y,memoizedValue:E,next:null},Q1===null){if(p===null)throw Error(r(308));Q1=y,p.dependencies={lanes:0,firstContext:y},p.flags|=524288}else Q1=Q1.next=y;return E}function K8(){return{controller:new fse,data:new Map,refCount:0}}function s2(p){p.refCount--,p.refCount===0&&hse(dse,function(){p.controller.abort()})}function $3(){var p=c4.current;return p!==null?p:br.pooledCache}function a2(p,y){y===null?R(c4,c4.current):R(c4,y.pool)}function kh(){var p=$3();return p===null?null:{parent:Wt?ns._currentValue:ns._currentValue2,pool:p}}function Qs(p){p.flags|=4}function Fi(p,y){if(p!==null&&p.child===y.child)return!1;if(y.flags&16)return!0;for(p=y.child;p!==null;){if(p.flags&13878||p.subtreeFlags&13878)return!0;p=p.sibling}return!1}function Z8(p,y,E,L){if(ot)for(E=y.child;E!==null;){if(E.tag===5||E.tag===6)_t(p,E.stateNode);else if(!(E.tag===4||Qa&&E.tag===27)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===y)break;for(;E.sibling===null;){if(E.return===null||E.return===y)return;E=E.return}E.sibling.return=E.return,E=E.sibling}else if(Mn)for(var I=y.child;I!==null;){if(I.tag===5){var q=I.stateNode;E&&L&&(q=PU(q,I.type,I.memoizedProps)),_t(p,q)}else if(I.tag===6)q=I.stateNode,E&&L&&(q=LU(q,I.memoizedProps)),_t(p,q);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)q=I.child,q!==null&&(q.return=I),Z8(p,I,!0,!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===y)break;for(;I.sibling===null;){if(I.return===null||I.return===y)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function J8(p,y,E,L){if(Mn)for(var I=y.child;I!==null;){if(I.tag===5){var q=I.stateNode;E&&L&&(q=PU(q,I.type,I.memoizedProps)),NU(p,q)}else if(I.tag===6)q=I.stateNode,E&&L&&(q=LU(q,I.memoizedProps)),NU(p,q);else if(I.tag!==4){if(I.tag===22&&I.memoizedState!==null)q=I.child,q!==null&&(q.return=I),J8(p,I,!(I.memoizedProps!==null&&I.memoizedProps.mode==="manual"),!0);else if(I.child!==null){I.child.return=I,I=I.child;continue}}if(I===y)break;for(;I.sibling===null;){if(I.return===null||I.return===y)return;I=I.return}I.sibling.return=I.return,I=I.sibling}}function e7(p,y){if(Mn&&Fi(p,y)){p=y.stateNode;var E=p.containerInfo,L=CU();J8(L,y,!1,!1),p.pendingChildren=L,Qs(y),wre(E,L)}}function t7(p,y,E,L){if(ot)p.memoizedProps!==L&&Qs(y);else if(Mn){var I=p.stateNode,q=p.memoizedProps;if((p=Fi(p,y))||q!==L){var ue=wa.current;q=Ere(I,E,q,L,!p,null),q===I?y.stateNode=I:(rn(q,E,L,ue)&&Qs(y),y.stateNode=q,p?Z8(q,y,!1,!1):Qs(y))}else y.stateNode=I}}function n7(p,y,E){if(ere(y,E)){if(p.flags|=16777216,!EU(y,E))if(Zh())p.flags|=8192;else throw g5=yg,PT}else p.flags&=-16777217}function km(p,y){if($re(y)){if(p.flags|=16777216,!qU(y))if(Zh())p.flags|=8192;else throw g5=yg,PT}else p.flags&=-16777217}function Gh(p,y){y!==null&&(p.flags|=4),p.flags&16384&&(y=p.tag!==22?z():536870912,p.lanes|=y,T5|=y)}function Es(p,y){if(!Ui)switch(p.tailMode){case"hidden":y=p.tail;for(var E=null;y!==null;)y.alternate!==null&&(E=y),y=y.sibling;E===null?p.tail=null:E.sibling=null;break;case"collapsed":E=p.tail;for(var L=null;E!==null;)E.alternate!==null&&(L=E),E=E.sibling;L===null?y||p.tail===null?p.tail=null:p.tail.sibling=null:L.sibling=null}}function mr(p){var y=p.alternate!==null&&p.alternate.child===p.child,E=0,L=0;if(y)for(var I=p.child;I!==null;)E|=I.lanes|I.childLanes,L|=I.subtreeFlags&31457280,L|=I.flags&31457280,I.return=p,I=I.sibling;else for(I=p.child;I!==null;)E|=I.lanes|I.childLanes,L|=I.subtreeFlags,L|=I.flags,I.return=p,I=I.sibling;return p.subtreeFlags|=L,p.childLanes=E,y}function I1(p,y,E){var L=y.pendingProps;switch(We(y),y.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(y),null;case 1:return mr(y),null;case 3:return E=y.stateNode,L=null,p!==null&&(L=p.memoizedState.cache),y.memoizedState.cache!==L&&(y.flags|=2048),Y0(ns),qe(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(p===null||p.child===null)&&(Sn(y)?Qs(y):p===null||p.memoizedState.isDehydrated&&!(y.flags&256)||(y.flags|=1024,J0!==null&&(h7(J0),J0=null))),e7(p,y),mr(y),null;case 26:if(r0){E=y.type;var I=y.memoizedState;return p===null?(Qs(y),I!==null?(mr(y),km(y,I)):(mr(y),n7(y,E,L))):I?I!==p.memoizedState?(Qs(y),mr(y),km(y,I)):(mr(y),y.flags&=-16777217):(ot?p.memoizedProps!==L&&Qs(y):t7(p,y,E,L),mr(y),n7(y,E,L)),null}case 27:if(Qa){if(at(y),E=d2.current,I=y.type,p!==null&&y.stateNode!=null)ot?p.memoizedProps!==L&&Qs(y):t7(p,y,I,L);else{if(!L){if(y.stateNode===null)throw Error(r(166));return mr(y),null}p=wa.current,Sn(y)?Jt(y,p):(p=HU(I,L,E,p,!0),y.stateNode=p,Qs(y))}return mr(y),null}case 5:if(at(y),E=y.type,p!==null&&y.stateNode!=null)t7(p,y,E,L);else{if(!L){if(y.stateNode===null)throw Error(r(166));return mr(y),null}p=wa.current,Sn(y)?Jt(y,p):(I=Te(E,L,d2.current,p,y),Z8(I,y,!1,!1),y.stateNode=I,rn(I,E,L,p)&&Qs(y))}return mr(y),n7(y,y.type,y.pendingProps),null;case 6:if(p&&y.stateNode!=null)E=p.memoizedProps,ot?E!==L&&Qs(y):Mn&&(E!==L?(y.stateNode=Nn(L,d2.current,wa.current,y),Qs(y)):y.stateNode=p.stateNode);else{if(typeof L!="string"&&y.stateNode===null)throw Error(r(166));if(p=d2.current,E=wa.current,Sn(y)){if(!ei)throw Error(r(176));if(p=y.stateNode,E=y.memoizedProps,L=null,I=yo,I!==null)switch(I.tag){case 27:case 5:L=I.memoizedProps}Fre(p,E,y,L)||Ct(y)}else y.stateNode=Nn(L,p,E,y)}return mr(y),null;case 13:if(L=y.memoizedState,p===null||p.memoizedState!==null&&p.memoizedState.dehydrated!==null){if(I=Sn(y),L!==null&&L.dehydrated!==null){if(p===null){if(!I)throw Error(r(318));if(!ei)throw Error(r(344));if(I=y.memoizedState,I=I!==null?I.dehydrated:null,!I)throw Error(r(317));zre(I,y)}else hn(),!(y.flags&128)&&(y.memoizedState=null),y.flags|=4;mr(y),I=!1}else J0!==null&&(h7(J0),J0=null),I=!0;if(!I)return y.flags&256?(Dn(y),y):(Dn(y),null)}if(Dn(y),y.flags&128)return y.lanes=E,y;if(E=L!==null,p=p!==null&&p.memoizedState!==null,E){L=y.child,I=null,L.alternate!==null&&L.alternate.memoizedState!==null&&L.alternate.memoizedState.cachePool!==null&&(I=L.alternate.memoizedState.cachePool.pool);var q=null;L.memoizedState!==null&&L.memoizedState.cachePool!==null&&(q=L.memoizedState.cachePool.pool),q!==I&&(L.flags|=2048)}return E!==p&&E&&(y.child.flags|=8192),Gh(y,y.updateQueue),mr(y),null;case 4:return qe(),e7(p,y),p===null&&Vi(y.stateNode.containerInfo),mr(y),null;case 10:return Y0(y.type),mr(y),null;case 19:if(S($s),I=y.memoizedState,I===null)return mr(y),null;if(L=(y.flags&128)!==0,q=I.rendering,q===null)if(L)Es(I,!1);else{if(rs!==0||p!==null&&p.flags&128)for(p=y.child;p!==null;){if(q=Ai(p),q!==null){for(y.flags|=128,Es(I,!1),p=q.updateQueue,y.updateQueue=p,Gh(y,p),y.subtreeFlags=0,p=E,E=y.child;E!==null;)og(E,p),E=E.sibling;return R($s,$s.current&1|2),y.child}p=p.sibling}I.tail!==null&&Z0()>w7&&(y.flags|=128,L=!0,Es(I,!1),y.lanes=4194304)}else{if(!L)if(p=Ai(q),p!==null){if(y.flags|=128,L=!0,p=p.updateQueue,y.updateQueue=p,Gh(y,p),Es(I,!0),I.tail===null&&I.tailMode==="hidden"&&!q.alternate&&!Ui)return mr(y),null}else 2*Z0()-I.renderingStartTime>w7&&E!==536870912&&(y.flags|=128,L=!0,Es(I,!1),y.lanes=4194304);I.isBackwards?(q.sibling=y.child,y.child=q):(p=I.last,p!==null?p.sibling=q:y.child=q,I.last=q)}return I.tail!==null?(y=I.tail,I.rendering=y,I.tail=y.sibling,I.renderingStartTime=Z0(),y.sibling=null,p=$s.current,R($s,L?p&1|2:p&1),y):(mr(y),null);case 22:case 23:return Dn(y),Pt(),L=y.memoizedState!==null,p!==null?p.memoizedState!==null!==L&&(y.flags|=8192):L&&(y.flags|=8192),L?E&536870912&&!(y.flags&128)&&(mr(y),y.subtreeFlags&6&&(y.flags|=8192)):mr(y),E=y.updateQueue,E!==null&&Gh(y,E.retryQueue),E=null,p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(E=p.memoizedState.cachePool.pool),L=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(L=y.memoizedState.cachePool.pool),L!==E&&(y.flags|=2048),p!==null&&S(c4),null;case 24:return E=null,p!==null&&(E=p.memoizedState.cache),y.memoizedState.cache!==E&&(y.flags|=2048),Y0(ns),mr(y),null;case 25:return null}throw Error(r(156,y.tag))}function dT(p,y){switch(We(y),y.tag){case 1:return p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 3:return Y0(ns),qe(),p=y.flags,p&65536&&!(p&128)?(y.flags=p&-65537|128,y):null;case 26:case 27:case 5:return at(y),null;case 13:if(Dn(y),p=y.memoizedState,p!==null&&p.dehydrated!==null){if(y.alternate===null)throw Error(r(340));hn()}return p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 19:return S($s),null;case 4:return qe(),null;case 10:return Y0(y.type),null;case 22:case 23:return Dn(y),Pt(),p!==null&&S(c4),p=y.flags,p&65536?(y.flags=p&-65537|128,y):null;case 24:return Y0(ns),null;case 25:return null;default:return null}}function qh(p,y){switch(We(y),y.tag){case 3:Y0(ns),qe();break;case 26:case 27:case 5:at(y);break;case 4:qe();break;case 13:Dn(y);break;case 19:S($s);break;case 10:Y0(y.type);break;case 22:case 23:Dn(y),Pt(),p!==null&&S(c4);break;case 24:Y0(ns)}}function K3(p,y){try{var E=y.updateQueue,L=E!==null?E.lastEffect:null;if(L!==null){var I=L.next;E=I;do{if((E.tag&p)===p){L=void 0;var q=E.create,ue=E.inst;L=q(),ue.destroy=L}E=E.next}while(E!==I)}}catch(xe){zi(y,y.return,xe)}}function ys(p,y,E){try{var L=y.updateQueue,I=L!==null?L.lastEffect:null;if(I!==null){var q=I.next;L=q;do{if((L.tag&p)===p){var ue=L.inst,xe=ue.destroy;if(xe!==void 0){ue.destroy=void 0,I=y;var Oe=E;try{xe()}catch(it){zi(I,Oe,it)}}}L=L.next}while(L!==q)}}catch(it){zi(y,y.return,it)}}function Hh(p){var y=p.updateQueue;if(y!==null){var E=p.stateNode;try{wt(y,E)}catch(L){zi(p,p.return,L)}}}function jh(p,y,E){E.props=Xr(p.type,p.memoizedProps),E.state=p.memoizedState;try{E.componentWillUnmount()}catch(L){zi(p,y,L)}}function zo(p,y){try{var E=p.ref;if(E!==null){var L=p.stateNode;switch(p.tag){case 26:case 27:case 5:var I=_e(L);break;default:I=L}typeof E=="function"?p.refCleanup=E(I):E.current=I}}catch(q){zi(p,y,q)}}function vs(p,y){var E=p.ref,L=p.refCleanup;if(E!==null)if(typeof L=="function")try{L()}catch(I){zi(p,y,I)}finally{p.refCleanup=null,p=p.alternate,p!=null&&(p.refCleanup=null)}else if(typeof E=="function")try{E(null)}catch(I){zi(p,y,I)}else E.current=null}function F1(p){var y=p.type,E=p.memoizedProps,L=p.stateNode;try{pre(L,y,E,p)}catch(I){zi(p,p.return,I)}}function Gm(p,y,E){try{mre(p.stateNode,p.type,E,y,p)}catch(L){zi(p,p.return,L)}}function i7(p){return p.tag===5||p.tag===3||(r0?p.tag===26:!1)||(Qa?p.tag===27:!1)||p.tag===4}function r7(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||i7(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&(!Qa||p.tag!==27)&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function Z3(p,y,E){var L=p.tag;if(L===5||L===6)p=p.stateNode,y?yre(E,p,y):dre(E,p);else if(!(L===4||Qa&&L===27)&&(p=p.child,p!==null))for(Z3(p,y,E),p=p.sibling;p!==null;)Z3(p,y,E),p=p.sibling}function Wh(p,y,E){var L=p.tag;if(L===5||L===6)p=p.stateNode,y?gre(E,p,y):hre(E,p);else if(!(L===4||Qa&&L===27)&&(p=p.child,p!==null))for(Wh(p,y,E),p=p.sibling;p!==null;)Wh(p,y,E),p=p.sibling}function qm(p,y,E){p=p.containerInfo;try{DU(p,E)}catch(L){zi(y,y.return,L)}}function s7(p,y){for(Ue(p.containerInfo),da=y;da!==null;)if(p=da,y=p.child,(p.subtreeFlags&1028)!==0&&y!==null)y.return=p,da=y;else for(;da!==null;){p=da;var E=p.alternate;switch(y=p.flags,p.tag){case 0:break;case 11:case 15:break;case 1:if(y&1024&&E!==null){y=void 0;var L=p,I=E.memoizedProps;E=E.memoizedState;var q=L.stateNode;try{var ue=Xr(L.type,I,L.elementType===L.type);y=q.getSnapshotBeforeUpdate(ue,E),q.__reactInternalSnapshotBeforeUpdate=y}catch(xe){zi(L,L.return,xe)}}break;case 3:y&1024&&ot&&Mre(p.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(y&1024)throw Error(r(163))}if(y=p.sibling,y!==null){y.return=p.return,da=y;break}da=p.return}return ue=JU,JU=!1,ue}function a7(p,y,E){var L=E.flags;switch(E.tag){case 0:case 11:case 15:Q0(p,E),L&4&&K3(5,E);break;case 1:if(Q0(p,E),L&4)if(p=E.stateNode,y===null)try{p.componentDidMount()}catch(xe){zi(E,E.return,xe)}else{var I=Xr(E.type,y.memoizedProps);y=y.memoizedState;try{p.componentDidUpdate(I,y,p.__reactInternalSnapshotBeforeUpdate)}catch(xe){zi(E,E.return,xe)}}L&64&&Hh(E),L&512&&zo(E,E.return);break;case 3:if(Q0(p,E),L&64&&(L=E.updateQueue,L!==null)){if(p=null,E.child!==null)switch(E.child.tag){case 27:case 5:p=_e(E.child.stateNode);break;case 1:p=E.child.stateNode}try{wt(L,p)}catch(xe){zi(E,E.return,xe)}}break;case 26:if(r0){Q0(p,E),L&512&&zo(E,E.return);break}case 27:case 5:Q0(p,E),y===null&&L&4&&F1(E),L&512&&zo(E,E.return);break;case 12:Q0(p,E);break;case 13:Q0(p,E),L&4&&Wa(p,E);break;case 22:if(I=E.memoizedState!==null||$1,!I){y=y!==null&&y.memoizedState!==null||is;var q=$1,ue=is;$1=I,(is=y)&&!ue?Bu(p,E,(E.subtreeFlags&8772)!==0):Q0(p,E),$1=q,is=ue}L&512&&(E.memoizedProps.mode==="manual"?zo(E,E.return):vs(E,E.return));break;default:Q0(p,E)}}function Xh(p){var y=p.alternate;y!==null&&(p.alternate=null,Xh(y)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(y=p.stateNode,y!==null&&Jie(y)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function Ea(p,y,E){for(E=E.child;E!==null;)Lu(p,y,E),E=E.sibling}function Lu(p,y,E){if(xl&&typeof xl.onCommitFiberUnmount=="function")try{xl.onCommitFiberUnmount(v7,E)}catch{}switch(E.tag){case 26:if(r0){is||vs(E,y),Ea(p,y,E),E.memoizedState?VU(E.memoizedState):E.stateNode&&GU(E.stateNode);break}case 27:if(Qa){is||vs(E,y);var L=Ns,I=bl;Ns=E.stateNode,Ea(p,y,E),ese(E.stateNode),Ns=L,bl=I;break}case 5:is||vs(E,y);case 6:if(ot){if(L=Ns,I=bl,Ns=null,Ea(p,y,E),Ns=L,bl=I,Ns!==null)if(bl)try{xre(Ns,E.stateNode)}catch(q){zi(E,y,q)}else try{vre(Ns,E.stateNode)}catch(q){zi(E,y,q)}}else Ea(p,y,E);break;case 18:ot&&Ns!==null&&(bl?Hre(Ns,E.stateNode):qre(Ns,E.stateNode));break;case 4:ot?(L=Ns,I=bl,Ns=E.stateNode.containerInfo,bl=!0,Ea(p,y,E),Ns=L,bl=I):(Mn&&qm(E.stateNode,E,CU()),Ea(p,y,E));break;case 0:case 11:case 14:case 15:is||ys(2,E,y),is||ys(4,E,y),Ea(p,y,E);break;case 1:is||(vs(E,y),L=E.stateNode,typeof L.componentWillUnmount=="function"&&jh(E,y,L)),Ea(p,y,E);break;case 21:Ea(p,y,E);break;case 22:is||vs(E,y),is=(L=is)||E.memoizedState!==null,Ea(p,y,E),is=L;break;default:Ea(p,y,E)}}function Wa(p,y){if(ei&&y.memoizedState===null&&(p=y.alternate,p!==null&&(p=p.memoizedState,p!==null&&(p=p.dehydrated,p!==null))))try{Gre(p)}catch(E){zi(y,y.return,E)}}function AT(p){switch(p.tag){case 13:case 19:var y=p.stateNode;return y===null&&(y=p.stateNode=new ZU),y;case 22:return p=p.stateNode,y=p._retryCache,y===null&&(y=p._retryCache=new ZU),y;default:throw Error(r(435,p.tag))}}function z1(p,y){var E=AT(p);y.forEach(function(L){var I=vT.bind(null,p,L);E.has(L)||(E.add(L),L.then(I,I))})}function Xa(p,y){var E=y.deletions;if(E!==null)for(var L=0;L<E.length;L++){var I=E[L],q=p,ue=y;if(ot){var xe=ue;e:for(;xe!==null;){switch(xe.tag){case 27:case 5:Ns=xe.stateNode,bl=!1;break e;case 3:Ns=xe.stateNode.containerInfo,bl=!0;break e;case 4:Ns=xe.stateNode.containerInfo,bl=!0;break e}xe=xe.return}if(Ns===null)throw Error(r(160));Lu(q,ue,I),Ns=null,bl=!1}else Lu(q,ue,I);q=I.alternate,q!==null&&(q.return=null),I.return=null}if(y.subtreeFlags&13878)for(y=y.child;y!==null;)Hm(y,p),y=y.sibling}function Hm(p,y){var E=p.alternate,L=p.flags;switch(p.tag){case 0:case 11:case 14:case 15:Xa(y,p),po(p),L&4&&(ys(3,p,p.return),K3(3,p),ys(5,p,p.return));break;case 1:Xa(y,p),po(p),L&512&&(is||E===null||vs(E,E.return)),L&64&&$1&&(p=p.updateQueue,p!==null&&(L=p.callbacks,L!==null&&(E=p.shared.hiddenCallbacks,p.shared.hiddenCallbacks=E===null?L:E.concat(L))));break;case 26:if(r0){var I=eu;Xa(y,p),po(p),L&512&&(is||E===null||vs(E,E.return)),L&4&&(L=E!==null?E.memoizedState:null,y=p.memoizedState,E===null?y===null?p.stateNode===null?p.stateNode=Xre(I,p.type,p.memoizedProps,p):kU(I,p.type,p.stateNode):p.stateNode=zU(I,y,p.memoizedProps):L!==y?(L===null?E.stateNode!==null&&GU(E.stateNode):VU(L),y===null?kU(I,p.type,p.stateNode):zU(I,y,p.memoizedProps)):y===null&&p.stateNode!==null&&Gm(p,p.memoizedProps,E.memoizedProps));break}case 27:if(Qa&&L&4&&p.alternate===null){I=p.stateNode;var q=p.memoizedProps;try{Zre(I),Jre(p.type,q,I,p)}catch(Lt){zi(p,p.return,Lt)}}case 5:if(Xa(y,p),po(p),L&512&&(is||E===null||vs(E,E.return)),ot){if(p.flags&32){y=p.stateNode;try{RU(y)}catch(Lt){zi(p,p.return,Lt)}}L&4&&p.stateNode!=null&&(y=p.memoizedProps,Gm(p,y,E!==null?E.memoizedProps:y)),L&1024&&(OT=!0)}break;case 6:if(Xa(y,p),po(p),L&4&&ot){if(p.stateNode===null)throw Error(r(162));L=p.memoizedProps,E=E!==null?E.memoizedProps:L,y=p.stateNode;try{Are(y,E,L)}catch(Lt){zi(p,p.return,Lt)}}break;case 3:if(r0?(Qre(),I=eu,eu=bT(y.containerInfo),Xa(y,p),eu=I):Xa(y,p),po(p),L&4){if(ot&&ei&&E!==null&&E.memoizedState.isDehydrated)try{kre(y.containerInfo)}catch(Lt){zi(p,p.return,Lt)}if(Mn){L=y.containerInfo,E=y.pendingChildren;try{DU(L,E)}catch(Lt){zi(p,p.return,Lt)}}}OT&&(OT=!1,o7(p));break;case 4:r0?(E=eu,eu=bT(p.stateNode.containerInfo),Xa(y,p),po(p),eu=E):(Xa(y,p),po(p)),L&4&&Mn&&qm(p.stateNode,p,p.stateNode.pendingChildren);break;case 12:Xa(y,p),po(p);break;case 13:Xa(y,p),po(p),p.child.flags&8192&&p.memoizedState!==null!=(E!==null&&E.memoizedState!==null)&&(VT=Z0()),L&4&&(L=p.updateQueue,L!==null&&(p.updateQueue=null,z1(p,L)));break;case 22:L&512&&(is||E===null||vs(E,E.return)),I=p.memoizedState!==null;var ue=E!==null&&E.memoizedState!==null,xe=$1,Oe=is;if($1=xe||I,is=Oe||ue,Xa(y,p),is=Oe,$1=xe,po(p),y=p.stateNode,y._current=p,y._visibility&=-3,y._visibility|=y._pendingVisibility&2,L&8192&&(y._visibility=I?y._visibility&-2:y._visibility|1,I&&(y=$1||is,E===null||ue||y||o2(p)),ot&&(p.memoizedProps===null||p.memoizedProps.mode!=="manual"))){e:if(E=null,ot)for(y=p;;){if(y.tag===5||r0&&y.tag===26||Qa&&y.tag===27){if(E===null){ue=E=y;try{q=ue.stateNode,I?_re(q):Sre(ue.stateNode,ue.memoizedProps)}catch(Lt){zi(ue,ue.return,Lt)}}}else if(y.tag===6){if(E===null){ue=y;try{var it=ue.stateNode;I?bre(it):Tre(it,ue.memoizedProps)}catch(Lt){zi(ue,ue.return,Lt)}}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===p)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===p)break e;for(;y.sibling===null;){if(y.return===null||y.return===p)break e;E===y&&(E=null),y=y.return}E===y&&(E=null),y.sibling.return=y.return,y=y.sibling}}L&4&&(L=p.updateQueue,L!==null&&(E=L.retryQueue,E!==null&&(L.retryQueue=null,z1(p,E))));break;case 19:Xa(y,p),po(p),L&4&&(L=p.updateQueue,L!==null&&(p.updateQueue=null,z1(p,L)));break;case 21:break;default:Xa(y,p),po(p)}}function po(p){var y=p.flags;if(y&2){try{if(ot&&(!Qa||p.tag!==27)){e:{for(var E=p.return;E!==null;){if(i7(E)){var L=E;break e}E=E.return}throw Error(r(160))}switch(L.tag){case 27:if(Qa){var I=L.stateNode,q=r7(p);Wh(p,q,I);break}case 5:var ue=L.stateNode;L.flags&32&&(RU(ue),L.flags&=-33);var xe=r7(p);Wh(p,xe,ue);break;case 3:case 4:var Oe=L.stateNode.containerInfo,it=r7(p);Z3(p,it,Oe);break;default:throw Error(r(161))}}}catch(Lt){zi(p,p.return,Lt)}p.flags&=-3}y&4096&&(p.flags&=-4097)}function o7(p){if(p.subtreeFlags&1024)for(p=p.child;p!==null;){var y=p;o7(y),y.tag===5&&y.flags&1024&&ire(y.stateNode),p=p.sibling}}function Q0(p,y){if(y.subtreeFlags&8772)for(y=y.child;y!==null;)a7(p,y.alternate,y),y=y.sibling}function o2(p){for(p=p.child;p!==null;){var y=p;switch(y.tag){case 0:case 11:case 14:case 15:ys(4,y,y.return),o2(y);break;case 1:vs(y,y.return);var E=y.stateNode;typeof E.componentWillUnmount=="function"&&jh(y,y.return,E),o2(y);break;case 26:case 27:case 5:vs(y,y.return),o2(y);break;case 22:vs(y,y.return),y.memoizedState===null&&o2(y);break;default:o2(y)}p=p.sibling}}function Bu(p,y,E){for(E=E&&(y.subtreeFlags&8772)!==0,y=y.child;y!==null;){var L=y.alternate,I=p,q=y,ue=q.flags;switch(q.tag){case 0:case 11:case 15:Bu(I,q,E),K3(4,q);break;case 1:if(Bu(I,q,E),L=q,I=L.stateNode,typeof I.componentDidMount=="function")try{I.componentDidMount()}catch(it){zi(L,L.return,it)}if(L=q,I=L.updateQueue,I!==null){var xe=L.stateNode;try{var Oe=I.shared.hiddenCallbacks;if(Oe!==null)for(I.shared.hiddenCallbacks=null,I=0;I<Oe.length;I++)le(Oe[I],xe)}catch(it){zi(L,L.return,it)}}E&&ue&64&&Hh(q),zo(q,q.return);break;case 26:case 27:case 5:Bu(I,q,E),E&&L===null&&ue&4&&F1(q),zo(q,q.return);break;case 12:Bu(I,q,E);break;case 13:Bu(I,q,E),E&&ue&4&&Wa(I,q);break;case 22:q.memoizedState===null&&Bu(I,q,E),zo(q,q.return);break;default:Bu(I,q,E)}y=y.sibling}}function J3(p,y){var E=null;p!==null&&p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(E=p.memoizedState.cachePool.pool),p=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(p=y.memoizedState.cachePool.pool),p!==E&&(p!=null&&p.refCount++,E!=null&&s2(E))}function Yh(p,y){p=null,y.alternate!==null&&(p=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==p&&(y.refCount++,p!=null&&s2(p))}function e0(p,y,E,L){if(y.subtreeFlags&10256)for(y=y.child;y!==null;)jm(p,y,E,L),y=y.sibling}function jm(p,y,E,L){var I=y.flags;switch(y.tag){case 0:case 11:case 15:e0(p,y,E,L),I&2048&&K3(9,y);break;case 3:e0(p,y,E,L),I&2048&&(p=null,y.alternate!==null&&(p=y.alternate.memoizedState.cache),y=y.memoizedState.cache,y!==p&&(y.refCount++,p!=null&&s2(p)));break;case 12:if(I&2048){e0(p,y,E,L),p=y.stateNode;try{var q=y.memoizedProps,ue=q.id,xe=q.onPostCommit;typeof xe=="function"&&xe(ue,y.alternate===null?"mount":"update",p.passiveEffectDuration,-0)}catch(Oe){zi(y,y.return,Oe)}}else e0(p,y,E,L);break;case 23:break;case 22:q=y.stateNode,y.memoizedState!==null?q._visibility&4?e0(p,y,E,L):e4(p,y):q._visibility&4?e0(p,y,E,L):(q._visibility|=4,l2(p,y,E,L,(y.subtreeFlags&10256)!==0)),I&2048&&J3(y.alternate,y);break;case 24:e0(p,y,E,L),I&2048&&Yh(y.alternate,y);break;default:e0(p,y,E,L)}}function l2(p,y,E,L,I){for(I=I&&(y.subtreeFlags&10256)!==0,y=y.child;y!==null;){var q=p,ue=y,xe=E,Oe=L,it=ue.flags;switch(ue.tag){case 0:case 11:case 15:l2(q,ue,xe,Oe,I),K3(8,ue);break;case 23:break;case 22:var Lt=ue.stateNode;ue.memoizedState!==null?Lt._visibility&4?l2(q,ue,xe,Oe,I):e4(q,ue):(Lt._visibility|=4,l2(q,ue,xe,Oe,I)),I&&it&2048&&J3(ue.alternate,ue);break;case 24:l2(q,ue,xe,Oe,I),I&&it&2048&&Yh(ue.alternate,ue);break;default:l2(q,ue,xe,Oe,I)}y=y.sibling}}function e4(p,y){if(y.subtreeFlags&10256)for(y=y.child;y!==null;){var E=p,L=y,I=L.flags;switch(L.tag){case 22:e4(E,L),I&2048&&J3(L.alternate,L);break;case 24:e4(E,L),I&2048&&Yh(L.alternate,L);break;default:e4(E,L)}y=y.sibling}}function V1(p){if(p.subtreeFlags&b5)for(p=p.child;p!==null;)Wm(p),p=p.sibling}function Wm(p){switch(p.tag){case 26:V1(p),p.flags&b5&&(p.memoizedState!==null?Kre(eu,p.memoizedState,p.memoizedProps):wU(p.type,p.memoizedProps));break;case 5:V1(p),p.flags&b5&&wU(p.type,p.memoizedProps);break;case 3:case 4:if(r0){var y=eu;eu=bT(p.stateNode.containerInfo),V1(p),eu=y}else V1(p);break;case 22:p.memoizedState===null&&(y=p.alternate,y!==null&&y.memoizedState!==null?(y=b5,b5=16777216,V1(p),b5=y):V1(p));break;default:V1(p)}}function Xm(p){var y=p.alternate;if(y!==null&&(p=y.child,p!==null)){y.child=null;do y=p.sibling,p.sibling=null,p=y;while(p!==null)}}function t4(p){var y=p.deletions;if(p.flags&16){if(y!==null)for(var E=0;E<y.length;E++){var L=y[E];da=L,u7(L,p)}Xm(p)}if(p.subtreeFlags&10256)for(p=p.child;p!==null;)l7(p),p=p.sibling}function l7(p){switch(p.tag){case 0:case 11:case 15:t4(p),p.flags&2048&&ys(9,p,p.return);break;case 3:t4(p);break;case 12:t4(p);break;case 22:var y=p.stateNode;p.memoizedState!==null&&y._visibility&4&&(p.return===null||p.return.tag!==13)?(y._visibility&=-5,Qh(p)):t4(p);break;default:t4(p)}}function Qh(p){var y=p.deletions;if(p.flags&16){if(y!==null)for(var E=0;E<y.length;E++){var L=y[E];da=L,u7(L,p)}Xm(p)}for(p=p.child;p!==null;){switch(y=p,y.tag){case 0:case 11:case 15:ys(8,y,y.return),Qh(y);break;case 22:E=y.stateNode,E._visibility&4&&(E._visibility&=-5,Qh(y));break;default:Qh(y)}p=p.sibling}}function u7(p,y){for(;da!==null;){var E=da;switch(E.tag){case 0:case 11:case 15:ys(8,E,y);break;case 23:case 22:if(E.memoizedState!==null&&E.memoizedState.cachePool!==null){var L=E.memoizedState.cachePool.pool;L!=null&&L.refCount++}break;case 24:s2(E.memoizedState.cache)}if(L=E.child,L!==null)L.return=E,da=L;else e:for(E=p;da!==null;){L=da;var I=L.sibling,q=L.return;if(Xh(L),L===E){da=null;break e}if(I!==null){I.return=q,da=I;break e}da=q}}}function yl(p){var y=Bn(p);if(y!=null){if(typeof y.memoizedProps["data-testname"]!="string")throw Error(r(364));return y}if(p=are(p),p===null)throw Error(r(362));return p.stateNode.current}function $h(p,y){var E=p.tag;switch(y.$$typeof){case Sg:if(p.type===y.value)return!0;break;case Tg:e:{for(y=y.value,p=[p,0],E=0;E<p.length;){var L=p[E++],I=L.tag,q=p[E++],ue=y[q];if(I!==5&&I!==26&&I!==27||!y7(L)){for(;ue!=null&&$h(L,ue);)q++,ue=y[q];if(q===y.length){y=!0;break e}else for(L=L.child;L!==null;)p.push(L,q),L=L.sibling}}y=!1}return y;case Mg:if((E===5||E===26||E===27)&&ure(p.stateNode,y.value))return!0;break;case wg:if((E===5||E===6||E===26||E===27)&&(p=lre(p),p!==null&&0<=p.indexOf(y.value)))return!0;break;case Eg:if((E===5||E===26||E===27)&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===y.value.toLowerCase()))return!0;break;default:throw Error(r(365))}return!1}function c7(p){switch(p.$$typeof){case Sg:return"<"+(a(p.value)||"Unknown")+">";case Tg:return":has("+(c7(p)||"")+")";case Mg:return'[role="'+p.value+'"]';case wg:return'"'+p.value+'"';case Eg:return'[data-testname="'+p.value+'"]';default:throw Error(r(365))}}function Ym(p,y){var E=[];p=[p,0];for(var L=0;L<p.length;){var I=p[L++],q=I.tag,ue=p[L++],xe=y[ue];if(q!==5&&q!==26&&q!==27||!y7(I)){for(;xe!=null&&$h(I,xe);)ue++,xe=y[ue];if(ue===y.length)E.push(I);else for(I=I.child;I!==null;)p.push(I,ue),I=I.sibling}}return E}function f7(p,y){if(!g7)throw Error(r(363));p=yl(p),p=Ym(p,y),y=[],p=Array.from(p);for(var E=0;E<p.length;){var L=p[E++],I=L.tag;if(I===5||I===26||I===27)y7(L)||y.push(L.stateNode);else for(L=L.child;L!==null;)p.push(L),L=L.sibling}return y}function mo(){if(or&2&&Ri!==0)return Ri&-Ri;if(D.T!==null){var p=p5;return p!==0?p:ut()}return Kie()}function Qm(){u0===0&&(u0=!(Ri&536870912)||Ui?F():536870912);var p=l0.current;return p!==null&&(p.flags|=32),u0}function Vr(p,y,E){(p===br&&Sr===2||p.cancelPendingCommit!==null)&&(G1(p,0),$0(p,Ri,u0,!1)),H(p,E),(!(or&2)||p!==br)&&(p===br&&(!(or&2)&&(f4|=E),rs===4&&$0(p,Ri,u0,!1)),gt(p))}function Kh(p,y,E){if(or&6)throw Error(r(327));var L=!E&&(y&60)===0&&(y&p.expiredLanes)===0||O(p,y),I=L?mT(p,y):e5(p,y,!0),q=L;do{if(I===0){S5&&!L&&$0(p,y,0,!1);break}else if(I===6)$0(p,y,0,!K1);else{if(E=p.current.alternate,q&&!$m(E)){I=e5(p,y,!1),q=!1;continue}if(I===2){if(q=y,p.errorRecoveryDisabledLanes&q)var ue=0;else ue=p.pendingLanes&-536870913,ue=ue!==0?ue:ue&536870912?536870912:0;if(ue!==0){y=ue;e:{var xe=p;I=E7;var Oe=ei&&xe.current.memoizedState.isDehydrated;if(Oe&&(G1(xe,ue).flags|=256),ue=e5(xe,ue,!1),ue!==2){if(IT&&!Oe){xe.errorRecoveryDisabledLanes|=q,f4|=q,I=4;break e}q=Vu,Vu=I,q!==null&&h7(q)}I=ue}if(q=!1,I!==2)continue}}if(I===1){G1(p,0),$0(p,y,0,!0);break}e:{switch(L=p,I){case 0:case 1:throw Error(r(345));case 4:if((y&4194176)===y){$0(L,y,u0,!K1);break e}break;case 2:Vu=null;break;case 3:case 5:break;default:throw Error(r(329))}if(L.finishedWork=E,L.finishedLanes=y,(y&62914560)===y&&(q=VT+300-Z0(),10<q)){if($0(L,y,u0,!K1),B(L,0)!==0)break e;L.timeoutHandle=Ln(n4.bind(null,L,E,Vu,Rg,zT,y,u0,f4,T5,K1,2,-0,0),q);break e}n4(L,E,Vu,Rg,zT,y,u0,f4,T5,K1,0,-0,0)}}break}while(!0);gt(p)}function h7(p){Vu===null?Vu=p:Vu.push.apply(Vu,p)}function n4(p,y,E,L,I,q,ue,xe,Oe,it,Lt,jt,Zt){var ti=y.subtreeFlags;if((ti&8192||(ti&16785408)===16785408)&&(tre(),Wm(y),y=nre(),y!==null)){p.cancelPendingCommit=y(tg.bind(null,p,E,L,I,ue,xe,Oe,1,jt,Zt)),$0(p,q,ue,!it);return}tg(p,E,L,I,ue,xe,Oe,Lt,jt,Zt)}function $m(p){for(var y=p;;){var E=y.tag;if((E===0||E===11||E===15)&&y.flags&16384&&(E=y.updateQueue,E!==null&&(E=E.stores,E!==null)))for(var L=0;L<E.length;L++){var I=E[L],q=I.getSnapshot;I=I.value;try{if(!_l(q(),I))return!1}catch{return!1}}if(E=y.child,y.subtreeFlags&16384&&E!==null)E.return=y,y=E;else{if(y===p)break;for(;y.sibling===null;){if(y.return===null||y.return===p)return!0;y=y.return}y.sibling.return=y.return,y=y.sibling}}return!0}function $0(p,y,E,L){y&=~FT,y&=~f4,p.suspendedLanes|=y,p.pingedLanes&=~y,L&&(p.warmLanes|=y),L=p.expirationTimes;for(var I=y;0<I;){var q=31-vl(I),ue=1<<q;L[q]=-1,I&=~ue}E!==0&&$(p,E,y)}function Km(){return or&6?!0:(Ut(0),!1)}function k1(){if(xi!==null){if(Sr===0)var p=xi.return;else p=xi,Q1=u4=null,j3(p),y5=null,S7=0,p=xi;for(;p!==null;)qh(p.alternate,p),p=p.return;xi=null}}function G1(p,y){p.finishedWork=null,p.finishedLanes=0;var E=p.timeoutHandle;E!==vn&&(p.timeoutHandle=vn,Jn(E)),E=p.cancelPendingCommit,E!==null&&(p.cancelPendingCommit=null,E()),k1(),br=p,xi=E=K0(p.current,null),Ri=y,Sr=0,Sl=null,K1=!1,S5=O(p,y),IT=!1,T5=u0=FT=f4=g2=rs=0,Vu=E7=null,zT=!1,y&8&&(y|=y&32);var L=p.entangledLanes;if(L!==0)for(p=p.entanglements,L&=y;0<L;){var I=31-vl(L),q=1<<I;y|=p[I],L&=~q}return Z1=y,ce(),E}function u2(p,y){ci=null,D.H=zu,y===b7?(y=qt(),Sr=3):y===PT?(y=qt(),Sr=4):Sr=y===$U?8:y!==null&&typeof y=="object"&&typeof y.then=="function"?6:1,Sl=y,xi===null&&(rs=1,n2(p,fe(y,p.current)))}function Zh(){var p=l0.current;return p===null?!0:(Ri&4194176)===Ri?Fu===null:(Ri&62914560)===Ri||Ri&536870912?p===Fu:!1}function Jh(){var p=D.H;return D.H=zu,p===null?zu:p}function d7(){var p=D.A;return D.A=Ase,p}function c2(){rs=4,K1||(Ri&4194176)!==Ri&&l0.current!==null||(S5=!0),!(g2&134217727)&&!(f4&134217727)||br===null||$0(br,Ri,u0,!1)}function e5(p,y,E){var L=or;or|=2;var I=Jh(),q=d7();(br!==p||Ri!==y)&&(Rg=null,G1(p,y)),y=!1;var ue=rs;e:do try{if(Sr!==0&&xi!==null){var xe=xi,Oe=Sl;switch(Sr){case 8:k1(),ue=6;break e;case 3:case 2:case 6:l0.current===null&&(y=!0);var it=Sr;if(Sr=0,Sl=null,f2(p,xe,Oe,it),E&&S5){ue=0;break e}break;default:it=Sr,Sr=0,Sl=null,f2(p,xe,Oe,it)}}pT(),ue=rs;break}catch(Lt){u2(p,Lt)}while(!0);return y&&p.shellSuspendCounter++,Q1=u4=null,or=L,D.H=I,D.A=q,xi===null&&(br=null,Ri=0,ce()),ue}function pT(){for(;xi!==null;)Zm(xi)}function mT(p,y){var E=or;or|=2;var L=Jh(),I=d7();br!==p||Ri!==y?(Rg=null,w7=Z0()+500,G1(p,y)):S5=O(p,y);e:do try{if(Sr!==0&&xi!==null){y=xi;var q=Sl;t:switch(Sr){case 1:Sr=0,Sl=null,f2(p,y,q,1);break;case 2:if(Gt(q)){Sr=0,Sl=null,Jm(y);break}y=function(){Sr===2&&br===p&&(Sr=7),gt(p)},q.then(y,y);break e;case 3:Sr=7;break e;case 4:Sr=5;break e;case 7:Gt(q)?(Sr=0,Sl=null,Jm(y)):(Sr=0,Sl=null,f2(p,y,q,7));break;case 5:var ue=null;switch(xi.tag){case 26:ue=xi.memoizedState;case 5:case 27:var xe=xi,Oe=xe.type,it=xe.pendingProps;if(ue?qU(ue):EU(Oe,it)){Sr=0,Sl=null;var Lt=xe.sibling;if(Lt!==null)xi=Lt;else{var jt=xe.return;jt!==null?(xi=jt,t5(jt)):xi=null}break t}}Sr=0,Sl=null,f2(p,y,q,5);break;case 6:Sr=0,Sl=null,f2(p,y,q,6);break;case 8:k1(),rs=6;break e;default:throw Error(r(462))}}gT();break}catch(Zt){u2(p,Zt)}while(!0);return Q1=u4=null,D.H=L,D.A=I,or=E,xi!==null?0:(br=null,Ri=0,ce(),rs)}function gT(){for(;xi!==null&&!ise();)Zm(xi)}function Zm(p){var y=Vm(p.alternate,p,Z1);p.memoizedProps=p.pendingProps,y===null?t5(p):xi=y}function Jm(p){var y=p,E=y.alternate;switch(y.tag){case 15:case 0:y=z8(E,y,y.pendingProps,y.type,void 0,Ri);break;case 11:y=z8(E,y,y.pendingProps,y.type.render,y.ref,Ri);break;case 5:j3(y);default:qh(E,y),y=xi=og(y,Z1),y=Vm(E,y,Z1)}p.memoizedProps=p.pendingProps,y===null?t5(p):xi=y}function f2(p,y,E,L){Q1=u4=null,j3(y),y5=null,S7=0;var I=y.return;try{if(hT(p,I,y,E,Ri)){rs=1,n2(p,fe(E,p.current)),xi=null;return}}catch(q){if(I!==null)throw xi=I,q;rs=1,n2(p,fe(E,p.current)),xi=null;return}y.flags&32768?(Ui||L===1?p=!0:S5||Ri&536870912?p=!1:(K1=p=!0,(L===2||L===3||L===6)&&(L=l0.current,L!==null&&L.tag===13&&(L.flags|=16384))),eg(y,p)):t5(y)}function t5(p){var y=p;do{if(y.flags&32768){eg(y,K1);return}p=y.return;var E=I1(y.alternate,y,Z1);if(E!==null){xi=E;return}if(y=y.sibling,y!==null){xi=y;return}xi=y=p}while(y!==null);rs===0&&(rs=5)}function eg(p,y){do{var E=dT(p.alternate,p);if(E!==null){E.flags&=32767,xi=E;return}if(E=p.return,E!==null&&(E.flags|=32768,E.subtreeFlags=0,E.deletions=null),!y&&(p=p.sibling,p!==null)){xi=p;return}xi=p=E}while(p!==null);rs=6,xi=null}function tg(p,y,E,L,I,q,ue,xe,Oe,it){var Lt=D.T,jt=Ou();try{Xi(2),D.T=null,ng(p,y,E,L,jt,I,q,ue,xe,Oe,it)}finally{D.T=Lt,Xi(jt)}}function ng(p,y,E,L,I,q,ue,xe){do sr();while(h4!==null);if(or&6)throw Error(r(327));var Oe=p.finishedWork;if(L=p.finishedLanes,Oe===null)return null;if(p.finishedWork=null,p.finishedLanes=0,Oe===p.current)throw Error(r(177));p.callbackNode=null,p.callbackPriority=0,p.cancelPendingCommit=null;var it=Oe.lanes|Oe.childLanes;if(it|=wT,Z(p,L,it,q,ue,xe),p===br&&(xi=br=null,Ri=0),!(Oe.subtreeFlags&10256)&&!(Oe.flags&10256)||Cg||(Cg=!0,kT=it,GT=E,sg(MT,function(){return sr(),null})),E=(Oe.flags&15990)!==0,Oe.subtreeFlags&15990||E?(E=D.T,D.T=null,q=Ou(),Xi(2),ue=or,or|=4,s7(p,Oe),Hm(Oe,p),De(p.containerInfo),p.current=Oe,a7(p,Oe.alternate,Oe),rse(),or=ue,Xi(q),D.T=E):p.current=Oe,Cg?(Cg=!1,h4=p,R7=L):A7(p,it),it=p.pendingLanes,it===0&&(y2=null),Y(Oe.stateNode),gt(p),y!==null)for(I=p.onRecoverableError,Oe=0;Oe<y.length;Oe++)it=y[Oe],I(it.value,{componentStack:it.stack});return R7&3&&sr(),it=p.pendingLanes,L&4194218&&it&42?p===qT?C7++:(C7=0,qT=p):C7=0,Ut(0),null}function A7(p,y){(p.pooledCacheLanes&=y)===0&&(y=p.pooledCache,y!=null&&(p.pooledCache=null,s2(y)))}function sr(){if(h4!==null){var p=h4,y=kT;kT=0;var E=ne(R7),L=32>E?32:E;E=D.T;var I=Ou();try{if(Xi(L),D.T=null,h4===null)var q=!1;else{L=GT,GT=null;var ue=h4,xe=R7;if(h4=null,R7=0,or&6)throw Error(r(331));var Oe=or;if(or|=4,l7(ue.current),jm(ue,ue.current,xe,L),or=Oe,Ut(0,!1),xl&&typeof xl.onPostCommitFiberRoot=="function")try{xl.onPostCommitFiberRoot(v7,ue)}catch{}q=!0}return q}finally{Xi(I),D.T=E,A7(p,y)}}return!1}function ig(p,y,E){y=fe(E,y),y=i2(p.stateNode,y,2),p=Vt(p,y,2),p!==null&&(H(p,2),gt(p))}function zi(p,y,E){if(p.tag===3)ig(p,p,E);else for(;y!==null;){if(y.tag===3){ig(y,p,E);break}else if(y.tag===1){var L=y.stateNode;if(typeof y.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(y2===null||!y2.has(L))){p=fe(E,p),E=Om(2),L=Vt(y,E,2),L!==null&&(Im(E,L,y,p),H(L,2),gt(L));break}}y=y.return}}function q1(p,y,E){var L=p.pingCache;if(L===null){L=p.pingCache=new pse;var I=new Set;L.set(y,I)}else I=L.get(y),I===void 0&&(I=new Set,L.set(y,I));I.has(E)||(IT=!0,I.add(E),p=Vo.bind(null,p,y,E),y.then(p,p))}function Vo(p,y,E){var L=p.pingCache;L!==null&&L.delete(y),p.pingedLanes|=p.suspendedLanes&E,p.warmLanes&=~E,br===p&&(Ri&E)===E&&(rs===4||rs===3&&(Ri&62914560)===Ri&&300>Z0()-VT?!(or&2)&&G1(p,0):FT|=E,T5===Ri&&(T5=0)),gt(p)}function rg(p,y){y===0&&(y=z()),p=mt(p,y),p!==null&&(H(p,y),gt(p))}function yT(p){var y=p.memoizedState,E=0;y!==null&&(E=y.retryLane),rg(p,E)}function vT(p,y){var E=0;switch(p.tag){case 13:var L=p.stateNode,I=p.memoizedState;I!==null&&(E=I.retryLane);break;case 19:L=p.stateNode;break;case 22:L=p.stateNode._retryCache;break;default:throw Error(r(314))}L!==null&&L.delete(y),rg(p,E)}function sg(p,y){return hg(p,y)}function ag(p,y,E,L){this.tag=p,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=y,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function n5(p){return p=p.prototype,!(!p||!p.isReactComponent)}function K0(p,y){var E=p.alternate;return E===null?(E=t(p.tag,y,p.key,p.mode),E.elementType=p.elementType,E.type=p.type,E.stateNode=p.stateNode,E.alternate=p,p.alternate=E):(E.pendingProps=y,E.type=p.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=p.flags&31457280,E.childLanes=p.childLanes,E.lanes=p.lanes,E.child=p.child,E.memoizedProps=p.memoizedProps,E.memoizedState=p.memoizedState,E.updateQueue=p.updateQueue,y=p.dependencies,E.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext},E.sibling=p.sibling,E.index=p.index,E.ref=p.ref,E.refCleanup=p.refCleanup,E}function og(p,y){p.flags&=31457282;var E=p.alternate;return E===null?(p.childLanes=0,p.lanes=y,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=E.childLanes,p.lanes=E.lanes,p.child=E.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=E.memoizedProps,p.memoizedState=E.memoizedState,p.updateQueue=E.updateQueue,p.type=E.type,y=E.dependencies,p.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),p}function i5(p,y,E,L,I,q){var ue=0;if(L=p,typeof p=="function")n5(p)&&(ue=1);else if(typeof p=="string")ue=r0&&Qa?IU(p,E,wa.current)?26:jU(p)?27:5:r0?IU(p,E,wa.current)?26:5:Qa&&jU(p)?27:5;else e:switch(p){case j1:return H1(E.children,I,q,y);case m7:ue=8,I|=24;break;case h2:return p=t(12,E,y,I|2),p.elementType=h2,p.lanes=q,p;case i0:return p=t(13,E,y,I),p.elementType=i0,p.lanes=q,p;case h:return p=t(19,E,y,I),p.elementType=h,p.lanes=q,p;case x:return lg(E,I,q,y);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case s5:case Ya:ue=10;break e;case W1:ue=9;break e;case a5:ue=11;break e;case A:ue=14;break e;case g:ue=16,L=null;break e}ue=29,E=Error(r(130,p===null?"null":typeof p,"")),L=null}return y=t(ue,E,y,I),y.elementType=p,y.type=L,y.lanes=q,y}function H1(p,y,E,L){return p=t(7,p,L,y),p.lanes=E,p}function lg(p,y,E,L){p=t(22,p,L,y),p.elementType=x,p.lanes=E;var I={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var q=I._current;if(q===null)throw Error(r(456));if(!(I._pendingVisibility&2)){var ue=mt(q,2);ue!==null&&(I._pendingVisibility|=2,Vr(ue,q,2))}},attach:function(){var q=I._current;if(q===null)throw Error(r(456));if(I._pendingVisibility&2){var ue=mt(q,2);ue!==null&&(I._pendingVisibility&=-3,Vr(ue,q,2))}}};return p.stateNode=I,p}function t0(p,y,E){return p=t(6,p,null,y),p.lanes=E,p}function ko(p,y,E){return y=t(4,p.children!==null?p.children:[],p.key,y),y.lanes=E,y.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},y}function _n(p,y,E,L,I,q,ue,xe){this.tag=1,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=vn,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=k(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k(0),this.hiddenUpdates=k(null),this.identifierPrefix=L,this.onUncaughtError=I,this.onCaughtError=q,this.onRecoverableError=ue,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=xe,this.incompleteTransitions=new Map}function go(p,y,E,L,I,q,ue,xe,Oe,it,Lt,jt){return p=new _n(p,y,E,ue,xe,Oe,it,jt),y=1,q===!0&&(y|=24),q=t(3,null,null,y),p.current=q,q.stateNode=p,y=K8(),y.refCount++,p.pooledCache=y,y.refCount++,q.memoizedState={element:L,isDehydrated:E,cache:y},Kt(q),p}function An(p){return p?(p=u5,p):u5}function ws(p){var y=p._reactInternals;if(y===void 0)throw typeof p.render=="function"?Error(r(188)):(p=Object.keys(p).join(","),Error(r(268,p)));return p=v(y),p=p!==null?_(p):null,p===null?null:_e(p.stateNode)}function p7(p,y,E,L,I,q){I=An(I),L.context===null?L.context=I:L.pendingContext=I,L=ct(y),L.payload={element:E},q=q===void 0?null:q,q!==null&&(L.callback=q),E=Vt(p,L,y),E!==null&&(Vr(E,p,y),fn(E,p,y))}function r5(p,y){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var E=p.retryLane;p.retryLane=E!==0&&E<y?E:y}}function n0(p,y){r5(p,y),(p=p.alternate)&&r5(p,y)}var ui={},fa=be,Rs=kPe(),Uu=Object.assign,ug=Symbol.for("react.element"),ht=Symbol.for("react.transitional.element"),xt=Symbol.for("react.portal"),j1=Symbol.for("react.fragment"),m7=Symbol.for("react.strict_mode"),h2=Symbol.for("react.profiler"),s5=Symbol.for("react.provider"),W1=Symbol.for("react.consumer"),Ya=Symbol.for("react.context"),a5=Symbol.for("react.forward_ref"),i0=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.for("react.offscreen"),b=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator,N=Symbol.for("react.client.reference"),D=fa.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U,G,X=!1,se=Array.isArray,pe=e.rendererVersion,Ae=e.rendererPackageName,he=e.extraDevToolsConfig,_e=e.getPublicInstance,Ne=e.getRootHostContext,ke=e.getChildHostContext,Ue=e.prepareForCommit,De=e.resetAfterCommit,Te=e.createInstance,_t=e.appendInitialChild,rn=e.finalizeInitialChildren,Ht=e.shouldSetTextContent,Nn=e.createTextInstance,Ln=e.scheduleTimeout,Jn=e.cancelTimeout,vn=e.noTimeout,Wt=e.isPrimaryRenderer;e.warnsIfNotActing;var ot=e.supportsMutation,Mn=e.supportsPersistence,ei=e.supportsHydration,Bn=e.getInstanceFromNode;e.beforeActiveInstanceBlur,e.afterActiveInstanceBlur;var Vi=e.preparePortalMount;e.prepareScopeUpdate,e.getInstanceFromScope;var Xi=e.setCurrentUpdatePriority,Ou=e.getCurrentUpdatePriority,Kie=e.resolveUpdatePriority;e.resolveEventType,e.resolveEventTimeStamp;var Zie=e.shouldAttemptEagerTransition,Jie=e.detachDeletedInstance;e.requestPostPaintCallback;var ere=e.maySuspendCommit,EU=e.preloadInstance,tre=e.startSuspendingCommit,wU=e.suspendInstance,nre=e.waitForCommitToBeReady,o5=e.NotPendingTransition,i4=e.HostTransitionContext,ire=e.resetFormInstance;e.bindToConsole;var rre=e.supportsMicrotasks,sre=e.scheduleMicrotask,g7=e.supportsTestSelectors,are=e.findFiberRoot,ore=e.getBoundingRect,lre=e.getTextContent,y7=e.isHiddenSubtree,ure=e.matchAccessibilityRole,cre=e.setFocusIfFocusable,fre=e.setupIntersectionObserver,hre=e.appendChild,dre=e.appendChildToContainer,Are=e.commitTextUpdate,pre=e.commitMount,mre=e.commitUpdate,gre=e.insertBefore,yre=e.insertInContainerBefore,vre=e.removeChild,xre=e.removeChildFromContainer,RU=e.resetTextContent,_re=e.hideInstance,bre=e.hideTextInstance,Sre=e.unhideInstance,Tre=e.unhideTextInstance,Mre=e.clearContainer,Ere=e.cloneInstance,CU=e.createContainerChildSet,NU=e.appendChildToContainerChildSet,wre=e.finalizeContainerChildren,DU=e.replaceContainerChildren,PU=e.cloneHiddenInstance,LU=e.cloneHiddenTextInstance,xT=e.isSuspenseInstancePending,_T=e.isSuspenseInstanceFallback,Rre=e.getSuspenseInstanceFallbackErrorDetails,Cre=e.registerSuspenseInstanceRetry,Nre=e.canHydrateFormStateMarker,Dre=e.isFormStateMarkerMatching,BU=e.getNextHydratableSibling,UU=e.getFirstHydratableChild,Pre=e.getFirstHydratableChildWithinContainer,Lre=e.getFirstHydratableChildWithinSuspenseInstance,Bre=e.canHydrateInstance,Ure=e.canHydrateTextInstance,Ore=e.canHydrateSuspenseInstance,Ire=e.hydrateInstance,Fre=e.hydrateTextInstance,zre=e.hydrateSuspenseInstance,Vre=e.getNextHydratableInstanceAfterSuspenseInstance,kre=e.commitHydratedContainer,Gre=e.commitHydratedSuspenseInstance,qre=e.clearSuspenseBoundary,Hre=e.clearSuspenseBoundaryFromContainer,OU=e.shouldDeleteUnhydratedTailInstances;e.diffHydratedPropsForDevWarnings,e.diffHydratedTextForDevWarnings,e.describeHydratableInstanceForDevWarnings;var jre=e.validateHydratableInstance,Wre=e.validateHydratableTextInstance,r0=e.supportsResources,IU=e.isHostHoistableType,bT=e.getHoistableRoot,FU=e.getResource,zU=e.acquireResource,VU=e.releaseResource,Xre=e.hydrateHoistable,kU=e.mountHoistable,GU=e.unmountHoistable,Yre=e.createHoistableInstance,Qre=e.prepareToCommitHoistables,$re=e.mayResourceSuspendCommit,qU=e.preloadResource,Kre=e.suspendResource,Qa=e.supportsSingletons,HU=e.resolveSingletonInstance,Zre=e.clearSingleton,Jre=e.acquireSingletonInstance,ese=e.releaseSingletonInstance,jU=e.isHostSingletonType,ST=[],l5=-1,u5={},vl=Math.clz32?Math.clz32:C,tse=Math.log,nse=Math.LN2,cg=128,fg=4194304,hg=Rs.unstable_scheduleCallback,TT=Rs.unstable_cancelCallback,ise=Rs.unstable_shouldYield,rse=Rs.unstable_requestPaint,Z0=Rs.unstable_now,WU=Rs.unstable_ImmediatePriority,sse=Rs.unstable_UserBlockingPriority,MT=Rs.unstable_NormalPriority,ase=Rs.unstable_IdlePriority,ose=Rs.log,lse=Rs.unstable_setDisableYieldValue,v7=null,xl=null,_l=typeof Object.is=="function"?Object.is:Q,XU=new WeakMap,c5=[],f5=0,dg=null,Ag=0,s0=[],a0=0,r4=null,X1=1,Y1="",wa=M(null),x7=M(null),d2=M(null),pg=M(null),yo=null,$a=null,Ui=!1,J0=null,Iu=!1,ET=Error(r(519)),o0=[],h5=0,wT=0,mg=null,d5=null,RT=!1,gg=!1,CT=!1,A5=0,_7=null,NT=0,p5=0,m5=null,A2=!1,DT=!1,use=Object.prototype.hasOwnProperty,b7=Error(r(460)),PT=Error(r(474)),yg={then:function(){}},g5=null,y5=null,S7=0,s4=zr(!0),YU=zr(!1),v5=M(null),vg=M(0),l0=M(null),Fu=null,$s=M(0),p2=0,ci=null,ar=null,Cs=null,xg=!1,x5=!1,a4=!1,_g=0,T7=0,_5=null,cse=0,LT=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},zu={readContext:ca,use:ze,useCallback:Qn,useContext:Qn,useEffect:Qn,useImperativeHandle:Qn,useLayoutEffect:Qn,useInsertionEffect:Qn,useMemo:Qn,useReducer:Qn,useRef:Qn,useState:Qn,useDebugValue:Qn,useDeferredValue:Qn,useTransition:Qn,useSyncExternalStore:Qn,useId:Qn};zu.useCacheRefresh=Qn,zu.useMemoCache=Qn,zu.useHostTransitionStatus=Qn,zu.useFormState=Qn,zu.useActionState=Qn,zu.useOptimistic=Qn;var o4={readContext:ca,use:ze,useCallback:function(p,y){return oe().memoizedState=[p,y===void 0?null:y],p},useContext:ca,useEffect:wm,useImperativeHandle:function(p,y,E){E=E!=null?E.concat([p]):null,Dh(4194308,4,Rm.bind(null,y,p),E)},useLayoutEffect:function(p,y){return Dh(4194308,4,p,y)},useInsertionEffect:function(p,y){Dh(4,2,p,y)},useMemo:function(p,y){var E=oe();y=y===void 0?null:y;var L=p();if(a4){ee(!0);try{p()}finally{ee(!1)}}return E.memoizedState=[L,y],L},useReducer:function(p,y,E){var L=oe();if(E!==void 0){var I=E(y);if(a4){ee(!0);try{E(y)}finally{ee(!1)}}}else I=y;return L.memoizedState=L.baseState=I,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:I},L.queue=p,p=p.dispatch=fT.bind(null,ci,p),[L.memoizedState,p]},useRef:function(p){var y=oe();return p={current:p},y.memoizedState=p},useState:function(p){p=K(p);var y=p.queue,E=B8.bind(null,ci,y);return y.dispatch=E,[p.memoizedState,E]},useDebugValue:D8,useDeferredValue:function(p,y){var E=oe();return W3(E,p,y)},useTransition:function(){var p=K(!1);return p=Dm.bind(null,ci,p.queue,!0,!1),oe().memoizedState=p,[!1,p]},useSyncExternalStore:function(p,y,E){var L=ci,I=oe();if(Ui){if(E===void 0)throw Error(r(407));E=E()}else{if(E=y(),br===null)throw Error(r(349));Ri&60||Rn(L,y,E)}I.memoizedState=E;var q={value:E,getSnapshot:y};return I.queue=q,wm(si.bind(null,L,q,p),[p]),L.flags|=2048,Zl(9,dn.bind(null,L,q,E,y),{destroy:void 0},null),E},useId:function(){var p=oe(),y=br.identifierPrefix;if(Ui){var E=Y1,L=X1;E=(L&~(1<<32-vl(L)-1)).toString(32)+E,y=":"+y+"R"+E,E=_g++,0<E&&(y+="H"+E.toString(32)),y+=":"}else E=cse++,y=":"+y+"r"+E.toString(32)+":";return p.memoizedState=y},useCacheRefresh:function(){return oe().memoizedState=L8.bind(null,ci)}};o4.useMemoCache=Pe,o4.useHostTransitionStatus=Uh,o4.useFormState=Wi,o4.useActionState=Wi,o4.useOptimistic=function(p){var y=oe();y.memoizedState=y.baseState=p;var E={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return y.queue=E,y=Ih.bind(null,ci,!0,E),E.dispatch=y,[p,y]};var m2={readContext:ca,use:ze,useCallback:P8,useContext:ca,useEffect:Ji,useImperativeHandle:Cm,useInsertionEffect:Lh,useLayoutEffect:N8,useMemo:Bh,useReducer:Bt,useRef:ml,useState:function(){return Bt(vt)},useDebugValue:D8,useDeferredValue:function(p,y){var E=Ee();return Nm(E,ar.memoizedState,p,y)},useTransition:function(){var p=Bt(vt)[0],y=Ee().memoizedState;return[typeof p=="boolean"?p:Ve(p),y]},useSyncExternalStore:Et,useId:Lm};m2.useCacheRefresh=Oh,m2.useMemoCache=Pe,m2.useHostTransitionStatus=Uh,m2.useFormState=Cr,m2.useActionState=Cr,m2.useOptimistic=function(p,y){var E=Ee();return Bi(E,ar,p,y)};var l4={readContext:ca,use:ze,useCallback:P8,useContext:ca,useEffect:Ji,useImperativeHandle:Cm,useInsertionEffect:Lh,useLayoutEffect:N8,useMemo:Bh,useReducer:te,useRef:ml,useState:function(){return te(vt)},useDebugValue:D8,useDeferredValue:function(p,y){var E=Ee();return ar===null?W3(E,p,y):Nm(E,ar.memoizedState,p,y)},useTransition:function(){var p=te(vt)[0],y=Ee().memoizedState;return[typeof p=="boolean"?p:Ve(p),y]},useSyncExternalStore:Et,useId:Lm};l4.useCacheRefresh=Oh,l4.useMemoCache=Pe,l4.useHostTransitionStatus=Uh,l4.useFormState=Xs,l4.useActionState=Xs,l4.useOptimistic=function(p,y){var E=Ee();return ar!==null?Bi(E,ar,p,y):(E.baseState=p,[p,E.queue.dispatch])};var BT={isMounted:function(p){return(p=p._reactInternals)?f(p)===p:!1},enqueueSetState:function(p,y,E){p=p._reactInternals;var L=mo(),I=ct(L);I.payload=y,E!=null&&(I.callback=E),y=Vt(p,I,L),y!==null&&(Vr(y,p,L),fn(y,p,L))},enqueueReplaceState:function(p,y,E){p=p._reactInternals;var L=mo(),I=ct(L);I.tag=1,I.payload=y,E!=null&&(I.callback=E),y=Vt(p,I,L),y!==null&&(Vr(y,p,L),fn(y,p,L))},enqueueForceUpdate:function(p,y){p=p._reactInternals;var E=mo(),L=ct(E);L.tag=2,y!=null&&(L.callback=y),y=Vt(p,L,E),y!==null&&(Vr(y,p,E),fn(y,p,E))}},QU=typeof reportError=="function"?reportError:function(p){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof p=="object"&&p!==null&&typeof p.message=="string"?String(p.message):String(p),error:p});if(!window.dispatchEvent(y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",p);return}console.error(p)},$U=Error(r(461)),ha=!1,UT={dehydrated:null,treeContext:null,retryLane:0},bg=M(null),u4=null,Q1=null,fse=typeof AbortController<"u"?AbortController:function(){var p=[],y=this.signal={aborted:!1,addEventListener:function(E,L){p.push(L)}};this.abort=function(){y.aborted=!0,p.forEach(function(E){return E()})}},hse=Rs.unstable_scheduleCallback,dse=Rs.unstable_NormalPriority,ns={$$typeof:Ya,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},KU=D.S;D.S=function(p,y){typeof y=="object"&&y!==null&&typeof y.then=="function"&&Ze(p,y),KU!==null&&KU(p,y)};var c4=M(null),$1=!1,is=!1,OT=!1,ZU=typeof WeakSet=="function"?WeakSet:Set,da=null,JU=!1,Ns=null,bl=!1,eu=null,b5=8192,Ase={getCacheForType:function(p){var y=ca(ns),E=y.data.get(p);return E===void 0&&(E=p(),y.data.set(p,E)),E}},Sg=0,Tg=1,Mg=2,Eg=3,wg=4;if(typeof Symbol=="function"&&Symbol.for){var M7=Symbol.for;Sg=M7("selector.component"),Tg=M7("selector.has_pseudo_class"),Mg=M7("selector.role"),Eg=M7("selector.test_id"),wg=M7("selector.text")}var pse=typeof WeakMap=="function"?WeakMap:Map,or=0,br=null,xi=null,Ri=0,Sr=0,Sl=null,K1=!1,S5=!1,IT=!1,Z1=0,rs=0,g2=0,f4=0,FT=0,u0=0,T5=0,E7=null,Vu=null,zT=!1,VT=0,w7=1/0,Rg=null,y2=null,Cg=!1,h4=null,R7=0,kT=0,GT=null,C7=0,qT=null;return ui.attemptContinuousHydration=function(p){if(p.tag===13){var y=mt(p,67108864);y!==null&&Vr(y,p,67108864),n0(p,67108864)}},ui.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var y=mo(),E=mt(p,y);E!==null&&Vr(E,p,y),n0(p,y)}},ui.attemptSynchronousHydration=function(p){switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var y=P(p.pendingLanes);if(y!==0){for(p.pendingLanes|=2,p.entangledLanes|=2;y;){var E=1<<31-vl(y);p.entanglements[1]|=E,y&=~E}gt(p),!(or&6)&&(w7=Z0()+500,Ut(0))}}break;case 13:y=mt(p,2),y!==null&&Vr(y,p,2),Km(),n0(p,2)}},ui.batchedUpdates=function(p,y){return p(y)},ui.createComponentSelector=function(p){return{$$typeof:Sg,value:p}},ui.createContainer=function(p,y,E,L,I,q,ue,xe,Oe,it){return go(p,y,!1,null,E,L,q,ue,xe,Oe,it,null)},ui.createHasPseudoClassSelector=function(p){return{$$typeof:Tg,value:p}},ui.createHydrationContainer=function(p,y,E,L,I,q,ue,xe,Oe,it,Lt,jt,Zt){return p=go(E,L,!0,p,I,q,xe,Oe,it,Lt,jt,Zt),p.context=An(null),E=p.current,L=mo(),I=ct(L),I.callback=y??null,Vt(E,I,L),p.current.lanes=L,H(p,L),gt(p),p},ui.createPortal=function(p,y,E){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xt,key:L==null?null:""+L,children:p,containerInfo:y,implementation:E}},ui.createRoleSelector=function(p){return{$$typeof:Mg,value:p}},ui.createTestNameSelector=function(p){return{$$typeof:Eg,value:p}},ui.createTextSelector=function(p){return{$$typeof:wg,value:p}},ui.defaultOnCaughtError=function(p){console.error(p)},ui.defaultOnRecoverableError=function(p){QU(p)},ui.defaultOnUncaughtError=function(p){QU(p)},ui.deferredUpdates=function(p){var y=D.T,E=Ou();try{return Xi(32),D.T=null,p()}finally{Xi(E),D.T=y}},ui.discreteUpdates=function(p,y,E,L,I){var q=D.T,ue=Ou();try{return Xi(2),D.T=null,p(y,E,L,I)}finally{Xi(ue),D.T=q,or===0&&(w7=Z0()+500)}},ui.findAllNodes=f7,ui.findBoundingRects=function(p,y){if(!g7)throw Error(r(363));y=f7(p,y),p=[];for(var E=0;E<y.length;E++)p.push(ore(y[E]));for(y=p.length-1;0<y;y--){E=p[y];for(var L=E.x,I=L+E.width,q=E.y,ue=q+E.height,xe=y-1;0<=xe;xe--)if(y!==xe){var Oe=p[xe],it=Oe.x,Lt=it+Oe.width,jt=Oe.y,Zt=jt+Oe.height;if(L>=it&&q>=jt&&I<=Lt&&ue<=Zt){p.splice(y,1);break}else if(L!==it||E.width!==Oe.width||Zt<q||jt>ue){if(!(q!==jt||E.height!==Oe.height||Lt<L||it>I)){it>L&&(Oe.width+=it-L,Oe.x=L),Lt<I&&(Oe.width=I-it),p.splice(y,1);break}}else{jt>q&&(Oe.height+=jt-q,Oe.y=q),Zt<ue&&(Oe.height=ue-jt),p.splice(y,1);break}}}return p},ui.findHostInstance=ws,ui.findHostInstanceWithNoPortals=function(p){return p=v(p),p=p!==null?T(p):null,p===null?null:_e(p.stateNode)},ui.findHostInstanceWithWarning=function(p){return ws(p)},ui.flushPassiveEffects=sr,ui.flushSyncFromReconciler=function(p){var y=or;or|=1;var E=D.T,L=Ou();try{if(Xi(2),D.T=null,p)return p()}finally{Xi(L),D.T=E,or=y,!(or&6)&&Ut(0)}},ui.flushSyncWork=Km,ui.focusWithin=function(p,y){if(!g7)throw Error(r(363));for(p=yl(p),y=Ym(p,y),y=Array.from(y),p=0;p<y.length;){var E=y[p++],L=E.tag;if(!y7(E)){if((L===5||L===26||L===27)&&cre(E.stateNode))return!0;for(E=E.child;E!==null;)y.push(E),E=E.sibling}}return!1},ui.getFindAllNodesFailureDescription=function(p,y){if(!g7)throw Error(r(363));var E=0,L=[];p=[yl(p),0];for(var I=0;I<p.length;){var q=p[I++],ue=q.tag,xe=p[I++],Oe=y[xe];if((ue!==5&&ue!==26&&ue!==27||!y7(q))&&($h(q,Oe)&&(L.push(c7(Oe)),xe++,xe>E&&(E=xe)),xe<y.length))for(q=q.child;q!==null;)p.push(q,xe),q=q.sibling}if(E<y.length){for(p=[];E<y.length;E++)p.push(c7(y[E]));return`findAllNodes was able to match part of the selector:
  `+(L.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},ui.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 27:case 5:return _e(p.child.stateNode);default:return p.child.stateNode}},ui.injectIntoDevTools=function(){var p={bundleType:0,version:pe,rendererPackageName:Ae,currentDispatcherRef:D,findFiberByHostInstance:Bn,reconcilerVersion:"19.0.0"};if(he!==null&&(p.rendererConfig=he),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var y=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(y.isDisabled||!y.supportsFiber)p=!0;else{try{v7=y.inject(p),xl=y}catch{}p=!!y.checkDCE}}return p},ui.isAlreadyRendering=function(){return!1},ui.observeVisibleRects=function(p,y,E,L){if(!g7)throw Error(r(363));p=f7(p,y);var I=fre(p,E,L).disconnect;return{disconnect:function(){I()}}},ui.shouldError=function(){return null},ui.shouldSuspend=function(){return!1},ui.startHostTransition=function(p,y,E,L){if(p.tag!==5)throw Error(r(476));var I=Pm(p).queue;Dm(p,I,y,o5,E===null?i:function(){var q=Pm(p).next.queue;return t2(p,q,{},mo()),E(L)})},ui.updateContainer=function(p,y,E,L){var I=y.current,q=mo();return p7(I,q,p,y,E,L),q},ui.updateContainerSync=function(p,y,E,L){return y.tag===0&&sr(),p7(y.current,2,p,y,E,L),2},ui},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})})(gie);var GPe=gie.exports;mie.exports=GPe;var qPe=mie.exports;const HPe=s8(qPe);var yie={exports:{}},vie={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(Y,ee){var Q=Y.length;Y.push(ee);e:for(;0<Q;){var fe=Q-1>>>1,ge=Y[fe];if(0<r(ge,ee))Y[fe]=ee,Y[Q]=ge,Q=fe;else break e}}function t(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var ee=Y[0],Q=Y.pop();if(Q!==ee){Y[0]=Q;e:for(var fe=0,ge=Y.length,Re=ge>>>1;fe<Re;){var Ge=2*(fe+1)-1,We=Y[Ge],Se=Ge+1,qe=Y[Se];if(0>r(We,Q))Se<ge&&0>r(qe,We)?(Y[fe]=qe,Y[Se]=Q,fe=Se):(Y[fe]=We,Y[Ge]=Q,fe=Ge);else if(Se<ge&&0>r(qe,Q))Y[fe]=qe,Y[Se]=Q,fe=Se;else break e}}return ee}function r(Y,ee){var Q=Y.sortIndex-ee.sortIndex;return Q!==0?Q:Y.id-ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();n.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,f=null,m=3,v=!1,_=!1,T=!1,M=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function C(Y){for(var ee=t(u);ee!==null;){if(ee.callback===null)i(u);else if(ee.startTime<=Y)i(u),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=t(u)}}function P(Y){if(T=!1,C(Y),!_)if(t(l)!==null)_=!0,ae();else{var ee=t(u);ee!==null&&ne(P,ee.startTime-Y)}}var B=!1,O=-1,V=5,F=-1;function z(){return!(n.unstable_now()-F<V)}function k(){if(B){var Y=n.unstable_now();F=Y;var ee=!0;try{e:{_=!1,T&&(T=!1,S(O),O=-1),v=!0;var Q=m;try{t:{for(C(Y),f=t(l);f!==null&&!(f.expirationTime>Y&&z());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,m=f.priorityLevel;var ge=fe(f.expirationTime<=Y);if(Y=n.unstable_now(),typeof ge=="function"){f.callback=ge,C(Y),ee=!0;break t}f===t(l)&&i(l),C(Y)}else i(l);f=t(l)}if(f!==null)ee=!0;else{var Re=t(u);Re!==null&&ne(P,Re.startTime-Y),ee=!1}}break e}finally{f=null,m=Q,v=!1}ee=void 0}}finally{ee?H():B=!1}}}var H;if(typeof R=="function")H=function(){R(k)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,$=Z.port2;Z.port1.onmessage=k,H=function(){$.postMessage(null)}}else H=function(){M(k,0)};function ae(){B||(B=!0,H())}function ne(Y,ee){O=M(function(){Y(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Y){Y.callback=null},n.unstable_continueExecution=function(){_||v||(_=!0,ae())},n.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<Y?Math.floor(1e3/Y):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(Y){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var Q=m;m=ee;try{return Y()}finally{m=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Y,ee){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var Q=m;m=Y;try{return ee()}finally{m=Q}},n.unstable_scheduleCallback=function(Y,ee,Q){var fe=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?fe+Q:fe):Q=fe,Y){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=Q+ge,Y={id:c++,callback:ee,priorityLevel:Y,startTime:Q,expirationTime:ge,sortIndex:-1},Q>fe?(Y.sortIndex=Q,e(u,Y),t(l)===null&&Y===t(u)&&(T?(S(O),O=-1):T=!0,ne(P,Q-fe))):(Y.sortIndex=ge,e(l,Y),_||v||(_=!0,ae())),Y},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(Y){var ee=m;return function(){var Q=m;m=ee;try{return Y.apply(this,arguments)}finally{m=Q}}}})(vie);yie.exports=vie;var zq=yie.exports;function _U(n,e,t){if(!n)return;if(t(n)===!0)return n;let i=e?n.return:n.child;for(;i;){const r=_U(i,e,t);if(r)return r;i=e?null:i.sibling}}function xie(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const bU=xie(be.createContext(null));class _ie extends be.Component{render(){return be.createElement(bU.Provider,{value:this._reactInternals},this.props.children)}}function bie(){const n=be.useContext(bU);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=be.useId();return be.useMemo(()=>{for(const t of[n,n==null?void 0:n.alternate]){if(!t)continue;const i=_U(t,!1,r=>{let s=r.memoizedState;for(;s;){if(s.memoizedState===e)return!0;s=s.next}});if(i)return i}},[n,e])}const jPe=Symbol.for("react.context"),WPe=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===jPe;function XPe(){const n=bie(),[e]=be.useState(()=>new Map);e.clear();let t=n;for(;t;){const i=t.type;WPe(i)&&i!==bU&&!e.has(i)&&e.set(i,be.use(xie(i))),t=t.return}return e}function YPe(){const n=XPe();return be.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>i=>be.createElement(e,null,be.createElement(t.Provider,{...i,value:n.get(t)})),e=>be.createElement(_ie,{...e})),[n])}function Sie(n){let e=n.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Tie=n=>n&&n.isOrthographicCamera,QPe=n=>n&&n.hasOwnProperty("current"),$Pe=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),Em=((n,e)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((e=window.navigator)==null?void 0:e.product)==="ReactNative"))()?be.useLayoutEffect:be.useEffect;function Mie(n){const e=be.useRef(n);return Em(()=>void(e.current=n),[n]),e}function KPe(){const n=bie(),e=YPe();return be.useMemo(()=>({children:t})=>{const r=!!_U(n,!0,s=>s.type===be.StrictMode)?be.StrictMode:be.Fragment;return W.jsx(r,{children:W.jsx(e,{children:t})})},[n,e])}function ZPe({set:n}){return Em(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const JPe=(n=>(n=class extends be.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function Eie(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}function u6(n){var e;return(e=n.__r3f)==null?void 0:e.root.getState()}const Kr={obj:n=>n===Object(n)&&!Kr.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:i="reference",strict:r=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(Kr.str(n)||Kr.num(n)||Kr.boo(n))return n===e;const s=Kr.obj(n);if(s&&i==="reference")return n===e;const a=Kr.arr(n);if(a&&t==="reference")return n===e;if((a||s)&&n===e)return!0;let o;for(o in n)if(!(o in e))return!1;if(s&&t==="shallow"&&i==="shallow"){for(o in r?e:n)if(!Kr.equ(n[o],e[o],{strict:r,objects:"reference"}))return!1}else for(o in r?e:n)if(n[o]!==e[o])return!1;if(Kr.und(o)){if(a&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function eLe(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const e in n){const t=n[e];(t==null?void 0:t.type)!=="Scene"&&(t==null||t.dispose==null||t.dispose())}}const wie=["children","key","ref"];function tLe(n){const e={};for(const t in n)wie.includes(t)||(e[t]=n[t]);return e}function ub(n,e,t,i){const r=n;let s=r==null?void 0:r.__r3f;return s||(s={root:e,type:t,parent:null,children:[],props:tLe(i),object:r,eventCount:0,handlers:{},isHidden:!1},r&&(r.__r3f=s)),s}function Mp(n,e){let t=n[e];if(!e.includes("-"))return{root:n,key:e,target:t};t=n;for(const r of e.split("-")){var i;e=r,n=t,t=(i=t)==null?void 0:i[e]}return{root:n,key:e,target:t}}const Vq=/-\d+$/;function cb(n,e){if(Kr.str(e.props.attach)){if(Vq.test(e.props.attach)){const r=e.props.attach.replace(Vq,""),{root:s,key:a}=Mp(n.object,r);Array.isArray(s[a])||(s[a]=[])}const{root:t,key:i}=Mp(n.object,e.props.attach);e.previousAttach=t[i],t[i]=e.object}else Kr.fun(e.props.attach)&&(e.previousAttach=e.props.attach(n.object,e.object))}function fb(n,e){if(Kr.str(e.props.attach)){const{root:t,key:i}=Mp(n.object,e.props.attach),r=e.previousAttach;r===void 0?delete t[i]:t[i]=r}else e.previousAttach==null||e.previousAttach(n.object,e.object);delete e.previousAttach}const GN=[...wie,"args","dispose","attach","object","onUpdate","dispose"],kq=new Map;function nLe(n){let e=kq.get(n.constructor);try{e||(e=new n.constructor,kq.set(n.constructor,e))}catch{}return e}function iLe(n,e){const t={};for(const i in e)if(!GN.includes(i)&&!Kr.equ(e[i],n.props[i])){t[i]=e[i];for(const r in e)r.startsWith(`${i}-`)&&(t[r]=e[r])}for(const i in n.props){if(GN.includes(i)||e.hasOwnProperty(i))continue;const{root:r,key:s}=Mp(n.object,i);if(r.constructor&&r.constructor.length===0){const a=nLe(r);Kr.und(a)||(t[s]=a[s])}else t[s]=0}return t}const rLe=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],sLe=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function K2(n,e){var t;const i=n.__r3f,r=i&&Sie(i).getState(),s=i==null?void 0:i.eventCount;for(const o in e){let l=e[o];if(GN.includes(o))continue;if(i&&sLe.test(o)){typeof l=="function"?i.handlers[o]=l:delete i.handlers[o],i.eventCount=Object.keys(i.handlers).length;continue}if(l===void 0)continue;let{root:u,key:c,target:f}=Mp(n,o);if(f instanceof kd&&l instanceof kd)f.mask=l.mask;else if(f instanceof Nt&&$Pe(l))f.set(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof f.copy=="function"&&l!=null&&l.constructor&&f.constructor===l.constructor)f.copy(l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&Array.isArray(l))typeof f.fromArray=="function"?f.fromArray(l):f.set(...l);else if(f!==null&&typeof f=="object"&&typeof f.set=="function"&&typeof l=="number")typeof f.setScalar=="function"?f.setScalar(l):f.set(l);else{var a;u[c]=l,r&&!r.linear&&rLe.includes(c)&&(a=u[c])!=null&&a.isTexture&&u[c].format===_r&&u[c].type===Lr&&(u[c].colorSpace=Os)}}if(i!=null&&i.parent&&r!=null&&r.internal&&(t=i.object)!=null&&t.isObject3D&&s!==i.eventCount){const o=i.object,l=r.internal.interaction.indexOf(o);l>-1&&r.internal.interaction.splice(l,1),i.eventCount&&o.raycast!==null&&r.internal.interaction.push(o)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&C8(i),n}function C8(n){var e;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const t=(e=n.root)==null||e.getState==null?void 0:e.getState();t&&t.internal.frames===0&&t.invalidate()}function aLe(n,e){n.manual||(Tie(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix())}const Yo=n=>n==null?void 0:n.isObject3D;function Cv(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Rie(n,e,t,i){const r=t.get(e);r&&(t.delete(e),t.size===0&&(n.delete(i),r.target.releasePointerCapture(i)))}function oLe(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(i=>i!==e),t.initialHits=t.initialHits.filter(i=>i!==e),t.hovered.forEach((i,r)=>{(i.eventObject===e||i.object===e)&&t.hovered.delete(r)}),t.capturedMap.forEach((i,r)=>{Rie(t.capturedMap,e,i,r)})}function lLe(n){function e(l){const{internal:u}=n.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function t(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function i(l,u){const c=n.getState(),f=new Set,m=[],v=u?u(c.internal.interaction):c.internal.interaction;for(let S=0;S<v.length;S++){const R=u6(v[S]);R&&(R.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function _(S){const R=u6(S);if(!R||!R.events.enabled||R.raycaster.camera===null)return[];if(R.raycaster.camera===void 0){var C;R.events.compute==null||R.events.compute(l,R,(C=R.previousRoot)==null?void 0:C.getState()),R.raycaster.camera===void 0&&(R.raycaster.camera=null)}return R.raycaster.camera?R.raycaster.intersectObject(S,!0):[]}let T=v.flatMap(_).sort((S,R)=>{const C=u6(S.object),P=u6(R.object);return!C||!P?S.distance-R.distance:P.events.priority-C.events.priority||S.distance-R.distance}).filter(S=>{const R=Cv(S);return f.has(R)?!1:(f.add(R),!0)});c.events.filter&&(T=c.events.filter(T,c));for(const S of T){let R=S.object;for(;R;){var M;(M=R.__r3f)!=null&&M.eventCount&&m.push({...S,eventObject:R}),R=R.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let S of c.internal.capturedMap.get(l.pointerId).values())f.has(Cv(S.intersection))||m.push(S.intersection);return m}function r(l,u,c,f){if(l.length){const m={stopped:!1};for(const v of l){let _=u6(v.object);if(_||v.object.traverseAncestors(T=>{const M=u6(T);if(M)return _=M,!1}),_){const{raycaster:T,pointer:M,camera:S,internal:R}=_,C=new re(M.x,M.y,0).unproject(S),P=z=>{var k,H;return(k=(H=R.capturedMap.get(z))==null?void 0:H.has(v.eventObject))!=null?k:!1},B=z=>{const k={intersection:v,target:u.target};R.capturedMap.has(z)?R.capturedMap.get(z).set(v.eventObject,k):R.capturedMap.set(z,new Map([[v.eventObject,k]])),u.target.setPointerCapture(z)},O=z=>{const k=R.capturedMap.get(z);k&&Rie(R.capturedMap,v.eventObject,k,z)};let V={};for(let z in u){let k=u[z];typeof k!="function"&&(V[z]=k)}let F={...v,...V,pointer:M,intersections:l,stopped:m.stopped,delta:c,unprojectedPoint:C,ray:T.ray,camera:S,stopPropagation(){const z="pointerId"in u&&R.capturedMap.get(u.pointerId);if((!z||z.has(v.eventObject))&&(F.stopped=m.stopped=!0,R.hovered.size&&Array.from(R.hovered.values()).find(k=>k.eventObject===v.eventObject))){const k=l.slice(0,l.indexOf(v));s([...k,v])}},target:{hasPointerCapture:P,setPointerCapture:B,releasePointerCapture:O},currentTarget:{hasPointerCapture:P,setPointerCapture:B,releasePointerCapture:O},nativeEvent:u};if(f(F),m.stopped===!0)break}}}return l}function s(l){const{internal:u}=n.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const m=c.eventObject.__r3f;if(u.hovered.delete(Cv(c)),m!=null&&m.eventCount){const v=m.handlers,_={...c,intersections:l};v.onPointerOut==null||v.onPointerOut(_),v.onPointerLeave==null||v.onPointerLeave(_)}}}function a(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return u=>{const{internal:c}=n.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),s([]))})}}return function(c){const{onPointerMissed:f,internal:m}=n.getState();m.lastEvent.current=c;const v=l==="onPointerMove",_=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",M=i(c,v?t:void 0),S=_?e(c):0;l==="onPointerDown"&&(m.initialClick=[c.offsetX,c.offsetY],m.initialHits=M.map(C=>C.eventObject)),_&&!M.length&&S<=2&&(a(c,m.interaction),f&&f(c)),v&&s(M);function R(C){const P=C.eventObject,B=P.__r3f;if(!(B!=null&&B.eventCount))return;const O=B.handlers;if(v){if(O.onPointerOver||O.onPointerEnter||O.onPointerOut||O.onPointerLeave){const V=Cv(C),F=m.hovered.get(V);F?F.stopped&&C.stopPropagation():(m.hovered.set(V,C),O.onPointerOver==null||O.onPointerOver(C),O.onPointerEnter==null||O.onPointerEnter(C))}O.onPointerMove==null||O.onPointerMove(C)}else{const V=O[l];V?(!_||m.initialHits.includes(P))&&(a(c,m.interaction.filter(F=>!m.initialHits.includes(F))),V(C)):_&&m.initialHits.includes(P)&&a(c,m.interaction.filter(F=>!m.initialHits.includes(F)))}}r(M,c,S,R)}}return{handlePointer:o}}const Gq=n=>!!(n!=null&&n.render),Cie=be.createContext(null),uLe=(n,e)=>{const t=zPe((o,l)=>{const u=new re,c=new re,f=new re;function m(S=l().camera,R=c,C=l().size){const{width:P,height:B,top:O,left:V}=C,F=P/B;R.isVector3?f.copy(R):f.set(...R);const z=S.getWorldPosition(u).distanceTo(f);if(Tie(S))return{width:P/S.zoom,height:B/S.zoom,top:O,left:V,factor:1,distance:z,aspect:F};{const k=S.fov*Math.PI/180,H=2*Math.tan(k/2)*z,Z=H*(P/B);return{width:Z,height:H,top:O,left:V,factor:P/Z,distance:z,aspect:F}}}let v;const _=S=>o(R=>({performance:{...R.performance,current:S}})),T=new Ye;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(S=1)=>n(l(),S),advance:(S,R)=>e(S,R,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new RL,pointer:T,mouse:T,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=l();v&&clearTimeout(v),S.performance.current!==S.performance.min&&_(S.performance.min),v=setTimeout(()=>_(l().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:m},setEvents:S=>o(R=>({...R,events:{...R.events,...S}})),setSize:(S,R,C=0,P=0)=>{const B=l().camera,O={width:S,height:R,top:C,left:P};o(V=>({size:O,viewport:{...V.viewport,...m(B,c,O)}}))},setDpr:S=>o(R=>{const C=Eie(S);return{viewport:{...R.viewport,dpr:C,initialDpr:R.viewport.initialDpr||C}}}),setFrameloop:(S="always")=>{const R=l().clock;R.stop(),R.elapsedTime=0,S!=="never"&&(R.start(),R.elapsedTime=0),o(()=>({frameloop:S}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:be.createRef(),active:!1,frames:0,priority:0,subscribe:(S,R,C)=>{const P=l().internal;return P.priority=P.priority+(R>0?1:0),P.subscribers.push({ref:S,priority:R,store:C}),P.subscribers=P.subscribers.sort((B,O)=>B.priority-O.priority),()=>{const B=l().internal;B!=null&&B.subscribers&&(B.priority=B.priority-(R>0?1:0),B.subscribers=B.subscribers.filter(O=>O.ref!==S))}}}}}),i=t.getState();let r=i.size,s=i.viewport.dpr,a=i.camera;return t.subscribe(()=>{const{camera:o,size:l,viewport:u,gl:c,set:f}=t.getState();if(l.width!==r.width||l.height!==r.height||u.dpr!==s){r=l,s=u.dpr,aLe(o,l),u.dpr>0&&c.setPixelRatio(u.dpr);const m=typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,m)}o!==a&&(a=o,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(o)}})))}),t.subscribe(o=>n(o)),t};function Nie(){const n=be.useContext(Cie);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function cc(n=t=>t,e){return Nie()(n,e)}function cLe(n,e=0){const t=Nie(),i=t.getState().internal.subscribe,r=Mie(n);return Em(()=>i(r,e,t),[e,i,t]),null}function fLe(n){const e=HPe(n);return e.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:be.version}),e}const Die=0,r8={},hLe=/^three(?=[A-Z])/,cT=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let dLe=0;const ALe=n=>typeof n=="function";function Pie(n){if(ALe(n)){const e=`${dLe++}`;return r8[e]=n,e}else Object.assign(r8,n)}function Lie(n,e){const t=cT(n),i=r8[t];if(n!=="primitive"&&!i)throw new Error(`R3F: ${t} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!e.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(e.args!==void 0&&!Array.isArray(e.args))throw new Error("R3F: The args prop must be an array!")}function pLe(n,e,t){var i;return n=cT(n)in r8?n:n.replace(hLe,""),Lie(n,e),n==="primitive"&&(i=e.object)!=null&&i.__r3f&&delete e.object.__r3f,ub(e.object,t,n,e)}function mLe(n){if(!n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?fb(n.parent,n):Yo(n.object)&&(n.object.visible=!1),n.isHidden=!0,C8(n)}}function Bie(n){if(n.isHidden){var e;n.props.attach&&(e=n.parent)!=null&&e.object?cb(n.parent,n):Yo(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,C8(n)}}function SU(n,e,t){const i=e.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!e.object){var r,s;const a=r8[cT(e.type)];e.object=(r=e.props.object)!=null?r:new a(...(s=e.props.args)!=null?s:[]),e.object.__r3f=e}if(K2(e.object,e.props),e.props.attach)cb(n,e);else if(Yo(e.object)&&Yo(n.object)){const a=n.object.children.indexOf(t==null?void 0:t.object);if(t&&a!==-1){const o=n.object.children.indexOf(e.object);if(o!==-1){n.object.children.splice(o,1);const l=o<a?a-1:a;n.object.children.splice(l,0,e.object)}else e.object.parent=n.object,n.object.children.splice(a,0,e.object),e.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:e.object})}else n.object.add(e.object)}for(const a of e.children)SU(e,a);C8(e)}}function Iw(n,e){e&&(e.parent=n,n.children.push(e),SU(n,e))}function qq(n,e,t){if(!e||!t)return;e.parent=n;const i=n.children.indexOf(t);i!==-1?n.children.splice(i,0,e):n.children.push(e),SU(n,e,t)}function Uie(n){if(typeof n.dispose=="function"){const e=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?e():zq.unstable_scheduleCallback(zq.unstable_IdlePriority,e)}}function qN(n,e,t){if(!e)return;e.parent=null;const i=n.children.indexOf(e);i!==-1&&n.children.splice(i,1),e.props.attach?fb(n,e):Yo(e.object)&&Yo(n.object)&&(n.object.remove(e.object),oLe(Sie(e),e.object));const r=e.props.dispose!==null&&t!==!1;for(let s=e.children.length-1;s>=0;s--){const a=e.children[s];qN(e,a,r)}e.children.length=0,delete e.object.__r3f,r&&e.type!=="primitive"&&e.object.type!=="Scene"&&Uie(e.object),t===void 0&&C8(e)}function gLe(n,e){for(const t of[n,n.alternate])if(t!==null)if(typeof t.ref=="function"){t.refCleanup==null||t.refCleanup();const i=t.ref(e);typeof i=="function"&&(t.refCleanup=i)}else t.ref&&(t.ref.current=e)}const vx=[];function yLe(){for(const[t]of vx){const i=t.parent;if(i){t.props.attach?fb(i,t):Yo(t.object)&&Yo(i.object)&&i.object.remove(t.object);for(const r of t.children)r.props.attach?fb(t,r):Yo(r.object)&&Yo(t.object)&&t.object.remove(r.object)}t.isHidden&&Bie(t),t.object.__r3f&&delete t.object.__r3f,t.type!=="primitive"&&Uie(t.object)}for(const[t,i,r]of vx){t.props=i;const s=t.parent;if(s){var n,e;const a=r8[cT(t.type)];t.object=(n=t.props.object)!=null?n:new a(...(e=t.props.args)!=null?e:[]),t.object.__r3f=t,gLe(r,t.object),K2(t.object,t.props),t.props.attach?cb(s,t):Yo(t.object)&&Yo(s.object)&&s.object.add(t.object);for(const o of t.children)o.props.attach?cb(t,o):Yo(o.object)&&Yo(t.object)&&t.object.add(o.object);C8(t)}}vx.length=0}const Fw=()=>{},Hq={};let Nv=Die;const vLe=0,xLe=4,HN=fLe({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:pLe,removeChild:qN,appendChild:Iw,appendInitialChild:Iw,insertBefore:qq,appendChildToContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||Iw(t,e)},removeChildFromContainer(n,e){const t=n.getState().scene.__r3f;!e||!t||qN(t,e)},insertInContainerBefore(n,e,t){const i=n.getState().scene.__r3f;!e||!t||!i||qq(i,e,t)},getRootHostContext:()=>Hq,getChildHostContext:()=>Hq,commitUpdate(n,e,t,i,r){var s,a,o;Lie(e,i);let l=!1;if((n.type==="primitive"&&t.object!==i.object||((s=i.args)==null?void 0:s.length)!==((a=t.args)==null?void 0:a.length)||(o=i.args)!=null&&o.some((c,f)=>{var m;return c!==((m=t.args)==null?void 0:m[f])}))&&(l=!0),l)vx.push([n,{...i},r]);else{const c=iLe(n,i);Object.keys(c).length&&(Object.assign(n.props,c),K2(n.object,c))}(r.sibling===null||(r.flags&xLe)===vLe)&&yLe()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>ub(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:mLe,unhideInstance:Bie,createTextInstance:Fw,hideTextInstance:Fw,unhideTextInstance:Fw,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:be.createContext(null),setCurrentUpdatePriority(n){Nv=n},getCurrentUpdatePriority(){return Nv},resolveUpdatePriority(){var n;if(Nv!==Die)return Nv;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return yx.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return yx.ContinuousEventPriority;default:return yx.DefaultEventPriority}},resetFormInstance(){}}),lh=new Map,c6={objects:"shallow",strict:!1};function _Le(n,e){if(!e&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:t,height:i,top:r,left:s}=n.parentElement.getBoundingClientRect();return{width:t,height:i,top:r,left:s}}else if(!e&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...e}}function bLe(n){const e=lh.get(n),t=e==null?void 0:e.fiber,i=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const r=typeof reportError=="function"?reportError:console.error,s=i||uLe(XN,Wq),a=t||HN.createContainer(s,yx.ConcurrentRoot,null,!1,null,"",r,r,r,null);e||lh.set(n,{fiber:a,store:s});let o,l,u=!1,c=null;return{async configure(f={}){let m;c=new Promise(Re=>m=Re);let{gl:v,size:_,scene:T,events:M,onCreated:S,shadows:R=!1,linear:C=!1,flat:P=!1,legacy:B=!1,orthographic:O=!1,frameloop:V="always",dpr:F=[1,2],performance:z,raycaster:k,camera:H,onPointerMissed:Z}=f,$=s.getState(),ae=$.gl;if(!$.gl){const Re={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},Ge=typeof v=="function"?await v(Re):v;Gq(Ge)?ae=Ge:ae=new E$({...Re,...v}),$.set({gl:ae})}let ne=$.raycaster;ne||$.set({raycaster:ne=new m$});const{params:Y,...ee}=k||{};if(Kr.equ(ee,ne,c6)||K2(ne,{...ee}),Kr.equ(Y,ne.params,c6)||K2(ne,{params:{...ne.params,...Y}}),!$.camera||$.camera===l&&!Kr.equ(l,H,c6)){l=H;const Re=H==null?void 0:H.isCamera,Ge=Re?H:O?new h1(0,0,0,0,.1,1e3):new Tr(75,0,.1,1e3);Re||(Ge.position.z=5,H&&(K2(Ge,H),Ge.manual||("aspect"in H||"left"in H||"right"in H||"bottom"in H||"top"in H)&&(Ge.manual=!0,Ge.updateProjectionMatrix())),!$.camera&&!(H!=null&&H.rotation)&&Ge.lookAt(0,0,0)),$.set({camera:Ge}),ne.camera=Ge}if(!$.scene){let Re;T!=null&&T.isScene?(Re=T,ub(Re,s,"",{})):(Re=new xh,ub(Re,s,"",{}),T&&K2(Re,T)),$.set({scene:Re})}M&&!$.events.handlers&&$.set({events:M(s)});const Q=_Le(n,_);if(Kr.equ(Q,$.size,c6)||$.setSize(Q.width,Q.height,Q.top,Q.left),F&&$.viewport.dpr!==Eie(F)&&$.setDpr(F),$.frameloop!==V&&$.setFrameloop(V),$.onPointerMissed||$.set({onPointerMissed:Z}),z&&!Kr.equ(z,$.performance,c6)&&$.set(Re=>({performance:{...Re.performance,...z}})),!$.xr){var fe;const Re=(Se,qe)=>{const St=s.getState();St.frameloop!=="never"&&Wq(Se,!0,St,qe)},Ge=()=>{const Se=s.getState();Se.gl.xr.enabled=Se.gl.xr.isPresenting,Se.gl.xr.setAnimationLoop(Se.gl.xr.isPresenting?Re:null),Se.gl.xr.isPresenting||XN(Se)},We={connect(){const Se=s.getState().gl;Se.xr.addEventListener("sessionstart",Ge),Se.xr.addEventListener("sessionend",Ge)},disconnect(){const Se=s.getState().gl;Se.xr.removeEventListener("sessionstart",Ge),Se.xr.removeEventListener("sessionend",Ge)}};typeof((fe=ae.xr)==null?void 0:fe.addEventListener)=="function"&&We.connect(),$.set({xr:We})}if(ae.shadowMap){const Re=ae.shadowMap.enabled,Ge=ae.shadowMap.type;if(ae.shadowMap.enabled=!!R,Kr.boo(R))ae.shadowMap.type=lA;else if(Kr.str(R)){var ge;const We={basic:NP,percentage:Xp,soft:lA,variance:So};ae.shadowMap.type=(ge=We[R])!=null?ge:lA}else Kr.obj(R)&&Object.assign(ae.shadowMap,R);(Re!==ae.shadowMap.enabled||Ge!==ae.shadowMap.type)&&(ae.shadowMap.needsUpdate=!0)}return wn.enabled=!B,u||(ae.outputColorSpace=C?ql:Os,ae.toneMapping=P?co:Yb),$.legacy!==B&&$.set(()=>({legacy:B})),$.linear!==C&&$.set(()=>({linear:C})),$.flat!==P&&$.set(()=>({flat:P})),v&&!Kr.fun(v)&&!Gq(v)&&!Kr.equ(v,ae,c6)&&K2(ae,v),o=S,u=!0,m(),this},render(f){return!u&&!c&&this.configure(),c.then(()=>{HN.updateContainer(W.jsx(SLe,{store:s,children:f,onCreated:o,rootElement:n}),a,null,()=>{})}),s},unmount(){Oie(n)}}}function SLe({store:n,children:e,onCreated:t,rootElement:i}){return Em(()=>{const r=n.getState();r.set(s=>({internal:{...s.internal,active:!0}})),t&&t(r),n.getState().events.connected||r.events.connect==null||r.events.connect(i)},[]),W.jsx(Cie.Provider,{value:n,children:e})}function Oie(n,e){const t=lh.get(n),i=t==null?void 0:t.fiber;if(i){const r=t==null?void 0:t.store.getState();r&&(r.internal.active=!1),HN.updateContainer(null,i,null,()=>{r&&setTimeout(()=>{try{var s,a,o,l;r.events.disconnect==null||r.events.disconnect(),(s=r.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=r.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=r.gl)!=null&&l.xr&&r.xr.disconnect(),eLe(r.scene),lh.delete(n)}catch{}},500)})}}const TLe=new Set,MLe=new Set,ELe=new Set;function zw(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function bA(n,e){switch(n){case"before":return zw(TLe,e);case"after":return zw(MLe,e);case"tail":return zw(ELe,e)}}let Vw,kw;function jN(n,e,t){let i=e.clock.getDelta();e.frameloop==="never"&&typeof n=="number"&&(i=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),Vw=e.internal.subscribers;for(let r=0;r<Vw.length;r++)kw=Vw[r],kw.ref.current(kw.store.getState(),i,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}let hb=!1,WN=!1,Gw,jq,f6;function Iie(n){jq=requestAnimationFrame(Iie),hb=!0,Gw=0,bA("before",n),WN=!0;for(const t of lh.values()){var e;f6=t.store.getState(),f6.internal.active&&(f6.frameloop==="always"||f6.internal.frames>0)&&!((e=f6.gl.xr)!=null&&e.isPresenting)&&(Gw+=jN(n,f6))}if(WN=!1,bA("after",n),Gw===0)return bA("tail",n),hb=!1,cancelAnimationFrame(jq)}function XN(n,e=1){var t;if(!n)return lh.forEach(i=>XN(i.store.getState(),e));(t=n.gl.xr)!=null&&t.isPresenting||!n.internal.active||n.frameloop==="never"||(e>1?n.internal.frames=Math.min(60,n.internal.frames+e):WN?n.internal.frames=2:n.internal.frames=1,hb||(hb=!0,requestAnimationFrame(Iie)))}function Wq(n,e=!0,t,i){if(e&&bA("before",n),t)jN(n,t,i);else for(const r of lh.values())jN(n,r.store.getState());e&&bA("after",n)}const qw={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function wLe(n){const{handlePointer:e}=lLe(n);return{priority:1,enabled:!0,compute(t,i,r){i.pointer.set(t.offsetX/i.size.width*2-1,-(t.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(qw).reduce((t,i)=>({...t,[i]:e(i)}),{}),update:()=>{var t;const{events:i,internal:r}=n.getState();(t=r.lastEvent)!=null&&t.current&&i.handlers&&i.handlers.onPointerMove(r.lastEvent.current)},connect:t=>{const{set:i,events:r}=n.getState();if(r.disconnect==null||r.disconnect(),i(s=>({events:{...s.events,connected:t}})),r.handlers)for(const s in r.handlers){const a=r.handlers[s],[o,l]=qw[s];t.addEventListener(o,a,{passive:l})}},disconnect:()=>{const{set:t,events:i}=n.getState();if(i.connected){if(i.handlers)for(const r in i.handlers){const s=i.handlers[r],[a]=qw[r];i.connected.removeEventListener(a,s)}t(r=>({events:{...r.events,connected:void 0}}))}}}}function Xq(n,e){let t;return(...i)=>{window.clearTimeout(t),t=window.setTimeout(()=>n(...i),e)}}function RLe({debounce:n,scroll:e,polyfill:t,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const r=t||(typeof window>"u"?class{}:window.ResizeObserver);if(!r)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=be.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=be.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=n?typeof n=="number"?n:n.scroll:null,u=n?typeof n=="number"?n:n.resize:null,c=be.useRef(!1);be.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[f,m,v]=be.useMemo(()=>{const S=()=>{if(!o.current.element)return;const{left:R,top:C,width:P,height:B,bottom:O,right:V,x:F,y:z}=o.current.element.getBoundingClientRect(),k={left:R,top:C,width:P,height:B,bottom:O,right:V,x:F,y:z};o.current.element instanceof HTMLElement&&i&&(k.height=o.current.element.offsetHeight,k.width=o.current.element.offsetWidth),Object.freeze(k),c.current&&!PLe(o.current.lastBounds,k)&&a(o.current.lastBounds=k)};return[S,u?Xq(S,u):S,l?Xq(S,l):S]},[a,i,l,u]);function _(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",v,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function T(){o.current.element&&(o.current.resizeObserver=new r(v),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(S=>S.addEventListener("scroll",v,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{v()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const M=S=>{!S||S===o.current.element||(_(),o.current.element=S,o.current.scrollContainers=Fie(S),T())};return NLe(v,!!e),CLe(m),be.useEffect(()=>{_(),T()},[e,v,m]),be.useEffect(()=>_,[]),[M,s,f]}function CLe(n){be.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function NLe(n,e){be.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Fie(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:i,overflowY:r}=window.getComputedStyle(n);return[t,i,r].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...Fie(n.parentElement)]}const DLe=["x","y","top","bottom","left","right","width","height"],PLe=(n,e)=>DLe.every(t=>n[t]===e[t]);function LLe({ref:n,children:e,fallback:t,resize:i,style:r,gl:s,events:a=wLe,eventSource:o,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:m,orthographic:v,frameloop:_,dpr:T,performance:M,raycaster:S,camera:R,scene:C,onPointerMissed:P,onCreated:B,...O}){be.useMemo(()=>Pie(y9e),[]);const V=KPe(),[F,z]=RLe({scroll:!0,debounce:{scroll:50,resize:0},...i}),k=be.useRef(null),H=be.useRef(null);be.useImperativeHandle(n,()=>k.current);const Z=Mie(P),[$,ae]=be.useState(!1),[ne,Y]=be.useState(!1);if($)throw $;if(ne)throw ne;const ee=be.useRef(null);Em(()=>{const fe=k.current;if(z.width>0&&z.height>0&&fe){ee.current||(ee.current=bLe(fe));async function ge(){await ee.current.configure({gl:s,scene:C,events:a,shadows:u,linear:c,flat:f,legacy:m,orthographic:v,frameloop:_,dpr:T,performance:M,raycaster:S,camera:R,size:z,onPointerMissed:(...Re)=>Z.current==null?void 0:Z.current(...Re),onCreated:Re=>{Re.events.connect==null||Re.events.connect(o?QPe(o)?o.current:o:H.current),l&&Re.setEvents({compute:(Ge,We)=>{const Se=Ge[l+"X"],qe=Ge[l+"Y"];We.pointer.set(Se/We.size.width*2-1,-(qe/We.size.height)*2+1),We.raycaster.setFromCamera(We.pointer,We.camera)}}),B==null||B(Re)}}),ee.current.render(W.jsx(V,{children:W.jsx(JPe,{set:Y,children:W.jsx(be.Suspense,{fallback:W.jsx(ZPe,{set:ae}),children:e??null})})}))}ge()}}),be.useEffect(()=>{const fe=k.current;if(fe)return()=>Oie(fe)},[]);const Q=o?"none":"auto";return W.jsx("div",{ref:H,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...r},...O,children:W.jsx("div",{ref:F,style:{width:"100%",height:"100%"},children:W.jsx("canvas",{ref:k,style:{display:"block"},children:t})})})}function BLe(n){return W.jsx(_ie,{children:W.jsx(LLe,{...n})})}function YN(){return YN=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},YN.apply(null,arguments)}var ULe=Object.defineProperty,OLe=(n,e,t)=>e in n?ULe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ILe=(n,e,t)=>(OLe(n,e+"",t),t);class FLe{constructor(){ILe(this,"_listeners")}addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,a=r.length;s<a;s++)r[s].call(this,e);e.target=null}}}var zLe=Object.defineProperty,VLe=(n,e,t)=>e in n?zLe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,En=(n,e,t)=>(VLe(n,typeof e!="symbol"?e+"":e,t),t);const Dv=new yh,Yq=new hu,kLe=Math.cos(70*(Math.PI/180)),Qq=(n,e)=>(n%e+e)%e;let GLe=class extends FLe{constructor(e,t){super(),En(this,"object"),En(this,"domElement"),En(this,"enabled",!0),En(this,"target",new re),En(this,"minDistance",0),En(this,"maxDistance",1/0),En(this,"minZoom",0),En(this,"maxZoom",1/0),En(this,"minPolarAngle",0),En(this,"maxPolarAngle",Math.PI),En(this,"minAzimuthAngle",-1/0),En(this,"maxAzimuthAngle",1/0),En(this,"enableDamping",!1),En(this,"dampingFactor",.05),En(this,"enableZoom",!0),En(this,"zoomSpeed",1),En(this,"enableRotate",!0),En(this,"rotateSpeed",1),En(this,"enablePan",!0),En(this,"panSpeed",1),En(this,"screenSpacePanning",!0),En(this,"keyPanSpeed",7),En(this,"zoomToCursor",!1),En(this,"autoRotate",!1),En(this,"autoRotateSpeed",2),En(this,"reverseOrbit",!1),En(this,"reverseHorizontalOrbit",!1),En(this,"reverseVerticalOrbit",!1),En(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),En(this,"mouseButtons",{LEFT:j4.ROTATE,MIDDLE:j4.DOLLY,RIGHT:j4.PAN}),En(this,"touches",{ONE:W4.ROTATE,TWO:W4.DOLLY_PAN}),En(this,"target0"),En(this,"position0"),En(this,"zoom0"),En(this,"_domElementKeyEvents",null),En(this,"getPolarAngle"),En(this,"getAzimuthalAngle"),En(this,"setPolarAngle"),En(this,"setAzimuthalAngle"),En(this,"getDistance"),En(this,"getZoomScale"),En(this,"listenToKeyEvents"),En(this,"stopListenToKeyEvents"),En(this,"saveState"),En(this,"reset"),En(this,"update"),En(this,"connect"),En(this,"dispose"),En(this,"dollyIn"),En(this,"dollyOut"),En(this,"getScale"),En(this,"setScale"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=ve=>{let Fe=Qq(ve,2*Math.PI),Tt=c.phi;Tt<0&&(Tt+=2*Math.PI),Fe<0&&(Fe+=2*Math.PI);let le=Math.abs(Fe-Tt);2*Math.PI-le<le&&(Fe<Tt?Fe+=2*Math.PI:Tt+=2*Math.PI),f.phi=Fe-Tt,i.update()},this.setAzimuthalAngle=ve=>{let Fe=Qq(ve,2*Math.PI),Tt=c.theta;Tt<0&&(Tt+=2*Math.PI),Fe<0&&(Fe+=2*Math.PI);let le=Math.abs(Fe-Tt);2*Math.PI-le<le&&(Fe<Tt?Fe+=2*Math.PI:Tt+=2*Math.PI),f.theta=Fe-Tt,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=ve=>{ve.addEventListener("keydown",Ze),this._domElementKeyEvents=ve},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ze),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(r),i.update(),l=o.NONE},this.update=(()=>{const ve=new re,Fe=new re(0,1,0),Tt=new ka().setFromUnitVectors(e.up,Fe),le=Tt.clone().invert(),wt=new re,ft=new ka,Gt=2*Math.PI;return function(){const rt=i.object.position;Tt.setFromUnitVectors(e.up,Fe),le.copy(Tt).invert(),ve.copy(rt).sub(i.target),ve.applyQuaternion(Tt),c.setFromVector3(ve),i.autoRotate&&l===o.NONE&&ae(Z()),i.enableDamping?(c.theta+=f.theta*i.dampingFactor,c.phi+=f.phi*i.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let qt=i.minAzimuthAngle,cn=i.maxAzimuthAngle;isFinite(qt)&&isFinite(cn)&&(qt<-Math.PI?qt+=Gt:qt>Math.PI&&(qt-=Gt),cn<-Math.PI?cn+=Gt:cn>Math.PI&&(cn-=Gt),qt<=cn?c.theta=Math.max(qt,Math.min(cn,c.theta)):c.theta=c.theta>(qt+cn)/2?Math.max(qt,c.theta):Math.min(cn,c.theta)),c.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,c.phi)),c.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(v,i.dampingFactor):i.target.add(v),i.zoomToCursor&&z||i.object.isOrthographicCamera?c.radius=We(c.radius):c.radius=We(c.radius*m),ve.setFromSpherical(c),ve.applyQuaternion(le),rt.copy(i.target).add(ve),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(f.theta*=1-i.dampingFactor,f.phi*=1-i.dampingFactor,v.multiplyScalar(1-i.dampingFactor)):(f.set(0,0,0),v.set(0,0,0));let ai=!1;if(i.zoomToCursor&&z){let Yn=null;if(i.object instanceof Tr&&i.object.isPerspectiveCamera){const Fr=ve.length();Yn=We(Fr*m);const zr=Fr-Yn;i.object.position.addScaledVector(V,zr),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Fr=new re(F.x,F.y,0);Fr.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/m)),i.object.updateProjectionMatrix(),ai=!0;const zr=new re(F.x,F.y,0);zr.unproject(i.object),i.object.position.sub(zr).add(Fr),i.object.updateMatrixWorld(),Yn=ve.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;Yn!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(Yn).add(i.object.position):(Dv.origin.copy(i.object.position),Dv.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Dv.direction))<kLe?e.lookAt(i.target):(Yq.setFromNormalAndCoplanarPoint(i.object.up,i.target),Dv.intersectPlane(Yq,i.target))))}else i.object instanceof h1&&i.object.isOrthographicCamera&&(ai=m!==1,ai&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/m)),i.object.updateProjectionMatrix()));return m=1,z=!1,ai||wt.distanceToSquared(i.object.position)>u||8*(1-ft.dot(i.object.quaternion))>u?(i.dispatchEvent(r),wt.copy(i.object.position),ft.copy(i.object.quaternion),ai=!1,!0):!1}})(),this.connect=ve=>{i.domElement=ve,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Kt),i.domElement.addEventListener("pointerdown",Tn),i.domElement.addEventListener("pointercancel",ie),i.domElement.addEventListener("wheel",ut)},this.dispose=()=>{var ve,Fe,Tt,le,wt,ft;i.domElement&&(i.domElement.style.touchAction="auto"),(ve=i.domElement)==null||ve.removeEventListener("contextmenu",Kt),(Fe=i.domElement)==null||Fe.removeEventListener("pointerdown",Tn),(Tt=i.domElement)==null||Tt.removeEventListener("pointercancel",ie),(le=i.domElement)==null||le.removeEventListener("wheel",ut),(wt=i.domElement)==null||wt.ownerDocument.removeEventListener("pointermove",me),(ft=i.domElement)==null||ft.ownerDocument.removeEventListener("pointerup",ie),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Ze)};const i=this,r={type:"change"},s={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const u=1e-6,c=new MC,f=new MC;let m=1;const v=new re,_=new Ye,T=new Ye,M=new Ye,S=new Ye,R=new Ye,C=new Ye,P=new Ye,B=new Ye,O=new Ye,V=new re,F=new Ye;let z=!1;const k=[],H={};function Z(){return 2*Math.PI/60/60*i.autoRotateSpeed}function $(){return Math.pow(.95,i.zoomSpeed)}function ae(ve){i.reverseOrbit||i.reverseHorizontalOrbit?f.theta+=ve:f.theta-=ve}function ne(ve){i.reverseOrbit||i.reverseVerticalOrbit?f.phi+=ve:f.phi-=ve}const Y=(()=>{const ve=new re;return function(Tt,le){ve.setFromMatrixColumn(le,0),ve.multiplyScalar(-Tt),v.add(ve)}})(),ee=(()=>{const ve=new re;return function(Tt,le){i.screenSpacePanning===!0?ve.setFromMatrixColumn(le,1):(ve.setFromMatrixColumn(le,0),ve.crossVectors(i.object.up,ve)),ve.multiplyScalar(Tt),v.add(ve)}})(),Q=(()=>{const ve=new re;return function(Tt,le){const wt=i.domElement;if(wt&&i.object instanceof Tr&&i.object.isPerspectiveCamera){const ft=i.object.position;ve.copy(ft).sub(i.target);let Gt=ve.length();Gt*=Math.tan(i.object.fov/2*Math.PI/180),Y(2*Tt*Gt/wt.clientHeight,i.object.matrix),ee(2*le*Gt/wt.clientHeight,i.object.matrix)}else wt&&i.object instanceof h1&&i.object.isOrthographicCamera?(Y(Tt*(i.object.right-i.object.left)/i.object.zoom/wt.clientWidth,i.object.matrix),ee(le*(i.object.top-i.object.bottom)/i.object.zoom/wt.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function fe(ve){i.object instanceof Tr&&i.object.isPerspectiveCamera||i.object instanceof h1&&i.object.isOrthographicCamera?m=ve:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function ge(ve){fe(m/ve)}function Re(ve){fe(m*ve)}function Ge(ve){if(!i.zoomToCursor||!i.domElement)return;z=!0;const Fe=i.domElement.getBoundingClientRect(),Tt=ve.clientX-Fe.left,le=ve.clientY-Fe.top,wt=Fe.width,ft=Fe.height;F.x=Tt/wt*2-1,F.y=-(le/ft)*2+1,V.set(F.x,F.y,1).unproject(i.object).sub(i.object.position).normalize()}function We(ve){return Math.max(i.minDistance,Math.min(i.maxDistance,ve))}function Se(ve){_.set(ve.clientX,ve.clientY)}function qe(ve){Ge(ve),P.set(ve.clientX,ve.clientY)}function St(ve){S.set(ve.clientX,ve.clientY)}function at(ve){T.set(ve.clientX,ve.clientY),M.subVectors(T,_).multiplyScalar(i.rotateSpeed);const Fe=i.domElement;Fe&&(ae(2*Math.PI*M.x/Fe.clientHeight),ne(2*Math.PI*M.y/Fe.clientHeight)),_.copy(T),i.update()}function Ct(ve){B.set(ve.clientX,ve.clientY),O.subVectors(B,P),O.y>0?ge($()):O.y<0&&Re($()),P.copy(B),i.update()}function Jt(ve){R.set(ve.clientX,ve.clientY),C.subVectors(R,S).multiplyScalar(i.panSpeed),Q(C.x,C.y),S.copy(R),i.update()}function It(ve){Ge(ve),ve.deltaY<0?Re($()):ve.deltaY>0&&ge($()),i.update()}function Sn(ve){let Fe=!1;switch(ve.code){case i.keys.UP:Q(0,i.keyPanSpeed),Fe=!0;break;case i.keys.BOTTOM:Q(0,-i.keyPanSpeed),Fe=!0;break;case i.keys.LEFT:Q(i.keyPanSpeed,0),Fe=!0;break;case i.keys.RIGHT:Q(-i.keyPanSpeed,0),Fe=!0;break}Fe&&(ve.preventDefault(),i.update())}function hn(){if(k.length==1)_.set(k[0].pageX,k[0].pageY);else{const ve=.5*(k[0].pageX+k[1].pageX),Fe=.5*(k[0].pageY+k[1].pageY);_.set(ve,Fe)}}function $t(){if(k.length==1)S.set(k[0].pageX,k[0].pageY);else{const ve=.5*(k[0].pageX+k[1].pageX),Fe=.5*(k[0].pageY+k[1].pageY);S.set(ve,Fe)}}function ce(){const ve=k[0].pageX-k[1].pageX,Fe=k[0].pageY-k[1].pageY,Tt=Math.sqrt(ve*ve+Fe*Fe);P.set(0,Tt)}function bt(){i.enableZoom&&ce(),i.enablePan&&$t()}function At(){i.enableZoom&&ce(),i.enableRotate&&hn()}function mt(ve){if(k.length==1)T.set(ve.pageX,ve.pageY);else{const Tt=fn(ve),le=.5*(ve.pageX+Tt.x),wt=.5*(ve.pageY+Tt.y);T.set(le,wt)}M.subVectors(T,_).multiplyScalar(i.rotateSpeed);const Fe=i.domElement;Fe&&(ae(2*Math.PI*M.x/Fe.clientHeight),ne(2*Math.PI*M.y/Fe.clientHeight)),_.copy(T)}function et(ve){if(k.length==1)R.set(ve.pageX,ve.pageY);else{const Fe=fn(ve),Tt=.5*(ve.pageX+Fe.x),le=.5*(ve.pageY+Fe.y);R.set(Tt,le)}C.subVectors(R,S).multiplyScalar(i.panSpeed),Q(C.x,C.y),S.copy(R)}function Ft(ve){const Fe=fn(ve),Tt=ve.pageX-Fe.x,le=ve.pageY-Fe.y,wt=Math.sqrt(Tt*Tt+le*le);B.set(0,wt),O.set(0,Math.pow(B.y/P.y,i.zoomSpeed)),ge(O.y),P.copy(B)}function gt(ve){i.enableZoom&&Ft(ve),i.enablePan&&et(ve)}function Ut(ve){i.enableZoom&&Ft(ve),i.enableRotate&&mt(ve)}function Tn(ve){var Fe,Tt;i.enabled!==!1&&(k.length===0&&((Fe=i.domElement)==null||Fe.ownerDocument.addEventListener("pointermove",me),(Tt=i.domElement)==null||Tt.ownerDocument.addEventListener("pointerup",ie)),tn(ve),ve.pointerType==="touch"?nn(ve):Ie(ve))}function me(ve){i.enabled!==!1&&(ve.pointerType==="touch"?Ot(ve):Ke(ve))}function ie(ve){var Fe,Tt,le;ct(ve),k.length===0&&((Fe=i.domElement)==null||Fe.releasePointerCapture(ve.pointerId),(Tt=i.domElement)==null||Tt.ownerDocument.removeEventListener("pointermove",me),(le=i.domElement)==null||le.ownerDocument.removeEventListener("pointerup",ie)),i.dispatchEvent(a),l=o.NONE}function Ie(ve){let Fe;switch(ve.button){case 0:Fe=i.mouseButtons.LEFT;break;case 1:Fe=i.mouseButtons.MIDDLE;break;case 2:Fe=i.mouseButtons.RIGHT;break;default:Fe=-1}switch(Fe){case j4.DOLLY:if(i.enableZoom===!1)return;qe(ve),l=o.DOLLY;break;case j4.ROTATE:if(ve.ctrlKey||ve.metaKey||ve.shiftKey){if(i.enablePan===!1)return;St(ve),l=o.PAN}else{if(i.enableRotate===!1)return;Se(ve),l=o.ROTATE}break;case j4.PAN:if(ve.ctrlKey||ve.metaKey||ve.shiftKey){if(i.enableRotate===!1)return;Se(ve),l=o.ROTATE}else{if(i.enablePan===!1)return;St(ve),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(s)}function Ke(ve){if(i.enabled!==!1)switch(l){case o.ROTATE:if(i.enableRotate===!1)return;at(ve);break;case o.DOLLY:if(i.enableZoom===!1)return;Ct(ve);break;case o.PAN:if(i.enablePan===!1)return;Jt(ve);break}}function ut(ve){i.enabled===!1||i.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(ve.preventDefault(),i.dispatchEvent(s),It(ve),i.dispatchEvent(a))}function Ze(ve){i.enabled===!1||i.enablePan===!1||Sn(ve)}function nn(ve){switch(Vt(ve),k.length){case 1:switch(i.touches.ONE){case W4.ROTATE:if(i.enableRotate===!1)return;hn(),l=o.TOUCH_ROTATE;break;case W4.PAN:if(i.enablePan===!1)return;$t(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(i.touches.TWO){case W4.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;bt(),l=o.TOUCH_DOLLY_PAN;break;case W4.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;At(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&i.dispatchEvent(s)}function Ot(ve){switch(Vt(ve),l){case o.TOUCH_ROTATE:if(i.enableRotate===!1)return;mt(ve),i.update();break;case o.TOUCH_PAN:if(i.enablePan===!1)return;et(ve),i.update();break;case o.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;gt(ve),i.update();break;case o.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;Ut(ve),i.update();break;default:l=o.NONE}}function Kt(ve){i.enabled!==!1&&ve.preventDefault()}function tn(ve){k.push(ve)}function ct(ve){delete H[ve.pointerId];for(let Fe=0;Fe<k.length;Fe++)if(k[Fe].pointerId==ve.pointerId){k.splice(Fe,1);return}}function Vt(ve){let Fe=H[ve.pointerId];Fe===void 0&&(Fe=new Ye,H[ve.pointerId]=Fe),Fe.set(ve.pageX,ve.pageY)}function fn(ve){const Fe=ve.pointerId===k[0].pointerId?k[1]:k[0];return H[Fe.pointerId]}this.dollyIn=(ve=$())=>{Re(ve),i.update()},this.dollyOut=(ve=$())=>{ge(ve),i.update()},this.getScale=()=>m,this.setScale=ve=>{fe(ve),i.update()},this.getZoomScale=()=>$(),t!==void 0&&this.connect(t),this.update()}};const qLe=be.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:i,enableDamping:r=!0,keyEvents:s=!1,onChange:a,onStart:o,onEnd:l,...u},c)=>{const f=cc(O=>O.invalidate),m=cc(O=>O.camera),v=cc(O=>O.gl),_=cc(O=>O.events),T=cc(O=>O.setEvents),M=cc(O=>O.set),S=cc(O=>O.get),R=cc(O=>O.performance),C=e||m,P=i||_.connected||v.domElement,B=be.useMemo(()=>new GLe(C),[C]);return cLe(()=>{B.enabled&&B.update()},-1),be.useEffect(()=>(s&&B.connect(s===!0?P:s),B.connect(P),()=>void B.dispose()),[s,P,t,B,f]),be.useEffect(()=>{const O=z=>{f(),t&&R.regress(),a&&a(z)},V=z=>{o&&o(z)},F=z=>{l&&l(z)};return B.addEventListener("change",O),B.addEventListener("start",V),B.addEventListener("end",F),()=>{B.removeEventListener("start",V),B.removeEventListener("end",F),B.removeEventListener("change",O)}},[a,o,l,B,f,T]),be.useEffect(()=>{if(n){const O=S().controls;return M({controls:B}),()=>M({controls:O})}},[n,B]),be.createElement("primitive",YN({ref:c,object:B,enableDamping:r},u))}),HLe=[{type:"Feature",properties:{admin:"Afghanistan",name:"Afghanistan",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[61.21081709172573,35.65007233330922],[62.23065148300588,35.27066396742229],[62.98466230657659,35.404040839167614],[63.19353844590034,35.85716563571891],[63.982895949158696,36.007957465146596],[64.54647911973389,36.31207326918426],[64.74610517767739,37.1118177353333],[65.58894778835783,37.30521678318563],[65.74563073106681,37.66116404881206],[66.21738488145932,37.39379018813391],[66.51860680528866,37.362784328758785],[67.07578209825961,37.35614390720928],[67.8299996275595,37.14499400486468],[68.13556237170137,37.0231151393043],[68.85944583524592,37.34433584243059],[69.19627282092436,37.15114350030742],[69.51878543485795,37.60899669041341],[70.11657840361032,37.588222764632086],[70.27057417184012,37.73516469985401],[70.37630415230927,38.138395901027515],[70.80682050973287,38.48628164321641],[71.34813113799025,38.258905341132156],[71.23940392444815,37.95326508234188],[71.54191775908477,37.90577444106563],[71.44869347523023,37.06564484308051],[71.84463829945058,36.738171291646914],[72.19304080596238,36.94828766534566],[72.63688968291727,37.04755809177835],[73.26005577992498,37.495256862938994],[73.94869591664649,37.421566270490786],[74.9800024758954,37.41999013930589],[75.1580277851409,37.13303091078911],[74.57589277537296,37.02084137628345],[74.06755171091781,36.836175645488446],[72.92002485544445,36.72000702569631],[71.84629194528391,36.50994232842985],[71.26234826038574,36.0743875188578],[71.49876793812108,35.650563259415996],[71.6130762063507,35.15320343682286],[71.11501875192162,34.73312571872223],[71.15677330921345,34.348911444632144],[70.88180301298839,33.98885590263851],[69.93054324735958,34.0201201441751],[70.32359419137158,33.358532619758385],[69.68714725126485,33.10549896904123],[69.26252200712254,32.50194407808829],[69.31776411324255,31.901412258424436],[68.92667687365766,31.620189113892064],[68.55693200060931,31.71331004488201],[67.79268924344477,31.582930406209623],[67.68339358914746,31.303154201781414],[66.93889122911845,31.304911200479346],[66.38145755398601,30.73889923758645],[66.34647260932441,29.88794342703617],[65.04686201361609,29.4721806910319],[64.3504187356185,29.56003062592809],[64.14800215033124,29.340819200145965],[63.550260858011164,29.468330796826162],[62.549856805272775,29.318572496044304],[60.87424848820878,29.829238999952604],[61.78122155136343,30.73585032808123],[61.69931440618081,31.37950613049266],[60.941944614511115,31.548074652628745],[60.86365481958895,32.18291962333442],[60.53607791529076,32.98126882581156],[60.96370039250599,33.52883230237625],[60.528429803311575,33.676446031218],[60.80319339380744,34.404101874319856],[61.21081709172573,35.65007233330922]]]}},{type:"Feature",properties:{admin:"Angola",name:"Angola",continent:"Africa"},geometry:{type:"MultiPolygon",coordinates:[[[[16.326528354567042,-5.877470391466217],[16.57317996589614,-6.622644545115092],[16.860190870845226,-7.222297865429978],[17.089995965247166,-7.545688978712474],[17.47297000496229,-8.068551120641656],[18.134221632569048,-7.987677504104865],[18.464175652752683,-7.847014255406475],[19.016751743249664,-7.988245944860138],[19.16661339689608,-7.738183688999724],[19.417502475673214,-7.155428562044277],[20.037723016040214,-7.116361179231658],[20.091621534920616,-6.943090101756949],[20.60182295093832,-6.939317722199688],[20.514748162526526,-7.299605808138663],[21.728110792739752,-7.290872491081315],[21.74645592620336,-7.920084730667113],[21.949130893652033,-8.305900974158304],[21.80180138518795,-8.908706556842985],[21.875181919042397,-9.523707777548564],[22.208753289486417,-9.894796237836529],[22.155268182064326,-11.084801120653777],[22.40279829274243,-10.99307545333569],[22.837345411884762,-11.017621758674334],[23.45679080576746,-10.867863457892481],[23.912215203555743,-10.92682626713754],[24.017893507592614,-11.237298272347115],[23.904153680118235,-11.722281589406332],[24.079905226342895,-12.191296888887305],[23.930922072045373,-12.56584767013882],[24.0161365088947,-12.91104623784855],[21.93388634612594,-12.898437188369353],[21.88784264495387,-16.08031015387689],[22.562478468524283,-16.89845142992183],[23.215048455506086,-17.523116143465952],[21.37717614104559,-17.930636488519706],[18.956186964603628,-17.789094740472233],[18.263309360434217,-17.309950860262003],[14.20970665859505,-17.35310068122571],[14.058501417709035,-17.423380629142653],[13.462362094789963,-16.97121184658874],[12.814081251688405,-16.941342868724075],[12.21546146001938,-17.11166838955806],[11.734198846085146,-17.301889336824498],[11.640096062881609,-16.673142185129205],[11.778537224991563,-15.793816013250687],[12.123580763404444,-14.878316338767927],[12.175618930722264,-14.449143568583889],[12.500095249083014,-13.547699883684398],[12.738478631245439,-13.137905775609934],[13.312913852601834,-12.483630466362511],[13.633721144269824,-12.03864470789719],[13.738727654686924,-11.297863050993142],[13.686379428775293,-10.73107594161584],[13.38732791510216,-10.373578383020726],[13.120987583069873,-9.766897067914112],[12.875369500386567,-9.166933689005488],[12.929061313537797,-8.959091078327573],[13.23643273280987,-8.56262948978434],[12.933040398824314,-7.596538588087752],[12.728298374083916,-6.927122084178803],[12.22734703944644,-6.294447523629372],[12.322431674863562,-6.100092461779651],[12.735171339578695,-5.965682061388476],[13.024869419006988,-5.984388929878106],[13.375597364971892,-5.864241224799555],[16.326528354567042,-5.877470391466217]]],[[[12.43668826666092,-5.684303887559223],[12.182336866920277,-5.789930515163801],[11.914963006242115,-5.037986748884733],[12.318607618873923,-4.606230157086158],[12.620759718484548,-4.438023369976121],[12.995517205465202,-4.781103203961918],[12.631611769265842,-4.991271254092935],[12.46800418462976,-5.248361504744991],[12.43668826666092,-5.684303887559223]]]]}},{type:"Feature",properties:{admin:"Albania",name:"Albania",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[20.590247430104906,41.85540416113359],[20.463175083099195,41.51508901627533],[20.605181919037356,41.08622630468522],[21.020040317476397,40.84272695572587],[20.99998986174722,40.580003973953964],[20.67499677906363,40.43499990494302],[20.61500044117275,40.110006822259365],[20.150015903410516,39.624997666983965],[19.980000441170144,39.6949933945234],[19.9600016618732,39.91500580500604],[19.40608198413673,40.25077342382246],[19.31905887215714,40.727230129553554],[19.403549838954287,41.409565741535445],[19.5400272966371,41.71998607031275],[19.371768833094958,41.87754751237064],[19.304486118250786,42.19574514420781],[19.738051385179627,42.688247382165564],[19.80161339689868,42.500093492190835],[20.0707,42.58863],[20.28375451018189,42.320259507815074],[20.52295,42.21787],[20.590247430104906,41.85540416113359]]]}},{type:"Feature",properties:{admin:"United Arab Emirates",name:"United Arab Emirates",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[51.57951867046326,24.2454971379511],[51.75744062684417,24.294072984305462],[51.794389275932865,24.0198261581325],[52.57708051942559,24.177439276622703],[53.40400678896014,24.151316840099167],[54.008000929587574,24.121757920828212],[54.693023716048614,24.797892360935084],[55.439024692614126,25.439145209244934],[56.070820753814544,26.055464178973978],[56.26104170108095,25.71460643157676],[56.39684736514399,24.924732163995483],[55.88623253766799,24.92083059335744],[55.80411868675621,24.26960419361526],[55.981213820220454,24.13054291431782],[55.52863162620823,23.9336040308535],[55.52584109886446,23.52486928964093],[55.23448937360287,23.110992743415316],[55.20834109886319,22.70832998299704],[55.0068030129249,22.49694753670713],[52.00073327007432,23.001154486578937],[51.61770755392697,24.014219265228824],[51.57951867046326,24.2454971379511]]]}},{type:"Feature",properties:{admin:"Argentina",name:"Argentina",continent:"South America"},geometry:{type:"MultiPolygon",coordinates:[[[[-65.5,-55.2],[-66.45,-55.25],[-66.95992,-54.89681],[-67.56244,-54.87001],[-68.63335,-54.8695],[-68.63401022758315,-52.63637045887445],[-68.25,-53.1],[-67.75,-53.85],[-66.45,-54.45],[-65.05,-54.7],[-65.5,-55.2]]],[[[-64.96489213729457,-22.075861504812348],[-64.37702104354226,-22.79809132252354],[-63.98683814152246,-21.993644301035953],[-62.84646847192154,-22.034985446869452],[-62.685057135657885,-22.2490292294224],[-60.84656470400993,-23.8807125790383],[-60.02896603050397,-24.03279631927324],[-58.80712846539494,-24.77145924245327],[-57.77721716981795,-25.162339776309032],[-57.633660040911124,-25.603656508081666],[-58.61817359071971,-27.123718763947117],[-57.609759690976134,-27.39589853282842],[-56.48670162619299,-27.548499037386243],[-55.695845506398186,-27.387837009390815],[-54.78879492859504,-26.621785577096087],[-54.62529069682354,-25.73925546641548],[-54.13004960795441,-25.547639255477243],[-53.628348965048716,-26.12486500417743],[-53.648735317587885,-26.923472588816104],[-54.49072526713552,-27.474756768505767],[-55.162286342984586,-27.881915378533414],[-56.29089962423909,-28.85276051200085],[-57.62513342958291,-30.21629485445424],[-57.8749373032819,-31.016556084926158],[-58.14244035504074,-32.04450367607618],[-58.132647671121404,-33.04056690850201],[-58.34961117209882,-33.26318897881543],[-58.42707414410437,-33.90945444105754],[-58.49544206402654,-34.4314897600701],[-57.22582963726363,-35.288026625307886],[-57.36235877137874,-35.9773902320815],[-56.73748735210545,-36.413125909166574],[-56.78828528504834,-36.90157154718933],[-57.74915686708342,-38.1838705380799],[-59.231857062401865,-38.7202202288372],[-61.2374452378656,-38.92842457454114],[-62.335956997310134,-38.82770720800436],[-62.125763108962914,-39.42410491308487],[-62.33053097191943,-40.172586358400316],[-62.14599443220523,-40.67689666113672],[-62.74580278181697,-41.02876148861208],[-63.770494757732514,-41.16678923926366],[-64.7320898098197,-40.80267709733513],[-65.11803524439158,-41.064314874028874],[-64.97856055363583,-42.05800099056931],[-64.30340796574247,-42.359016208669495],[-63.75594784204234,-42.043686618824495],[-63.45805904809588,-42.563138116222355],[-64.37880388045629,-42.87355844499964],[-65.18180396183969,-43.49538095476778],[-65.32882341171013,-44.50136606219369],[-65.56526892766159,-45.03678557716978],[-66.50996578638934,-45.03962778094584],[-67.29379391139243,-45.55189625425518],[-67.58054643418008,-46.30177296324253],[-66.59706641301726,-47.033924655953804],[-65.64102657740143,-47.23613453551188],[-65.98508826360073,-48.13328907653113],[-67.16617896184765,-48.69733733499693],[-67.81608761256645,-49.86966887797041],[-68.72874508327315,-50.26421843851886],[-69.13853919134779,-50.73251026794779],[-68.81556148952352,-51.7711040115941],[-68.1499948798204,-52.3499834061277],[-68.57154537624133,-52.29944385534625],[-69.49836218939608,-52.142760912637236],[-71.91480383979632,-52.00902230586591],[-72.32940385607402,-51.425956312872394],[-72.30997351753234,-50.67700977966634],[-72.97574683296462,-50.7414502907343],[-73.32805091011446,-50.378785088909865],[-73.41543575712002,-49.31843637471295],[-72.64824744331493,-48.878618259476774],[-72.33116085477194,-48.24423837666182],[-72.44735531278026,-47.73853281025352],[-71.9172584703302,-46.884838148791786],[-71.55200944689123,-45.56073292417712],[-71.65931555854532,-44.97368865334143],[-71.22277889675972,-44.78424285255941],[-71.3298007880362,-44.40752166115168],[-71.79362260607193,-44.2071721331561],[-71.4640561591305,-43.787611179378324],[-71.9154239569839,-43.408564548517404],[-72.14889807807852,-42.254888197601375],[-71.74680375841545,-42.05138640723599],[-71.91573401557754,-40.832339369470716],[-71.68076127794644,-39.80816415787806],[-71.41351660834904,-38.91602223079111],[-70.8146642727347,-38.55299529394073],[-71.11862504747542,-37.57682748794719],[-71.12188066270977,-36.65812387466233],[-70.36476925320166,-36.00508879978993],[-70.38804948594908,-35.16968759535944],[-69.81730912950145,-34.19357146579828],[-69.81477698431921,-33.27388600029984],[-70.07439938015362,-33.09120981214803],[-70.53506893581944,-31.36501026787028],[-69.91900834825192,-30.336339206668306],[-70.01355038112986,-29.367922865518544],[-69.65613033718314,-28.459141127233686],[-69.00123491074827,-27.521213881136127],[-68.29554155137039,-26.899339694935787],[-68.59479977077267,-26.50690886811126],[-68.38600114609734,-26.18501637136523],[-68.41765296087611,-24.518554782816874],[-67.32844295924413,-24.025303236590908],[-66.98523393417763,-22.986348565362825],[-67.1066735500636,-22.735924574476392],[-66.27333940292483,-21.832310479420677],[-64.96489213729457,-22.075861504812348]]]]}},{type:"Feature",properties:{admin:"Armenia",name:"Armenia",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[43.582745802592726,41.09214325618256],[44.97248009621807,41.24812856705559],[45.179495883979335,40.9853539088514],[45.56035118997043,40.81228953710592],[45.359174839058156,40.56150381119345],[45.891907179555076,40.21847565363999],[45.61001224140291,39.899993801425175],[46.03453413268066,39.62802073827306],[46.48349897643244,39.46415477147553],[46.505719842317966,38.77060537368629],[46.14362308124881,38.74120148371221],[45.735379266143006,39.319719143219736],[45.739978468616975,39.473999131827114],[45.298144972521456,39.47175120702242],[45.00198733905674,39.74000356704955],[44.79398969908193,39.71300263117704],[44.400008579288695,40.00500031184227],[43.656436395040934,40.25356395116618],[43.7526579119684,40.740200914058754],[43.582745802592726,41.09214325618256]]]}},{type:"Feature",properties:{admin:"French Southern and Antarctic Lands",name:"Fr. S. Antarctic Lands",continent:"Seven seas (open ocean)"},geometry:{type:"Polygon",coordinates:[[[68.935,-48.625],[69.58,-48.94],[70.525,-49.065],[70.56,-49.255],[70.28,-49.71],[68.745,-49.775],[68.72,-49.2425],[68.8675,-48.83],[68.935,-48.625]]]}},{type:"Feature",properties:{admin:"Australia",name:"Australia",continent:"Australia"},geometry:{type:"MultiPolygon",coordinates:[[[[145.39797814349478,-40.79254851660588],[146.3641207216237,-41.137695407883335],[146.90858361225082,-41.00054615658067],[147.68925947488412,-40.80825815202268],[148.289067824496,-40.87543751400212],[148.35986453673578,-42.06244516374644],[148.01730146707308,-42.40702361426861],[147.91405195535378,-43.211522312188485],[147.56456424376398,-42.937688897473855],[146.87034305235494,-43.63459726336208],[146.66332726459365,-43.58085377377854],[146.0483777203204,-43.54974456153888],[145.43192955951054,-42.69377613705627],[145.29509036680167,-42.03360971452755],[144.7180713238306,-41.16255177181571],[144.74375451067962,-40.703975111657705],[145.39797814349478,-40.79254851660588]]],[[[143.56181115129993,-13.76365569423221],[143.92209923723888,-14.548310642152],[144.5637138205748,-14.171176039285879],[144.89490807513351,-14.594457696188622],[145.37472374896342,-14.984976495018284],[145.27199100156724,-15.428205254785691],[145.48525963763575,-16.28567229580477],[145.63703331927695,-16.78491830817661],[145.88890425026767,-16.906926364817647],[146.16030887266447,-17.76165455492524],[146.06367394427866,-18.280072523677315],[146.38747846901958,-18.958274021075905],[147.4710815777479,-19.480722751546676],[148.17760176004248,-19.955939222902767],[148.84841352762322,-20.39120981209725],[148.71746544819558,-20.633468926681513],[149.28942020080206,-21.260510756111096],[149.67833703023064,-22.34251189543839],[150.0773824403886,-22.122783705333315],[150.48293908101516,-22.556142266533012],[150.72726525289116,-22.402404880464655],[150.89955447815225,-23.46223683033868],[151.6091752463842,-24.076256198830755],[152.07353966695905,-24.45788665130619],[152.8551973818059,-25.267501316023008],[153.13616214417675,-26.071173191026187],[153.16194868389036,-26.64131926850244],[153.09290897034856,-27.260299574494503],[153.56946902894418,-28.1100668271021],[153.51210818910022,-28.99507740653275],[153.33909549378706,-29.458201592732443],[153.06924116435886,-30.35024016695481],[153.0896016786818,-30.923641859665445],[152.89157759013938,-31.64044565198595],[152.45000247620533,-32.55000253675524],[151.70911746643677,-33.04134205498634],[151.3439717958624,-33.816023451473846],[151.0105554547151,-34.31036020277788],[150.71413943908902,-35.1734599749168],[150.32821984273323,-35.67187916437192],[150.07521203023225,-36.42020558039051],[149.94612430236714,-37.10905242284122],[149.99728397033613,-37.42526051203512],[149.42388227762552,-37.77268116633346],[148.3046224306159,-37.809061374666875],[147.38173302631526,-38.21921721776754],[146.92212283751132,-38.606532077795116],[146.31792199115478,-39.03575652441143],[145.48965213438055,-38.59376799901904],[144.87697635312816,-38.41744801203911],[145.03221235573295,-37.89618783951097],[144.485682407814,-38.08532358169926],[143.60997358619608,-38.80946542740532],[142.74542687395297,-38.53826751073752],[142.17832970598198,-38.380034275059835],[141.60658165910468,-38.30851409276787],[140.6385787294132,-38.01933277766254],[139.99215823787432,-37.402936293285094],[139.80658816951404,-36.64360279718827],[139.57414757706522,-36.138362318670666],[139.08280805883408,-35.732754001611774],[138.1207479188563,-35.6122962379394],[138.449461704665,-35.12726124444789],[138.20756432510666,-34.384722588845925],[137.71917036351613,-35.07682504653102],[136.8294055523147,-35.260534763328614],[137.35237104710848,-34.70733855564409],[137.50388634658833,-34.13026783624077],[137.89011600153765,-33.64047861097833],[137.8103275900791,-32.900007012668105],[136.99683719294035,-33.75277149834863],[136.37206912653164,-34.094766127256186],[135.98904341038434,-34.89011809666048],[135.2082125184541,-34.4786703427526],[135.23921837782916,-33.94795338311497],[134.6134167827746,-33.222778008763136],[134.0859037619391,-32.84807219821476],[134.27390262261702,-32.61723357516695],[132.9907768088098,-32.01122405368019],[132.28808068250487,-31.98264698662276],[131.3263306011209,-31.49580331800104],[129.53579389863967,-31.590422865527476],[128.2409375347022,-31.94848886487785],[127.10286746633828,-32.28226694105104],[126.14871382050113,-32.2159660784206],[125.08862348846559,-32.72875131605283],[124.22164798390493,-32.95948658623606],[124.02894656788851,-33.48384734470171],[123.65966678273071,-33.89017913181272],[122.81103641163361,-33.914467054989835],[122.18306440642283,-34.00340219496422],[121.29919070850258,-33.821036065406126],[120.58026818245811,-33.93017669040662],[119.89369510302822,-33.97606536228181],[119.29889936734878,-34.50936614353396],[119.00734093635798,-34.46414926527853],[118.50571780810077,-34.74681934991509],[118.02497195848952,-35.06473276137471],[117.29550744025744,-35.02545867283286],[116.62510908413492,-35.02509693780683],[115.56434695847969,-34.38642791111155],[115.02680870977952,-34.19651702243892],[115.04861616420676,-33.623425388322026],[115.54512332566708,-33.48725798923295],[115.71467370001666,-33.259571628554944],[115.67937869676138,-32.900368747694124],[115.80164513556396,-32.205062351207026],[115.6896106303551,-31.612437025683782],[115.16090905157694,-30.601594333622455],[114.99704308477942,-30.03072478609416],[115.04003787644625,-29.461095472940794],[114.64197431850198,-28.810230808224706],[114.61649783738217,-28.516398614213042],[114.17357913620845,-28.11807667410732],[114.04888390508813,-27.33476531342712],[113.47749759323688,-26.5431340471479],[113.33895307826248,-26.116545098578477],[113.77835778204026,-26.549025160429174],[113.44096235560659,-25.621278171493152],[113.93690107631164,-25.911234633082877],[114.23285200404729,-26.29844614024587],[114.216160516417,-25.786281019801105],[113.72125532435768,-24.998938897402123],[113.62534386602402,-24.683971042583146],[113.39352339076267,-24.38476449961326],[113.50204389857561,-23.80635019297025],[113.70699262904515,-23.56021534596406],[113.84341841029567,-23.059987481378734],[113.73655154831607,-22.475475355725372],[114.14975630092187,-21.75588103606101],[114.22530724493265,-22.51748829517863],[114.64776207891866,-21.829519952076904],[115.4601672709793,-21.49517343514854],[115.94737267462699,-21.068687839443708],[116.71161543179153,-20.701681817306817],[117.16631635952768,-20.6235987281138],[117.44154503791424,-20.746898695562162],[118.22955895393295,-20.374208265873232],[118.8360852397427,-20.263310642174822],[118.98780724495175,-20.04420256925732],[119.25249393115062,-19.952941989829835],[119.80522505094454,-19.976506442954978],[120.85622033089663,-19.683707777589188],[121.3998563986072,-19.23975554776973],[121.65513797412906,-18.70531788500713],[122.24166548064176,-18.197648614171765],[122.28662397673565,-17.79860320401391],[122.31277225147541,-17.254967136303446],[123.0125744975719,-16.405199883695854],[123.43378909718301,-17.268558037996225],[123.85934451710659,-17.06903533291725],[123.50324222218323,-16.596506036040363],[123.81707319549191,-16.11131601325199],[124.25828657439985,-16.32794361741956],[124.3797261902858,-15.567059828353973],[124.92615278534002,-15.07510019293532],[125.16727501841387,-14.680395603090004],[125.67008670461382,-14.510070082256018],[125.68579634003049,-14.230655612853834],[126.1251493673761,-14.34734099696895],[126.14282270721986,-14.09598683030121],[126.58258914602374,-13.95279143642041],[127.06586714081733,-13.817967624570922],[127.80463341686193,-14.276906019755042],[128.35968997610894,-14.869169610252253],[128.9855432475959,-14.875990899314738],[129.6214734233796,-14.969783623924553],[129.409600050983,-14.420669854391031],[129.8886405783286,-13.61870330165348],[130.33946577364293,-13.357375583553473],[130.18350630098598,-13.1075200334223],[130.61779503796697,-12.536392103732464],[131.22349450086,-12.183648776908113],[131.73509118054946,-12.302452894747159],[132.5752982931831,-12.114040622611013],[132.55721154188103,-11.603012383676683],[131.82469811414364,-11.273781833545097],[132.3572237489114,-11.128519382372641],[133.0195605815964,-11.376411228076844],[133.55084598198903,-11.786515394745134],[134.39306847548198,-12.042365411022173],[134.67863244032702,-11.9411829565947],[135.29849124566798,-12.248606052299051],[135.8826933127276,-11.962266940969796],[136.25838097548944,-12.049341729381606],[136.49247521377163,-11.85720875412039],[136.951620314685,-12.351958916882735],[136.68512495335574,-12.887223402562054],[136.3054065288751,-13.291229750219895],[135.9617582541341,-13.32450937261589],[136.07761681533253,-13.72427825282578],[135.78383629775323,-14.22398935308821],[135.4286641786112,-14.715432224183896],[135.50018436090318,-14.997740573794427],[136.29517459528137,-15.550264987859121],[137.06536014215948,-15.870762220933353],[137.5804708192448,-16.215082289294084],[138.30321740127897,-16.807604261952658],[138.58516401586337,-16.806622409739173],[139.10854292211548,-17.062679131745366],[139.2605749859182,-17.371600843986183],[140.21524539607827,-17.710804945550063],[140.87546349503924,-17.36906869880394],[141.07111046769626,-16.83204721442672],[141.2740954937388,-16.388870131091604],[141.39822228410378,-15.840531508042584],[141.7021830588446,-15.044921156476928],[141.56338016170866,-14.561333103089506],[141.6355204611881,-14.270394789286284],[141.51986860571895,-13.698078301653805],[141.650920038011,-12.944687595270562],[141.8426912782462,-12.741547539931187],[141.68699018775078,-12.407614434461134],[141.92862918514754,-11.877465915578778],[142.11848839738798,-11.32804208745162],[142.14370649634634,-11.04273650476814],[142.51526004452495,-10.668185723516642],[142.79731001197405,-11.157354831591515],[142.86676313697427,-11.78470671961493],[143.11594689348567,-11.90562957117791],[143.15863162655876,-12.325655612846187],[143.52212365129986,-12.834358412327429],[143.59715783098767,-13.400422051652594],[143.56181115129993,-13.76365569423221]]]]}},{type:"Feature",properties:{admin:"Austria",name:"Austria",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[16.979666782304033,48.1234970159763],[16.903754103267257,47.71486562762832],[16.34058434415041,47.712901923201215],[16.534267612380372,47.4961709661691],[16.20229821133736,46.85238597267695],[16.011663852612653,46.68361074481169],[15.137091912504982,46.658702704447016],[14.632471551174827,46.431817328469535],[13.806475457421524,46.5093061386912],[12.376485223040813,46.76755910906984],[12.15308800624305,47.11539317482644],[11.164827915093268,46.94157949481272],[11.048555942436533,46.751358547546324],[10.442701450246627,46.893546250997424],[9.932448357796657,46.92072805438295],[9.47996951664902,47.10280996356337],[9.632931756232974,47.347601223329974],[9.594226108446346,47.525058091820256],[9.896068149463188,47.58019684507569],[10.40208377446521,47.302487697939156],[10.544504021861625,47.56639923765376],[11.426414015354736,47.52376618101297],[12.141357456112784,47.70308340106576],[12.620759718484491,47.672387600284395],[12.932626987365945,47.46764557554398],[13.025851271220487,47.637583523135824],[12.884102817443901,48.2891458196879],[13.243357374736998,48.41611481382904],[13.595945672264433,48.877171942737135],[14.33889773932472,48.55530528420719],[14.901447381254055,48.96440176044582],[15.253415561593979,49.039074205107575],[16.029647251050218,48.733899034207916],[16.49928266771877,48.785808010445095],[16.960288120194573,48.59698232685059],[16.879982944412998,48.47001333270946],[16.979666782304033,48.1234970159763]]]}},{type:"Feature",properties:{admin:"Azerbaijan",name:"Azerbaijan",continent:"Asia"},geometry:{type:"MultiPolygon",coordinates:[[[[45.00198733905679,39.74000356704959],[45.298144972521435,39.47175120702242],[45.739978468617,39.47399913182715],[45.73537926614309,39.319719143219785],[46.14362308124881,38.74120148371221],[45.45772179543873,38.87413910578311],[44.952688022650264,39.33576467544642],[44.79398969908199,39.71300263117703],[45.00198733905679,39.74000356704959]]],[[[47.373315464066216,41.21973236751125],[47.81566572448471,41.15141612402134],[47.98728315612603,41.40581920019422],[48.58435265482628,41.80886953385467],[49.11026370626065,41.28228668880052],[49.61891482930959,40.572924302729966],[50.08482954285309,40.52615713150578],[50.392821079312704,40.2565611842391],[49.569202101444795,40.1761009791607],[49.39525923035042,39.39948171646224],[49.2232283872507,39.04921885838791],[48.856532423707584,38.815486355131775],[48.88324913920253,38.32024526626264],[48.63437544128483,38.270377509100925],[48.0107442563865,38.79401479751453],[48.35552941263793,39.288764960276886],[48.060095249225256,39.58223541926244],[47.68507938008312,39.508363959301185],[46.505719842317966,38.77060537368625],[46.48349897643244,39.46415477147553],[46.0345341326807,39.628020738273044],[45.61001224140291,39.899993801425175],[45.89190717955513,40.21847565363997],[45.359174839058156,40.56150381119348],[45.56035118997047,40.81228953710595],[45.17949588397939,40.98535390885143],[44.972480096218156,41.24812856705562],[45.217426385281634,41.41145193131404],[45.96260053893044,41.12387258560979],[46.50163740416698,41.064444688474104],[46.63790815612057,41.18167267512822],[46.14543175637898,41.72280243587263],[46.40495079934882,41.86067515722734],[46.68607059101665,41.8271371526699],[47.373315464066216,41.21973236751125]]]]}},{type:"Feature",properties:{admin:"Burundi",name:"Burundi",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[29.339997592900342,-4.499983412294092],[29.276383904749046,-3.293907159034063],[29.02492638521678,-2.839257907730157],[29.632176141078585,-2.917857761246096],[29.938359002407935,-2.348486830254238],[30.46969607923298,-2.413857517103458],[30.527677036264457,-2.807631931167534],[30.74301272962469,-3.034284763199686],[30.752262811004943,-3.359329522315569],[30.50555952324356,-3.568567396665364],[30.116332635221166,-4.090137627787242],[29.75351240409992,-4.45238941815328],[29.339997592900342,-4.499983412294092]]]}},{type:"Feature",properties:{admin:"Belgium",name:"Belgium",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[3.314971144228536,51.34578095153607],[4.047071160507527,51.267258612668556],[4.973991326526913,51.475023708698124],[5.60697594567,51.03729848896977],[6.156658155958779,50.803721015010574],[6.043073357781109,50.12805166279422],[5.782417433300905,50.090327867221205],[5.674051954784828,49.52948354755749],[4.799221632515809,49.98537303323637],[4.286022983425084,49.90749664977254],[3.588184441755685,50.37899241800356],[3.123251580425801,50.78036326761456],[2.658422071960274,50.79684804951573],[2.513573032246142,51.148506171261815],[3.314971144228536,51.34578095153607]]]}},{type:"Feature",properties:{admin:"Benin",name:"Benin",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[2.691701694356254,6.258817246928628],[1.865240512712318,6.14215770102973],[1.618950636409238,6.832038072126236],[1.664477573258381,9.128590399609378],[1.46304284018467,9.334624335157086],[1.425060662450136,9.825395412632998],[1.077795037448737,10.175606594275022],[.772335646171484,10.470808213742357],[.899563022474069,10.997339382364258],[1.243469679376488,11.11051076908346],[1.447178175471066,11.547719224488857],[1.93598554851988,11.641150214072551],[2.154473504249921,11.940150051313337],[2.49016360841793,12.233052069543671],[2.84864301922667,12.235635891158266],[3.611180454125558,11.660167141155966],[3.572216424177469,11.327939357951516],[3.797112257511713,10.734745591673104],[3.600070021182801,10.332186184119406],[3.705438266625918,10.063210354040207],[3.220351596702101,9.4441525333997],[2.912308383810255,9.13760793704432],[2.723792758809509,8.506845404489708],[2.74906253420022,7.870734361192886],[2.691701694356254,6.258817246928628]]]}},{type:"Feature",properties:{admin:"Burkina Faso",name:"Burkina Faso",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[-2.827496303712706,9.642460842319775],[-3.511898972986272,9.900326239456216],[-3.980449184576684,9.862344061721698],[-4.330246954760383,9.61083486575714],[-4.779883592131966,9.821984768101741],[-4.954653286143098,10.152713934769732],[-5.404341599946973,10.370736802609144],[-5.470564947929004,10.951269842976044],[-5.197842576508648,11.375145778850136],[-5.220941941743119,11.713858954307224],[-4.427166103523802,12.542645575404292],[-4.280405035814879,13.228443508349738],[-4.006390753587225,13.472485459848112],[-3.52280270019986,13.337661647998612],[-3.103706834312759,13.54126679122859],[-2.967694464520576,13.798150336151506],[-2.191824510090384,14.246417548067352],[-2.001035122068771,14.559008287000887],[-1.066363491205663,14.973815009007764],[-.515854458000348,15.116157741755725],[-.26625729003058,14.924308986872147],[.374892205414682,14.928908189346128],[.295646396495101,14.44423493088065],[.429927605805517,13.988733018443922],[.993045688490071,13.33574962000382],[1.024103224297477,12.851825669806573],[2.177107781593775,12.625017808477532],[2.154473504249921,11.940150051313337],[1.93598554851988,11.641150214072551],[1.447178175471066,11.547719224488857],[1.243469679376488,11.11051076908346],[.899563022474069,10.997339382364258],[.023802524423701,11.018681748900802],[-.438701544588582,11.09834096927872],[-.761575893548183,10.936929633015053],[-1.203357713211431,11.009819240762736],[-2.94040930827046,10.962690334512557],[-2.963896246747111,10.395334784380081],[-2.827496303712706,9.642460842319775]]]}},{type:"Feature",properties:{admin:"Bangladesh",name:"Bangladesh",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[92.67272098182555,22.041238918541247],[92.65225711463798,21.32404755297848],[92.30323449093865,21.475485337809815],[92.3685535013556,20.670883287025344],[92.08288618364612,21.192195135985767],[92.02521528520836,21.701569729086764],[91.83489098507741,22.18293569588556],[91.41708702999765,22.765019029221218],[90.49600630082725,22.805016587815125],[90.58695682166095,22.392793687422863],[90.27297081905554,21.836367702720107],[89.84746707556427,22.03914602303342],[89.70204959509492,21.8571157902853],[89.41886274613546,21.966178900637296],[89.0319612975662,22.055708319582973],[88.87631188350306,22.879146429937826],[88.52976972855376,23.631141872649163],[88.6999402200909,24.233714911388557],[88.0844222350624,24.501657212821918],[88.30637251175601,24.8660794133442],[88.93155398962307,25.23869232838477],[88.20978925980248,25.768065700782707],[88.56304935094974,26.446525580342716],[89.35509402868728,26.014407253518065],[89.83248091019959,25.965082098895476],[89.92069258012184,25.26974986419217],[90.8722107279121,25.13260061288954],[91.79959598182207,25.14743174895731],[92.37620161333479,24.97669281666496],[91.9150928079944,24.13041372323711],[91.46772993364367,24.07263947193479],[91.15896325069971,23.50352692310438],[91.70647505083208,22.985263983649183],[91.8699276061713,23.62434642180278],[92.1460347839068,23.62749868417259],[92.67272098182555,22.041238918541247]]]}},{type:"Feature",properties:{admin:"Bulgaria",name:"Bulgaria",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[22.657149692482985,44.234923000661276],[22.94483239105184,43.82378530534712],[23.33230228037632,43.89701080990471],[24.10067915212417,43.741051337247846],[25.569271681426923,43.68844472917471],[26.06515872569974,43.94349376075126],[27.242399529740904,44.1759860296324],[27.970107049275068,43.8124681666752],[28.55808149589199,43.70746165625812],[28.039095086384712,43.29317169857418],[27.67389773937804,42.577892361006214],[27.996720411905383,42.007358710287775],[27.135739373490473,42.141484890301335],[26.117041863720793,41.826904608724554],[26.106138136507205,41.328898830727766],[25.19720136892544,41.23448598893052],[24.49264489105803,41.58389618587203],[23.692073601992345,41.30908091894384],[22.952377150166445,41.33799388281114],[22.881373732197424,41.99929718685024],[22.380525750424585,42.32025950781508],[22.545011834409614,42.461362006188025],[22.436594679461273,42.58032115332393],[22.604801466571324,42.89851878516114],[22.98601850758848,43.21116120052696],[22.500156691180276,43.64281443946098],[22.410446404721593,44.00806346289995],[22.657149692482985,44.234923000661276]]]}},{type:"Feature",properties:{admin:"The Bahamas",name:"Bahamas",continent:"North America"},geometry:{type:"MultiPolygon",coordinates:[[[[-77.53466,23.75975],[-77.78,23.71],[-78.03405,24.28615],[-78.40848,24.57564],[-78.19087,25.2103],[-77.89,25.17],[-77.54,24.34],[-77.53466,23.75975]]],[[[-77.82,26.58],[-78.91,26.42],[-78.98,26.79],[-78.51,26.87],[-77.85,26.84],[-77.82,26.58]]],[[[-77,26.59],[-77.17255,25.87918],[-77.35641,26.00735],[-77.34,26.53],[-77.78802,26.92516],[-77.79,27.04],[-77,26.59]]]]}},{type:"Feature",properties:{admin:"Bosnia and Herzegovina",name:"Bosnia and Herz.",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[19.005486281010118,44.860233669609144],[19.36803,44.863],[19.11761,44.42307],[19.59976,44.03847],[19.454,43.568100000000115],[19.21852,43.52384],[19.03165,43.43253],[18.70648,43.20011],[18.56,42.65],[17.67492150235898,43.0285625270236],[17.29737348803445,43.44634064388735],[16.916156447017325,43.66772247982566],[16.45644290534886,44.041239732431265],[16.239660271884528,44.351143296885695],[15.750026075918978,44.81871165626255],[15.959367303133373,45.233776760430935],[16.31815677253587,45.0041266953259],[16.534939406000202,45.211607570977705],[17.00214603035101,45.233776760430935],[17.8617834815264,45.06774038347714],[18.553214145591646,45.08158966733145],[19.005486281010118,44.860233669609144]]]}},{type:"Feature",properties:{admin:"Belarus",name:"Belarus",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[23.48412763844984,53.91249766704112],[24.45068362803703,53.90570221619475],[25.53635379405699,54.282423407602515],[25.76843265147979,54.84696259217508],[26.588279249790386,55.16717560487166],[26.49433149588375,55.61510691997762],[27.102459751094525,55.78331370708767],[28.17670942557799,56.16912995057881],[29.2295133806603,55.918344224666356],[29.37157189303067,55.67009064393617],[29.896294386522353,55.789463202530406],[30.87390913262,55.550976467503396],[30.97183597181313,55.08154775656403],[30.75753380709871,54.8117709417843],[31.384472283663733,54.15705638286242],[31.79142418796223,53.97463857687212],[31.731272820774503,53.79402944601201],[32.40559858575116,53.61804535584203],[32.693643019346034,53.351420803432106],[32.304519484188226,53.1327261419729],[31.497643670382924,53.16742686625689],[31.30520063652801,53.073995876673195],[31.540018344862254,52.742052313846344],[31.78599816257158,52.10167796488544],[30.927549269338975,52.04235342061438],[30.619454380014837,51.82280609802236],[30.55511722181145,51.31950348571564],[30.15736372246089,51.416138414101454],[29.25493818534792,51.36823436136688],[28.992835320763522,51.60204437927146],[28.61761274589224,51.427713934934836],[28.241615024536564,51.57222707783906],[27.454066196408426,51.59230337178446],[26.33795861176855,51.832288723347915],[25.327787713327005,51.91065603291854],[24.55310631683951,51.88846100524918],[24.005077752384206,51.61744395609445],[23.52707075368437,51.57845408793023],[23.50800215016869,52.02364655212472],[23.19949384938618,52.486977444053664],[23.799198846133375,52.69109935160655],[23.804934930117774,53.08973135030606],[23.527535841574995,53.47012156840654],[23.48412763844984,53.91249766704112]]]}},{type:"Feature",properties:{admin:"Belize",name:"Belize",continent:"North America"},geometry:{type:"Polygon",coordinates:[[[-89.1430804105033,17.808318996649316],[-89.15090938999552,17.955467637600414],[-89.02985734735181,18.001511338772485],[-88.84834387892658,17.88319814704023],[-88.49012285027933,18.486830552641603],[-88.30003109409367,18.499982204659897],[-88.2963362291848,18.353272813383263],[-88.10681291375437,18.348673610909284],[-88.12347856316848,18.076674709541003],[-88.28535498732278,17.64414297125803],[-88.19786678745263,17.489475409408453],[-88.30264075392442,17.13169363043566],[-88.2395179918799,17.03606639247955],[-88.35542822951055,16.530774237529624],[-88.55182451043582,16.265467434143144],[-88.73243364129593,16.23363475185135],[-88.93061275913524,15.887273464415072],[-89.22912167026927,15.886937567605166],[-89.15080603713092,17.015576687075832],[-89.1430804105033,17.808318996649316]]]}},{type:"Feature",properties:{admin:"Bolivia",name:"Bolivia",continent:"South America"},geometry:{type:"Polygon",coordinates:[[[-62.84646847192154,-22.03498544686944],[-63.98683814152246,-21.993644301035946],[-64.37702104354224,-22.798091322523533],[-64.9648921372946,-22.07586150481232],[-66.27333940292483,-21.832310479420713],[-67.10667355006359,-22.735924574476414],[-67.82817989772272,-22.87291879648217],[-68.21991309271127,-21.49434661223186],[-68.75716712103373,-20.37265797290446],[-68.4422251044309,-19.405068454671426],[-68.96681840684185,-18.9816834449041],[-69.10024695501947,-18.260125420812674],[-69.59042375352404,-17.58001189541933],[-68.95963538275329,-16.500697930571267],[-69.3897641669347,-15.66012908291165],[-69.16034664577494,-15.323973890853015],[-69.339534674747,-14.953195489158828],[-68.94888668483658,-14.45363941819328],[-68.92922380234953,-13.602683607643007],[-68.88007951523996,-12.89972909917665],[-68.66507971868961,-12.56130014409717],[-69.52967810736493,-10.951734307502193],[-68.78615759954947,-11.036380303596276],[-68.27125362819325,-11.014521172736817],[-68.04819230820537,-10.712059014532484],[-67.17380123561072,-10.30681243249961],[-66.64690833196279,-9.93133147546686],[-65.33843522811641,-9.76198780684639],[-65.44483700220538,-10.51145110437543],[-65.321898769783,-10.895872084194675],[-65.40228146021302,-11.566270440317151],[-64.31635291203159,-12.461978041232191],[-63.19649878605056,-12.627032565972433],[-62.80306026879637,-13.000653171442682],[-62.12708085798637,-13.19878061284972],[-61.71320431176077,-13.489202162330049],[-61.084121263255646,-13.479383640194595],[-60.50330400251112,-13.775954685117656],[-60.459198167550014,-14.354007256734551],[-60.264326341377355,-14.645979099183638],[-60.25114885114292,-15.077218926659318],[-60.54296566429513,-15.093910414289592],[-60.15838965517902,-16.258283786690082],[-58.24121985536667,-16.29957325609129],[-58.38805843772403,-16.877109063385273],[-58.280804002502244,-17.271710300366014],[-57.73455827496099,-17.552468357007765],[-57.49837114117097,-18.17418751391129],[-57.6760088771743,-18.961839694904025],[-57.94999732118582,-19.400004164306814],[-57.853801642474494,-19.969995212486186],[-58.16639238140804,-20.176700941653674],[-58.18347144228049,-19.86839934660036],[-59.11504248720609,-19.356906019775398],[-60.04356462262648,-19.34274667732742],[-61.78632646345376,-19.633736667562957],[-62.265961269770784,-20.513734633061272],[-62.2911793687292,-21.05163461678739],[-62.68505713565787,-22.24902922942238],[-62.84646847192154,-22.03498544686944]]]}},{type:"Feature",properties:{admin:"Brazil",name:"Brazil",continent:"South America"},geometry:{type:"Polygon",coordinates:[[[-57.625133429582945,-30.216294854454258],[-56.29089962423907,-28.852760512000884],[-55.16228634298456,-27.881915378533456],[-54.49072526713551,-27.474756768505785],[-53.648735317587885,-26.923472588816086],[-53.62834896504874,-26.124865004177465],[-54.130049607954376,-25.547639255477247],[-54.62529069682356,-25.739255466415507],[-54.42894609233058,-25.162184747012162],[-54.293476325077435,-24.570799655863958],[-54.29295956075451,-24.021014092710722],[-54.65283423523512,-23.839578138933955],[-55.02790178080954,-24.001273695575225],[-55.40074723979541,-23.956935316668797],[-55.51763932963962,-23.57199757252663],[-55.61068274598113,-22.65561939869484],[-55.797958136606894,-22.356929620047815],[-56.47331743022938,-22.08630014413528],[-56.881509568902885,-22.282153822521476],[-57.93715572776129,-22.09017587655717],[-57.870673997617786,-20.732687676681948],[-58.16639238140804,-20.176700941653674],[-57.853801642474494,-19.969995212486186],[-57.94999732118582,-19.400004164306814],[-57.6760088771743,-18.961839694904025],[-57.49837114117097,-18.17418751391129],[-57.73455827496099,-17.552468357007765],[-58.280804002502244,-17.271710300366014],[-58.38805843772403,-16.877109063385273],[-58.24121985536667,-16.29957325609129],[-60.15838965517902,-16.258283786690082],[-60.54296566429513,-15.093910414289592],[-60.25114885114292,-15.077218926659318],[-60.264326341377355,-14.645979099183638],[-60.459198167550014,-14.354007256734551],[-60.50330400251112,-13.775954685117656],[-61.084121263255646,-13.479383640194595],[-61.71320431176077,-13.489202162330049],[-62.12708085798637,-13.19878061284972],[-62.80306026879637,-13.000653171442682],[-63.19649878605056,-12.627032565972433],[-64.31635291203159,-12.461978041232191],[-65.40228146021302,-11.566270440317151],[-65.321898769783,-10.895872084194675],[-65.44483700220538,-10.51145110437543],[-65.33843522811641,-9.76198780684639],[-66.64690833196279,-9.93133147546686],[-67.17380123561072,-10.30681243249961],[-68.04819230820537,-10.712059014532484],[-68.27125362819325,-11.014521172736817],[-68.78615759954947,-11.036380303596276],[-69.52967810736493,-10.951734307502193],[-70.09375220404688,-11.12397185633101],[-70.5486856757284,-11.009146823778462],[-70.48189388699116,-9.490118096558842],[-71.30241227892152,-10.079436130415372],[-72.18489071316982,-10.05359791426943],[-72.56303300646563,-9.520193780152715],[-73.22671342639015,-9.462212823121233],[-73.01538265653254,-9.03283334720806],[-73.57105933296705,-8.424446709835832],[-73.98723548042965,-7.523829847853063],[-73.72340145536349,-7.340998630404412],[-73.72448666044163,-6.918595472850638],[-73.12002743192357,-6.629930922068238],[-73.2197112698146,-6.089188734566076],[-72.96450720894119,-5.741251315944892],[-72.89192765978724,-5.274561455916979],[-71.74840572781653,-4.59398284263301],[-70.92884334988356,-4.401591485210367],[-70.79476884630229,-4.251264743673302],[-69.89363521999661,-4.298186944194326],[-69.4441019354896,-1.556287123219817],[-69.42048580593222,-1.122618503426409],[-69.57706539577659,-.549991957200163],[-70.02065589057004,-.185156345219539],[-70.0155657619893,.541414292804205],[-69.45239600287245,.706158758950693],[-69.25243404811904,.602650865070075],[-69.21863766140017,.985676581217433],[-69.8045967271577,1.089081122233466],[-69.81697323269161,1.714805202639624],[-67.86856502955882,1.692455145673392],[-67.53781002467468,2.037162787276329],[-67.25999752467358,1.719998684084956],[-67.06504818385248,1.130112209473225],[-66.87632585312257,1.253360500489336],[-66.32576514348494,.724452215982012],[-65.54826738143755,.78925446207603],[-65.35471330428835,1.0952822941085],[-64.61101192895985,1.328730576987041],[-64.1993057928905,1.49285492594602],[-64.08308549666607,1.91636912679408],[-63.36878801131164,2.200899562993129],[-63.422867397705105,2.411067613124174],[-64.26999915226578,2.497005520025566],[-64.4088278876179,3.126786200366623],[-64.36849443221409,3.797210394705246],[-64.816064012294,4.056445217297422],[-64.62865943058753,4.14848094320925],[-63.888342861574145,4.020530096854571],[-63.09319759789909,3.770571193858784],[-62.80453304711669,4.006965033377951],[-62.085429653559125,4.162123521334308],[-60.96689327660152,4.536467596856638],[-60.60117916527192,4.918098049332129],[-60.73357418480371,5.2002772078619],[-60.21368343773132,5.2444863956876],[-59.980958624904865,5.014061184098138],[-60.11100236676737,4.574966538914082],[-59.7674057684587,4.423502915866606],[-59.53803992373122,3.958802598481937],[-59.81541317405785,3.606498521332085],[-59.97452490908454,2.755232652188055],[-59.71854570172673,2.249630438644359],[-59.64604366722124,1.786893825686789],[-59.03086157900264,1.317697658692722],[-58.54001298687829,1.26808828369252],[-58.42947709820596,1.46394196207872],[-58.113449876525,1.507195135907025],[-57.66097103537736,1.682584947105638],[-57.33582292339689,1.948537705895759],[-56.782704230360814,1.863710842288653],[-56.53938574891454,1.89952260986692],[-55.99569800477174,1.817667141116601],[-55.90560014507087,2.021995754398659],[-56.07334184429028,2.220794989425499],[-55.97332210958936,2.510363877773016],[-55.569755011605984,2.42150625244713],[-55.097587449755125,2.523748073736612],[-54.52475419779971,2.311848863123785],[-54.08806250671724,2.105556545414629],[-53.7785206772889,2.376702785650081],[-53.55483924011354,2.33489655192595],[-53.4184651352953,2.05338918701598],[-52.93965715189495,2.124857692875636],[-52.55642473001841,2.504705308437053],[-52.24933753112394,3.241094468596244],[-51.65779741067888,4.156232408053028],[-51.31714636901084,4.203490505383953],[-51.06977128762965,3.65039765056403],[-50.50887529153364,1.901563828942456],[-49.974075893745045,1.736483465986069],[-49.947100796088705,1.046189683431223],[-50.6992512680969,.222984117021681],[-50.38821082213212,-.078444512536819],[-48.62056677915631,-.235489190271821],[-48.58449662941658,-1.237805271005001],[-47.82495642759062,-.5816179337628],[-46.56658362485122,-.941027520352776],[-44.9057030909904,-1.551739597178134],[-44.41761918799366,-2.137750339367975],[-44.58158850765577,-2.691308282078523],[-43.41879126644019,-2.383110039889793],[-41.47265682632824,-2.912018324397116],[-39.97866533055403,-2.87305429444904],[-38.50038347019656,-3.700652357603394],[-37.22325212253519,-4.820945733258915],[-36.45293738457638,-5.109403578312153],[-35.597795783010454,-5.149504489770648],[-35.23538896334755,-5.464937432480245],[-34.896029832486825,-6.738193047719709],[-34.72999345553303,-7.343220716992965],[-35.128212042774216,-8.996401462442284],[-35.63696651868771,-9.649281508017811],[-37.04651872409699,-11.0407211239088],[-37.683611619607355,-12.17119475672582],[-38.423876512188436,-13.038118584854285],[-38.67388709161651,-13.057652276260615],[-38.95327572280254,-13.79336964280002],[-38.882298143049645,-15.667053724838764],[-39.161092495264306,-17.20840667080847],[-39.267339240056394,-17.86774627042048],[-39.58352149103422,-18.262295830968934],[-39.76082333022763,-19.599113457927402],[-40.77474077001033,-20.90451181405242],[-40.9447562322506,-21.937316989837807],[-41.75416419123821,-22.370675551037454],[-41.988284267736546,-22.97007048919089],[-43.07470374202474,-22.967693373305462],[-44.6478118556378,-23.35195932382784],[-45.35213578955991,-23.79684172942858],[-46.47209326840552,-24.08896860117454],[-47.648972337420645,-24.885199069927715],[-48.49545813657769,-25.877024834905647],[-48.641004808127725,-26.62369760509093],[-48.47473588722865,-27.175911960561887],[-48.66152035174761,-28.186134535435713],[-48.88845740415739,-28.674115085567877],[-49.58732947447267,-29.224469089476333],[-50.69687415221148,-30.984465020472953],[-51.57622616230615,-31.777698256153204],[-52.25608130553803,-32.24536996839466],[-52.71209998229768,-33.196578057591175],[-53.37366166849823,-33.76837778090076],[-53.650543992718084,-33.20200408298182],[-53.20958899597153,-32.72766611097472],[-53.787951626182185,-32.04724252698762],[-54.572451544805105,-31.494511407193745],[-55.60151017924933,-30.853878676071385],[-55.97324459494093,-30.883075860316296],[-56.97602576356472,-30.10968637463612],[-57.625133429582945,-30.216294854454258]]]}},{type:"Feature",properties:{admin:"Brunei",name:"Brunei",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[114.20401655482834,4.525873928236805],[114.59996137904871,4.900011298029965],[115.4507104838698,5.447729803891532],[115.40570031134357,4.955227565933837],[115.34746097215064,4.316636053887009],[114.86955732631537,4.348313706881924],[114.6595959819135,4.007636826997753],[114.20401655482834,4.525873928236805]]]}},{type:"Feature",properties:{admin:"Bhutan",name:"Bhutan",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[91.69665652869665,27.77174184825166],[92.10371178585973,27.4526140406332],[92.03348351437508,26.838310451763554],[91.2175126484864,26.80864817962802],[90.37327477413406,26.875724188742872],[89.74452762243884,26.71940298105995],[88.83564253128937,27.098966376243755],[88.81424848832054,27.29931590423936],[89.4758101745211,28.04275889740639],[90.01582889197115,28.29643850352721],[90.73051395056777,28.06495392507575],[91.2588537943199,28.040614325466287],[91.69665652869665,27.77174184825166]]]}},{type:"Feature",properties:{admin:"Botswana",name:"Botswana",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[25.649163445750155,-18.536025892818987],[25.850391473094724,-18.714412937090533],[26.16479088715848,-19.293085625894935],[27.2965047543505,-20.391519870690995],[27.724747348753247,-20.499058526290387],[27.727227817503252,-20.85180185311471],[28.02137007010861,-21.485975030200578],[28.79465620292421,-21.639454034107445],[29.432188348109033,-22.091312758067584],[28.017235955525244,-22.82775359465907],[27.119409620886238,-23.57432301197977],[26.78640669119741,-24.240690606383478],[26.485753208123292,-24.616326592713097],[25.94165205252215,-24.696373386333214],[25.765848829865206,-25.17484547292367],[25.66466637543771,-25.486816094669706],[25.025170525825782,-25.71967009857689],[24.211266717228792,-25.670215752873567],[23.733569777122703,-25.39012948985161],[23.31209679535018,-25.268689873965712],[22.824271274514896,-25.500458672794768],[22.579531691180584,-25.979447523708142],[22.105968865657864,-26.28025603607913],[21.60589603036939,-26.72653370535175],[20.88960900237173,-26.828542982695907],[20.666470167735437,-26.477453301704916],[20.75860924651183,-25.868136488551446],[20.165725538827186,-24.917961928000768],[19.895767856534427,-24.767790215760588],[19.895457797940672,-21.849156996347865],[20.881134067475866,-21.814327080983144],[20.91064131031453,-18.25221892667202],[21.65504031747897,-18.219146010005222],[23.196858351339298,-17.869038181227783],[23.579005568137713,-18.281261081620055],[24.21736453623921,-17.889347019118485],[24.520705193792534,-17.887124932529932],[25.084443393664564,-17.661815687737366],[25.264225701608005,-17.736539808831413],[25.649163445750155,-18.536025892818987]]]}},{type:"Feature",properties:{admin:"Central African Republic",name:"Central African Rep.",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[15.279460483469107,7.421924546737968],[16.106231723706767,7.497087917506504],[16.290561557691884,7.754307359239304],[16.456184523187343,7.734773667832966],[16.70598839688625,7.508327541529978],[17.964929640380884,7.890914008002865],[18.389554884523218,8.281303615751822],[18.911021762780504,8.630894680206351],[18.81200971850927,8.982914536978596],[19.094008009526018,9.074846910025837],[20.059685499764267,9.01270600019485],[21.00086836109616,9.475985215691507],[21.723821648859452,10.567055568885973],[22.231129184668784,10.971888739460507],[22.864165480244218,11.142395127807543],[22.977543572692603,10.714462591998538],[23.554304233502187,10.089255275915306],[23.557249790142826,9.681218166538683],[23.39477908701718,9.26506785729222],[23.45901289235598,8.954285793488891],[23.805813429466745,8.666318874542425],[24.567369012152078,8.229187933785466],[25.114932488716786,7.825104071479172],[25.12413089366472,7.500085150579436],[25.79664798351117,6.979315904158069],[26.21341840994511,6.546603298362071],[26.46590945812323,5.94671743410187],[27.213409051225163,5.550953477394557],[27.374226108517483,5.233944403500059],[27.044065382604703,5.127852688004835],[26.402760857862535,5.150874538590869],[25.650455356557465,5.256087754737123],[25.278798455514302,5.170408229997191],[25.128833449003274,4.927244777847789],[24.80502892426241,4.897246608902349],[24.41053104014625,5.108784084489129],[23.297213982850135,4.609693101414221],[22.841479526468103,4.710126247573483],[22.704123569436284,4.633050848810156],[22.40512373219553,4.02916006104732],[21.65912275563002,4.224341945813719],[20.927591180106273,4.322785549329736],[20.290679152108932,4.691677761245287],[19.467783644293146,5.031527818212779],[18.932312452884755,4.709506130385973],[18.542982211997778,4.201785183118317],[18.453065219809925,3.504385891123348],[17.80990034350526,3.560196437998569],[17.133042433346297,3.728196519379451],[16.537058139724135,3.198254706226278],[16.01285241055535,2.267639675298084],[15.907380812247649,2.557389431158612],[15.862732374747479,3.013537298998982],[15.40539594896438,3.335300604664339],[15.036219516671249,3.851367295747123],[14.950953403389658,4.21038930909492],[14.478372430080466,4.732605495620446],[14.558935988023501,5.03059764243153],[14.459407179429345,5.451760565610299],[14.53656009284111,6.22695872642069],[14.776545444404572,6.408498033062044],[15.279460483469107,7.421924546737968]]]}},{type:"Feature",properties:{admin:"Canada",name:"Canada",continent:"North America"},geometry:{type:"MultiPolygon",coordinates:[[[[-63.6645,46.55001],[-62.9393,46.41587],[-62.01208,46.44314],[-62.50391,46.03339],[-62.87433,45.96818],[-64.1428,46.39265],[-64.39261,46.72747],[-64.01486,47.03601],[-63.6645,46.55001]]],[[[-61.806305,49.10506],[-62.29318,49.08717],[-63.58926,49.40069],[-64.51912,49.87304],[-64.17322,49.95718],[-62.85829,49.70641],[-61.835585,49.28855],[-61.806305,49.10506]]],[[[-123.51000158755112,48.51001089130343],[-124.01289078839947,48.3708462591414],[-125.65501277733834,48.825004584338494],[-125.95499446679273,49.17999583596764],[-126.85000443587185,49.53000031188042],[-127.02999344954439,49.81499583597007],[-128.0593363043662,49.994959011426594],[-128.44458410710214,50.53913768167611],[-128.3584136562554,50.77064809834368],[-127.30858109602988,50.55257355407195],[-126.6950009772123,50.40090322529538],[-125.75500667382316,50.29501821552937],[-125.41500158755879,49.950000515332604],[-124.92076818911931,49.47527497008339],[-123.92250870832099,49.062483628935794],[-123.51000158755112,48.51001089130343]]],[[[-56.13403581401711,50.6870097926793],[-56.79588172059526,49.812308661490945],[-56.14310502788429,50.15011749938283],[-55.471492275602934,49.93581533466845],[-55.82240108908091,49.58712860777909],[-54.93514258484565,49.31301097268683],[-54.47377539734377,49.55669118915917],[-53.47654944519131,49.24913890237405],[-53.78601375997123,48.51678050393362],[-53.08613399922625,48.68780365660353],[-52.95864824076223,48.15716421161447],[-52.64809872090417,47.53554840757549],[-53.069158291218336,46.655498765644936],[-53.52145626485303,46.61829173439482],[-54.17893551290253,46.807065741557],[-53.96186865906047,47.62520701760191],[-54.24048214376212,47.75227936460762],[-55.40077307801148,46.88499380145312],[-55.997480841685835,46.91972036395329],[-55.291219041552765,47.38956248635098],[-56.25079871278051,47.63254507098738],[-57.325229254777085,47.57280711525799],[-59.26601518414676,47.6033478867425],[-59.41949418805369,47.89945384377485],[-58.7965864732074,48.25152537697947],[-59.23162451845652,48.52318838153779],[-58.39180497906521,49.12558055276416],[-57.358689744686025,50.718274034215845],[-56.738650071832,51.28743825947853],[-55.87097693543528,51.63209422464919],[-55.4069742498866,51.58827261006572],[-55.60021826844208,51.31707469339791],[-56.13403581401711,50.6870097926793]]],[[[-133.18000404171167,54.16997549093531],[-132.7100078844313,54.04000931542352],[-131.74998958400326,54.12000438090921],[-132.04948034735096,52.98462148702452],[-131.17904252182657,52.18043284769827],[-131.5778295498229,52.182370713909236],[-132.18042842677852,52.63970713969239],[-132.54999243231384,53.10001496033213],[-133.0546111787555,53.41146881775536],[-133.23966448279268,53.851080227262386],[-133.18000404171167,54.16997549093531]]],[[[-79.26582,62.158675],[-79.65752,61.63308],[-80.09956,61.7181],[-80.36215,62.01649],[-80.315395,62.085565],[-79.92939,62.3856],[-79.52002,62.36371],[-79.26582,62.158675]]],[[[-81.89825,62.7108],[-83.06857,62.15922],[-83.77462,62.18231],[-83.99367,62.4528],[-83.25048,62.91409],[-81.87699,62.90458],[-81.89825,62.7108]]],[[[-85.16130794954985,65.6572846543928],[-84.97576371940593,65.21751821558898],[-84.4640120104195,65.37177236598016],[-83.88262630891974,65.10961782496354],[-82.78757687043877,64.76669302027467],[-81.64201371939251,64.45513580998694],[-81.55344031444425,63.97960928003713],[-80.81736121287885,64.057485663501],[-80.1034513007666,63.7259813503486],[-80.99101986359565,63.41124603947496],[-82.547178107417,63.65172231714523],[-83.10879757356504,64.10187571883971],[-84.10041663281385,63.569711819098],[-85.52340471061899,63.052379055424076],[-85.86676876498234,63.63725291610354],[-87.22198320183672,63.54123810490521],[-86.35275977247126,64.0358332383707],[-86.22488644076513,64.82291697860826],[-85.88384782585486,65.73877838811704],[-85.16130794954985,65.6572846543928]]],[[[-75.86588,67.14886],[-76.98687,67.09873],[-77.2364,67.58809],[-76.81166,68.14856],[-75.89521,68.28721],[-75.1145,68.01036],[-75.10333,67.58202],[-75.21597,67.44425],[-75.86588,67.14886]]],[[[-95.64768120380049,69.10769035832176],[-96.26952120380058,68.75704035832173],[-97.61740120380054,69.06003035832178],[-98.4318012038005,68.95070035832177],[-99.7974012038005,69.40003035832179],[-98.91740120380052,69.71003035832179],[-98.21826120380047,70.14354035832174],[-97.15740120380053,69.8600303583218],[-96.55740120380052,69.68003035832176],[-96.2574012038005,69.49003035832176],[-95.64768120380049,69.10769035832176]]],[[[-90.5471,69.49766],[-90.55151,68.47499],[-89.21515,69.25873],[-88.01966,68.61508],[-88.31749,67.87338],[-87.35017,67.19872],[-86.30607,67.92146],[-85.57664,68.78456],[-85.52197,69.88211],[-84.10081,69.80539],[-82.62258,69.65826],[-81.28043,69.16202],[-81.2202,68.66567],[-81.96436,68.13253],[-81.25928,67.59716],[-81.38653,67.11078],[-83.34456,66.41154],[-84.73542,66.2573],[-85.76943,66.55833],[-86.0676,66.05625],[-87.03143,65.21297],[-87.32324,64.77563],[-88.48296,64.09897],[-89.91444,64.03273],[-90.70398,63.61017],[-90.77004,62.96021],[-91.93342,62.83508],[-93.15698,62.02469],[-94.24153,60.89865],[-94.62931,60.11021],[-94.6846,58.94882],[-93.21502,58.78212],[-92.76462,57.84571],[-92.29702999999989,57.08709],[-90.89769,57.28468],[-89.03953,56.85172],[-88.03978,56.47162],[-87.32421,55.99914],[-86.07121,55.72383],[-85.01181,55.3026],[-83.36055,55.24489],[-82.27285,55.14832],[-82.4362,54.28227],[-82.12502,53.27703],[-81.40075,52.15788],[-79.91289,51.20842],[-79.14301,51.53393],[-78.60191,52.56208],[-79.12421,54.14145],[-79.82958,54.66772],[-78.22874,55.13645],[-77.0956,55.83741],[-76.54137,56.53423],[-76.62319,57.20263],[-77.30226,58.05209],[-78.51688,58.80458],[-77.33676,59.85261],[-77.77272,60.75788],[-78.10687,62.31964],[-77.41067,62.55053],[-75.69621,62.2784],[-74.6682,62.18111],[-73.83988,62.4438],[-72.90853,62.10507],[-71.67708,61.52535],[-71.37369,61.13717],[-69.59042,61.06141],[-69.62033,60.22125],[-69.2879,58.95736],[-68.37455,58.80106],[-67.64976,58.21206],[-66.20178,58.76731],[-65.24517,59.87071],[-64.58352,60.33558],[-63.80475,59.4426],[-62.50236,58.16708],[-61.39655,56.96745],[-61.79866,56.33945],[-60.46853,55.77548],[-59.56962,55.20407],[-57.97508,54.94549],[-57.3332,54.6265],[-56.93689,53.78032],[-56.15811,53.64749],[-55.75632,53.27036],[-55.68338,52.14664],[-56.40916,51.7707],[-57.12691,51.41972],[-58.77482,51.0643],[-60.03309,50.24277],[-61.72366,50.08046],[-63.86251,50.29099],[-65.36331,50.2982],[-66.39905,50.22897],[-67.23631,49.51156],[-68.51114,49.06836],[-69.95362,47.74488],[-71.10458,46.82171],[-70.25522,46.98606],[-68.65,48.3],[-66.55243,49.1331],[-65.05626,49.23278],[-64.17099,48.74248],[-65.11545,48.07085],[-64.79854,46.99297],[-64.47219,46.23849],[-63.17329,45.73902],[-61.52072,45.88377],[-60.51815,47.00793],[-60.4486,46.28264],[-59.80287,45.9204],[-61.03988,45.26525],[-63.25471,44.67014],[-64.24656,44.26553],[-65.36406,43.54523],[-66.1234,43.61867],[-66.16173,44.46512],[-64.42549,45.29204],[-66.02605,45.25931],[-67.13741,45.13753],[-67.79134,45.70281],[-67.79046,47.06636],[-68.23444,47.35486],[-68.905,47.185],[-69.237216,47.447781],[-69.99997,46.69307],[-70.305,45.915],[-70.66,45.46],[-71.08482,45.30524],[-71.405,45.255],[-71.50506,45.0082],[-73.34783,45.00738],[-74.867,45.00048],[-75.31821,44.81645],[-76.375,44.09631],[-76.5,44.01845889375871],[-76.82003414580556,43.62878428809375],[-77.73788509795769,43.62905558936329],[-78.72027991404237,43.62508942318487],[-79.17167355011186,43.466339423184216],[-79.01,43.27],[-78.92,42.965],[-78.93936214874368,42.86361135514803],[-80.24744767934793,42.366199856122584],[-81.27774654816714,42.209025987306845],[-82.43927771679161,41.67510508886715],[-82.69008928092016,41.67510508886715],[-83.02981014680691,41.832795722005834],[-83.14199968131256,41.975681057292825],[-83.12,42.08],[-82.9,42.43],[-82.43,42.98],[-82.13764238150388,43.57108755143991],[-82.33776312543105,44.44],[-82.55092464875817,45.34751658790537],[-83.59285071484307,45.81689362241237],[-83.46955074739462,45.994686387712584],[-83.61613094759056,46.116926988299056],[-83.89076534700573,46.116926988299056],[-84.09185126416146,46.27541860613816],[-84.14211951367335,46.51222585711572],[-84.3367,46.40877],[-84.6049,46.4396],[-84.54374874544585,46.53868419044913],[-84.77923824739989,46.63710195574904],[-84.87607988151485,46.900083319682366],[-85.65236324740341,47.2202188177305],[-86.46199083122825,47.55333801939204],[-87.4397926233002,47.94],[-88.3781141832867,48.30291758889373],[-89.27291744663665,48.01980825458266],[-89.6,48.01],[-90.83,48.27],[-91.64,48.14],[-92.61,48.45],[-93.63087,48.60926],[-94.32914,48.67074],[-94.64,48.84],[-94.81758,49.38905],[-95.15609,49.38425],[-95.15906950917201,49],[-97.2287200000048,49.0007],[-100.65,49],[-104.04826,48.99986],[-107.05,49],[-110.05,49],[-113,49],[-116.04818,49],[-117.03121,49],[-120,49],[-122.84,49],[-122.97421,49.00253777777779],[-124.91024,49.98456],[-125.62461,50.41656],[-127.43561,50.83061],[-127.99276,51.71583],[-127.85032,52.32961],[-129.12979,52.75538],[-129.30523,53.56159],[-130.51497,54.28757],[-130.53611,54.80278],[-129.98,55.285],[-130.00778,55.91583],[-131.70781,56.55212],[-132.73042,57.69289],[-133.35556,58.41028],[-134.27111,58.86111],[-134.945,59.27056],[-135.47583,59.78778],[-136.47972,59.46389],[-137.4525,58.905],[-138.34089,59.56211],[-139.039,60],[-140.013,60.27682],[-140.99778,60.30639],[-140.9925,66.00003],[-140.986,69.712],[-139.12052,69.47102],[-137.54636,68.99002],[-136.50358,68.89804],[-135.62576,69.31512],[-134.41464,69.62743],[-132.92925,69.50534],[-131.43136,69.94451],[-129.79471,70.19369],[-129.10773,69.77927],[-128.36156,70.01286],[-128.13817,70.48384],[-127.44712,70.37721],[-125.75632,69.48058],[-124.42483,70.1584],[-124.28968,69.39969],[-123.06108,69.56372],[-122.6835,69.85553],[-121.47226,69.79778],[-119.94288,69.37786],[-117.60268,69.01128],[-116.22643,68.84151],[-115.2469,68.90591],[-113.89794,68.3989],[-115.30489,67.90261],[-113.49727,67.68815],[-110.798,67.80612],[-109.94619,67.98104],[-108.8802,67.38144],[-107.79239,67.88736],[-108.81299,68.31164],[-108.16721,68.65392],[-106.95,68.7],[-106.15,68.8],[-105.34282,68.56122],[-104.33791,68.018],[-103.22115,68.09775],[-101.45433,67.64689],[-99.90195,67.80566],[-98.4432,67.78165],[-98.5586,68.40394],[-97.66948,68.57864],[-96.11991,68.23939],[-96.12588,67.29338],[-95.48943,68.0907],[-94.685,68.06383],[-94.23282,69.06903],[-95.30408,69.68571],[-96.47131,70.08976],[-96.39115,71.19482],[-95.2088,71.92053],[-93.88997,71.76015],[-92.87818,71.31869],[-91.51964,70.19129],[-92.40692,69.69997],[-90.5471,69.49766]]],[[[-114.16716999999987,73.12145],[-114.66634,72.65277],[-112.44101999999987,72.9554],[-111.05039,72.4504],[-109.92034999999986,72.96113],[-109.00654,72.63335],[-108.18834999999989,71.65089],[-107.68599,72.06548],[-108.39639,73.08953],[-107.51645,73.23598],[-106.52258999999987,73.07601],[-105.40245999999988,72.67259],[-104.77484,71.6984],[-104.46475999999981,70.99297],[-102.78537,70.49776],[-100.98077999999987,70.02432],[-101.08928999999989,69.58447000000011],[-102.73115999999987,69.50402],[-102.09329,69.11962],[-102.43024,68.75282],[-104.24,68.91],[-105.96,69.18000000000013],[-107.12254,69.11922],[-108.99999999999987,68.78],[-111.53414887520012,68.63005915681792],[-113.3132,68.53554],[-113.8549599999998,69.0074400000001],[-115.22,69.28],[-116.10794,69.16821],[-117.34,69.96000000000011],[-116.67472999999987,70.06655],[-115.13112,70.2373],[-113.72141,70.19237],[-112.4161,70.36638],[-114.35,70.6],[-116.48684,70.52045],[-117.9048,70.54056000000013],[-118.43238,70.9092],[-116.11311,71.30918],[-117.65568,71.2952],[-119.40199,71.55859],[-118.56267,72.30785],[-117.86641999999988,72.70594],[-115.18909,73.31459000000011],[-114.16716999999987,73.12145]]],[[[-104.5,73.42],[-105.38,72.76],[-106.94,73.46],[-106.6,73.6],[-105.26,73.64],[-104.5,73.42]]],[[[-76.34,73.102684989953],[-76.25140380859374,72.82638549804686],[-77.3144378662109,72.85554504394527],[-78.3916702270508,72.87665557861325],[-79.48625183105464,72.74220275878906],[-79.77583312988283,72.80290222167973],[-80.87609863281251,73.3331832885742],[-80.83388519287105,73.69318389892577],[-80.35305786132811,73.75971984863277],[-78.06443786621092,73.65193176269533],[-76.34,73.102684989953]]],[[[-86.56217851433411,73.15744700793844],[-85.77437130404452,72.5341258816338],[-84.85011247428822,73.34027822538711],[-82.31559017610097,73.75095083281057],[-80.60008765330761,72.71654368762418],[-80.74894161652439,72.06190664335075],[-78.77063859731076,72.35217316353415],[-77.82462398955957,72.74961660429103],[-75.60584469267572,72.24367849393738],[-74.22861609566498,71.76714427355789],[-74.0991407945577,71.33084015571764],[-72.24222571479764,71.5569245469945],[-71.20001542833519,70.92001251899721],[-68.78605424668487,70.52502370877424],[-67.91497046575692,70.1219475368976],[-66.96903337265415,69.18608734809186],[-68.80512285020053,68.72019847276441],[-66.44986609563385,68.067163397892],[-64.86231441919522,67.84753856065161],[-63.424934454996745,66.92847321234065],[-61.85198137068057,66.86212067327783],[-62.163176845942296,66.1602513698896],[-63.91844438338417,64.99866852483284],[-65.14886023625361,65.42603261988667],[-66.72121904159853,66.38804108343219],[-68.01501603867395,66.26272573512439],[-68.14128740097915,65.68978913030436],[-67.08964616562339,65.10845510523698],[-65.73208045109975,64.64840566675862],[-65.32016760930127,64.38273712834605],[-64.66940629744967,63.39292674422747],[-65.0138038804589,62.674185085695974],[-66.27504472519045,62.94509878198607],[-68.78318620469271,63.745670071051805],[-67.36968075221303,62.88396556258487],[-66.3282972886672,62.28007477482204],[-66.16556820338015,61.93089712182588],[-68.87736650254463,62.3301492377128],[-71.02343705919382,62.91070811629583],[-72.23537858751898,63.397836005295154],[-71.88627844917129,63.67998932560884],[-73.37830624051837,64.19396312118381],[-74.83441891142259,64.67907562932378],[-74.8185025702767,64.38909332951796],[-77.70997982452002,64.22954234481678],[-78.55594885935416,64.57290639918013],[-77.89728105336191,65.30919220647478],[-76.01827429879718,65.32696889918314],[-73.95979529488271,65.45476471624089],[-74.29388342964963,65.81177134872938],[-73.94491248238262,66.31057811142672],[-72.65116716173938,67.28457550726385],[-72.92605994331608,67.72692576768237],[-73.31161780464572,68.0694371609129],[-74.8433072577768,68.55462718370127],[-76.86910091826674,68.89473562283025],[-76.22864905465734,69.14776927354741],[-77.28736996123709,69.76954010688327],[-78.16863399932659,69.8264875352689],[-78.95724219431672,70.1668801947754],[-79.49245500356365,69.8718077663889],[-81.30547095409173,69.74318512641433],[-84.94470618359846,69.96663401964439],[-87.06000342481786,70.26000112576536],[-88.6817132230015,70.4107412787608],[-89.51341956252301,70.76203766548097],[-88.46772111688075,71.21818553332132],[-89.88815121128746,71.22255219184994],[-90.20516028518199,72.23507436796079],[-89.43657670770493,73.12946421985235],[-88.40824154331278,73.53788890247121],[-85.8261510892009,73.80381582304521],[-86.56217851433411,73.15744700793844]]],[[[-100.35642,73.84389],[-99.16387,73.63339],[-97.38,73.76],[-97.12,73.47],[-98.05359,72.99052],[-96.54,72.56],[-96.72,71.66],[-98.35966,71.27285],[-99.32286,71.35639],[-100.01482,71.73827],[-102.5,72.51],[-102.48,72.83],[-100.43836,72.70588],[-101.54,73.36],[-100.35642,73.84389]]],[[[-93.1962955391002,72.77199249947334],[-94.26904659704725,72.02459625923595],[-95.40985551632264,72.06188080513458],[-96.03374508338243,72.94027680123179],[-96.01826799191096,73.43742991809579],[-95.495793423224,73.86241689726415],[-94.50365759965233,74.1349067247392],[-92.42001217321175,74.10002513294218],[-90.50979285354258,73.85673248971203],[-92.00396521682987,72.96624420845848],[-93.1962955391002,72.77199249947334]]],[[[-120.46,71.38360179308758],[-123.09219,70.90164],[-123.62,71.34],[-125.92894873747332,71.8686884630114],[-125.49999999999987,72.292260811795],[-124.80729,73.02256],[-123.94,73.68000000000013],[-124.9177499999999,74.29275000000011],[-121.53788,74.44893],[-120.10978,74.24135],[-117.55564,74.18577],[-116.58442,73.89607],[-115.51081,73.47519],[-116.76793999999988,73.22292],[-119.22,72.52],[-120.46,71.82],[-120.46,71.38360179308758]]],[[[-93.61275590694046,74.97999726022444],[-94.15690873897381,74.59234650338685],[-95.60868058956558,74.66686391875176],[-96.82093217648456,74.92762319609658],[-96.28858740922979,75.37782827422333],[-94.85081987178911,75.64721751576089],[-93.97774654821791,75.29648956979595],[-93.61275590694046,74.97999726022444]]],[[[-98.5,76.72],[-97.735585,76.25656],[-97.704415,75.74344],[-98.16,75],[-99.80874,74.89744],[-100.88366,75.05736],[-100.86292,75.64075],[-102.50209,75.5638],[-102.56552,76.3366],[-101.48973,76.30537],[-99.98349,76.64634],[-98.57699,76.58859],[-98.5,76.72]]],[[[-108.21141,76.20168],[-107.81943,75.84552],[-106.92893,76.01282],[-105.881,75.9694],[-105.70498,75.47951],[-106.31347,75.00527],[-109.7,74.85],[-112.22307,74.41696],[-113.74381,74.39427],[-113.87135,74.72029],[-111.79421,75.1625],[-116.31221,75.04343],[-117.7104,75.2222],[-116.34602,76.19903],[-115.40487,76.47887],[-112.59056,76.14134],[-110.81422,75.54919],[-109.0671,75.47321],[-110.49726,76.42982],[-109.5811,76.79417],[-108.54859,76.67832],[-108.21141,76.20168]]],[[[-94.68408586299944,77.09787832305837],[-93.5739210680731,76.77629588490606],[-91.60502315953659,76.7785179714946],[-90.74184587274921,76.44959747995681],[-90.96966142450798,76.07401317005944],[-89.82223792189924,75.84777374948563],[-89.18708289259978,75.61016551380762],[-87.83827633334961,75.56618886992722],[-86.37919226758866,75.48242137318216],[-84.7896252102906,75.6992040066465],[-82.75344458691005,75.78431509063122],[-81.12853084992436,75.71398346628202],[-80.05751095245914,75.33684886341587],[-79.83393286814832,74.92312734648719],[-80.45777075877582,74.65730377877777],[-81.94884253612551,74.44245901152432],[-83.2288936022114,74.56402781849093],[-86.09745235873329,74.41003205026114],[-88.1503503079602,74.39230703398498],[-89.76472205275836,74.51555532500112],[-92.42244096552942,74.83775788034097],[-92.76828548864279,75.38681997344213],[-92.88990597204172,75.88265534128263],[-93.89382402217598,76.31924367950052],[-95.9624574450358,76.44138092722244],[-97.12137895382946,76.75107778594759],[-96.74512285031234,77.16138865834513],[-94.68408586299944,77.09787832305837]]],[[[-116.19858659550732,77.6452867703262],[-116.33581336145835,76.87696157501055],[-117.10605058476877,76.53003184681911],[-118.04041215703812,76.48117178008708],[-119.89931758688569,76.05321340606197],[-121.49999507712647,75.90001862253278],[-122.85492448615895,76.11654287383568],[-122.85492529360319,76.11654287383568],[-121.15753536032824,76.86450755482834],[-119.10393897182102,77.51221995717461],[-117.57013078496595,77.4983189968881],[-116.19858659550732,77.6452867703262]]],[[[-93.84000301794397,77.51999726023449],[-94.29560828324524,77.49134267852868],[-96.16965410031005,77.55511139597688],[-96.43630449093611,77.83462921824362],[-94.42257727738635,77.82000478790498],[-93.72065629756587,77.63433136668031],[-93.84000301794397,77.51999726023449]]],[[[-110.18693803591295,77.69701487905029],[-112.05119116905846,77.40922882761684],[-113.53427893761904,77.73220652944114],[-112.72458675825384,78.05105011668194],[-111.26444332563082,78.15295604116154],[-109.85445187054707,77.99632477488481],[-110.18693803591295,77.69701487905029]]],[[[-109.66314571820256,78.60197256134568],[-110.88131425661885,78.40691986766],[-112.54209143761514,78.4079017198735],[-112.52589087609157,78.55055451121522],[-111.50001034223337,78.84999359813054],[-110.96366065147599,78.8044408230652],[-109.66314571820256,78.60197256134568]]],[[[-95.83029496944931,78.05694122996324],[-97.30984290239797,77.85059723582178],[-98.12428931353396,78.08285696075757],[-98.55286780474664,78.45810537384509],[-98.6319844225855,78.87193024363837],[-97.3372314115126,78.83198436147676],[-96.75439876990876,78.76581268992699],[-95.55927792029456,78.41831452098026],[-95.83029496944931,78.05694122996324]]],[[[-100.06019182005211,78.32475434031589],[-99.6709390938136,77.90754466420739],[-101.30394019245298,78.0189848904448],[-102.94980872273302,78.3432286648602],[-105.17613277873151,78.38033234324574],[-104.21042945027715,78.67742015249178],[-105.41958045125851,78.91833567983643],[-105.49228919149313,79.30159393992918],[-103.52928239623792,79.16534902619162],[-100.8251580472688,78.80046173777869],[-100.06019182005211,78.32475434031589]]],[[[-87.02,79.66],[-85.81435,79.3369],[-87.18756,79.0393],[-89.03535,78.28723],[-90.80436,78.21533],[-92.87669,78.34333],[-93.95116,78.75099],[-93.93574,79.11373],[-93.14524,79.3801],[-94.974,79.37248],[-96.07614,79.70502],[-96.70972,80.15777],[-96.01644,80.60233],[-95.32345,80.90729],[-94.29843,80.97727],[-94.73542,81.20646],[-92.40984,81.25739],[-91.13289,80.72345],[-89.45,80.50932203389826],[-87.81,80.32],[-87.02,79.66]]],[[[-68.5,83.10632151676573],[-65.82735,83.02801],[-63.68,82.9],[-61.85,82.6286],[-61.89388,82.36165],[-64.334,81.92775],[-66.75342,81.72527],[-67.65755,81.50141],[-65.48031,81.50657],[-67.84,80.9],[-69.4697,80.61683],[-71.18,79.8],[-73.2428,79.63415],[-73.88,79.43016220480207],[-76.90773,79.32309],[-75.52924,79.19766],[-76.22046,79.01907],[-75.39345,78.52581],[-76.34354,78.18296],[-77.88851,77.89991],[-78.36269,77.50859],[-79.75951,77.20968],[-79.61965,76.98336],[-77.91089,77.022045],[-77.88911,76.777955],[-80.56125,76.17812],[-83.17439,76.45403],[-86.11184,76.29901],[-87.6,76.42],[-89.49068,76.47239],[-89.6161,76.95213],[-87.76739,77.17833],[-88.26,77.9],[-87.65,77.9702222222222],[-84.97634,77.53873],[-86.34,78.18],[-87.96192,78.37181],[-87.15198,78.75867],[-85.37868,78.9969],[-85.09495,79.34543],[-86.50734,79.73624],[-86.93179,80.25145],[-84.19844,80.20836],[-83.40869565217382,80.1],[-81.84823,80.46442],[-84.1,80.58],[-87.59895,80.51627],[-89.36663,80.85569],[-90.2,81.26],[-91.36786,81.5531],[-91.58702,81.89429],[-90.1,82.085],[-88.93227,82.11751],[-86.97024,82.27961],[-85.5,82.65227345805702],[-84.260005,82.6],[-83.18,82.32],[-82.42,82.86],[-81.1,83.02],[-79.30664,83.13056],[-76.25,83.17205882352937],[-75.71878,83.06404],[-72.83153,83.23324],[-70.665765,83.16978075838283],[-68.5,83.10632151676573]]]]}},{type:"Feature",properties:{admin:"Switzerland",name:"Switzerland",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[9.594226108446346,47.525058091820256],[9.632931756232974,47.347601223329974],[9.47996951664902,47.10280996356337],[9.932448357796657,46.92072805438295],[10.442701450246627,46.893546250997424],[10.36337812667861,46.48357127540985],[9.922836541390378,46.31489940040918],[9.182881707403054,46.440214748716976],[8.966305779667804,46.036931871111186],[8.489952426801322,46.00515086525167],[8.316629672894377,46.16364248309085],[7.755992058959832,45.8244900579593],[7.273850945676655,45.77694774025077],[6.843592970414504,45.991146552100595],[6.500099724970424,46.42967275652943],[6.022609490593537,46.272989813820466],[6.037388950229,46.72577871356186],[6.768713820023605,47.287708238303686],[6.736571079138058,47.54180125588284],[7.192202182655505,47.449765529971],[7.466759067422228,47.620581976911794],[8.31730146651415,47.613579820336255],[8.522611932009765,47.830827541691285],[9.594226108446346,47.525058091820256]]]}},{type:"Feature",properties:{admin:"Chile",name:"Chile",continent:"South America"},geometry:{type:"MultiPolygon",coordinates:[[[[-68.63401022758315,-52.63637045887435],[-68.63334999999988,-54.8695],[-67.56244,-54.87001],[-66.95992,-54.89681],[-67.29102999999988,-55.30124],[-68.14862999999984,-55.61183],[-68.6399908108118,-55.58001799908688],[-69.2321,-55.49906],[-69.95809,-55.19843],[-71.00568,-55.05383],[-72.2639,-54.49514],[-73.2852,-53.957519999999874],[-74.66253,-52.83749],[-73.8381,-53.04743],[-72.43418,-53.7154],[-71.10773,-54.07433],[-70.59177999999979,-53.61583],[-70.26748,-52.93123],[-69.34564999999988,-52.5183],[-68.63401022758315,-52.63637045887435]]],[[[-68.21991309271122,-21.49434661223183],[-67.82817989772263,-22.87291879648218],[-67.1066735500636,-22.735924574476392],[-66.98523393417763,-22.986348565362825],[-67.32844295924413,-24.025303236590908],[-68.41765296087611,-24.518554782816874],[-68.38600114609734,-26.18501637136523],[-68.59479977077267,-26.50690886811126],[-68.29554155137039,-26.899339694935787],[-69.00123491074827,-27.521213881136127],[-69.65613033718314,-28.459141127233686],[-70.01355038112986,-29.367922865518544],[-69.91900834825192,-30.336339206668306],[-70.53506893581944,-31.36501026787028],[-70.07439938015362,-33.09120981214803],[-69.81477698431921,-33.27388600029984],[-69.81730912950145,-34.19357146579828],[-70.38804948594908,-35.16968759535944],[-70.36476925320166,-36.00508879978993],[-71.12188066270977,-36.65812387466233],[-71.11862504747542,-37.57682748794719],[-70.8146642727347,-38.55299529394073],[-71.41351660834904,-38.91602223079111],[-71.68076127794644,-39.80816415787806],[-71.91573401557754,-40.832339369470716],[-71.74680375841545,-42.05138640723599],[-72.14889807807852,-42.254888197601375],[-71.9154239569839,-43.408564548517404],[-71.4640561591305,-43.787611179378324],[-71.79362260607193,-44.2071721331561],[-71.3298007880362,-44.40752166115168],[-71.22277889675972,-44.78424285255941],[-71.65931555854532,-44.97368865334143],[-71.55200944689123,-45.56073292417712],[-71.9172584703302,-46.884838148791786],[-72.44735531278026,-47.73853281025352],[-72.33116085477194,-48.24423837666182],[-72.64824744331493,-48.878618259476774],[-73.41543575712002,-49.31843637471295],[-73.32805091011446,-50.378785088909865],[-72.97574683296462,-50.7414502907343],[-72.30997351753234,-50.67700977966634],[-72.32940385607402,-51.425956312872394],[-71.91480383979632,-52.00902230586591],[-69.49836218939608,-52.142760912637236],[-68.57154537624133,-52.29944385534625],[-69.46128434922662,-52.291950772663924],[-69.94277950710611,-52.53793059037324],[-70.8451016913545,-52.89920052852571],[-71.00633216010522,-53.833252042201345],[-71.42979468452093,-53.85645476030037],[-72.55794287788486,-53.53141000118445],[-73.70275672066286,-52.83506926860725],[-73.70275672066286,-52.83507007605149],[-74.94676347522515,-52.26275358841902],[-75.2600260077785,-51.62935475037321],[-74.9766324530898,-51.043395684615675],[-75.47975419788348,-50.37837167745155],[-75.60801510283194,-48.673772881871784],[-75.18276974150213,-47.71191944762315],[-74.12658098010468,-46.939253431995084],[-75.64439531116544,-46.647643324572016],[-74.69215369332305,-45.76397633238097],[-74.35170935738425,-44.10304412208788],[-73.24035600451519,-44.45496062599561],[-72.71780392117977,-42.383355808278985],[-73.38889990913823,-42.11753224056957],[-73.70133561877483,-43.36577646257974],[-74.33194312203257,-43.224958184584395],[-74.01795711942715,-41.79481292090683],[-73.67709937202994,-39.94221282324311],[-73.21759253609066,-39.25868865331851],[-73.50555945503704,-38.282882582351064],[-73.58806087919108,-37.156284681956016],[-73.16671708849928,-37.12378020604435],[-72.55313696968172,-35.50884002049102],[-71.86173214383255,-33.90909270603152],[-71.4384504869299,-32.41889942803082],[-71.66872066922242,-30.920644626592516],[-71.37008256700771,-30.095682061484997],[-71.48989437527645,-28.86144215262591],[-70.90512386746157,-27.640379734001193],[-70.72495398627596,-25.70592416758721],[-70.40396582709504,-23.628996677344542],[-70.09124589708067,-21.393319187101223],[-70.16441972520597,-19.756468194256183],[-70.37257239447771,-18.34797535570888],[-69.8584435696058,-18.092693780187027],[-69.59042375352398,-17.580011895419286],[-69.1002469550194,-18.260125420812653],[-68.96681840684182,-18.98168344490409],[-68.44222510443092,-19.40506845467142],[-68.7571671210337,-20.37265797290447],[-68.21991309271122,-21.49434661223183]]]]}},{type:"Feature",properties:{admin:"China",name:"China",continent:"Asia"},geometry:{type:"MultiPolygon",coordinates:[[[[110.33918786015153,18.678395087147603],[109.4752095886637,18.19770091396861],[108.65520796105613,18.507681993071397],[108.62621748254043,19.367887885001974],[109.119055617308,19.821038519769385],[110.21159874882284,20.101253973872073],[110.78655073450223,20.077534491450077],[111.01005130416462,19.695929877190732],[110.5706466003868,19.255879218009305],[110.33918786015153,18.678395087147603]]],[[[127.65740726126238,49.76027049417293],[129.39781782442043,49.44060008401543],[130.58229332898236,48.72968740497611],[130.98728152885383,47.79013235126139],[132.5066719910995,47.788969631534876],[133.373595819228,48.183441677434914],[135.0263114767867,48.4782298854439],[134.5008138368106,47.57843984637783],[134.1123620952726,47.21246735288672],[133.76964399631288,46.116926988299056],[133.09712690646643,45.14406647397216],[131.88345421765956,45.32116160743643],[131.02521203015607,44.96795319272157],[131.28855512911554,44.11151968034825],[131.14468794161485,42.92998973242693],[130.6338664084098,42.90301463477054],[130.64001590385243,42.39500946712527],[129.99426720593323,42.98538686784379],[129.59666873587946,42.42498179785459],[128.0522152039723,41.994284572917984],[128.20843305879072,41.466771552082534],[127.34378299368302,41.50315176041595],[126.86908328664985,41.816569322266155],[126.18204511932943,41.10733612727636],[125.07994184784059,40.56982371679245],[124.26562462778531,39.928493353834135],[122.86757042856101,39.637787583976255],[122.13138797413092,39.17045176854462],[121.05455447803286,38.89747101496291],[121.58599490772247,39.360853583324136],[121.37675703337264,39.750261338859524],[122.16859500538101,40.422442531896046],[121.64035851449353,40.946389878903304],[120.76862877816195,40.593388169917596],[119.63960208544906,39.89805593521421],[119.02346398323301,39.252333075511096],[118.0427486511979,39.204273993479674],[117.53270226447705,38.73763580988409],[118.05969852098967,38.06147553156105],[118.87814985562835,37.8973253443859],[118.9116361837535,37.44846385349872],[119.70280236214204,37.15638865818507],[120.82345747282365,37.87042776137797],[121.71125857959794,37.481123358707165],[122.35793745329846,37.45448415786068],[122.51999474496581,36.93061432550183],[121.10416385303303,36.65132904718043],[120.63700890511457,36.111439520811125],[119.66456180224607,35.60979055433773],[119.15120812385857,34.90985911716046],[120.22752485563372,34.36033193616861],[120.62036909391657,33.37672272392512],[121.22901411345022,32.460318711877186],[121.90814578663004,31.692174384074683],[121.89191938689034,30.9493515080951],[121.2642574402733,30.676267401648712],[121.50351932178472,30.14291494396425],[122.09211388558909,29.832520453403156],[121.93842817595305,29.018022365834803],[121.68443851123847,28.225512600206677],[121.12566124886644,28.13567312266718],[120.3954732605823,27.053206895449385],[119.58549686083956,25.740780544532605],[118.65687137255452,24.547390855400234],[117.28160647997083,23.624501451099714],[115.89073530483512,22.782873236578094],[114.76382734584621,22.668074042241663],[114.15254682826566,22.223760077396204],[113.80677981980075,22.548339748621423],[113.24107791550159,22.051367499270462],[111.84359215703245,21.550493679281512],[110.78546552942413,21.39714386645533],[110.44403934127166,20.34103261970639],[109.88986128137357,20.28245738370344],[109.62765506392464,21.008227037026725],[109.86448815311832,21.395050970947516],[108.52281294152442,21.71521230721182],[108.05018029178298,21.5523798690601],[107.04342003787264,21.8118989120299],[106.56727339073535,22.21820486092474],[106.72540327354847,22.794267889898375],[105.81124718630521,22.9768924016179],[105.32920942588663,23.352063300056976],[104.47685835166448,22.819150092046918],[103.5045146016605,22.703756618739217],[102.70699222210015,22.708795070887696],[102.17043582561355,22.464753119389336],[101.65201785686158,22.318198757409554],[101.8031197448829,21.17436676684505],[101.27002566936001,21.201651923095167],[101.18000532430756,21.436572984294052],[101.15003299357824,21.849984442629015],[100.41653771362735,21.558839423096654],[99.98348921102155,21.74293671313645],[99.2408988789872,22.11831431730456],[99.53199222208741,22.94903880461259],[98.8987492207828,23.14272207284258],[98.66026248575578,24.063286037690002],[97.60471967976203,23.89740469003305],[97.72460900267913,25.083637193293036],[98.67183800658921,25.91870250091349],[98.71209394734456,26.743535874940243],[98.68269005737051,27.508812160750658],[98.24623091023335,27.747221381129172],[97.91198774616943,28.335945136014367],[97.32711388549001,28.26158274994634],[96.24883344928783,28.411030992134467],[96.58659061074752,28.83097951915436],[96.117678664131,29.452802028922513],[95.40480228066463,29.031716620392157],[94.56599043170293,29.27743805593996],[93.41334760943266,28.640629380807233],[92.50311893104362,27.896876329046442],[91.69665652869669,27.771741848251615],[91.25885379431988,28.040614325466343],[90.7305139505678,28.064953925075738],[90.01582889197118,28.296438503527177],[89.47581017452116,28.042758897406365],[88.81424848832057,27.29931590423939],[88.73032596227853,28.08686473236755],[88.12044070836994,27.876541652939572],[86.95451704300064,27.974261786403524],[85.82331994013153,28.203575954698742],[85.01163821812305,28.64277395274737],[84.23457970575015,28.83989370372469],[83.89899295444674,29.320226141877633],[83.33711510613718,29.463731594352193],[82.32751264845088,30.115268052688204],[81.52580447787479,30.42271698660866],[81.11125613802928,30.183480943313402],[79.72136681510712,30.882714748654728],[78.738894484374,31.515906073527045],[78.45844648632603,32.61816437431272],[79.17612877799554,32.48377981213775],[79.20889163606854,32.99439463961374],[78.81108646028572,33.5061980250324],[78.91226891471321,34.32193634697577],[77.83745079947461,35.494009507787794],[76.1928483417857,35.89840342868785],[75.89689741405017,36.66680613865187],[75.15802778514099,37.13303091078915],[74.9800024758954,37.41999013930589],[74.82998579295214,37.990007025701445],[74.86481570831678,38.37884634048159],[74.25751427602269,38.606506862943476],[73.9288521666464,38.50581533462272],[73.67537926625484,39.431236884105566],[73.96001305531843,39.660008449861714],[73.82224368682832,39.893973497063136],[74.77686242055604,40.36642527929162],[75.46782799673072,40.56207225194867],[76.52636803579743,40.42794607193513],[76.90448449087711,41.06648590754965],[78.18719689322604,41.1853158636048],[78.54366092317525,41.58224254003871],[80.1194303730514,42.12394074153822],[80.25999026888532,42.34999929459908],[80.18015018099437,42.920067857426844],[80.86620649610121,43.18036204688101],[79.96610639844143,44.91751699480462],[81.94707075391808,45.31702749285314],[82.45892581576904,45.5396495631665],[83.18048383986054,47.330031236350735],[85.16429039911321,47.0009557155161],[85.72048383987067,47.45296946877308],[85.76823286330837,48.455750637396896],[86.59877648310335,48.549181626980605],[87.35997033076269,49.21498078062915],[87.75126427607667,49.297197984405464],[88.01383222855168,48.599462795600594],[88.85429772334675,48.06908173277301],[90.2808256367639,47.6935490993079],[90.97080936072496,46.88814606382293],[90.58576826371831,45.71971609148749],[90.94553958533432,45.28607330991024],[92.13389082231822,45.11507599545643],[93.48073367714132,44.97547211362],[94.68892866412536,44.352331854828456],[95.3068754414715,44.24133087826546],[95.76245486855669,43.31944916439462],[96.34939578652781,42.72563528092864],[97.45175744017797,42.74888967546007],[99.51581749878,42.52469147396169],[100.84586551310828,42.66380442969142],[101.83304039917994,42.51487295182627],[103.31227827353479,41.90746816666761],[104.522281935649,41.90834666601662],[104.96499393109343,41.597409572916334],[106.12931562706166,42.13432770442889],[107.74477257693798,42.48151581478191],[109.24359581913143,42.51944631608415],[110.4121033061153,42.871233628911014],[111.12968224492022,43.40683401140017],[111.82958784388137,43.743118394539486],[111.6677372579432,44.073175767587706],[111.34837690637943,44.45744171811005],[111.87330610560025,45.10207937273511],[112.43606245325884,45.01164561622425],[113.4639066915442,44.80889313412711],[114.46033165899604,45.339816799493875],[115.98509647020013,45.727235012386004],[116.71786828009886,46.38820241961524],[117.42170128791425,46.67273285581421],[118.87432579963871,46.805412095723646],[119.66326989143874,46.692679958678944],[119.77282392789756,47.04805878355013],[118.86657433479495,47.747060044946195],[118.06414269416672,48.06673045510373],[117.29550744025744,47.697709052107385],[116.30895267137323,47.85341014260281],[115.74283735561573,47.72654450132627],[115.48528201707302,48.13538259540344],[116.1918021993676,49.134598090199056],[116.67880089728618,49.8885313991214],[117.87924441942637,49.510983384796944],[119.28846072802584,50.14288279886203],[119.27936567594236,50.58290761982728],[120.18204959521692,51.64356639261802],[120.73819135954197,51.96411530212455],[120.72578901579197,52.516226304730814],[120.17708865771687,52.753886216841195],[121.00308475147023,53.25140106873123],[122.24574791879286,53.43172597921368],[123.57150678924084,53.45880442973463],[125.06821129771043,53.16104482686883],[125.94634891164617,52.792798570356936],[126.56439904185696,51.78425547953269],[126.93915652883766,51.353894151405896],[127.2874556824849,50.739797268265434],[127.65740726126238,49.76027049417293]]]]}},{type:"Feature",properties:{admin:"Ivory Coast",name:"Cte d'Ivoire",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[-2.856125047202397,4.994475816259508],[-3.311084357100071,4.984295559098014],[-4.008819545904941,5.179813340674314],[-4.64991736491791,5.168263658057084],[-5.834496222344525,4.993700669775135],[-6.528769090185845,4.705087795425015],[-7.518941209330434,4.338288479017307],[-7.712159389669749,4.364565944837721],[-7.63536821128403,5.188159084489455],[-7.53971513511176,5.313345241716517],[-7.570152553731686,5.707352199725903],[-7.993692592795879,6.126189683451541],[-8.311347622094017,6.193033148621081],[-8.602880214868618,6.467564195171659],[-8.385451626000572,6.911800645368742],[-8.485445522485348,7.395207831243068],[-8.439298468448696,7.686042792181736],[-8.280703497744936,7.687179673692156],[-8.221792364932197,8.123328762235571],[-8.299048631208562,8.316443589710302],[-8.203498907900878,8.455453192575446],[-7.832100389019186,8.575704250518625],[-8.079113735374348,9.376223863152033],[-8.309616461612249,9.78953196862244],[-8.22933712404682,10.129020290563897],[-8.029943610048617,10.206534939001711],[-7.89958980959237,10.297382106970824],[-7.622759161804808,10.147236232946792],[-6.850506557635057,10.138993841996237],[-6.666460944027547,10.430810655148447],[-6.493965013037267,10.411302801958268],[-6.205222947606429,10.524060777219132],[-6.050452032892266,10.096360785355442],[-5.816926235365286,10.22255463301219],[-5.404341599946973,10.370736802609144],[-4.954653286143098,10.152713934769732],[-4.779883592131966,9.821984768101741],[-4.330246954760383,9.61083486575714],[-3.980449184576684,9.862344061721698],[-3.511898972986272,9.900326239456216],[-2.827496303712706,9.642460842319775],[-2.56218950032624,8.219627793811481],[-2.983584967450326,7.379704901555511],[-3.244370083011261,6.2504715031135],[-2.810701463217839,5.389051215024109],[-2.856125047202397,4.994475816259508]]]}},{type:"Feature",properties:{admin:"Cameroon",name:"Cameroon",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[13.07582238124675,2.267097072759014],[12.951333855855605,2.321615708826939],[12.359380323952218,2.19281220133945],[11.751665480199787,2.326757513839993],[11.276449008843711,2.261050930180871],[9.649158155972627,2.283866075037735],[9.795195753629455,3.073404445809117],[9.404366896205998,3.734526882335202],[8.948115675501068,3.904128933117135],[8.744923943729416,4.352215277519959],[8.488815545290889,4.495617377129917],[8.500287713259693,4.771982937026847],[8.757532993208626,5.47966583904791],[9.233162876023043,6.444490668153334],[9.522705926154398,6.453482367372116],[10.118276808318255,7.038769639509879],[10.497375115611417,7.055357774275562],[11.05878787603035,6.644426784690593],[11.745774366918509,6.981382961449753],[11.8393087093668,7.397042344589434],[12.063946160539556,7.799808457872301],[12.218872104550597,8.305824082874322],[12.753671502339214,8.717762762888993],[12.95546797043897,9.417771714714702],[13.1675997249971,9.64062632897341],[13.308676385153914,10.160362046748926],[13.572949659894558,10.798565985553564],[14.415378859116682,11.572368882692071],[14.468192172918974,11.90475169519341],[14.57717776862253,12.0853608260535],[14.181336297266792,12.483656927943112],[14.213530714584634,12.802035427293344],[14.495787387762842,12.859396267137326],[14.893385857816522,12.219047756392582],[14.960151808337598,11.555574042197222],[14.923564894274955,10.891325181517471],[15.467872755605269,9.982336737503429],[14.909353875394713,9.99212942142273],[14.627200555081057,9.920919297724536],[14.171466098699025,10.021378282099928],[13.954218377344002,9.549494940626685],[14.544466586981766,8.965861314322266],[14.979995558337688,8.79610423424347],[15.12086551276533,8.382150173369423],[15.436091749745765,7.692812404811971],[15.279460483469107,7.421924546737968],[14.776545444404572,6.408498033062044],[14.53656009284111,6.22695872642069],[14.459407179429345,5.451760565610299],[14.558935988023501,5.03059764243153],[14.478372430080466,4.732605495620446],[14.950953403389658,4.21038930909492],[15.036219516671249,3.851367295747123],[15.40539594896438,3.335300604664339],[15.862732374747479,3.013537298998982],[15.907380812247649,2.557389431158612],[16.01285241055535,2.267639675298084],[15.94091881680506,1.727672634280295],[15.14634199388524,1.964014797367184],[14.337812534246577,2.22787466064949],[13.07582238124675,2.267097072759014]]]}},{type:"Feature",properties:{admin:"Democratic Republic of the Congo",name:"Dem. Rep. Congo",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[30.8338598975938,3.50916596111034],[30.773346795380036,2.339883327642127],[31.174149204235807,2.204465236821263],[30.852670118948048,1.849396470543809],[30.46850752129029,1.58380544677972],[30.086153598762703,1.062312730306288],[29.875778842902488,.597379868976304],[29.819503208136634,-.205310153813372],[29.587837762172164,-.58740569417948],[29.579466180140876,-1.341313164885626],[29.29188683443661,-1.620055840667987],[29.254834832483336,-2.215109958508911],[29.117478875451546,-2.292211195488384],[29.02492638521678,-2.839257907730157],[29.276383904749046,-3.293907159034063],[29.339997592900342,-4.499983412294092],[29.519986606572925,-5.419978936386313],[29.41999271008816,-5.939998874539432],[29.620032179490003,-6.520015150583424],[30.199996779101692,-7.079980970898161],[30.74001549655178,-8.340007419470913],[30.34608605319081,-8.238256524288216],[29.002912225060467,-8.40703175215347],[28.734866570762495,-8.526559340044576],[28.44987104667282,-9.164918308146083],[28.673681674928922,-9.60592498132493],[28.496069777141763,-10.789883721564044],[28.37225304537042,-11.793646742401389],[28.642417433392346,-11.971568698782312],[29.341547885869087,-12.36074391037241],[29.616001417771223,-12.178894545137307],[29.699613885219485,-13.257226657771827],[28.934285922976834,-13.248958428605132],[28.52356163912102,-12.69860442469668],[28.15510867687998,-12.272480564017894],[27.38879886242378,-12.132747491100663],[27.164419793412456,-11.608748467661071],[26.55308759939961,-11.924439792532125],[25.752309604604726,-11.784965101776356],[25.418118116973197,-11.330935967659958],[24.783169793402948,-11.238693536018962],[24.314516228947948,-11.262826429899269],[24.257155389103982,-10.951992689663655],[23.912215203555714,-10.926826267137512],[23.456790805767433,-10.867863457892481],[22.837345411884733,-11.017621758674329],[22.40279829274237,-10.99307545333569],[22.155268182064304,-11.084801120653768],[22.20875328948639,-9.894796237836507],[21.87518191904234,-9.523707777548564],[21.801801385187897,-8.908706556842978],[21.949130893652036,-8.305900974158275],[21.746455926203303,-7.920084730667147],[21.728110792739695,-7.2908724910813],[20.514748162526498,-7.299605808138629],[20.601822950938292,-6.93931772219968],[20.091621534920645,-6.943090101756993],[20.037723016040214,-7.116361179231644],[19.417502475673157,-7.155428562044297],[19.166613396896107,-7.738183688999753],[19.016751743249664,-7.988245944860132],[18.464175652752683,-7.847014255406442],[18.134221632569048,-7.98767750410492],[17.47297000496223,-8.068551120641699],[17.089995965247166,-7.545688978712525],[16.860190870845198,-7.222297865429984],[16.57317996589614,-6.622644545115087],[16.326528354567042,-5.877470391466267],[13.375597364971892,-5.864241224799548],[13.02486941900696,-5.984388929878157],[12.735171339578695,-5.965682061388497],[12.322431674863507,-6.100092461779658],[12.182336866920249,-5.789930515163837],[12.436688266660866,-5.684303887559245],[12.468004184629734,-5.248361504745003],[12.631611769265788,-4.991271254092935],[12.995517205465173,-4.781103203961883],[13.258240187237044,-4.882957452009165],[13.600234816144676,-4.500138441590969],[14.144956088933295,-4.510008640158715],[14.20903486497522,-4.793092136253597],[14.58260379401318,-4.970238946150139],[15.170991652088441,-4.3435071753143],[15.753540073314749,-3.855164890156096],[16.006289503654298,-3.535132744972528],[15.97280317552915,-2.712392266453612],[16.40709191251005,-1.740927015798682],[16.86530683764212,-1.225816338713287],[17.523716261472853,-.743830254726987],[17.638644646889983,-.424831638189246],[17.663552687254676,-.058083998213817],[17.826540154703245,.288923244626105],[17.774191928791563,.855658677571085],[17.89883548347958,1.741831976728278],[18.09427575040743,2.365721543788055],[18.39379235197114,2.90044342692822],[18.453065219809925,3.504385891123348],[18.542982211997778,4.201785183118317],[18.932312452884755,4.709506130385973],[19.467783644293146,5.031527818212779],[20.290679152108932,4.691677761245287],[20.927591180106273,4.322785549329736],[21.65912275563002,4.224341945813719],[22.40512373219553,4.02916006104732],[22.704123569436284,4.633050848810156],[22.841479526468103,4.710126247573483],[23.297213982850135,4.609693101414221],[24.41053104014625,5.108784084489129],[24.80502892426241,4.897246608902349],[25.128833449003274,4.927244777847789],[25.278798455514302,5.170408229997191],[25.650455356557465,5.256087754737123],[26.402760857862535,5.150874538590869],[27.044065382604703,5.127852688004835],[27.374226108517483,5.233944403500059],[27.979977247842807,4.408413397637373],[28.428993768026906,4.287154649264493],[28.696677687298795,4.455077215996936],[29.159078403446497,4.38926727947323],[29.715995314256013,4.600804755060024],[29.953500197069467,4.173699042167683],[30.8338598975938,3.50916596111034]]]}},{type:"Feature",properties:{admin:"Republic of Congo",name:"Congo",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[12.995517205465173,-4.781103203961883],[12.620759718484491,-4.438023369976135],[12.318607618873923,-4.606230157086187],[11.914963006242086,-5.037986748884789],[11.093772820691923,-3.978826592630546],[11.855121697648114,-3.42687061932105],[11.4780387712143,-2.765618991714241],[11.820963575903189,-2.514161472181982],[12.49570275233816,-2.391688327650242],[12.575284458067639,-1.948511244315134],[13.109618767965626,-2.428740329603513],[13.992407260807706,-2.470804945489099],[14.299210239324564,-1.998275648612213],[14.425455763413593,-1.333406670744971],[14.31641849127774,-.552627455247048],[13.843320753645653,.038757635901149],[14.276265903386953,1.196929836426619],[14.026668735417214,1.395677395021153],[13.282631463278816,1.31418366129688],[13.003113641012074,1.830896307783319],[13.07582238124675,2.267097072759014],[14.337812534246577,2.22787466064949],[15.14634199388524,1.964014797367184],[15.94091881680506,1.727672634280295],[16.01285241055535,2.267639675298084],[16.537058139724135,3.198254706226278],[17.133042433346297,3.728196519379451],[17.80990034350526,3.560196437998569],[18.453065219809925,3.504385891123348],[18.39379235197114,2.90044342692822],[18.09427575040743,2.365721543788055],[17.89883548347958,1.741831976728278],[17.774191928791563,.855658677571085],[17.826540154703245,.288923244626105],[17.663552687254676,-.058083998213817],[17.638644646889983,-.424831638189246],[17.523716261472853,-.743830254726987],[16.86530683764212,-1.225816338713287],[16.40709191251005,-1.740927015798682],[15.97280317552915,-2.712392266453612],[16.006289503654298,-3.535132744972528],[15.753540073314749,-3.855164890156096],[15.170991652088441,-4.3435071753143],[14.58260379401318,-4.970238946150139],[14.20903486497522,-4.793092136253597],[14.144956088933295,-4.510008640158715],[13.600234816144676,-4.500138441590969],[13.258240187237044,-4.882957452009165],[12.995517205465173,-4.781103203961883]]]}},{type:"Feature",properties:{admin:"Colombia",name:"Colombia",continent:"South America"},geometry:{type:"Polygon",coordinates:[[[-75.37322323271384,-.15203175212045],[-75.80146582711659,.084801337073202],[-76.29231441924094,.416047268064119],[-76.57637976754938,.256935533037435],[-77.42498430043037,.395686753741117],[-77.66861284047042,.825893052570961],[-77.85506140817951,.809925034992773],[-78.85525875518869,1.380923773601822],[-78.99093522817103,1.691369940595251],[-78.6178313870237,1.766404120283056],[-78.66211808949784,2.267355454920476],[-78.4276104397573,2.629555568854215],[-77.93154252797147,2.696605739752925],[-77.510431281225,3.325016994638246],[-77.12768978545525,3.849636135265356],[-77.496271938777,4.087606105969427],[-77.30760128447938,4.667984117039452],[-77.53322058786571,5.582811997902496],[-77.31881507028672,5.845354112161359],[-77.47666073272227,6.691116441266301],[-77.88157141794524,7.223771267114783],[-77.75341386586139,7.709839789252141],[-77.43110795765698,7.638061224798733],[-77.24256649444007,7.935278225125442],[-77.47472286651131,8.524286200388216],[-77.35336076527385,8.670504665558068],[-76.83667395700354,8.638749497914715],[-76.08638383655784,9.336820583529486],[-75.67460018584003,9.443248195834597],[-75.66470414905615,9.774003200718736],[-75.48042599150334,10.618990383339305],[-74.90689510771197,11.08304474532032],[-74.27675269234487,11.102035834187586],[-74.19722266304768,11.310472723836865],[-73.41476396350028,11.227015285685479],[-72.62783525255962,11.73197154382552],[-72.2381949530789,11.955549628136325],[-71.75409013536863,12.437303168177305],[-71.39982235379169,12.37604075769529],[-71.13746110704587,12.112981879113503],[-71.33158362495028,11.776284084515805],[-71.97392167833827,11.608671576377116],[-72.22757544624292,11.108702093953237],[-72.6146577623252,10.821975409381777],[-72.90528601753469,10.45034434655477],[-73.02760413276955,9.73677033125244],[-73.30495154488003,9.151999823437604],[-72.78872982450038,9.08502716718733],[-72.66049475776809,8.62528778730268],[-72.43986223009794,8.405275376820027],[-72.36090064155596,8.002638454617893],[-72.47967892117883,7.632506008327352],[-72.44448727078806,7.42378489830048],[-72.19835242378187,7.340430813013682],[-71.96017574734863,6.991614895043538],[-70.6742335679815,7.087784735538717],[-70.09331295437241,6.960376491723109],[-69.3894799465571,6.099860541198835],[-68.98531856960233,6.206804917826856],[-68.26505245631822,6.153268133972473],[-67.695087246355,6.267318020040645],[-67.34143958196556,6.095468044454021],[-67.52153194850274,5.556870428891968],[-67.7446966213552,5.221128648291667],[-67.82301225449353,4.503937282728898],[-67.62183590358127,3.839481716319994],[-67.33756384954367,3.542342230641721],[-67.30317318385342,3.31845408773718],[-67.80993811712369,2.820655015469569],[-67.4470920477863,2.600280869960869],[-67.18129431829304,2.250638129074062],[-66.87632585312257,1.253360500489336],[-67.06504818385248,1.130112209473225],[-67.25999752467358,1.719998684084956],[-67.53781002467468,2.037162787276329],[-67.86856502955882,1.692455145673392],[-69.81697323269161,1.714805202639624],[-69.8045967271577,1.089081122233466],[-69.21863766140017,.985676581217433],[-69.25243404811904,.602650865070075],[-69.45239600287245,.706158758950693],[-70.0155657619893,.541414292804205],[-70.02065589057004,-.185156345219539],[-69.57706539577659,-.549991957200163],[-69.42048580593222,-1.122618503426409],[-69.4441019354896,-1.556287123219817],[-69.89363521999661,-4.298186944194326],[-70.39404395209498,-3.766591485207825],[-70.6926820543097,-3.742872002785858],[-70.04770850287484,-2.725156345229699],[-70.81347571479195,-2.256864515800742],[-71.41364579942977,-2.342802422702128],[-71.77476070828538,-2.169789727388937],[-72.32578650581364,-2.434218031426453],[-73.07039221870721,-2.308954359550952],[-73.65950354683459,-1.260491224781134],[-74.12239518908905,-1.002832533373848],[-74.44160051135596,-.530820000819887],[-75.10662451852006,-.05720549886486],[-75.37322323271384,-.15203175212045]]]}},{type:"Feature",properties:{admin:"Costa Rica",name:"Costa Rica",continent:"North America"},geometry:{type:"Polygon",coordinates:[[[-82.96578304719735,8.225027980985983],[-83.50843726269429,8.446926581247281],[-83.71147396516906,8.656836249216864],[-83.59631303580663,8.830443223501417],[-83.63264156770782,9.05138580976532],[-83.90988562695372,9.290802720573579],[-84.30340165885634,9.487354030795712],[-84.64764421256865,9.615537421095707],[-84.71335079622774,9.908051866083849],[-84.97566036654132,10.086723130733004],[-84.91137488477021,9.795991522658921],[-85.11092342806529,9.557039699741308],[-85.33948828809226,9.834542141148658],[-85.66078650586697,9.93334747969072],[-85.79744483106282,10.134885565629032],[-85.79170874707842,10.439337266476612],[-85.65931372754666,10.754330959511718],[-85.94172543002175,10.8952784285878],[-85.71254045280729,11.088444932494822],[-85.56185197624417,11.217119248901593],[-84.90300330273892,10.952303371621895],[-84.67306901725624,11.08265717207814],[-84.35593075228103,10.999225572142901],[-84.19017859570482,10.79345001875667],[-83.89505449088593,10.726839097532444],[-83.65561174186156,10.938764146361418],[-83.40231970898294,10.39543813724465],[-83.01567664257516,9.992982082555553],[-82.54619625520347,9.566134751824674],[-82.93289099804356,9.476812038608172],[-82.92715491405914,9.074330145702914],[-82.71918311230051,8.925708726431493],[-82.86865719270476,8.80726634361852],[-82.82977067740515,8.626295477732368],[-82.9131764391242,8.423517157419068],[-82.96578304719735,8.225027980985983]]]}},{type:"Feature",properties:{admin:"Cuba",name:"Cuba",continent:"North America"},geometry:{type:"Polygon",coordinates:[[[-82.26815121125703,23.188610744717703],[-81.40445716014682,23.117271429938775],[-80.61876868358118,23.105980129482994],[-79.67952368846022,22.765303249598823],[-79.28148596873207,22.39920156502705],[-78.34743445505647,22.512166246017085],[-77.99329586456025,22.277193508385928],[-77.14642249216104,21.65785146736783],[-76.52382483590853,21.20681956632437],[-76.19462012399318,21.220565497314006],[-75.59822241891266,21.01662445727413],[-75.67106035022803,20.735091254148],[-74.93389604358448,20.69390513761138],[-74.17802486845125,20.284627793859737],[-74.29664811877724,20.050378526280678],[-74.96159461129292,19.923435370355687],[-75.63468014189458,19.873774318923193],[-76.32365617542598,19.952890936762056],[-77.75548092315304,19.855480861891873],[-77.08510840524673,20.41335378669879],[-77.4926545885166,20.673105373613886],[-78.13729224314157,20.739948838783427],[-78.48282670766116,21.028613389565848],[-78.719866502584,21.59811351163843],[-79.28499996612791,21.559175319906497],[-80.21747534861863,21.827324327069032],[-80.5175345527214,22.037078965741756],[-81.82094336620317,22.192056586185068],[-82.16999182811861,22.387109279870746],[-81.79500179719264,22.63696483000195],[-82.77589799674084,22.688150336187057],[-83.49445878775933,22.168517971276124],[-83.90880042187561,22.15456533455733],[-84.05215084505325,21.91057505949125],[-84.54703019889635,21.80122772876164],[-84.97491105827308,21.896028143801082],[-84.44706214062775,22.204949856041903],[-84.23035702181177,22.56575470630376],[-83.77823991569016,22.78811839445569],[-83.26754757356574,22.98304189706064],[-82.5104361640575,23.07874664966518],[-82.26815121125703,23.188610744717703]]]}},{type:"Feature",properties:{admin:"Northern Cyprus",name:"N. Cyprus",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[32.731780226377445,35.14002594658843],[32.80247358575274,35.14550364841136],[32.9469608904408,35.38670339613369],[33.66722700372494,35.37321584730551],[34.57647382990046,35.671595567358786],[33.9008044776842,35.24575592705761],[33.973616570783456,35.058506374648],[33.866439650210104,35.09359467217418],[33.67539188002706,35.017862860650446],[33.525685255677494,35.038688462864066],[33.475817498515845,35.0003445501035],[33.45592207208346,35.1014236516664],[33.383833449036295,35.16271190036456],[33.19097700372304,35.17312470147137],[32.91957238132613,35.087832749973636],[32.731780226377445,35.14002594658843]]]}},{type:"Feature",properties:{admin:"Cyprus",name:"Cyprus",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[33.973616570783456,35.058506374648],[34.00488081232003,34.97809784600185],[32.97982710137844,34.571869411755436],[32.49029625827753,34.70165477145647],[32.25666710788595,35.10323232679662],[32.731780226377445,35.14002594658843],[32.91957238132613,35.087832749973636],[33.19097700372304,35.17312470147137],[33.383833449036295,35.16271190036456],[33.45592207208346,35.1014236516664],[33.475817498515845,35.0003445501035],[33.525685255677494,35.038688462864066],[33.67539188002706,35.017862860650446],[33.866439650210104,35.09359467217418],[33.973616570783456,35.058506374648]]]}},{type:"Feature",properties:{admin:"Czech Republic",name:"Czech Rep.",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[16.960288120194573,48.59698232685059],[16.49928266771877,48.785808010445095],[16.029647251050218,48.733899034207916],[15.253415561593979,49.039074205107575],[14.901447381254055,48.96440176044582],[14.33889773932472,48.55530528420719],[13.595945672264433,48.877171942737135],[13.031328973043427,49.30706818297323],[12.52102420416119,49.54741526956272],[12.415190870827441,49.96912079528056],[12.240111118222556,50.26633779560727],[12.96683678554319,50.48407644306907],[13.338131951560282,50.733234361364346],[14.05622765468817,50.926917629594286],[14.307013380600633,51.1172677679414],[14.570718214586062,51.00233938252426],[15.016995883858666,51.106674099321566],[15.490972120839725,50.7847299261432],[16.238626743238566,50.69773265237983],[16.176253289462263,50.4226073268579],[16.71947594571443,50.21574656839353],[16.868769158605655,50.473973700556016],[17.554567091551117,50.36214590107641],[17.649445021238986,50.04903839781994],[18.39291385262217,49.98862864847074],[18.85314415861361,49.496229763377634],[18.55497114428948,49.49501536721878],[18.399993523846174,49.315000515330034],[18.17049848803796,49.27151479755642],[18.10497277189185,49.0439834661753],[17.91351159025046,48.99649282489907],[17.886484816161808,48.903475246773695],[17.5450069515771,48.80001902932536],[17.101984897538895,48.8169688991171],[16.960288120194573,48.59698232685059]]]}},{type:"Feature",properties:{admin:"Germany",name:"Germany",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[9.92190636560923,54.983104153048025],[9.939579705452898,54.59664195415324],[10.950112338920517,54.36360708273315],[10.939466993868447,54.00869334575258],[11.95625247564328,54.196485500701144],[12.51844038254671,54.47037059184799],[13.647467075259495,54.075510972705885],[14.119686313542555,53.757029120491026],[14.353315463934164,53.24817129171309],[14.07452111171943,52.981262518925334],[14.437599725002197,52.62485016540829],[14.685026482815713,52.08994741475521],[14.607098422919645,51.745188096719964],[15.016995883858781,51.1066740993217],[14.570718214586119,51.00233938252437],[14.307013380600662,51.117267767941364],[14.05622765468831,50.92691762959435],[13.338131951560397,50.73323436136427],[12.966836785543249,50.48407644306916],[12.240111118222668,50.266337795607214],[12.41519087082747,49.9691207952806],[12.521024204161332,49.54741526956274],[13.031328973043513,49.30706818297323],[13.595945672264575,48.87717194273716],[13.243357374737112,48.416114813829026],[12.884102817443873,48.289145819687846],[13.025851271220514,47.637583523135945],[12.93262698736606,47.46764557554398],[12.62075971848452,47.67238760028441],[12.14135745611287,47.70308340106577],[11.426414015354847,47.523766181013045],[10.544504021861597,47.56639923765378],[10.402083774465321,47.30248769793916],[9.896068149463188,47.58019684507569],[9.594226108446376,47.525058091820185],[8.522611932009793,47.83082754169134],[8.317301466514092,47.61357982033626],[7.466759067422286,47.62058197691191],[7.59367638513106,48.333019110703724],[8.099278598674855,49.01778351500342],[6.658229607783709,49.20195831969163],[6.186320428094176,49.4638028021145],[6.242751092156992,49.90222565367872],[6.043073357781109,50.12805166279422],[6.156658155958779,50.803721015010574],[5.988658074577812,51.85161570902504],[6.589396599970825,51.85202912048338],[6.842869500362381,52.22844025329754],[7.092053256873895,53.14404328064488],[6.905139601274128,53.48216217713063],[7.100424838905268,53.69393219666266],[7.936239454793961,53.74829580343378],[8.121706170289483,53.527792466844275],[8.800734490604667,54.02078563090889],[8.572117954145368,54.395646470754045],[8.526229282270206,54.962743638725144],[9.282048780971136,54.8308653835163],[9.92190636560923,54.983104153048025]]]}},{type:"Feature",properties:{admin:"Djibouti",name:"Djibouti",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[43.08122602720015,12.699638576707112],[43.31785241066466,12.390148423711022],[43.28638146339891,11.974928290245883],[42.71587365089652,11.735640570518338],[43.14530480324213,11.462039699748853],[42.77685184100095,10.926878566934416],[42.55493000000012,11.105110000000193],[42.314140000000116,11.0342],[41.75557000000019,11.05091],[41.73959000000018,11.355110000000137],[41.66176000000012,11.6312],[42.00000000000011,12.100000000000133],[42.351560000000106,12.54223000000013],[42.77964236834474,12.455415757695672],[43.08122602720015,12.699638576707112]]]}},{type:"Feature",properties:{admin:"Denmark",name:"Denmark",continent:"Europe"},geometry:{type:"MultiPolygon",coordinates:[[[[12.69000613775563,55.60999095318077],[12.089991082414738,54.80001455343792],[11.043543328504226,55.36486379660424],[10.90391360845163,55.779954738988735],[12.370904168353288,56.11140737570882],[12.69000613775563,55.60999095318077]]],[[[10.912181837618359,56.4586213242779],[10.667803989309986,56.08138336854721],[10.369992710011983,56.19000722922472],[9.649984978889306,55.46999949810204],[9.921906365609173,54.983104153048046],[9.282048780971136,54.830865383516155],[8.526229282270235,54.96274363872497],[8.120310906617588,55.51772268332361],[8.089976840862247,56.54001170513759],[8.256581658571262,56.809969387430286],[8.543437534223385,57.11000275331689],[9.424469028367609,57.17206614849947],[9.775558709358561,57.44794078228965],[10.580005730846151,57.73001658795484],[10.54610599126269,57.21573273378614],[10.250000034230222,56.890016181050456],[10.369992710011983,56.60998159446082],[10.912181837618359,56.4586213242779]]]]}},{type:"Feature",properties:{admin:"Dominican Republic",name:"Dominican Rep.",continent:"North America"},geometry:{type:"Polygon",coordinates:[[[-71.71236141629295,19.714455878167353],[-71.5873044501466,19.884910590082093],[-70.80670610216173,19.88028554939198],[-70.21436499701612,19.622885240146157],[-69.95081519232757,19.647999986240002],[-69.76925004747007,19.293267116772437],[-69.22212582057986,19.313214219637096],[-69.25434607611382,19.01519623460987],[-68.80941199408082,18.979074408437846],[-68.31794328476896,18.61219757738169],[-68.6893159654345,18.20514232021861],[-69.1649458482489,18.422648423735108],[-69.62398759629762,18.380712998930246],[-69.95293392605153,18.428306993071057],[-70.13323299831788,18.245915025296892],[-70.5171372138142,18.18429087978883],[-70.66929846869762,18.42688589118303],[-70.99995012071717,18.283328762276206],[-71.40020992703388,17.598564357976596],[-71.657661912712,17.757572740138695],[-71.70830481635804,18.04499705654609],[-71.68773759630587,18.316660061104468],[-71.94511206733554,18.616900132720257],[-71.70130265978248,18.78541697842405],[-71.62487321642281,19.169837958243303],[-71.71236141629295,19.714455878167353]]]}},{type:"Feature",properties:{admin:"Algeria",name:"Algeria",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[11.99950564947161,23.471668402596443],[8.572893100629782,21.565660712159136],[5.677565952180684,19.601206976799713],[4.267419467800038,19.155265204336995],[3.158133172222704,19.057364203360034],[3.146661004253899,19.69357859952144],[2.683588494486428,19.856230170160114],[2.060990838233919,20.142233384679482],[1.823227573259032,20.61080943448604],[-1.550054897457613,22.792665920497377],[-4.92333736817423,24.974574082940993],[-8.68439978680905,27.395744126896],[-8.66512447756419,27.58947907155822],[-8.665589565454805,27.65642588959235],[-8.674116176782972,28.841288967396572],[-7.059227667661928,29.579228420524522],[-6.060632290053772,29.731699734001687],[-5.242129278982786,30.00044302013558],[-4.859646165374469,30.50118764904384],[-3.690441046554695,30.896951605751152],[-3.647497931320145,31.637294012980668],[-3.068980271812647,31.724497992473207],[-2.616604783529567,32.09434621838614],[-1.30789913573787,32.262888902306095],[-1.124551153966308,32.651521511357124],[-1.388049282222567,32.8640150009413],[-1.733454555661467,33.91971283623198],[-1.792985805661686,34.5279186060912],[-2.169913702798624,35.16839630791667],[-1.208602871089056,35.71484874118709],[-.127454392894606,35.8886624212008],[.503876580415209,36.30127289483527],[1.466918572606545,36.6056470810344],[3.161698846050824,36.783904934225205],[4.815758090849129,36.86503693292345],[5.320120070017792,36.716518866516616],[6.261819695672611,37.11065501560673],[7.330384962603969,37.118380642234364],[7.737078484741003,36.88570750584021],[8.420964389691674,36.946427313783154],[8.217824334352313,36.43317698826027],[8.376367628623766,35.47987600355594],[8.140981479534302,34.65514598239378],[7.524481642292242,34.09737641045145],[7.612641635782181,33.344114895148955],[8.430472853233367,32.748337307255944],[8.439102817426116,32.506284898400814],[9.055602654668148,32.102691962201284],[9.482139926805273,30.30755605724618],[9.805634392952411,29.424638373323383],[9.859997999723443,28.959989732371007],[9.683884718472765,28.144173895779193],[9.756128370816779,27.68825857188414],[9.629056023811073,27.140953477480913],[9.716285841519747,26.51220632578569],[9.319410841518161,26.094324856057447],[9.910692579801774,25.365454616796733],[9.948261346077969,24.93695364023251],[10.30384687667836,24.37931325937091],[10.771363559622925,24.562532050061744],[11.560669386449002,24.09790924732551],[11.99950564947161,23.471668402596443]]]}},{type:"Feature",properties:{admin:"Ecuador",name:"Ecuador",continent:"South America"},geometry:{type:"Polygon",coordinates:[[[-80.30256059438719,-3.404856459164712],[-79.77029334178091,-2.65751189535964],[-79.9865592109224,-2.220794366061014],[-80.36878394236923,-2.685158786635788],[-80.96776546906433,-2.246942640800703],[-80.76480628123802,-1.965047702648532],[-80.9336590237517,-1.057454522306358],[-80.58337032746124,-.906662692878683],[-80.39932471385373,-.283703301600141],[-80.02089820018035,.360340074053468],[-80.0906097073421,.768428859862396],[-79.54276201039978,.982937730305963],[-78.85525875518869,1.380923773601822],[-77.85506140817951,.809925034992773],[-77.66861284047042,.825893052570961],[-77.42498430043037,.395686753741117],[-76.57637976754938,.256935533037435],[-76.29231441924094,.416047268064119],[-75.80146582711659,.084801337073202],[-75.37322323271384,-.15203175212045],[-75.23372270374193,-.911416924649529],[-75.54499569365203,-1.56160979574588],[-76.6353942532267,-2.608677666843817],[-77.83790483265858,-3.003020521663103],[-78.45068396677563,-3.873096612161375],[-78.63989722361232,-4.547784112164072],[-79.20528906931771,-4.959128513207388],[-79.62497921417615,-4.454198093283494],[-80.02890804718558,-4.346090996928893],[-80.44224199087213,-4.425724379090673],[-80.46929460317692,-4.059286797708999],[-80.18401485870965,-3.821161797708043],[-80.30256059438719,-3.404856459164712]]]}},{type:"Feature",properties:{admin:"Egypt",name:"Egypt",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[34.9226,29.50133],[34.64174,29.09942],[34.42655,28.34399],[34.15451,27.8233],[33.92136,27.6487],[33.58811,27.97136],[33.13676,28.41765],[32.42323,29.85108],[32.32046,29.76043],[32.73482,28.70523],[33.34876,27.69989],[34.10455,26.14227],[34.47387,25.59856],[34.79507,25.03375],[35.69241,23.92671],[35.49372,23.75237],[35.52598,23.10244],[36.69069,22.20485],[36.86623,22],[32.9,22],[29.02,22],[25,22],[25,25.682499996360992],[25,29.238654529533452],[24.70007,30.04419],[24.95762,30.6616],[24.80287,31.08929],[25.16482,31.56915],[26.49533,31.58568],[27.45762,31.32126],[28.45048,31.02577],[28.91353,30.87005],[29.68342,31.18686],[30.09503,31.4734],[30.97693,31.55586],[31.68796,31.4296],[31.96041,30.9336],[32.19247,31.26034],[32.99392,31.02407],[33.7734,30.96746],[34.26544,31.21936],[34.9226,29.50133]]]}},{type:"Feature",properties:{admin:"Eritrea",name:"Eritrea",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[42.351560000000106,12.54223000000013],[42.00975,12.86582],[41.59856,13.452090000000108],[41.15519371924983,13.773319810435224],[40.8966,14.118640000000138],[40.02621870296917,14.51957916916228],[39.34061,14.53155],[39.0994,14.74064],[38.51295,14.50547],[37.90607,14.959430000000165],[37.59377,14.2131],[36.42951,14.42211],[36.32318891779811,14.822480577041057],[36.753860304518575,16.29187409104429],[36.85253000000011,16.95655],[37.16747,17.263140000000128],[37.9040000000001,17.42754],[38.41008995947322,17.99830739997031],[38.99062299984,16.84062612555169],[39.266110060388016,15.922723496967246],[39.81429365414021,15.435647284400314],[41.179274936697645,14.49107961675321],[41.734951613132345,13.921036892141554],[42.27683068214485,13.34399201095442],[42.589576450375255,13.000421250861901],[43.08122602720015,12.699638576707112],[42.77964236834474,12.455415757695672],[42.351560000000106,12.54223000000013]]]}},{type:"Feature",properties:{admin:"Spain",name:"Spain",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[-9.034817674180244,41.88057058365967],[-8.98443315269567,42.59277517350626],[-9.392883673530644,43.026624660812686],[-7.978189663108308,43.74833771420098],[-6.754491746436754,43.56790945085392],[-5.411886359061596,43.57423981380967],[-4.347842779955783,43.403449205085025],[-3.51753170410609,43.455900783861296],[-1.901351284177764,43.42280202897833],[-1.502770961910528,43.034014390630425],[.338046909190581,42.57954600683954],[.701590610363894,42.7957343613326],[1.826793247087153,42.34338471126568],[2.985998976258457,42.47301504166985],[3.039484083680548,41.89212026627689],[2.091841668312184,41.22608856868308],[.810524529635188,41.01473196060933],[.721331007499401,40.67831838638923],[.106691521819869,40.123933620762],[-.278711310212941,39.30997813573271],[.111290724293838,38.73851430923303],[-.467123582349103,38.29236583104114],[-.683389451490598,37.64235382745781],[-1.438382127274849,37.443063666324214],[-2.146452602538119,36.67414419203728],[-3.415780808923386,36.65889964451117],[-4.368900926114718,36.67783905694614],[-4.995219285492211,36.32470815687963],[-5.377159796561457,35.94685008396146],[-5.866432257500902,36.02981659600605],[-6.236693894872174,36.36767711033033],[-6.520190802425402,36.94291331638731],[-7.45372555177809,37.09778758396605],[-7.537105475281022,37.42890432387623],[-7.166507941099863,37.80389435480222],[-7.029281175148794,38.07576406508976],[-7.374092169616317,38.373058580064914],[-7.098036668313126,39.03007274022378],[-7.498632371439724,39.6295710312418],[-7.066591559263527,39.71189158788277],[-7.026413133156593,40.18452423762424],[-6.864019944679383,40.33087189387482],[-6.851126674822551,41.11108266861751],[-6.389087693700914,41.38181549739464],[-6.668605515967655,41.88338694921958],[-7.251308966490822,41.91834605566504],[-7.422512986673794,41.79207469335982],[-8.01317460776991,41.79088613541712],[-8.26385698081779,42.280468654950326],[-8.671945766626719,42.13468943945495],[-9.034817674180244,41.88057058365967]]]}},{type:"Feature",properties:{admin:"Estonia",name:"Estonia",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[24.312862583114615,57.793423570376966],[24.428927850042154,58.383413397853275],[24.06119835785318,58.257374579493394],[23.42656009287668,58.61275340436462],[23.33979536305864,59.18724030215336],[24.604214308376182,59.46585378685501],[25.86418908051663,59.611090399811324],[26.949135776484518,59.44580333112577],[27.981114129353237,59.47538808861286],[28.131699253051742,59.300825100330904],[27.42016645682494,58.724581203844224],[27.716685825315714,57.791899115624354],[27.28818484875151,57.47452830670382],[26.46353234223778,57.476388658266316],[25.602809685984365,57.84752879498656],[25.164593540149262,57.970156968815175],[24.312862583114615,57.793423570376966]]]}},{type:"Feature",properties:{admin:"Ethiopia",name:"Ethiopia",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[37.90607,14.959430000000165],[38.51295,14.50547],[39.0994,14.74064],[39.34061,14.53155],[40.02625000000011,14.51959],[40.8966,14.118640000000138],[41.1552,13.77333],[41.59856,13.452090000000108],[42.00975,12.86582],[42.351560000000106,12.54223000000013],[42.00000000000011,12.100000000000133],[41.66176000000012,11.6312],[41.73959000000018,11.355110000000137],[41.75557000000019,11.05091],[42.314140000000116,11.0342],[42.55493000000012,11.105110000000193],[42.77685184100095,10.926878566934416],[42.55876,10.572580000000126],[42.92812,10.02194000000014],[43.29699,9.54048000000017],[43.67875,9.183580000000116],[46.94834,7.99688],[47.78942,8.003],[44.9636,5.001620000000115],[43.66087,4.95755],[42.76967000000012,4.252590000000223],[42.12861,4.234130000000163],[41.85508309264411,3.918911920483764],[41.171800000000125,3.91909],[40.76848000000012,4.257020000000124],[39.854940000000106,3.83879000000013],[39.55938425876592,3.422060000000215],[38.89251,3.50074],[38.67114,3.61607],[38.43697000000014,3.58851],[38.12091500000013,3.598605],[36.85509323800823,4.447864127672857],[36.159078632855646,4.447864127672857],[35.81744766235362,4.776965663462021],[35.81744766235362,5.338232082790852],[35.298007118233095,5.506],[34.70702,6.59422000000012],[34.25032,6.82607],[34.075100000000184,7.22595],[33.56829,7.71334],[32.95418000000023,7.7849700000001],[33.294800000000116,8.35458],[33.82550000000014,8.37916],[33.97498,8.684560000000145],[33.96162,9.58358],[34.25745,10.63009],[34.73115000000012,10.910170000000106],[34.831630000000125,11.318960000000116],[35.26049,12.08286],[35.863630000000164,12.57828],[36.27022,13.563330000000118],[36.42951,14.42211],[37.59377,14.2131],[37.90607,14.959430000000165]]]}},{type:"Feature",properties:{admin:"Finland",name:"Finland",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[28.591929559043187,69.06477692328664],[28.44594363781865,68.36461294216403],[29.9774263852206,67.69829702419264],[29.05458865735232,66.94428620062192],[30.21765,65.80598],[29.544429559046982,64.94867157659047],[30.444684686003704,64.20445343693908],[30.035872430142714,63.552813625738544],[31.516092156711117,62.86768748641287],[31.13999108249089,62.357692776124395],[30.211107212044443,61.78002777774967],[28.06999759289527,60.50351654727583],[26.25517296723697,60.42396067976249],[24.496623976344516,60.057316392651636],[22.869694858499454,59.84637319603621],[22.29076378753359,60.391921291741525],[21.322244093519313,60.7201699896595],[21.544866163832687,61.70532949487178],[21.059211053153682,62.607393296958726],[21.5360294939108,63.18973501245586],[22.442744174903986,63.81781037053128],[24.73051150889753,64.90234365504082],[25.39806766124394,65.11142650009373],[25.2940430030404,65.53434642197044],[23.903378533633795,66.0069273952796],[23.565879754335576,66.39605093043741],[23.539473097434435,67.93600861273524],[21.978534783626113,68.61684560818068],[20.64559288908952,69.10624726020085],[21.244936150810666,69.37044302029307],[22.356237827247405,68.8417414415149],[23.66204959483075,68.89124746365053],[24.73567915212672,68.64955678982145],[25.68921268077636,69.09211375596902],[26.17962202322624,69.82529897732611],[27.732292107867856,70.16419302029624],[29.01557295097197,69.76649119737797],[28.591929559043187,69.06477692328664]]]}},{type:"Feature",properties:{admin:"Fiji",name:"Fiji",continent:"Australia"},geometry:{type:"MultiPolygon",coordinates:[[[[178.3736,-17.33992],[178.71806,-17.62846],[178.55271,-18.15059],[177.93266,-18.28799],[177.38146,-18.16432],[177.28504,-17.72465],[177.67087,-17.38114],[178.12557,-17.50481],[178.3736,-17.33992]]],[[[179.36414266196422,-16.801354076946847],[178.72505936299706,-17.012041674368017],[178.59683859511702,-16.63915],[179.09660936299713,-16.43398427754742],[179.41350936299708,-16.379054277547393],[180.0000000000001,-16.067132663642436],[180.0000000000001,-16.555216566639157],[179.36414266196422,-16.801354076946847]]],[[[-179.91736938476524,-16.501783135649358],[-180,-16.555216566639157],[-180,-16.067132663642436],[-179.79332010904855,-16.020882256741228],[-179.91736938476524,-16.501783135649358]]]]}},{type:"Feature",properties:{admin:"Falkland Islands",name:"Falkland Is.",continent:"South America"},geometry:{type:"Polygon",coordinates:[[[-61.2,-51.85],[-60,-51.25],[-59.15,-51.5],[-58.55,-51.1],[-57.75,-51.55],[-58.05,-51.9],[-59.4,-52.2],[-59.85,-51.85],[-60.7,-52.3],[-61.2,-51.85]]]}},{type:"Feature",properties:{admin:"France",name:"France",continent:"Europe"},geometry:{type:"MultiPolygon",coordinates:[[[[-52.55642473001838,2.504705308437053],[-52.93965715189496,2.124857692875622],[-53.41846513529525,2.053389187016037],[-53.55483924011348,2.334896551925964],[-53.77852067728888,2.376702785650053],[-54.088062506717264,2.105556545414629],[-54.52475419779974,2.311848863123785],[-54.27122962097578,2.738747870286942],[-54.18428402364474,3.194172268075234],[-54.01150387227681,3.622569891774857],[-54.3995422023565,4.212611395683481],[-54.4786329819792,4.896755682795642],[-53.95804460307092,5.756548163267808],[-53.61845292826484,5.646529038918401],[-52.88214128275406,5.409850979021598],[-51.823342861525916,4.565768133966144],[-51.657797410678874,4.156232408053028],[-52.24933753112398,3.241094468596287],[-52.55642473001838,2.504705308437053]]],[[[9.560016310269132,42.15249197037956],[9.229752231491771,41.38000682226444],[8.77572309737536,41.58361196549443],[8.544212680707828,42.25651662858308],[8.746009148807586,42.628121853193946],[9.390000848028901,43.009984849614725],[9.560016310269132,42.15249197037956]]],[[[3.588184441755714,50.37899241800356],[4.28602298342514,49.90749664977254],[4.799221632515752,49.985373033236314],[5.674051954784885,49.52948354755743],[5.897759230176375,49.442667141307155],[6.186320428094204,49.463802802114444],[6.658229607783538,49.20195831969155],[8.09927859867477,49.017783515003366],[7.59367638513106,48.333019110703724],[7.466759067422228,47.62058197691185],[7.192202182655533,47.44976552997098],[6.736571079138086,47.54180125588287],[6.768713820023634,47.28770823830367],[6.037388950228971,46.725778713561894],[6.022609490593566,46.2729898138205],[6.500099724970453,46.42967275652943],[6.84359297041456,45.99114655210066],[6.80235517744566,45.70857982032867],[7.096652459347835,45.33309886329586],[6.749955275101711,45.028517971367584],[7.007562290076661,44.25476675066138],[7.549596388386161,44.12790110938481],[7.435184767291841,43.693844916349164],[6.529245232783068,43.12889232031835],[4.556962517931395,43.39965098731158],[3.100410597352719,43.07520050716712],[2.985998976258486,42.47301504166988],[1.826793247087181,42.34338471126565],[.701590610363922,42.79573436133264],[.338046909190581,42.57954600683955],[-1.502770961910471,43.03401439063048],[-1.901351284177735,43.42280202897833],[-1.384225226232956,44.022610378590166],[-1.193797573237361,46.01491771095486],[-2.225724249673788,47.0643626979382],[-2.963276129559573,47.57032664650796],[-4.491554938159481,47.95495433205641],[-4.592349819344746,48.68416046812694],[-3.295813971357745,48.90169240985963],[-1.616510789384932,48.64442129169458],[-1.933494025063254,49.77634186461576],[-.98946895995536,49.34737580016087],[1.338761020522753,50.127173163445256],[1.6390010921385,50.9466063502975],[2.51357303224617,51.14850617126185],[2.65842207196033,50.796848049515646],[3.123251580425716,50.780363267614504],[3.588184441755714,50.37899241800356]]]]}},{type:"Feature",properties:{admin:"Gabon",name:"Gabon",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[11.093772820691923,-3.978826592630546],[10.066135288135738,-2.969482517105681],[9.405245395554969,-2.144313246269042],[8.797995639693168,-1.111301364754496],[8.830086704146423,-.779073581550037],[9.048419630579586,-.459351494960217],[9.291350538783687,.268666083167687],[9.492888624721981,1.010119533691494],[9.83028405115564,1.067893784993799],[11.28507897303646,1.057661851400013],[11.276449008843711,2.261050930180871],[11.751665480199787,2.326757513839993],[12.359380323952218,2.19281220133945],[12.951333855855605,2.321615708826939],[13.07582238124675,2.267097072759014],[13.003113641012074,1.830896307783319],[13.282631463278816,1.31418366129688],[14.026668735417214,1.395677395021153],[14.276265903386953,1.196929836426619],[13.843320753645653,.038757635901149],[14.31641849127774,-.552627455247048],[14.425455763413593,-1.333406670744971],[14.299210239324564,-1.998275648612213],[13.992407260807706,-2.470804945489099],[13.109618767965626,-2.428740329603513],[12.575284458067639,-1.948511244315134],[12.49570275233816,-2.391688327650242],[11.820963575903189,-2.514161472181982],[11.4780387712143,-2.765618991714241],[11.855121697648114,-3.42687061932105],[11.093772820691923,-3.978826592630546]]]}},{type:"Feature",properties:{admin:"United Kingdom",name:"United Kingdom",continent:"Europe"},geometry:{type:"MultiPolygon",coordinates:[[[[-5.661948614921896,54.55460317648384],[-6.197884894220976,53.86756500916333],[-6.953730231137994,54.07370229757562],[-7.572167934591078,54.05995636658598],[-7.366030646178785,54.59584096945269],[-7.572167934591078,55.13162221945488],[-6.733847011736144,55.17286001242378],[-5.661948614921896,54.55460317648384]]],[[[-3.00500484863528,58.63500010846632],[-4.073828497728015,57.55302480735525],[-3.055001796877661,57.69001902936093],[-1.959280564776918,57.68479970969951],[-2.219988165689301,56.870017401753515],[-3.119003058271118,55.97379303651546],[-2.085009324543023,55.909998480851264],[-2.005675679673856,55.80490285035022],[-1.11499101399221,54.62498647726539],[-.4304849918542,54.464376125702145],[.184981316742039,53.32501414653102],[.469976840831777,52.92999949809196],[1.681530795914739,52.73952016866399],[1.559987827164377,52.099998480836],[1.050561557630914,51.80676056579568],[1.4498653499503,51.28942780212195],[.550333693045502,50.76573883727586],[-.787517462558639,50.774988918656206],[-2.489997524414377,50.50001862243123],[-2.956273972984035,50.696879991247],[-3.617448085942327,50.22835561787271],[-4.542507900399243,50.34183706318566],[-5.245023159191134,49.95999990498108],[-5.776566941745299,50.159677639356815],[-4.309989793301837,51.210001125689146],[-3.414850633142122,51.426008612669236],[-3.422719467108322,51.42684816740608],[-4.984367234710873,51.59346609151096],[-5.267295701508885,51.99140045837457],[-4.222346564134852,52.30135569926135],[-4.770013393564112,52.84000499125561],[-4.579999152026914,53.495003770555165],[-3.093830673788658,53.40454740066967],[-3.092079637047106,53.404440822963544],[-2.945008510744343,53.98499970154667],[-3.614700825433033,54.60093677329256],[-3.63000545898933,54.615012925833],[-4.844169073903003,54.79097117778684],[-5.082526617849224,55.06160065369936],[-4.719112107756643,55.50847260194347],[-5.047980922862108,55.783985500707516],[-5.586397670911139,55.311146145236805],[-5.64499874513018,56.27501496034479],[-6.149980841486352,56.78500967063353],[-5.78682471355529,57.81884837506463],[-5.009998745127574,58.63001333275004],[-4.211494513353555,58.55084503847915],[-3.00500484863528,58.63500010846632]]]]}},{type:"Feature",properties:{admin:"Georgia",name:"Georgia",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[41.55408410011065,41.53565623632756],[41.7031706072727,41.96294281673291],[41.45347008643838,42.645123399417926],[40.875469191253785,43.01362803809128],[40.32139448422031,43.12863393815683],[39.95500857927092,43.434997666999216],[40.07696495947976,43.55310415300231],[40.92218468604562,43.38215851498078],[42.394394565608806,43.22030792904262],[43.75601688006738,42.74082815202248],[43.93119998553683,42.55497386328476],[44.53762291848198,42.71199270280362],[45.4702791684857,42.50278066666996],[45.77641035338276,42.09244395605635],[46.40495079934882,41.8606751572273],[46.145431756379004,41.72280243587257],[46.637908156120574,41.18167267512822],[46.50163740416692,41.064444688474104],[45.96260053893038,41.12387258560977],[45.21742638528158,41.41145193131404],[44.97248009621807,41.24812856705559],[43.582745802592726,41.09214325618256],[42.619548781104484,41.583172715819934],[41.55408410011065,41.53565623632756]]]}},{type:"Feature",properties:{admin:"Ghana",name:"Ghana",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[1.060121697604927,5.928837388528875],[-.507637905265938,5.343472601742675],[-1.063624640294193,5.000547797053811],[-1.964706590167594,4.71046214438337],[-2.856125047202397,4.994475816259508],[-2.810701463217839,5.389051215024109],[-3.244370083011261,6.2504715031135],[-2.983584967450326,7.379704901555511],[-2.56218950032624,8.219627793811481],[-2.827496303712706,9.642460842319775],[-2.963896246747111,10.395334784380081],[-2.94040930827046,10.962690334512557],[-1.203357713211431,11.009819240762736],[-.761575893548183,10.936929633015053],[-.438701544588582,11.09834096927872],[.023802524423701,11.018681748900802],[-.049784715159944,10.706917832883928],[.367579990245389,10.191212876827176],[.365900506195885,9.46500397382948],[.461191847342121,8.677222601756013],[.712029249686878,8.312464504423827],[.490957472342245,7.411744289576474],[.570384148774849,6.914358628767188],[.836931186536333,6.279978745952147],[1.060121697604927,5.928837388528875]]]}},{type:"Feature",properties:{admin:"Guinea",name:"Guinea",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[-8.439298468448696,7.686042792181736],[-8.722123582382123,7.711674302598509],[-8.926064622422002,7.309037380396375],[-9.208786383490844,7.313920803247952],[-9.403348151069748,7.526905218938906],[-9.33727983238458,7.928534450711351],[-9.755342169625832,8.541055202666923],[-10.016566534861253,8.42850393313523],[-10.230093553091276,8.40620555260129],[-10.505477260774667,8.348896389189603],[-10.49431515139963,8.715540676300433],[-10.65477047366589,8.977178452994194],[-10.622395188835037,9.267910061068276],[-10.8391519840833,9.688246161330367],[-11.117481248407328,10.045872911006283],[-11.917277390988655,10.046983954300556],[-12.150338100625003,9.858571682164378],[-12.425928514037562,9.835834051955953],[-12.596719122762206,9.620188300001969],[-12.711957566773076,9.342711696810765],[-13.246550258832512,8.903048610871506],[-13.685153977909788,9.494743760613458],[-14.074044969122278,9.886166897008248],[-14.330075852912367,10.015719712763966],[-14.579698859098254,10.214467271358513],[-14.693231980843501,10.65630076745404],[-14.83955379887794,10.876571560098139],[-15.130311245168167,11.040411688679525],[-14.685687221728896,11.527823798056485],[-14.382191534878727,11.50927195886369],[-14.121406419317776,11.677117010947693],[-13.900799729863772,11.678718980348744],[-13.743160773157411,11.811269029177408],[-13.828271857142122,12.14264415124904],[-13.71874365889951,12.247185573775507],[-13.700476040084322,12.586182969610192],[-13.217818162478235,12.575873521367964],[-12.499050665730561,12.332089952031053],[-12.278599005573438,12.354440008997285],[-12.20356482588563,12.465647691289401],[-11.658300950557928,12.386582749882834],[-11.513942836950587,12.442987575729415],[-11.45616858564827,12.076834214725336],[-11.297573614944508,12.077971096235768],[-11.036555955438256,12.211244615116513],[-10.870829637078211,12.177887478072106],[-10.593223842806278,11.923975328005977],[-10.165213792348835,11.844083563682743],[-9.890992804392011,12.060478623904968],[-9.567911749703212,12.194243068892472],[-9.327616339546008,12.33428620040345],[-9.127473517279581,12.308060411015331],[-8.905264858424529,12.088358059126433],[-8.786099005559462,11.812560939984705],[-8.37630489748491,11.393645941610627],[-8.581305304386772,11.136245632364801],[-8.620321010767126,10.810890814655181],[-8.407310756860026,10.90925690352276],[-8.28235714357828,10.792597357623842],[-8.335377163109738,10.494811916541932],[-8.029943610048617,10.206534939001711],[-8.22933712404682,10.129020290563897],[-8.309616461612249,9.78953196862244],[-8.079113735374348,9.376223863152033],[-7.832100389019186,8.575704250518625],[-8.203498907900878,8.455453192575446],[-8.299048631208562,8.316443589710302],[-8.221792364932197,8.123328762235571],[-8.280703497744936,7.687179673692156],[-8.439298468448696,7.686042792181736]]]}},{type:"Feature",properties:{admin:"Gambia",name:"Gambia",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[-16.84152462408127,13.151393947802557],[-16.713728807023468,13.594958604379853],[-15.624596320039936,13.623587347869556],[-15.398770310924457,13.860368760630916],[-15.081735398813816,13.876491807505982],[-14.687030808968483,13.63035696049978],[-14.376713833055785,13.62568024337737],[-14.046992356817478,13.794067898000446],[-13.844963344772404,13.505041612191999],[-14.277701788784553,13.28058502853224],[-14.712197231494626,13.298206691943774],[-15.141163295949463,13.509511623585235],[-15.511812506562931,13.278569647672864],[-15.691000535534991,13.270353094938455],[-15.931295945692208,13.13028412521133],[-16.84152462408127,13.151393947802557]]]}},{type:"Feature",properties:{admin:"Guinea Bissau",name:"Guinea-Bissau",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[-15.130311245168167,11.040411688679525],[-15.664180467175523,11.458474025920792],[-16.08521419927356,11.524594021038236],[-16.3147867497302,11.806514797406548],[-16.308947312881227,11.958701890506116],[-16.613838263403277,12.170911159712698],[-16.67745195155457,12.38485158940105],[-16.14771684413058,12.547761542201185],[-15.81657426600425,12.515567124883345],[-15.548476935274005,12.628170070847343],[-13.700476040084322,12.586182969610192],[-13.71874365889951,12.247185573775507],[-13.828271857142122,12.14264415124904],[-13.743160773157411,11.811269029177408],[-13.900799729863772,11.678718980348744],[-14.121406419317776,11.677117010947693],[-14.382191534878727,11.50927195886369],[-14.685687221728896,11.527823798056485],[-15.130311245168167,11.040411688679525]]]}},{type:"Feature",properties:{admin:"Equatorial Guinea",name:"Eq. Guinea",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[9.492888624721981,1.010119533691494],[9.305613234096255,1.160911363119183],[9.649158155972627,2.283866075037735],[11.276449008843711,2.261050930180871],[11.28507897303646,1.057661851400013],[9.83028405115564,1.067893784993799],[9.492888624721981,1.010119533691494]]]}},{type:"Feature",properties:{admin:"Greece",name:"Greece",continent:"Europe"},geometry:{type:"MultiPolygon",coordinates:[[[[23.699980096133,35.705004380835526],[24.246665073348673,35.36802236586015],[25.025015496528873,35.42499563246198],[25.76920779796418,35.35401805270907],[25.74502322765158,35.17999766696621],[26.29000288260172,35.29999034274791],[26.16499759288765,35.00499542900979],[24.7249821306423,34.9199876978896],[24.73500735850694,35.08499054619758],[23.514978468528106,35.27999156345097],[23.699980096133,35.705004380835526]]],[[[26.604195590936282,41.5621145696611],[26.294602085075777,40.936261298174244],[26.0569421729655,40.82412344010083],[25.44767703624418,40.852545477861455],[24.925848422960932,40.947061672523226],[23.71481123220081,40.687129218095116],[24.407998894964063,40.12499298762408],[23.89996788910258,39.96200552017557],[23.342999301860797,39.960997829745786],[22.81398766448896,40.47600515396655],[22.626298862404777,40.256561184239175],[22.849747755634805,39.65931081802576],[23.350027296652595,39.190011298167256],[22.97309939951554,38.97090322524965],[23.53001631032495,38.51000112563846],[24.025024855248937,38.21999298761644],[24.0400110206136,37.65501455336942],[23.115002882589145,37.920011298162215],[23.409971958111065,37.40999074965739],[22.77497195810863,37.30501007745655],[23.154225294698612,36.42250580499204],[22.4900281104511,36.410000108377446],[21.670026482843692,36.84498647719419],[21.295010613701574,37.64498932550469],[21.12003421396133,38.31032339126272],[20.73003217945458,38.76998525649878],[20.217712029712853,39.34023468683963],[20.150015903410516,39.62499766698402],[20.61500044117278,40.11000682225942],[20.67499677906363,40.43499990494305],[20.999989861747274,40.580003973953964],[21.020040317476422,40.84272695572587],[21.67416059742697,40.931274522457976],[22.055377638444266,41.149865831052686],[22.597308383889008,41.1304871689432],[22.76177,41.3048],[22.952377150166562,41.33799388281121],[23.692073601992455,41.30908091894385],[24.49264489105803,41.583896185872035],[25.19720136892553,41.23448598893065],[26.106138136507177,41.32889883072782],[26.11704186372091,41.826904608724725],[26.604195590936282,41.5621145696611]]]]}},{type:"Feature",properties:{admin:"Greenland",name:"Greenland",continent:"North America"},geometry:{type:"Polygon",coordinates:[[[-46.76379,82.62796],[-43.40644,83.22516],[-39.89753,83.18018],[-38.62214,83.54905],[-35.08787,83.64513],[-27.10046,83.51966],[-20.84539,82.72669],[-22.69182,82.34165],[-26.51753,82.29765],[-31.9,82.2],[-31.39646,82.02154],[-27.85666,82.13178],[-24.84448,81.78697],[-22.90328,82.09317],[-22.07175,81.73449],[-23.16961,81.15271],[-20.62363,81.52462],[-15.76818,81.91245],[-12.77018,81.71885],[-12.20855,81.29154],[-16.28533,80.58004],[-16.85,80.35],[-20.04624,80.17708],[-17.73035,80.12912],[-18.9,79.4],[-19.70499,78.75128],[-19.67353,77.63859],[-18.47285,76.98565],[-20.03503,76.94434],[-21.67944,76.62795],[-19.83407,76.09808],[-19.59896,75.24838],[-20.66818,75.15585],[-19.37281,74.29561],[-21.59422,74.22382],[-20.43454,73.81713],[-20.76234,73.46436],[-22.17221,73.30955],[-23.56593,73.30663],[-22.31311,72.62928],[-22.29954,72.18409],[-24.27834,72.59788],[-24.79296,72.3302],[-23.44296,72.08016],[-22.13281,71.46898],[-21.75356,70.66369],[-23.53603,70.471],[-24.30702,70.85649],[-25.54341,71.43094],[-25.20135,70.75226],[-26.36276,70.22646],[-23.72742,70.18401],[-22.34902,70.12946],[-25.02927,69.2588],[-27.74737,68.47046],[-30.67371,68.12503],[-31.77665,68.12078],[-32.81105,67.73547],[-34.20196,66.67974],[-36.35284,65.9789],[-37.04378,65.93768],[-38.37505,65.69213],[-39.81222,65.45848],[-40.66899,64.83997],[-40.68281,64.13902],[-41.1887,63.48246],[-42.81938,62.68233],[-42.41666,61.90093],[-42.86619,61.07404],[-43.3784,60.09772],[-44.7875,60.03676],[-46.26364,60.85328],[-48.26294,60.85843],[-49.23308,61.40681],[-49.90039,62.38336],[-51.63325,63.62691],[-52.14014,64.27842],[-52.27659,65.1767],[-53.66166,66.09957],[-53.30161,66.8365],[-53.96911,67.18899],[-52.9804,68.35759],[-51.47536,68.72958],[-51.08041,69.14781],[-50.87122,69.9291],[-52.013585,69.574925],[-52.55792,69.42616],[-53.45629,69.283625],[-54.68336,69.61003],[-54.75001,70.28932],[-54.35884,70.821315],[-53.431315,70.835755],[-51.39014,70.56978],[-53.10937,71.20485],[-54.00422,71.54719],[-55,71.40653696727256],[-55.83468,71.65444],[-54.71819,72.58625],[-55.32634,72.95861],[-56.12003,73.64977],[-57.32363,74.71026],[-58.59679,75.09861],[-58.58516,75.51727],[-61.26861,76.10238],[-63.39165,76.1752],[-66.06427,76.13486],[-68.50438,76.06141],[-69.66485,76.37975],[-71.40257,77.00857],[-68.77671,77.32312],[-66.76397,77.37595],[-71.04293,77.63595],[-73.297,78.04419],[-73.15938,78.43271],[-69.37345,78.91388],[-65.7107,79.39436],[-65.3239,79.75814],[-68.02298,80.11721],[-67.15129,80.51582],[-63.68925,81.21396],[-62.23444,81.3211],[-62.65116,81.77042],[-60.28249,82.03363],[-57.20744,82.19074],[-54.13442,82.19962],[-53.04328,81.88833],[-50.39061,82.43883],[-48.00386,82.06481],[-46.59984,81.985945],[-44.523,81.6607],[-46.9007,82.19979],[-46.76379,82.62796]]]}},{type:"Feature",properties:{admin:"Guatemala",name:"Guatemala",continent:"North America"},geometry:{type:"Polygon",coordinates:[[[-90.09555457229095,13.73533763270073],[-90.60862403030082,13.909771429901948],[-91.23241024449604,13.927832342987953],[-91.6897466702791,14.126218166556452],[-92.22775000686981,14.538828640190925],[-92.2032295397473,14.830102850804066],[-92.08721594925204,15.064584662328436],[-92.22924862340625,15.251446641495857],[-91.74796017125591,16.06656484625172],[-90.46447262242265,16.06956207932465],[-90.43886695022202,16.41010976812809],[-90.6008467272409,16.470777899638758],[-90.7118218655877,16.687483018454724],[-91.08167009150064,16.918476670799404],[-91.45392127151513,17.25217723232417],[-91.0022692532842,17.254657701074176],[-91.00151994501594,17.817594916245707],[-90.06793351923095,17.819326076727474],[-89.1430804105033,17.808318996649316],[-89.15080603713092,17.015576687075832],[-89.22912167026927,15.886937567605166],[-88.93061275913524,15.887273464415072],[-88.60458614780583,15.706380113177358],[-88.51836402052685,15.855389105690971],[-88.22502275262201,15.7277224797139],[-88.68067969435562,15.3462470565353],[-89.15481096063354,15.066419175674806],[-89.22522009963124,14.874286200413618],[-89.14553504103715,14.67801911056908],[-89.35332597528277,14.424132798719112],[-89.58734269891654,14.362586167859485],[-89.5342193265205,14.244815578666302],[-89.7219339668207,14.134228013561694],[-90.06467790399657,13.881969509328924],[-90.09555457229095,13.73533763270073]]]}},{type:"Feature",properties:{admin:"Guyana",name:"Guyana",continent:"South America"},geometry:{type:"Polygon",coordinates:[[[-59.75828487815918,8.367034816924045],[-59.10168412945864,7.99920197187049],[-58.48296220562804,7.347691351750696],[-58.454876064677414,6.832787380394463],[-58.07810319683736,6.809093736188641],[-57.54221859397063,6.321268215353355],[-57.147436489476874,5.973149929219161],[-57.30724585633949,5.073566595882225],[-57.91428890647212,4.812626451024413],[-57.86020952007869,4.576801052260449],[-58.044694383360664,4.060863552258382],[-57.60156897645785,3.334654649260684],[-57.2814334784097,3.333491929534119],[-57.1500978257399,2.768926906745406],[-56.53938574891454,1.89952260986692],[-56.782704230360814,1.863710842288653],[-57.33582292339689,1.948537705895759],[-57.66097103537736,1.682584947105638],[-58.113449876525,1.507195135907025],[-58.42947709820596,1.46394196207872],[-58.54001298687829,1.26808828369252],[-59.03086157900264,1.317697658692722],[-59.64604366722124,1.786893825686789],[-59.71854570172673,2.249630438644359],[-59.97452490908454,2.755232652188055],[-59.81541317405785,3.606498521332085],[-59.53803992373122,3.958802598481937],[-59.7674057684587,4.423502915866606],[-60.11100236676737,4.574966538914082],[-59.980958624904865,5.014061184098138],[-60.21368343773132,5.2444863956876],[-60.73357418480371,5.2002772078619],[-61.41030290388194,5.959068101419616],[-61.13941504580794,6.234296779806142],[-61.15933631045647,6.696077378766317],[-60.543999192940966,6.856584377464881],[-60.29566809756238,7.043911444522918],[-60.63797278506375,7.414999904810853],[-60.550587938058186,7.779602972846178],[-59.75828487815918,8.367034816924045]]]}},{type:"Feature",properties:{admin:"Honduras",name:"Honduras",continent:"North America"},geometry:{type:"Polygon",coordinates:[[[-87.31665442579546,12.984685777229],[-87.48940873894712,13.29753489832393],[-87.7931111315265,13.384480495655165],[-87.72350297722929,13.785050360565602],[-87.8595153470216,13.893312486217097],[-88.06534257684011,13.964625962779788],[-88.50399797234961,13.84548594813094],[-88.54123084181593,13.98015473068352],[-88.84307288283274,14.140506700085208],[-89.05851192905764,14.340029405164213],[-89.35332597528279,14.424132798719084],[-89.14553504103716,14.67801911056915],[-89.22522009963123,14.874286200413675],[-89.15481096063353,15.066419175674863],[-88.68067969435558,15.346247056535386],[-88.22502275262192,15.727722479714027],[-88.12115312371536,15.688655096901355],[-87.9018125068524,15.864458319558194],[-87.61568010125231,15.878798529519198],[-87.52292090528844,15.79727895757878],[-87.36776241733212,15.846940009011286],[-86.90319129102816,15.756712958229565],[-86.44094560417737,15.782835394753189],[-86.11923397494432,15.893448798073958],[-86.00195431185783,16.005405788634388],[-85.68331743034625,15.953651841693949],[-85.44400387240255,15.885749009662444],[-85.18244361035718,15.909158433490628],[-84.98372188997881,15.995923163308698],[-84.52697974316712,15.857223619037423],[-84.36825558138257,15.835157782448729],[-84.06305457226681,15.648244126849132],[-83.77397661002611,15.42407176356687],[-83.41038123242036,15.27090281825377],[-83.1472190009741,14.995829169164207],[-83.489988776366,15.01626719813566],[-83.62858496777287,14.880073960830368],[-83.97572140169358,14.749435939996483],[-84.2283416409524,14.748764146376626],[-84.44933590364859,14.62161428472251],[-84.64958207877963,14.666805324761865],[-84.82003679069429,14.819586696832628],[-84.9245006985723,14.790492865452332],[-85.05278744173687,14.55154104253472],[-85.14875057650288,14.560196844943615],[-85.1653645494848,14.354369615125048],[-85.51441301140026,14.079011745657905],[-85.69866533073694,13.960078436737998],[-85.8012947252685,13.8360549992376],[-86.0962638007906,14.03818736414723],[-86.31214209668983,13.771356106008223],[-86.52070817741989,13.778487453664464],[-86.7550866360796,13.754845485890936],[-86.73382178419146,13.263092556201398],[-86.88055701368435,13.254204209847213],[-87.00576900912743,13.025794379117254],[-87.31665442579546,12.984685777229]]]}},{type:"Feature",properties:{admin:"Croatia",name:"Croatia",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[18.82983808765004,45.90887767189184],[19.072768995854172,45.52151113543208],[19.390475701584588,45.23651561134237],[19.005486281010118,44.860233669609144],[18.553214145591646,45.08158966733145],[17.8617834815264,45.06774038347714],[17.00214603035101,45.233776760430935],[16.534939406000202,45.211607570977705],[16.31815677253587,45.0041266953259],[15.959367303133373,45.233776760430935],[15.750026075918978,44.81871165626255],[16.239660271884528,44.351143296885695],[16.45644290534886,44.041239732431265],[16.916156447017325,43.66772247982566],[17.29737348803445,43.44634064388735],[17.67492150235898,43.0285625270236],[18.56,42.65],[18.450016310304814,42.47999136002931],[17.509970330483323,42.84999461523914],[16.93000573087164,43.20999848080037],[16.01538455573768,43.507215481127204],[15.174453973052094,44.24319122982791],[15.376250441151793,44.317915350922064],[14.920309279040504,44.73848399512945],[14.901602410550874,45.0760602890761],[14.258747592839992,45.233776760430935],[13.952254672917032,44.80212352149685],[13.65697553880119,45.13693512631595],[13.679403110415816,45.484149074884996],[13.715059848697248,45.50032379819242],[14.411968214585496,45.4661656764474],[14.595109490627916,45.63494090431282],[14.935243767972961,45.47169505470276],[15.327674594797424,45.452316392593325],[15.323953891672428,45.73178253842769],[15.671529575267638,45.8341535507979],[15.768732944408608,46.23810822202352],[16.56480838386494,46.503750922219794],[16.88251508959541,46.38063182228443],[17.630066359129554,45.95176911069409],[18.456062452882858,45.75948110613614],[18.82983808765004,45.90887767189184]]]}},{type:"Feature",properties:{admin:"Haiti",name:"Haiti",continent:"North America"},geometry:{type:"Polygon",coordinates:[[[-73.1897906155176,19.91568390551191],[-72.5796728176636,19.87150055590235],[-71.71236141629295,19.714455878167353],[-71.62487321642281,19.169837958243303],[-71.70130265978248,18.78541697842405],[-71.94511206733554,18.616900132720257],[-71.68773759630587,18.316660061104468],[-71.70830481635804,18.04499705654609],[-72.37247616238933,18.214960842354053],[-72.84441118029486,18.14561107021836],[-73.45455481636502,18.217906398994696],[-73.92243323433564,18.030992743395],[-74.45803361682476,18.342549953682703],[-74.36992529976712,18.664907538319408],[-73.4495422024327,18.52605296475114],[-72.69493709989062,18.44579946540186],[-72.33488155789699,18.66842153571525],[-72.79164954292487,19.101625067618027],[-72.78410478381026,19.483591416903405],[-73.41502234566174,19.639550889560276],[-73.1897906155176,19.91568390551191]]]}},{type:"Feature",properties:{admin:"Hungary",name:"Hungary",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[16.20229821133736,46.85238597267695],[16.534267612380372,47.4961709661691],[16.34058434415041,47.712901923201215],[16.903754103267257,47.71486562762832],[16.979666782304033,48.1234970159763],[17.488472934649813,47.86746613218621],[17.857132602620023,47.758428860050365],[18.696512892336923,47.88095368101439],[18.777024773847668,48.08176829690063],[19.174364861739885,48.11137889260386],[19.66136355965849,48.26661489520865],[19.76947065601311,48.2026911484636],[20.239054396249344,48.327567247096916],[20.473562045989862,48.56285004332181],[20.80129397958492,48.62385407164237],[21.87223636240173,48.31997081155001],[22.085608351334848,48.42226430927178],[22.640819939878746,48.15023956968735],[22.710531447040488,47.882193915389394],[22.09976769378283,47.672439276716695],[21.62651492685387,46.99423777931815],[21.021952345471245,46.316087958351886],[20.220192498462833,46.12746898048655],[19.59604454924158,46.17172984474453],[18.829838087649957,45.908877671891915],[18.456062452882858,45.75948110613612],[17.630066359129554,45.95176911069418],[16.882515089595298,46.38063182228443],[16.564808383864854,46.50375092221982],[16.370504998447412,46.8413272161665],[16.20229821133736,46.85238597267695]]]}},{type:"Feature",properties:{admin:"Indonesia",name:"Indonesia",continent:"Asia"},geometry:{type:"MultiPolygon",coordinates:[[[[120.71560875863044,-10.239581394087862],[120.29501427620687,-10.258649997603525],[118.96780846565468,-9.55796925215803],[119.90030968636161,-9.361340427287514],[120.4257556499054,-9.665921319215796],[120.77550174365672,-9.969675388227456],[120.71560875863044,-10.239581394087862]]],[[[124.43595014861938,-10.14000090906144],[123.5799817241367,-10.35998748132796],[123.459989048355,-10.239994805546171],[123.55000939340745,-9.900015557497978],[123.9800089865081,-9.290026950724693],[124.96868248911619,-8.892790215697046],[125.07001997284061,-9.089987481322835],[125.08852013560107,-9.39317310957932],[124.43595014861938,-10.14000090906144]]],[[[117.90001834520774,-8.095681247594923],[118.26061648974047,-8.362383314653327],[118.87845991422212,-8.280682875199828],[119.12650678922309,-8.705824883665072],[117.97040164598927,-8.906639499551257],[117.27773074754901,-9.040894870645557],[116.74014082241662,-9.032936700072637],[117.08373742072531,-8.45715789147654],[117.63202436734213,-8.44930307376819],[117.90001834520774,-8.095681247594923]]],[[[122.90353722543608,-8.094234307490735],[122.75698286345629,-8.649807631060638],[121.2544905945701,-8.933666273639941],[119.92439090380957,-8.810417982623873],[119.9209285828461,-8.44485890059107],[120.71509199430754,-8.236964613480863],[121.34166873584655,-8.53673959720602],[122.0073645366304,-8.46062021244016],[122.90353722543608,-8.094234307490735]]],[[[108.62347863162893,-6.777673841990675],[110.53922732955328,-6.877357679881682],[110.75957563684591,-6.465186455921751],[112.61481123255635,-6.946035658397589],[112.97876834518809,-7.594213148634578],[114.47893517462114,-7.776527601760277],[115.70552697150106,-8.370806573116864],[114.56451134649649,-8.75181690840483],[113.46473351446087,-8.348947442257424],[112.55967247930103,-8.376180922075163],[111.52206139531245,-8.302128594600957],[110.5861495300743,-8.12260466881902],[109.42766727095518,-7.740664157749761],[108.6936552266813,-7.641600437046219],[108.2777632995963,-7.766657403192579],[106.45410200401614,-7.354899590690947],[106.28062422081229,-6.924899997590201],[105.36548628135552,-6.851416110871169],[106.05164594932705,-5.895918877794499],[107.26500857954017,-5.954985039904058],[108.07209109907468,-6.345762220895237],[108.48684614464923,-6.421984958525768],[108.62347863162893,-6.777673841990675]]],[[[134.72462446506665,-6.214400730009286],[134.2101339051689,-6.895237725454704],[134.112775506731,-6.142467136259014],[134.29033572808578,-5.783057549669038],[134.49962527886788,-5.445042006047898],[134.7270015809521,-5.737582289252158],[134.72462446506665,-6.214400730009286]]],[[[127.2492151225889,-3.459065036638889],[126.87492272349886,-3.790982761249579],[126.1838021180273,-3.607376397316556],[125.98903364471926,-3.177273451351325],[127.00065148326496,-3.12931772218441],[127.2492151225889,-3.459065036638889]]],[[[130.47134402885177,-3.09376433676762],[130.83483605359277,-3.858472181822761],[129.99054650280812,-3.446300957862817],[129.1552486512424,-3.362636813982248],[128.59068362845363,-3.428679294451256],[127.89889122936233,-3.393435967628192],[128.13587934785278,-2.843650404474914],[129.3709977560609,-2.802154229344551],[130.47134402885177,-3.09376433676762]]],[[[134.14336795464777,-1.151867364103594],[134.42262739475302,-2.769184665542383],[135.45760298069467,-3.367752780779113],[136.29331424371875,-2.30704233155609],[137.4407377463275,-1.703513278819372],[138.32972741104476,-1.70268645590265],[139.18492068904294,-2.051295668143637],[139.9266841981604,-2.409051608900284],[141.00021040259185,-2.600151055515624],[141.017056919519,-5.85902190513802],[141.03385176001387,-9.117892754760417],[140.14341515519254,-8.297167657100955],[139.1277665549281,-8.096042982620942],[138.88147667862495,-8.380935153846094],[137.6144739116928,-8.41168263105976],[138.03909915583517,-7.597882175327354],[138.66862145401478,-7.320224704623072],[138.40791385310234,-6.232849216337483],[137.92783979711083,-5.393365573755998],[135.98925011611345,-4.546543877789047],[135.16459760959967,-4.462931410340771],[133.66288048719787,-3.538853448097526],[133.36770470594678,-4.024818617370314],[132.98395551974733,-4.112978610860281],[132.75694095268895,-3.746282647317129],[132.7537886903192,-3.311787204607071],[131.98980431531618,-2.820551039240455],[133.06684451714347,-2.460417982598443],[133.7800309592035,-2.479848321140209],[133.69621178602614,-2.214541517753687],[132.2323734884942,-2.212526136894325],[131.83622195854468,-1.617161960459597],[130.9428397970828,-1.432522067880796],[130.51955814018004,-.937720228686075],[131.8675378765136,-.695461114101818],[132.38011640841677,-.369537855636977],[133.98554813042838,-.780210463060442],[134.14336795464777,-1.151867364103594]]],[[[125.24050052297157,1.419836127117605],[124.43703535369734,.427881171058971],[123.6855049988767,.235593166500877],[122.72308312387285,.431136786293337],[121.05672488818908,.381217352699451],[120.18308312386273,.23724681233422],[120.04086958219546,-.519657891444851],[120.9359053894907,-1.408905938323372],[121.47582075407617,-.955962009285116],[123.34056481332847,-.615672702643081],[123.25839928598448,-1.076213067228337],[122.8227152853316,-.930950616055881],[122.38852990121536,-1.516858005381124],[121.50827355355545,-1.904482924002422],[122.45457238168427,-3.186058444840881],[122.27189619353254,-3.529500013852696],[123.17096276254654,-4.683693129091707],[123.16233279835376,-5.34060393638596],[122.62851525277868,-5.634591159694494],[122.23639448454806,-5.282933037948281],[122.71956912647704,-4.46417164471579],[121.73823367725436,-4.851331475446499],[121.48946333220124,-4.574552504091215],[121.61917117725386,-4.188477878438674],[120.89818159391768,-3.602105401222828],[120.97238895068877,-2.627642917494909],[120.30545291552988,-2.931603692235725],[120.39004723519173,-4.097579034037223],[120.43071658740537,-5.528241062037778],[119.79654341031949,-5.67340016034565],[119.36690555224493,-5.379878024927804],[119.6536063986001,-4.459417412944958],[119.49883548388597,-3.49441171632651],[119.07834435432699,-3.487021986508764],[118.76776899625287,-2.801999200047688],[119.18097374885866,-2.147103773612798],[119.32339399625505,-1.35314706788047],[119.82599897672583,.154254462073496],[120.03570193896634,.566477362465804],[120.88577925016769,1.309222723796835],[121.66681684782696,1.013943589681076],[122.92756676645182,.875192368977465],[124.07752241424284,.917101955566139],[125.0659892111218,1.643259182131558],[125.24050052297157,1.419836127117605]]],[[[128.6882487326207,1.132385972494106],[128.63595218314134,.258485826006179],[128.12016971243617,.356412665199286],[127.96803429576885,-.252077325037533],[128.3799988139997,-.780003757331286],[128.1000159038423,-.899996433112974],[127.69647464407501,-.266598402511505],[127.39949018769374,1.011721503092573],[127.60051150930904,1.81069082275718],[127.93237755748748,2.174596258956555],[128.0041561219408,1.628531398928331],[128.59455936087545,1.540810655112864],[128.6882487326207,1.132385972494106]]],[[[117.875627069166,1.827640692548911],[118.99674726773816,.902219143066048],[117.81185835171779,.784241848143722],[117.47833865770605,.102474676917026],[117.52164350796659,-.803723239753211],[116.5600484558795,-1.487660821136231],[116.53379682827516,-2.483517347832901],[116.14808393764861,-4.012726332214014],[116.00085778204907,-3.657037448749008],[114.86480309454451,-4.106984144714416],[114.46865156459506,-3.49570362713382],[113.7556718282641,-3.439169610206519],[113.25699425664754,-3.118775729996854],[112.06812625534064,-3.478392022316071],[111.70329064335999,-2.994442233902631],[111.04824018762821,-3.049425957861188],[110.22384606327597,-2.934032484553483],[110.07093550012434,-1.592874037282414],[109.57194786991404,-1.314906507984489],[109.09187381392252,-.459506524257051],[108.95265750532816,.415375474444346],[109.06913618371404,1.341933905437642],[109.66326012577372,2.006466986494984],[109.83022667850884,1.338135687664191],[110.5140609070271,.773131415200993],[111.15913781132656,.976478176269509],[111.79754845586041,.904441229654651],[112.38025190638365,1.410120957846757],[112.85980919805218,1.497790025229946],[113.80584964401953,1.217548732911041],[114.62135542201747,1.430688177898886],[115.13403730678523,2.821481838386219],[115.51907840379198,3.169238389494395],[115.86551720587677,4.306559149590156],[117.01521447150634,4.306094061699468],[117.88203494677016,4.137551377779487],[117.31323245653351,3.234428208830578],[118.04832970588535,2.287690131027361],[117.875627069166,1.827640692548911]]],[[[105.81765506390936,-5.852355645372411],[104.7103841491915,-5.873284600450644],[103.86821333213074,-5.037314955264974],[102.5842606954069,-4.220258884298203],[102.156173130301,-3.614146009946765],[101.39911339722505,-2.799777113459171],[100.90250288290014,-2.05026213949786],[100.1419808288606,-.650347588710957],[99.26373986206022,.183141587724663],[98.97001102091332,1.042882391764536],[98.60135135294308,1.823506577965616],[97.69959760944988,2.453183905442116],[97.17694217324987,3.30879059489861],[96.42401655475732,3.86885976807791],[95.38087609251347,4.970782172053673],[95.2930261576173,5.479820868344816],[95.93686282754174,5.439513251157108],[97.48488203327709,5.24632090903401],[98.36916914265568,4.268370266126366],[99.14255862833579,3.590349636240915],[99.6939978373224,3.174328518075156],[100.64143354696166,2.099381211755798],[101.65801232300731,2.083697414555189],[102.49827111207321,1.398700466310217],[103.076840448013,.561361395668854],[103.83839603069835,.104541734208666],[103.43764529827497,-.711945896002845],[104.010788608824,-1.059211521004229],[104.36999148968488,-1.084843031421016],[104.53949018760215,-1.782371514496716],[104.88789269411399,-2.340425306816655],[105.62211144411698,-2.42884368246807],[106.10859337771268,-3.06177662517895],[105.85744591677411,-4.305524997579723],[105.81765506390936,-5.852355645372411]]]]}},{type:"Feature",properties:{admin:"India",name:"India",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[77.83745079947455,35.49400950778776],[78.91226891471321,34.32193634697578],[78.81108646028572,33.506198025032404],[79.20889163606857,32.99439463961371],[79.1761287779955,32.483779812137705],[78.458446486326,32.61816437431272],[78.738894484374,31.515906073527056],[79.72136681510709,30.882714748654724],[81.11125613802929,30.1834809433134],[80.47672122591737,29.729865220655334],[80.08842451367626,28.794470119740136],[81.057202589852,28.416095282499036],[81.99998742058496,27.925479234319987],[83.30424889519954,27.364505723575554],[84.67501793817377,27.23490123138753],[85.25177859898335,26.726198431906337],[86.02439293817915,26.630984605408567],[87.22747195836628,26.39789805755607],[88.0602376647498,26.414615383402484],[88.1748043151409,26.810405178325944],[88.0431327656612,27.445818589786818],[88.12044070836984,27.876541652939586],[88.73032596227853,28.08686473236751],[88.81424848832054,27.29931590423936],[88.83564253128937,27.098966376243755],[89.74452762243884,26.71940298105995],[90.37327477413406,26.875724188742872],[91.2175126484864,26.80864817962802],[92.03348351437508,26.838310451763554],[92.10371178585973,27.4526140406332],[91.69665652869665,27.77174184825166],[92.50311893104362,27.896876329046442],[93.41334760943266,28.64062938080722],[94.56599043170293,29.277438055939978],[95.40480228066461,29.031716620392125],[96.117678664131,29.45280202892246],[96.58659061074748,28.830979519154337],[96.24883344928776,28.411030992134435],[97.32711388549001,28.26158274994633],[97.40256147663612,27.88253611908544],[97.05198855996807,27.699058946233144],[97.13399905801528,27.08377350514996],[96.41936567585094,27.26458934173922],[95.12476769407493,26.573572089132295],[95.15515343626257,26.001307277932078],[94.60324913938535,25.1624954289704],[94.55265791217161,24.67523834889033],[94.10674197792505,23.850740871673477],[93.32518761594277,24.078556423432197],[93.28632693885925,23.043658352138998],[93.0602942240146,22.703110663335565],[93.16612755734836,22.2784595809771],[92.67272098182555,22.041238918541247],[92.1460347839068,23.62749868417259],[91.8699276061713,23.62434642180278],[91.70647505083208,22.985263983649183],[91.15896325069971,23.50352692310438],[91.46772993364367,24.07263947193479],[91.9150928079944,24.13041372323711],[92.37620161333479,24.97669281666496],[91.79959598182207,25.14743174895731],[90.8722107279121,25.13260061288954],[89.92069258012184,25.26974986419217],[89.83248091019959,25.965082098895476],[89.35509402868728,26.014407253518065],[88.56304935094974,26.446525580342716],[88.20978925980248,25.768065700782707],[88.93155398962307,25.23869232838477],[88.30637251175601,24.8660794133442],[88.0844222350624,24.501657212821918],[88.6999402200909,24.233714911388557],[88.52976972855376,23.631141872649163],[88.87631188350306,22.879146429937826],[89.0319612975662,22.055708319582973],[88.8887659036854,21.69058848722474],[88.20849734899521,21.703171698487804],[86.97570438024026,21.4955616317552],[87.03316857294885,20.743307806882406],[86.49935102737378,20.151638495356604],[85.06026574090967,19.478578802971096],[83.9410058939,18.302009792549722],[83.18921715691783,17.671221421778977],[82.1927921894659,17.016636053937813],[82.19124189649717,16.556664130107844],[81.69271935417746,16.3102192245079],[80.79199913933012,15.951972357644488],[80.32489586784386,15.899184882058346],[80.02506920768643,15.136414903214144],[80.23327355339039,13.835770778859978],[80.28629357292185,13.006260687710832],[79.86254682812849,12.056215318240886],[79.85799930208681,10.357275091997108],[79.34051150911598,10.308854274939618],[78.88534549348917,9.54613597252772],[79.18971967968828,9.216543687370146],[78.27794070833049,8.933046779816932],[77.94116539908434,8.25295909263974],[77.53989790233793,7.965534776232331],[76.59297895702166,8.899276231314188],[76.13006147655106,10.299630031775518],[75.74646731964849,11.308250637248303],[75.39610110870957,11.781245022015822],[74.86481570831681,12.741935736537895],[74.61671715688352,13.992582912649677],[74.4438594908672,14.617221787977693],[73.53419925323337,15.990652167214957],[73.11990929554942,17.928570054592495],[72.82090945830863,19.208233547436162],[72.82447513213678,20.41950328214153],[72.63053348174539,21.356009426351],[71.17527347197394,20.757441311114228],[70.47045861194509,20.87733063403138],[69.16413008003882,22.089298000572697],[69.64492760608239,22.450774644454334],[69.34959679553432,22.843179633062686],[68.17664513537338,23.691965033456704],[68.84259931831876,24.35913361256093],[71.0432401874682,24.356523952730193],[70.84469933460282,25.21510203704351],[70.28287316272558,25.722228705339823],[70.168926629522,26.491871649678835],[69.51439293811312,26.940965684511365],[70.61649620960192,27.98919627533586],[71.77766564320031,27.91318024343452],[72.82375166208469,28.961591701772047],[73.45063846221741,29.976413479119863],[74.42138024282026,30.97981476493117],[74.405928989565,31.692639471965272],[75.25864179881319,32.27110545504049],[74.4515592792787,32.76489960380549],[74.10429365427733,33.441473293586846],[73.74994835805195,34.317698879527846],[74.24020267120495,34.74888703057125],[75.75706098826832,34.50492259372131],[76.87172163280401,34.65354401299273],[77.83745079947455,35.49400950778776]]]}},{type:"Feature",properties:{admin:"Ireland",name:"Ireland",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[-6.197884894220989,53.86756500916335],[-6.032985398777609,53.153164170944336],[-6.788856573910847,52.26011790629232],[-8.561616583683557,51.66930125589935],[-9.977085740590267,51.82045482035307],[-9.16628251793078,52.86462881124267],[-9.688524542672452,53.881362616585285],[-8.327987433292007,54.664518947968624],[-7.572167934591064,55.131622219454854],[-7.366030646178785,54.59584096945271],[-7.572167934591064,54.059956366585986],[-6.953730231138065,54.07370229757562],[-6.197884894220989,53.86756500916335]]]}},{type:"Feature",properties:{admin:"Iran",name:"Iran",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[53.92159793479554,37.198918361961255],[54.80030398948656,37.39242076267818],[55.511578403551894,37.96411713312315],[56.18037479027332,37.93512665460742],[56.619366082592805,38.12139435480348],[57.330433790928964,38.02922943781093],[58.43615441267819,37.522309475243794],[59.234761997316795,37.412987982730336],[60.377637973883864,36.52738312432836],[61.12307050969413,36.49159719496624],[61.21081709172573,35.65007233330922],[60.80319339380744,34.404101874319856],[60.528429803311575,33.676446031218],[60.96370039250599,33.52883230237625],[60.53607791529076,32.98126882581156],[60.86365481958895,32.18291962333442],[60.941944614511115,31.548074652628745],[61.69931440618081,31.37950613049266],[61.78122155136343,30.73585032808123],[60.87424848820878,29.829238999952604],[61.369308709564926,29.303276272085917],[61.771868117118615,28.699333807890792],[62.727830438085974,28.259644883735383],[62.75542565292985,27.378923448184985],[63.23389773952028,27.217047024030702],[63.31663170761958,26.75653249766166],[61.874187453056535,26.239974880472097],[61.49736290878418,25.078237006118492],[59.61613406763083,25.380156561783775],[58.5257613462723,25.609961656185725],[57.39725141788238,25.739902045183634],[56.97076582217754,26.966106268821356],[56.4921387062902,27.14330475515019],[55.72371015811006,26.964633490501036],[54.71508955263725,26.480657863871507],[53.493096958231334,26.81236888275304],[52.4835978534096,27.580849107365488],[51.520762566947404,27.86568960215829],[50.85294803243953,28.814520575469377],[50.11500857931157,30.14777252859971],[49.57685021342399,29.9857152369324],[48.941333449098536,30.31709035900403],[48.56797122578975,29.926778265903515],[48.014568312376085,30.452456773392594],[48.00469811380831,30.985137437457237],[47.68528608581226,30.98485321707962],[47.849203729042095,31.709175930298663],[47.334661492711895,32.469155381799105],[46.109361606639304,33.017287299119],[45.416690708199035,33.96779775647958],[45.64845950702808,34.74813772230301],[46.15178795755093,35.09325877536428],[46.076340366404786,35.67738332777548],[45.4206181170532,35.97754588474282],[44.77267,37.17045],[44.22575564960052,37.971584377589345],[44.42140262225754,38.281281236314534],[44.109225294782334,39.42813629816809],[44.79398969908193,39.71300263117704],[44.9526880226503,39.33576467544636],[45.457721795438765,38.87413910578305],[46.14362308124881,38.74120148371221],[46.505719842317966,38.77060537368629],[47.68507938008308,39.50836395930121],[48.060095249225235,39.58223541926245],[48.35552941263787,39.2887649602769],[48.010744256386474,38.794014797514514],[48.6343754412848,38.27037750910096],[48.88324913920248,38.32024526626261],[49.19961225769333,37.58287425388988],[50.147771437384606,37.37456655532133],[50.842354363819695,36.872814235983384],[52.26402469260141,36.700421657857696],[53.82578982932641,36.96503082940823],[53.92159793479554,37.198918361961255]]]}},{type:"Feature",properties:{admin:"Iraq",name:"Iraq",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[45.4206181170532,35.97754588474282],[46.076340366404786,35.67738332777548],[46.15178795755093,35.09325877536428],[45.64845950702808,34.74813772230301],[45.416690708199035,33.96779775647958],[46.109361606639304,33.017287299119],[47.334661492711895,32.469155381799105],[47.849203729042095,31.709175930298663],[47.68528608581226,30.98485321707962],[48.00469811380831,30.985137437457237],[48.014568312376085,30.452456773392594],[48.56797122578975,29.926778265903515],[47.97451907734989,29.975819200148493],[47.30262210469095,30.05906993257071],[46.56871341328174,29.099025173452283],[44.709498732284736,29.178891099559376],[41.88998091000783,31.190008653278362],[40.39999433773624,31.88999176688793],[39.19546837744496,32.16100881604266],[38.79234052913608,33.37868642835222],[41.00615888851992,34.41937226006211],[41.38396528500581,35.62831655531435],[41.28970747250545,36.35881460219226],[41.837064243340954,36.60585378676357],[42.349591098811764,37.22987254490409],[42.77912560402182,37.38526357680574],[43.94225874204729,37.25622752537294],[44.29345177590285,37.00151439060629],[44.77269900897769,37.17044464776843],[45.4206181170532,35.97754588474282]]]}},{type:"Feature",properties:{admin:"Iceland",name:"Iceland",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[-14.508695441129232,66.45589223903141],[-14.739637417041605,65.80874827744029],[-13.609732224979807,65.12667104761985],[-14.9098337467949,64.36408193628867],[-17.79443803554342,63.67874909123384],[-18.65624589687499,63.496382961675806],[-19.972754685942757,63.643634955491514],[-22.762971971110154,63.96017894149537],[-21.778484259517676,64.4021157904555],[-23.955043911219104,64.89112986923348],[-22.184402635170354,65.08496816676029],[-22.22742326505333,65.37859365504272],[-24.326184047939332,65.61118927678845],[-23.650514695723082,66.26251902939521],[-22.134922451250883,66.41046865504686],[-20.576283738679543,65.73211212835142],[-19.056841600001587,66.27660085719475],[-17.798623826559048,65.99385325790976],[-16.16781897629212,66.52679230413585],[-14.508695441129232,66.45589223903141]]]}},{type:"Feature",properties:{admin:"Israel",name:"Israel",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[35.71991824722274,32.70919240979486],[35.545665317534535,32.39399201103057],[35.18393029149143,32.532510687788935],[34.97464074070932,31.866582343059715],[35.22589155451242,31.75434113212176],[34.97050662612599,31.616778469360803],[34.927408481594554,31.35343537040141],[35.39756066258604,31.48908600516757],[35.42091840998196,31.10006582287435],[34.92260257339142,29.501326198844517],[34.26543338393568,31.219360866820146],[34.5563716977389,31.54882396089699],[34.48810713068135,31.605538845337314],[34.752587111151165,32.07292633720116],[34.95541710789677,32.82737641044637],[35.09845747248067,33.08053925224426],[35.12605268732454,33.090900376918775],[35.4607092628467,33.089040025356276],[35.552796665190805,33.26427480725801],[35.82110070165023,33.27742645927629],[35.83639692560862,32.868123277308506],[35.700797967274745,32.716013698857374],[35.71991824722274,32.70919240979486]]]}},{type:"Feature",properties:{admin:"Italy",name:"Italy",continent:"Europe"},geometry:{type:"MultiPolygon",coordinates:[[[[15.52037601081383,38.231155096991465],[15.160242954171732,37.44404551853781],[15.309897902089002,37.13421946873179],[15.099988234119445,36.61998729099539],[14.335228712632013,36.99663096775475],[13.826732618879927,37.104531358380186],[12.43100385910881,37.61294993748381],[12.570943637755132,38.12638113051968],[13.741156447004581,38.03496552179535],[14.761249220446157,38.1438736028505],[15.52037601081383,38.231155096991465]]],[[[9.210011834356264,41.20999136002421],[9.809975213264973,40.500008856766094],[9.669518670295671,39.17737641047179],[9.214817742559486,39.24047333430013],[8.806935662479729,38.90661774347847],[8.428302443077113,39.17184703221661],[8.388253208050939,40.3783108587188],[8.159998406617659,40.950007229163774],[8.709990675500107,40.899984442705225],[9.210011834356264,41.20999136002421]]],[[[12.376485223040842,46.76755910906987],[13.806475457421552,46.50930613869118],[13.698109978905475,46.01677806251737],[13.937630242578335,45.59101593686465],[13.141606479554294,45.73669179949541],[12.328581170306304,45.38177806251484],[12.383874952858601,44.885374253919075],[12.261453484759157,44.60048208269401],[12.589237094786482,44.09136587175446],[13.526905958722491,43.5877273626379],[14.029820997787024,42.76100779883247],[15.142569614327952,41.95513967545689],[15.926191033601892,41.96131500911573],[16.16989708829041,41.74029490820342],[15.889345737377793,41.541082261718195],[16.785001661860573,41.17960561783658],[17.519168735431204,40.87714345963223],[18.376687452882575,40.35562490494265],[18.4802470231954,40.16886627863982],[18.293385044028096,39.810774441073235],[17.73838016121328,40.27767100683029],[16.869595981522334,40.44223460546384],[16.44874311693732,39.79540070246647],[17.171489698971495,39.424699815420716],[17.05284061042934,38.90287120213729],[16.63508833178184,38.843572496082395],[16.100960727613053,37.985898749334176],[15.684086948314498,37.90884918878702],[15.687962680736318,38.21459280044185],[15.891981235424705,38.75094249119922],[16.109332309644312,38.96454702407768],[15.718813510814638,39.54407237401494],[15.413612501698818,40.04835683853516],[14.998495721098234,40.17294871679091],[14.703268263414767,40.60455027929262],[14.06067182786526,40.786347968095434],[13.627985060285393,41.18828725846165],[12.888081902730418,41.253089504555604],[12.106682570044907,41.7045348170574],[11.191906365614184,42.35542531998967],[10.511947869517794,42.93146251074721],[10.200028924204046,43.92000682227461],[9.702488234097812,44.03627879493131],[8.888946160526869,44.36633616797953],[8.428560825238575,44.23122813575241],[7.8507666357832,43.767147935555236],[7.435184767291841,43.693844916349164],[7.549596388386161,44.12790110938481],[7.007562290076661,44.25476675066138],[6.749955275101711,45.028517971367584],[7.096652459347835,45.33309886329586],[6.80235517744566,45.70857982032867],[6.84359297041456,45.99114655210066],[7.273850945676683,45.77694774025075],[7.755992058959832,45.82449005795927],[8.316629672894377,46.16364248309084],[8.489952426801294,46.005150865251736],[8.966305779667833,46.03693187111115],[9.18288170740311,46.440214748716976],[9.92283654139035,46.31489940040918],[10.363378126678665,46.48357127540983],[10.4427014502466,46.89354625099743],[11.048555942436504,46.751358547546396],[11.164827915093325,46.94157949481273],[12.15308800624308,47.11539317482642],[12.376485223040842,46.76755910906987]]]]}},{type:"Feature",properties:{admin:"Jamaica",name:"Jamaica",continent:"North America"},geometry:{type:"Polygon",coordinates:[[[-77.5696007961992,18.490525417550483],[-76.89661861846211,18.40086680752408],[-76.36535905628553,18.16070058844759],[-76.19965857614163,17.886867173732963],[-76.90256140817567,17.868237819891743],[-77.20634131540345,17.701116237859818],[-77.7660229153406,17.861597398342237],[-78.3377192857856,18.225967922432226],[-78.21772661000387,18.454532782459193],[-77.79736467152561,18.524218451404774],[-77.5696007961992,18.490525417550483]]]}},{type:"Feature",properties:{admin:"Jordan",name:"Jordan",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[35.545665317534535,32.39399201103057],[35.71991824722274,32.70919240979486],[36.83406212743554,32.31293752698077],[38.79234052913608,33.37868642835222],[39.19546837744496,32.16100881604266],[39.004885695152545,32.01021698661497],[37.002165561681004,31.508412990844736],[37.99884891129437,30.508499864213128],[37.668119744626374,30.338665269485894],[37.50358198420903,30.003776150018396],[36.74052778498724,29.865283311476183],[36.50121422704358,29.5052536076987],[36.06894087092205,29.19749461518445],[34.95603722508425,29.356554673778835],[34.92260257339142,29.501326198844517],[35.42091840998196,31.10006582287435],[35.39756066258604,31.48908600516757],[35.545251906076196,31.782504787720832],[35.545665317534535,32.39399201103057]]]}},{type:"Feature",properties:{admin:"Japan",name:"Japan",continent:"Asia"},geometry:{type:"MultiPolygon",coordinates:[[[[134.63842817600386,34.14923371025642],[134.76637902235848,33.80633474378367],[134.20341596897083,33.20117788342962],[133.79295006727648,33.52198517509758],[133.28026818250885,33.28957042086494],[133.01485802625785,32.70456736910477],[132.36311486219267,32.98938202568137],[132.37117638563018,33.46364248304007],[132.92437259331479,34.060298570282036],[133.4929683778222,33.944620876596694],[133.90410607313635,34.36493113864261],[134.63842817600386,34.14923371025642]]],[[[140.97638756730527,37.142074286440156],[140.59976972876208,36.343983466124534],[140.77407433488264,35.84287710219023],[140.25327925024507,35.13811391859365],[138.9755277853962,34.6676000025761],[137.2175989116912,34.60628591566184],[135.79298302626887,33.46480520276662],[135.1209827007454,33.84907115328905],[135.0794348491827,34.59654490817481],[133.34031619683196,34.375938218720755],[132.1567708680513,33.9049333765965],[130.98614464734345,33.88576142021628],[132.00003624891002,33.14999237724461],[131.33279015515734,31.450354519164836],[130.68631798718593,31.029579169228235],[130.20241987520495,31.41823761649541],[130.44767622286213,32.31947459566572],[129.81469160371887,32.610309556604385],[129.40846316947255,33.29605581311758],[130.35393517468464,33.60415070244169],[130.87845096244712,34.23274282484003],[131.8842293641439,34.74971385348791],[132.6176729676625,35.43339305270941],[134.60830081597777,35.73161774346581],[135.6775378765289,35.52713410088682],[136.72383060114242,37.304984239240376],[137.39061160700447,36.82739065199882],[138.85760216690625,37.82748464614345],[139.42640465714288,38.215962225897634],[140.05479007381206,39.43880748143638],[139.88337934789985,40.56331248632368],[140.30578250545366,41.19500519465955],[141.36897342342667,41.37855988216028],[141.91426313697048,39.99161611587868],[141.88460086483497,39.18086456965149],[140.95948937394573,38.17400096287658],[140.97638756730527,37.142074286440156]]],[[[143.91016198137947,44.174099839853724],[144.61342654843963,43.96088288021751],[145.32082523008307,44.38473297787544],[145.54313724180275,43.2620883245506],[144.05966189999987,42.98835826270055],[143.1838497255173,41.99521474869918],[141.61149092017246,42.67879059505607],[141.06728641170662,41.58459381770799],[139.95510623592105,41.56955597591103],[139.81754357315992,42.56375885677439],[140.31208703019317,43.333272610032644],[141.38054894426,43.38882477474649],[141.6719523459539,44.77212535255148],[141.96764489152798,45.55148346616134],[143.1428703147098,44.51035838477696],[143.91016198137947,44.174099839853724]]]]}},{type:"Feature",properties:{admin:"Kazakhstan",name:"Kazakhstan",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[70.96231489449927,42.26615428320553],[70.38896487822078,42.08130768489752],[69.07002729683522,41.384244289712335],[68.63248294462004,40.668680731766855],[68.25989586779563,40.662324530594894],[67.9858557473518,41.1359907089822],[66.71404707221659,41.16844350846156],[66.51064863471571,41.98764415136855],[66.02339155463561,41.99464630794403],[66.09801232286519,42.997660020513074],[64.90082441595932,43.72808055274265],[63.18578698105658,43.650074978198],[62.013300408786264,43.50447663021565],[61.05831994003249,44.405816962250576],[60.23997195825847,44.78403677019474],[58.689989048095796,45.50001373959872],[58.50312706892843,45.58680430763296],[55.92891727074117,44.99585846615916],[55.96819135928301,41.30864166926937],[55.455251092353805,41.259859117185826],[54.75534549339265,42.04397146256661],[54.07941775901496,42.32410940202083],[52.944293247291725,42.11603424739757],[52.50245975119628,41.78331553808646],[52.44633914572721,42.02715078385556],[52.69211225770725,42.443895372073364],[52.501426222550315,42.79229787858519],[51.3424271991082,43.13297475846934],[50.89129194520022,44.031033637053774],[50.33912926616136,44.28401561133847],[50.30564293803626,44.60983551693891],[51.27850345236321,44.51485423438645],[51.316899041556034,45.245998236667894],[52.16738976421571,45.4083914251451],[53.04087649924519,45.25904653582175],[53.22086551291771,46.23464590105992],[53.04273685080777,46.853006089864486],[52.0420227394756,46.80463694923923],[51.19194542827425,47.04870473895391],[50.034083286342465,46.60898997658221],[49.10116,46.39933000000012],[48.593241001180495,46.56103424741547],[48.69473351420173,47.07562816017792],[48.05725304544926,47.743752753279516],[47.31523115417024,47.71584747984195],[46.466445753776256,48.39415233010492],[47.043671502476506,49.1520388860976],[46.75159630716273,49.35600576435376],[47.5494804217493,50.45469839131112],[48.57784142435752,49.87475962991566],[48.70238162618101,50.605128485712825],[50.766648390512145,51.69276235615989],[52.32872358583096,51.71865224873811],[54.53287845237621,51.0262397324593],[55.7169405454798,50.62171662047853],[56.77796105329655,51.04355133727704],[58.36329064314673,51.06365346943856],[59.6422823423706,50.54544220641571],[59.932807244715484,50.84219411885186],[61.33742435084092,50.79907013610425],[61.58800337102416,51.2726587998432],[59.96753380721553,51.960420437215696],[60.92726850774026,52.44754832621503],[60.73999311711457,52.719986477257734],[61.699986199800584,52.979996446334255],[60.97806644068315,53.66499339457913],[61.43659142440905,54.006264553434775],[65.17853356309591,54.35422781027209],[65.66687584825398,54.60126699484345],[68.16910037625881,54.97039175070431],[69.06816694527286,55.385250149143516],[70.86526655465512,55.16973358827009],[71.1801310566094,54.13328522400825],[72.22415001820217,54.37665538188673],[73.50851606638439,54.03561676697659],[73.42567874542043,53.48981028910974],[74.38484500519004,53.546861070360066],[76.89110029491341,54.49052440044191],[76.52517947785473,54.17700348572713],[77.80091556184422,53.40441498474756],[80.03555952344166,50.86475088154724],[80.56844689323547,51.388336493528456],[81.94598554883991,50.812195949906354],[83.38300377801237,51.06918284769391],[83.93511478061883,50.88924551045356],[84.41637739455305,50.31139964456582],[85.11555952346201,50.11730296487763],[85.54126997268246,49.69285858824815],[86.82935672398962,49.826674709668154],[87.35997033076266,49.21498078062915],[86.59877648310338,48.549181626980605],[85.76823286330828,48.455750637396974],[85.72048383987071,47.45296946877311],[85.16429039911336,47.0009557155161],[83.18048383986044,47.33003123635085],[82.4589258157691,45.5396495631665],[81.94707075391811,45.317027492853235],[79.9661063984414,44.91751699480464],[80.86620649610136,43.18036204688104],[80.18015018099429,42.920067857426936],[80.25999026888533,42.3499992945991],[79.64364546094014,42.49668284765965],[79.14217736197978,42.85609243424959],[77.6583919615832,42.96068553320833],[76.00035363149856,42.98802236589062],[75.63696495962209,42.877899888676765],[74.21286583852257,43.298339341803505],[73.6453035826609,43.09127187760986],[73.48975752146234,42.500894476891276],[71.84463829945064,42.84539541276518],[71.18628055205225,42.70429291439222],[70.96231489449927,42.26615428320553]]]}},{type:"Feature",properties:{admin:"Kenya",name:"Kenya",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[40.993,-.85829],[41.58513,-1.68325],[40.88477,-2.08255],[40.63785,-2.49979],[40.26304,-2.57309],[40.12119,-3.27768],[39.80006,-3.68116],[39.60489,-4.34653],[39.20222,-4.67677],[37.7669,-3.67712],[37.69869,-3.09699],[34.07262,-1.05982],[33.90371119710452,-.95],[33.89356896966694,.109813537861896],[34.18,.515],[34.6721,1.17694],[35.03599,1.90584],[34.59607,3.05374],[34.47913,3.5556],[34.005,4.249884947362047],[34.62019626785387,4.847122742081987],[35.298007118232974,5.506],[35.8174476623535,5.338232082790795],[35.8174476623535,4.776965663461889],[36.15907863285564,4.447864127672768],[36.855093238008116,4.447864127672768],[38.120915,3.598605],[38.43697,3.58851],[38.67114,3.61607],[38.89251,3.50074],[39.559384258765846,3.42206],[39.85494,3.83879],[40.76848,4.25702],[41.1718,3.91909],[41.855083092643966,3.918911920483726],[40.98105,2.78452],[40.993,-.85829]]]}},{type:"Feature",properties:{admin:"Kyrgyzstan",name:"Kyrgyzstan",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[70.96231489449913,42.26615428320548],[71.18628055205211,42.70429291439213],[71.84463829945058,42.84539541276509],[73.48975752146234,42.50089447689131],[73.6453035826609,43.09127187760982],[74.21286583852255,43.29833934180336],[75.636964959622,42.87789988867667],[76.00035363149844,42.988022365890664],[77.6583919615832,42.960685533208256],[79.14217736197976,42.85609243424951],[79.6436454609401,42.496682847659514],[80.25999026888529,42.349999294599044],[80.11943037305136,42.123940741538235],[78.5436609231753,41.582242540038685],[78.18719689322596,41.18531586360479],[76.90448449087707,41.066485907549634],[76.52636803579743,40.42794607193511],[75.46782799673069,40.56207225194866],[74.77686242055604,40.36642527929162],[73.82224368682829,39.89397349706318],[73.96001305531841,39.66000844986172],[73.67537926625478,39.431236884105594],[71.78469363799199,39.27946320246436],[70.5491618183256,39.60419790298649],[69.46488691597752,39.52668325454869],[69.5596098163685,40.10321137141297],[70.64801883329996,39.93575389257116],[71.01419803252016,40.244365546218226],[71.77487511585655,40.14584442805376],[73.05541710804916,40.86603302668945],[71.87011478057045,41.39290009212126],[71.15785851429158,41.14358714452911],[70.4200224140282,41.519998277343134],[71.25924767444822,42.167710679689456],[70.96231489449913,42.26615428320548]]]}},{type:"Feature",properties:{admin:"Cambodia",name:"Cambodia",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[103.49727990113968,10.632555446815926],[103.09068973186723,11.153660590047162],[102.58493248902667,12.186594956913279],[102.348099399833,13.39424734135822],[102.9884220723616,14.225721136934464],[104.28141808473659,14.416743068901363],[105.21877689007887,14.27321177821069],[106.04394616091551,13.881091009979952],[106.49637332563086,14.57058380783428],[107.38272749230106,14.202440904186968],[107.6145479675624,13.535530707244202],[107.49140302941086,12.337205918827944],[105.8105237162531,11.567614650921225],[106.24967003786944,10.961811835163585],[105.19991499229232,10.889309800658094],[104.33433475140345,10.486543687375228],[103.49727990113968,10.632555446815926]]]}},{type:"Feature",properties:{admin:"South Korea",name:"Korea",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[128.3497164246766,38.61224294692784],[129.21291954968004,37.43239248305594],[129.46044966035814,36.78418915460282],[129.46830447806647,35.63214061130394],[129.09137658092956,35.08248423923142],[128.18585045787907,34.890377102186385],[127.38651940318837,34.47567373304411],[126.48574751190871,34.39004588473647],[126.3739197124291,34.93456045179594],[126.55923139862777,35.684540513647896],[126.11739790253226,36.72548472751925],[126.86014326386336,36.89392405857461],[126.17475874237621,37.74968577732803],[126.23733890188174,37.84037791600027],[126.68371992401889,37.804772854151174],[127.07330854706734,38.25611481378839],[127.78003543509097,38.30453563084588],[128.20574588431143,38.37039724380188],[128.3497164246766,38.61224294692784]]]}},{type:"Feature",properties:{admin:"Kosovo",name:"Kosovo",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[20.76216,42.05186],[20.717310000000108,41.84711],[20.59023,41.85541],[20.52295,42.21787],[20.28374,42.32025],[20.0707,42.58863],[20.25758,42.81275],[20.49679,42.88469],[20.63508,43.21671],[20.81448,43.27205],[20.95651,43.13094],[21.143395,43.06868500000012],[21.27421,42.90959],[21.43866,42.86255],[21.63302,42.67717],[21.77505,42.6827],[21.66292,42.43922],[21.54332,42.32025],[21.576635989402117,42.24522439706185],[21.352700000000134,42.2068],[20.76216,42.05186]]]}},{type:"Feature",properties:{admin:"Kuwait",name:"Kuwait",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[47.97451907734989,29.975819200148493],[48.18318851094448,29.53447663015976],[48.09394331237641,29.306299343375],[48.41609419128394,28.552004299426663],[47.70885053893738,28.526062730416136],[47.45982181172282,29.002519436147217],[46.56871341328174,29.099025173452283],[47.30262210469095,30.05906993257071],[47.97451907734989,29.975819200148493]]]}},{type:"Feature",properties:{admin:"Laos",name:"Lao PDR",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[105.21877689007887,14.27321177821069],[105.54433841351766,14.723933620660414],[105.58903852745013,15.570316066952856],[104.77932050986877,16.441864935771445],[104.71694705609247,17.428858954330078],[103.95647667848529,18.240954087796872],[103.20019209189373,18.30963206631277],[102.9987056823877,17.961694647691598],[102.41300499879159,17.93278168382428],[102.11359175009245,18.10910167080416],[101.05954756063514,17.512497259994486],[101.03593143107774,18.40892833096161],[101.28201460165167,19.46258494717676],[100.60629357300313,19.508344427971217],[100.54888105672686,20.109237982661124],[100.11598758341782,20.41784963630818],[100.32910119018952,20.78612173103623],[101.18000532430752,21.436572984294024],[101.27002566935994,21.201651923095177],[101.8031197448829,21.174366766845065],[101.65201785686149,22.318198757409544],[102.17043582561355,22.464753119389297],[102.75489627483464,21.675137233969462],[103.20386111858643,20.766562201413745],[104.43500044150802,20.758733221921528],[104.82257368369707,19.88664175056388],[104.18338789267891,19.624668077060214],[103.8965320170267,19.2651809758218],[105.0945984232815,18.666974595611073],[105.925762160264,17.485315456608955],[106.55600792849566,16.6042839624648],[107.31270592654558,15.908538316303177],[107.56452518110387,15.202173163305554],[107.38272749230106,14.202440904186968],[106.49637332563086,14.57058380783428],[106.04394616091551,13.881091009979952],[105.21877689007887,14.27321177821069]]]}},{type:"Feature",properties:{admin:"Lebanon",name:"Lebanon",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[35.82110070165023,33.27742645927629],[35.552796665190805,33.26427480725801],[35.4607092628467,33.089040025356276],[35.12605268732454,33.090900376918775],[35.48220665868012,33.905450140919434],[35.97959231948939,34.610058295219126],[35.99840254084363,34.6449140488],[36.448194207512095,34.59393524834406],[36.611750115715886,34.201788641897174],[36.06646040217205,33.82491242119254],[35.82110070165023,33.27742645927629]]]}},{type:"Feature",properties:{admin:"Liberia",name:"Liberia",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[-7.712159389669749,4.364565944837721],[-7.974107224957249,4.355755113131961],[-9.004793667018673,4.832418524592199],[-9.913420376006682,5.593560695819205],[-10.765383876986643,6.140710760925556],[-11.438779466182053,6.785916856305746],[-11.199801805048278,7.105845648624735],[-11.14670427086838,7.396706447779534],[-10.695594855176477,7.939464016141085],[-10.230093553091276,8.40620555260129],[-10.016566534861253,8.42850393313523],[-9.755342169625832,8.541055202666923],[-9.33727983238458,7.928534450711351],[-9.403348151069748,7.526905218938906],[-9.208786383490844,7.313920803247952],[-8.926064622422002,7.309037380396375],[-8.722123582382123,7.711674302598509],[-8.439298468448696,7.686042792181736],[-8.485445522485348,7.395207831243068],[-8.385451626000572,6.911800645368742],[-8.602880214868618,6.467564195171659],[-8.311347622094017,6.193033148621081],[-7.993692592795879,6.126189683451541],[-7.570152553731686,5.707352199725903],[-7.53971513511176,5.313345241716517],[-7.63536821128403,5.188159084489455],[-7.712159389669749,4.364565944837721]]]}},{type:"Feature",properties:{admin:"Libya",name:"Libya",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[14.8513,22.86295000000012],[14.14387088385524,22.491288967371126],[13.581424594790459,23.040506089769274],[11.999505649471697,23.471668402596432],[11.560669386449032,24.09790924732561],[10.771363559622952,24.56253205006174],[10.303846876678445,24.379313259370967],[9.948261346078024,24.936953640232613],[9.910692579801774,25.36545461679679],[9.319410841518218,26.094324856057476],[9.716285841519662,26.51220632578565],[9.629056023811073,27.14095347748104],[9.756128370816779,27.688258571884198],[9.68388471847288,28.14417389577931],[9.859997999723472,28.959989732371064],[9.805634392952353,29.42463837332337],[9.482139926805415,30.30755605724618],[9.970017124072966,30.539324856075375],[10.056575148161697,30.961831366493517],[9.950225050505194,31.376069647745275],[10.636901482799484,31.76142080334568],[10.944789666394511,32.08181468355536],[11.43225345220378,32.368903103152824],[11.488787469131008,33.136995754523234],[12.66331,32.79278],[13.08326,32.87882],[13.91868,32.71196],[15.24563,32.26508],[15.71394,31.37626],[16.61162,31.18218],[18.02109,30.76357],[19.08641,30.26639],[19.57404,30.52582],[20.05335,30.98576],[19.82033,31.751790000000135],[20.13397,32.2382],[20.85452,32.7068],[21.54298,32.8432],[22.89576,32.63858],[23.2368,32.19149],[23.6091300000001,32.18726],[23.9275,32.01667],[24.92114,31.89936],[25.16482,31.56915],[24.80287,31.08929],[24.95762,30.6616],[24.70007,30.04419],[25.00000000000011,29.23865452953355],[25.00000000000011,25.682499996360995],[25.00000000000011,22],[25.00000000000011,20.00304],[23.85000000000013,20],[23.837660000000135,19.5804700000001],[19.84926,21.49509],[15.86085,23.40972],[14.8513,22.86295000000012]]]}},{type:"Feature",properties:{admin:"Sri Lanka",name:"Sri Lanka",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[81.78795901889137,7.523055324733162],[81.63732221876057,6.481775214051921],[81.21801964714432,6.197141424988287],[80.3483569681044,5.968369859232154],[79.87246870312852,6.763463446474928],[79.6951668639351,8.200843410673384],[80.14780073437963,9.824077663609554],[80.83881798698654,9.268426825391186],[81.30431928907176,8.564206244333688],[81.78795901889137,7.523055324733162]]]}},{type:"Feature",properties:{admin:"Lesotho",name:"Lesotho",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[28.978262566857236,-28.955596612261708],[29.325166456832587,-29.257386976846245],[29.018415154748016,-29.743765557577362],[28.848399692507734,-30.070050551068245],[28.291069370239903,-30.226216729454293],[28.10720462414542,-30.545732110314944],[27.749397006956478,-30.645105889612214],[26.99926191580763,-29.875953871379977],[27.53251102062747,-29.242710870075353],[28.07433841320778,-28.85146860119358],[28.54170006685549,-28.647501722937562],[28.978262566857236,-28.955596612261708]]]}},{type:"Feature",properties:{admin:"Lithuania",name:"Lithuania",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[22.73109866709265,54.32753693299331],[22.651051873472536,54.58274099386673],[22.757763706155256,54.856574408581366],[22.31572350433057,55.01529857036585],[21.26844892750346,55.1904816758353],[21.05580040862241,56.03107636171105],[22.20115685393949,56.33780182557948],[23.878263787539957,56.27367137310526],[24.860684441840753,56.372528388079616],[25.000934279080887,56.16453074810483],[25.533046502390327,56.10029694276603],[26.49433149588375,55.61510691997762],[26.588279249790386,55.16717560487166],[25.76843265147979,54.84696259217508],[25.53635379405699,54.282423407602515],[24.45068362803703,53.90570221619475],[23.48412763844984,53.91249766704112],[23.243987257589506,54.22056671814913],[22.73109866709265,54.32753693299331]]]}},{type:"Feature",properties:{admin:"Luxembourg",name:"Luxembourg",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[6.043073357781109,50.12805166279422],[6.242751092156992,49.90222565367872],[6.186320428094176,49.4638028021145],[5.897759230176403,49.44266714130701],[5.674051954784828,49.52948354755749],[5.782417433300905,50.090327867221205],[6.043073357781109,50.12805166279422]]]}},{type:"Feature",properties:{admin:"Latvia",name:"Latvia",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[21.05580040862241,56.03107636171105],[21.090423618257965,56.783872789122924],[21.58186648935367,57.41187063254991],[22.52434126149287,57.753374335350756],[23.31845299652209,57.006236477274854],[24.120729607853423,57.02569265403275],[24.312862583114615,57.793423570376966],[25.164593540149262,57.970156968815175],[25.602809685984365,57.84752879498656],[26.46353234223778,57.476388658266316],[27.28818484875151,57.47452830670382],[27.770015903440925,57.24425812441122],[27.85528201672252,56.75932648378428],[28.17670942557799,56.16912995057881],[27.102459751094525,55.78331370708767],[26.49433149588375,55.61510691997762],[25.533046502390327,56.10029694276603],[25.000934279080887,56.16453074810483],[24.860684441840753,56.372528388079616],[23.878263787539957,56.27367137310526],[22.20115685393949,56.33780182557948],[21.05580040862241,56.03107636171105]]]}},{type:"Feature",properties:{admin:"Morocco",name:"Morocco",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[-5.193863491222031,35.755182196590845],[-4.591006232105143,35.330711981745644],[-3.640056525070007,35.39985504815197],[-2.604305792644111,35.17909332940112],[-2.169913702798624,35.168396307916694],[-1.792985805661658,34.5279186060913],[-1.73345455566141,33.919712836232115],[-1.388049282222596,32.86401500094137],[-1.124551153966195,32.651521511357195],[-1.30789913573787,32.262888902306024],[-2.616604783529567,32.09434621838616],[-3.068980271812648,31.724497992473285],[-3.647497931320145,31.637294012980814],[-3.690441046554666,30.896951605751152],[-4.859646165374442,30.501187649043874],[-5.242129278982786,30.00044302013557],[-6.060632290053745,29.7316997340018],[-7.059227667661899,29.57922842052465],[-8.67411617678283,28.841288967396643],[-8.665589565454836,27.656425889592462],[-8.817809007940523,27.656425889592462],[-8.817828334986642,27.656425889592462],[-8.794883999049032,27.120696316022553],[-9.413037482124507,27.08847606048854],[-9.73534339032875,26.86094472910741],[-10.189424200877452,26.86094472910741],[-10.551262579785258,26.99080760345688],[-11.392554897496948,26.883423977154386],[-11.718219773800339,26.1040917017608],[-12.030758836301654,26.03086619720312],[-12.500962693725368,24.770116278578136],[-13.891110398809044,23.691009019459383],[-14.22116777185715,22.310163072188338],[-14.630832688850942,21.860939846274867],[-14.750954555713404,21.5006000839038],[-17.00296179856107,21.42073415779668],[-17.020428432675768,21.42231028898163],[-16.973247849993182,21.88574453377495],[-16.589136928767626,22.15823436125009],[-16.26192175949566,22.679339504481273],[-16.326413946995896,23.017768459560894],[-15.98261064295806,23.723358466074096],[-15.426003790742183,24.359133612561035],[-15.08933183436073,24.520260728446964],[-14.82464514816169,25.103532619725307],[-14.800925665739666,25.636264960222285],[-14.439939947964827,26.254418443297645],[-13.773804897506462,26.61889232025228],[-13.13994177901429,27.64014781342049],[-13.121613369914709,27.654147671719805],[-12.61883663578311,28.038185533148656],[-11.688919236690761,28.148643907172577],[-10.9009569971044,28.832142238880913],[-10.39959225100864,29.09858592377778],[-9.564811163765624,29.933573716749855],[-9.814718390329174,31.177735500609053],[-9.434793260119362,32.03809642183648],[-9.300692918321827,32.56467926689063],[-8.657476365585039,33.24024526624239],[-7.654178432638217,33.697064927702506],[-6.912544114601358,34.11047638603744],[-6.24434200685141,35.14586538343752],[-5.929994269219832,35.75998810479398],[-5.193863491222031,35.755182196590845]]]}},{type:"Feature",properties:{admin:"Moldova",name:"Moldova",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[26.61933678559779,48.22072622333346],[26.857823520624798,48.36821076109449],[27.52253746919515,48.4671194525011],[28.259546746541837,48.155562242213406],[28.670891147585163,48.11814850523409],[29.122698195113024,47.84909516050646],[29.05086795422732,47.51022695575249],[29.415135125452732,47.34664520933257],[29.559674106573105,46.92858287209131],[29.908851759569295,46.67436066343145],[29.83821007662629,46.525325832701675],[30.024658644335364,46.42393667254503],[29.759971958136383,46.349987697935354],[29.17065392427988,46.37926239682869],[29.072106967899288,46.51767772072248],[28.862972446414055,46.437889309263824],[28.93371748222162,46.25883047137249],[28.659987420371575,45.93998688413163],[28.48526940279276,45.59690705014589],[28.233553501099035,45.48828318946837],[28.054442986775392,45.94458608660562],[28.160017937947707,46.37156260841721],[28.128030226359037,46.81047638608824],[27.55116621268484,47.40511709247082],[27.233872918412736,47.826770941756365],[26.92417605968756,48.12326447203098],[26.61933678559779,48.22072622333346]]]}},{type:"Feature",properties:{admin:"Madagascar",name:"Madagascar",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[49.54351891459574,-12.469832858940553],[49.80898074727908,-12.895284925999551],[50.05651085795715,-13.555761407121981],[50.217431268114055,-14.758788750876795],[50.476536899625515,-15.226512139550541],[50.37711144389594,-15.706069431219122],[50.20027469259317,-16.000263360256763],[49.860605503138665,-15.414252618066913],[49.67260664246085,-15.710203545802477],[49.86334435405014,-16.451036879138773],[49.774564243372694,-16.875042006093597],[49.49861209493411,-17.10603565843827],[49.4356185239703,-17.953064060134363],[49.04179243347393,-19.118781019774442],[48.548540887247995,-20.49688811613412],[47.93074913919865,-22.391501153251077],[47.547723423051295,-23.781958916928513],[47.09576134622659,-24.941629733990446],[46.28247765481708,-25.178462823184102],[45.409507684110444,-25.60143442149308],[44.83357384621755,-25.346101169538933],[44.039720493349755,-24.9883452287823],[43.763768344911156,-24.460677178649988],[43.69777754087444,-23.574116306250595],[43.34565433123761,-22.77690398528387],[43.254187046080986,-22.057413018484116],[43.43329756040463,-21.336475111580185],[43.89368289569292,-21.16330738697012],[43.89637007017209,-20.830459486578167],[44.374325392439644,-20.072366224856385],[44.464397413924374,-19.435454196859045],[44.23242190936616,-18.9619947242009],[44.04297610858415,-18.331387220943167],[43.9630843442609,-17.40994475674678],[44.31246870298627,-16.85049570075495],[44.44651736835139,-16.216219170804504],[44.94493655780652,-16.179373874580396],[45.502731967964976,-15.974373467678538],[45.872993605336255,-15.793454278224681],[46.3122432798172,-15.780018405828795],[46.88218265156427,-15.21018238694631],[47.70512983581235,-14.594302666891762],[48.00521487813124,-14.091232598530372],[47.86904747904215,-13.663868503476582],[48.29382775248137,-13.784067884987483],[48.84506025573877,-13.08917489995866],[48.863508742066976,-12.487867933810417],[49.1946513201933,-12.040556735891967],[49.54351891459574,-12.469832858940553]]]}},{type:"Feature",properties:{admin:"Mexico",name:"Mexico",continent:"North America"},geometry:{type:"Polygon",coordinates:[[[-97.14000830767068,25.869997463478395],[-97.52807247596654,24.992144069920297],[-97.70294552284221,24.27234304452673],[-97.77604183631902,22.932579860927653],[-97.8723667061111,22.444211737553356],[-97.69904395220416,21.898689480064256],[-97.38895952023674,21.411018988525818],[-97.18933346229328,20.635433254473124],[-96.5255755277203,19.89093089444406],[-96.29212724484174,19.32037140550954],[-95.90088497595994,18.828024196848727],[-94.8390634834427,18.562717393462204],[-94.4257295397562,18.144370835843343],[-93.54865129268237,18.423836981677933],[-92.78611385778348,18.524838568592255],[-92.03734819209039,18.704569200103432],[-91.40790340855924,18.876083278880227],[-90.77186987991085,19.284120388256778],[-90.53358985061303,19.867418117751292],[-90.45147599970123,20.707521877520428],[-90.27861833368489,20.999855454995547],[-89.60132117385147,21.261725775634485],[-88.54386633986284,21.493675441976613],[-87.6584165107577,21.458845526611977],[-87.05189022494805,21.543543199138295],[-86.81198238803293,21.331514797444747],[-86.8459079658326,20.849864610268348],[-87.38329118523585,20.255404771398727],[-87.62105445021072,19.646553046135917],[-87.43675045444176,19.472403469312265],[-87.58656043165591,19.040130113190738],[-87.83719112827148,18.259815985583426],[-88.09066402866316,18.516647854074048],[-88.30003109409363,18.499982204659997],[-88.49012285027928,18.486830552641717],[-88.84834387892657,17.88319814704033],[-89.02985734735174,18.001511338772556],[-89.15090938999546,17.955467637600403],[-89.14308041050332,17.8083189966494],[-90.06793351923089,17.819326076727517],[-91.00151994501594,17.817594916245692],[-91.00226925328415,17.254657701074272],[-91.45392127151511,17.252177232324183],[-91.08167009150057,16.918476670799517],[-90.71182186558762,16.687483018454767],[-90.60084672724092,16.470777899638787],[-90.43886695022199,16.410109768128105],[-90.46447262242263,16.069562079324722],[-91.74796017125593,16.06656484625176],[-92.22924862340628,15.251446641495871],[-92.08721594925201,15.06458466232851],[-92.20322953974726,14.830102850804108],[-92.22775000686981,14.538828640190953],[-93.35946387406175,15.61542959234367],[-93.87516883011851,15.94016429286591],[-94.69165646033011,16.20097524664288],[-95.25022701697301,16.12831818284064],[-96.0533821276533,15.752087917539592],[-96.55743404822827,15.653515122942787],[-97.26359249549662,15.917064927631312],[-98.0130299548096,16.107311713113912],[-98.94767574745649,16.566043402568763],[-99.69739742714702,16.706164048728166],[-100.8294988675813,17.171071071842047],[-101.66608862995444,17.649026394109622],[-101.9185280017002,17.916090196193974],[-102.47813208698891,17.975750637275095],[-103.50098954955806,18.292294623278845],[-103.91752743204681,18.748571682200005],[-104.99200965047547,19.31613393806168],[-105.49303849976141,19.94676727953543],[-105.73139604370763,20.43410187426411],[-105.39777299683132,20.531718654863422],[-105.5006607735244,20.816895046466122],[-105.27075232625792,21.076284898355137],[-105.26581722697402,21.422103583252348],[-105.60316097697537,21.871145941652568],[-105.69341386597311,22.26908030851615],[-106.02871639689894,22.77375234627862],[-106.90998043498834,23.767774359628895],[-107.91544877809136,24.548915310152946],[-108.40190487347095,25.17231395110593],[-109.26019873740663,25.580609442644054],[-109.44408932171731,25.824883938087673],[-109.29164384645627,26.44293406829842],[-109.8014576892318,26.676175645447923],[-110.39173173708569,27.162114976504533],[-110.6410188464616,27.85987600352552],[-111.17891883018783,27.941240546169062],[-111.75960689985162,28.467952582303944],[-112.22823462609037,28.95440867768348],[-112.27182369672866,29.266844387320074],[-112.80959448937395,30.02111359305234],[-113.16381059451865,30.786880804969424],[-113.14866939985714,31.170965887978912],[-113.87188106978184,31.56760834403519],[-114.2057366606035,31.524045111613123],[-114.776451178835,31.79953217216114],[-114.93669979537212,31.393484605427595],[-114.77123185917348,30.91361725516526],[-114.67389929895174,30.162681179315985],[-114.33097449426292,29.750432440707407],[-113.58887508833541,29.061611436473008],[-113.42405310754052,28.826173610951223],[-113.2719693673055,28.754782619739892],[-113.14003943566436,28.411289374295954],[-112.96229834679647,28.425190334582503],[-112.76158708377486,27.78021678314752],[-112.45791052941163,27.525813706974752],[-112.24495195193677,27.171726792910754],[-111.61648902061918,26.662817287700474],[-111.284674648873,25.732589830014426],[-110.98781938357239,25.294606228124557],[-110.71000688357131,24.826004340101854],[-110.65504899782887,24.298594672131113],[-110.17285620811343,24.265547593680417],[-109.77184709352852,23.811182562754194],[-109.4091043770557,23.364672349536242],[-109.4333923002329,23.185587673428696],[-109.85421932660168,22.81827159269806],[-110.03139197471442,22.8230775009012],[-110.29507097048364,23.430973212166684],[-110.94950130902802,24.000964260345988],[-111.67056840701268,24.484423122652508],[-112.18203589562147,24.73841278736716],[-112.14898881717082,25.470125230404044],[-112.30071082237967,26.012004299416613],[-112.77729671919153,26.321959540303162],[-113.4646707833219,26.768185533143416],[-113.5967299060438,26.639459540304465],[-113.84893673384424,26.900063788352437],[-114.46574662968003,27.14209035899136],[-115.05514217818497,27.722726752222904],[-114.98225257043738,27.79820018158511],[-114.57036556685492,27.741485297144884],[-114.19932878299923,28.115002549750553],[-114.16201839888461,28.566111965442296],[-114.9318422107366,29.279479275015483],[-115.51865393762696,29.556361599235395],[-115.88736528202956,30.18079376883417],[-116.2583503894529,30.836464341753572],[-116.72152625208496,31.635743720012037],[-117.12775999999984,32.53534],[-115.99135,32.61239000000011],[-114.72139,32.72083],[-114.815,32.52528],[-113.30498,32.03914],[-111.02361,31.33472],[-109.035,31.34194000000013],[-108.24194,31.34222],[-108.24,31.754853718166366],[-106.50758999999985,31.75452],[-106.1429,31.39995],[-105.63159,31.08383],[-105.03737,30.64402],[-104.70575,30.12173],[-104.45696999999988,29.57196],[-103.94,29.27],[-103.11,28.97],[-102.48,29.76],[-101.6624,29.7793],[-100.9576,29.380710000000125],[-100.45584,28.696120000000118],[-100.11,28.11000000000012],[-99.52,27.54],[-99.3,26.84],[-99.0199999999999,26.37],[-98.24,26.06],[-97.52999999999989,25.84],[-97.14000830767068,25.869997463478395]]]}},{type:"Feature",properties:{admin:"Macedonia",name:"Macedonia",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[20.59023,41.85541],[20.717310000000108,41.84711],[20.76216,42.05186],[21.352700000000134,42.2068],[21.576635989402117,42.24522439706185],[21.917080000000105,42.30364],[22.380525750424674,42.320259507815074],[22.88137373219734,41.99929718685035],[22.952377150166505,41.337993882811176],[22.76177,41.3048],[22.597308383889008,41.1304871689432],[22.055377638444266,41.149865831052686],[21.67416059742697,40.93127452245794],[21.020040317476397,40.84272695572587],[20.60518,41.08622],[20.46315,41.51509],[20.59023,41.85541]]]}},{type:"Feature",properties:{admin:"Mali",name:"Mali",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[-12.1707502913803,14.616834214735503],[-11.834207526079465,14.799096991428936],[-11.666078253617853,15.388208319556295],[-11.349095017939502,15.411256008358475],[-10.650791388379414,15.132745876521422],[-10.086846482778212,15.33048574468627],[-9.700255092802703,15.264107367407359],[-9.550238409859388,15.486496893775435],[-5.537744309908446,15.501689764869253],[-5.315277268891931,16.201853745991837],[-5.488522508150438,16.325102037007962],[-5.971128709324247,20.640833441647626],[-6.453786586930334,24.956590684503418],[-4.92333736817423,24.974574082940993],[-1.550054897457613,22.792665920497377],[1.823227573259032,20.61080943448604],[2.060990838233919,20.142233384679482],[2.683588494486428,19.856230170160114],[3.146661004253899,19.69357859952144],[3.158133172222704,19.057364203360034],[4.267419467800038,19.155265204336995],[4.270209995143801,16.85222748460121],[3.723421665063482,16.18428375901261],[3.638258904646476,15.568119818580453],[2.749992709981483,15.409524847876693],[1.385528191746857,15.323561102759168],[1.01578331869851,14.968182277887944],[.374892205414682,14.928908189346128],[-.26625729003058,14.924308986872147],[-.515854458000348,15.116157741755725],[-1.066363491205663,14.973815009007764],[-2.001035122068771,14.559008287000887],[-2.191824510090384,14.246417548067352],[-2.967694464520576,13.798150336151506],[-3.103706834312759,13.54126679122859],[-3.52280270019986,13.337661647998612],[-4.006390753587225,13.472485459848112],[-4.280405035814879,13.228443508349738],[-4.427166103523802,12.542645575404292],[-5.220941941743119,11.713858954307224],[-5.197842576508648,11.375145778850136],[-5.470564947929004,10.951269842976044],[-5.404341599946973,10.370736802609144],[-5.816926235365286,10.22255463301219],[-6.050452032892266,10.096360785355442],[-6.205222947606429,10.524060777219132],[-6.493965013037267,10.411302801958268],[-6.666460944027547,10.430810655148447],[-6.850506557635057,10.138993841996237],[-7.622759161804808,10.147236232946792],[-7.89958980959237,10.297382106970824],[-8.029943610048617,10.206534939001711],[-8.335377163109738,10.494811916541932],[-8.28235714357828,10.792597357623842],[-8.407310756860026,10.90925690352276],[-8.620321010767126,10.810890814655181],[-8.581305304386772,11.136245632364801],[-8.37630489748491,11.393645941610627],[-8.786099005559462,11.812560939984705],[-8.905264858424529,12.088358059126433],[-9.127473517279581,12.308060411015331],[-9.327616339546008,12.33428620040345],[-9.567911749703212,12.194243068892472],[-9.890992804392011,12.060478623904968],[-10.165213792348835,11.844083563682743],[-10.593223842806278,11.923975328005977],[-10.870829637078211,12.177887478072106],[-11.036555955438256,12.211244615116513],[-11.297573614944508,12.077971096235768],[-11.45616858564827,12.076834214725336],[-11.513942836950587,12.442987575729415],[-11.467899135778522,12.754518947800973],[-11.553397793005427,13.141213690641063],[-11.927716030311613,13.422075100147392],[-12.124887457721256,13.994727484589784],[-12.1707502913803,14.616834214735503]]]}},{type:"Feature",properties:{admin:"Myanmar",name:"Myanmar",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[99.54330936075928,20.186597601802056],[98.95967573445485,19.752980658440944],[98.25372399291558,19.70820302986004],[97.7977828308044,18.62708038988175],[97.37589643757352,18.44543773037581],[97.85912275593485,17.567946071843657],[98.49376102091132,16.837835598207928],[98.90334842325673,16.177824204976115],[98.53737592976569,15.30849742274608],[98.19207400919137,15.12370250087035],[98.43081912637986,14.622027696180831],[99.09775516153873,13.827502549693275],[99.21201175333607,13.269293728076462],[99.19635379435164,12.804748439988666],[99.5872860046397,11.892762762901695],[99.03812055867395,10.960545762572435],[98.55355065307302,9.932959906448543],[98.4571741068487,10.675266018105146],[98.76454552612076,11.441291612183745],[98.42833865762982,12.032986761925681],[98.50957400919266,13.122377631070675],[98.10360395710767,13.64045970301285],[97.77773237507516,14.837285874892638],[97.59707156778275,16.100567938699765],[97.16453982949977,16.928734442609336],[96.50576867064296,16.427240505432845],[95.36935224811238,15.714389960182599],[94.80840457558409,15.803454291237637],[94.18880415240451,16.037936102762014],[94.53348595579132,17.277240301985724],[94.32481652219674,18.213513902249893],[93.54098839719362,19.36649262133002],[93.6632548359962,19.726961574781992],[93.07827762245216,19.855144965081973],[92.3685535013556,20.670883287025344],[92.30323449093865,21.475485337809815],[92.65225711463798,21.32404755297848],[92.67272098182555,22.041238918541247],[93.16612755734836,22.2784595809771],[93.0602942240146,22.703110663335565],[93.28632693885925,23.043658352138998],[93.32518761594277,24.078556423432197],[94.10674197792505,23.850740871673477],[94.55265791217161,24.67523834889033],[94.60324913938535,25.1624954289704],[95.15515343626257,26.001307277932078],[95.12476769407493,26.573572089132295],[96.41936567585094,27.26458934173922],[97.13399905801528,27.08377350514996],[97.05198855996807,27.699058946233144],[97.40256147663612,27.88253611908544],[97.32711388549001,28.26158274994633],[97.91198774616943,28.335945136014338],[98.24623091023328,27.747221381129172],[98.68269005737045,27.50881216075061],[98.7120939473445,26.74353587494026],[98.67183800658913,25.91870250091352],[97.72460900267912,25.083637193292994],[97.60471967976196,23.89740469003304],[98.66026248575574,24.06328603768996],[98.89874922078275,23.142722072842524],[99.53199222208738,22.949038804612574],[99.24089887898722,22.118314317304577],[99.98348921102146,21.742936713136398],[100.41653771362735,21.558839423096607],[101.15003299357822,21.849984442629015],[101.18000532430752,21.436572984294024],[100.32910119018952,20.78612173103623],[100.11598758341782,20.41784963630818],[99.54330936075928,20.186597601802056]]]}},{type:"Feature",properties:{admin:"Montenegro",name:"Montenegro",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[19.80161339689868,42.500093492190835],[19.738051385179627,42.688247382165564],[19.30449,42.19574],[19.371770000000136,41.87755],[19.16246,41.95502],[18.88214,42.28151],[18.45,42.48],[18.56,42.65],[18.70648,43.20011],[19.03165,43.43253],[19.21852,43.52384],[19.48389,43.35229],[19.63,43.21377997027052],[19.95857,43.10604],[20.3398,42.89852],[20.25758,42.81275],[20.0707,42.58863],[19.80161339689868,42.500093492190835]]]}},{type:"Feature",properties:{admin:"Mongolia",name:"Mongolia",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[87.7512642760767,49.29719798440548],[88.80556684769549,49.47052073831241],[90.71366743364067,50.331811835321076],[92.23471154171966,50.802170722041716],[93.10421919146266,50.495290228876414],[94.14756635943561,50.48053660745708],[94.8159493346987,50.01343333597084],[95.81402794798397,49.97746653909571],[97.2597278177814,49.72606069599573],[98.23176150919154,50.42240062112874],[97.82573978067428,51.010995184933165],[98.8614905131003,52.047366034546684],[99.98173221232351,51.63400625264398],[100.88948042196259,51.516855780638316],[102.0652226094673,51.25992055928311],[102.2559086446243,50.51056061461867],[103.6765454447602,50.08996613219511],[104.62155236208169,50.27532949482607],[105.88659142458673,50.40601919209221],[106.88880415245534,50.27429596618022],[107.86817589725094,49.79370514586581],[108.47516727095127,49.282547715850725],[109.40244917199664,49.292960516957535],[110.66201053267876,49.13012807880586],[111.5812309102866,49.37796824807768],[112.89773969935436,49.543565375356984],[114.36245649623524,50.2483027207374],[114.96210981655015,50.14024730081511],[115.48569542853139,49.80517731383459],[116.67880089728615,49.888531399121376],[116.19180219936754,49.13459809019909],[115.48528201707302,48.13538259540343],[115.74283735561575,47.72654450132627],[116.3089526713732,47.853410142602826],[117.2955074402574,47.69770905210742],[118.06414269416669,48.066730455103674],[118.86657433479493,47.74706004494615],[119.77282392789748,47.048058783550125],[119.66326989143873,46.69267995867891],[118.87432579963871,46.805412095723646],[117.42170128791417,46.67273285581425],[116.71786828009884,46.388202419615205],[115.98509647020006,45.72723501238599],[114.46033165899604,45.33981679949381],[113.46390669154414,44.80889313412711],[112.43606245325878,45.01164561622428],[111.87330610560028,45.102079372735055],[111.34837690637943,44.45744171811008],[111.6677372579432,44.073175767587706],[111.82958784388134,43.743118394539515],[111.12968224492022,43.406834011400136],[110.41210330611526,42.871233628911014],[109.24359581913143,42.51944631608409],[107.74477257693793,42.481515814781865],[106.12931562706166,42.1343277044289],[104.96499393109345,41.597409572916334],[104.52228193564898,41.90834666601654],[103.31227827353479,41.90746816666759],[101.83304039917992,42.51487295182627],[100.84586551310824,42.66380442969144],[99.51581749878001,42.52469147396172],[97.45175744017799,42.74888967546001],[96.3493957865278,42.72563528092868],[95.76245486855667,43.3194491643946],[95.3068754414715,44.24133087826546],[94.6889286641253,44.352331854828414],[93.48073367714127,44.97547211361995],[92.1338908223182,45.11507599545644],[90.94553958533429,45.286073309910265],[90.58576826371826,45.71971609148751],[90.97080936072499,46.88814606382292],[90.2808256367639,47.69354909930792],[88.85429772334673,48.06908173277295],[88.01383222855172,48.5994627956006],[87.7512642760767,49.29719798440548]]]}},{type:"Feature",properties:{admin:"Mozambique",name:"Mozambique",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[34.559989047999345,-11.520020033415923],[35.31239790216903,-11.439146416879145],[36.51408165868425,-11.720938002166733],[36.77515099462279,-11.594537448780804],[37.471284214026596,-11.568750909067157],[37.82764489111138,-11.268769219612834],[38.427556593587745,-11.285202325081654],[39.52102990088377,-10.896853936408224],[40.31658857601718,-10.317096042525696],[40.47838748552302,-10.765440769089992],[40.43725304541867,-11.761710707245014],[40.56081139502856,-12.639176527561023],[40.59962039567974,-14.201975192931858],[40.77547529476899,-14.69176441819424],[40.477250604012596,-15.406294447493968],[40.08926395036521,-16.100774021064456],[39.452558628097044,-16.720891208566936],[38.53835086442151,-17.101023044505954],[37.411132846838875,-17.586368096591233],[36.28127933120935,-18.659687595293445],[35.896496616364054,-18.842260430580634],[35.19839969253314,-19.552811374593887],[34.78638349787004,-19.784011732667732],[34.701892531072836,-20.497043145431007],[35.17612715021536,-21.254361260668407],[35.37342776870573,-21.840837090748874],[35.3858482537054,-22.14],[35.56254553636908,-22.09],[35.5339347674043,-23.07078785572775],[35.371774122872374,-23.535358982031692],[35.60747033055562,-23.706563002214676],[35.458745558419615,-24.122609958596545],[35.040734897610655,-24.478350518493798],[34.21582400893546,-24.816314385682652],[33.013210076639005,-25.35757333750773],[32.57463219577786,-25.72731821055609],[32.66036339695008,-26.148584486599443],[32.915955031065685,-26.21586720144346],[32.83012047702888,-26.74219166433619],[32.07166548028106,-26.733820082304902],[31.985779249811962,-26.29177988048022],[31.837777947728057,-25.84333180105134],[31.752408481581874,-25.484283949487406],[31.930588820124242,-24.369416599222532],[31.670397983534645,-23.65896900807386],[31.191409132621278,-22.251509698172395],[32.24498823418801,-21.11648853931369],[32.508693068173436,-20.395292250248303],[32.65974327976257,-20.30429005298231],[32.77270796075262,-19.715592136313294],[32.611994256324884,-19.419382826416268],[32.65488569512714,-18.67208993904349],[32.849860874164385,-17.979057305577175],[32.84763878757584,-16.713398125884613],[32.32823896661022,-16.39207406989375],[31.852040643040592,-16.319417006091374],[31.636498243951188,-16.07199024827788],[31.173063999157673,-15.860943698797868],[30.338954705534537,-15.880839125230242],[30.274255812305103,-15.507786960515208],[30.179481235481827,-14.796099134991525],[33.21402469252521,-13.97186003993615],[33.78970014825668,-14.451830743063068],[34.06482547377862,-14.359950046448118],[34.459633416488536,-14.613009535381421],[34.517666049952304,-15.013708591372609],[34.30729129409209,-15.478641452702592],[34.381291945134045,-16.18355966559604],[35.03381025568353,-16.80129973721309],[35.33906294123164,-16.107440280830108],[35.77190473810835,-15.896858819240721],[35.686845330555926,-14.611045830954328],[35.267956170398,-13.887834161029563],[34.90715132013616,-13.565424899960565],[34.559989047999345,-13.579997653866872],[34.28000613784197,-12.280025323132504],[34.559989047999345,-11.520020033415923]]]}},{type:"Feature",properties:{admin:"Mauritania",name:"Mauritania",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[-12.1707502913803,14.616834214735503],[-12.830658331747513,15.303691514542942],[-13.43573767745306,16.039383042866188],[-14.099521450242175,16.30430227301049],[-14.577347581428977,16.598263658102805],[-15.135737270558813,16.58728241624078],[-15.623666144258689,16.36933706304981],[-16.120690070041928,16.45566254319338],[-16.46309811040788,16.135036119038457],[-16.54970781092906,16.67389211676196],[-16.270551723688353,17.166962795474866],[-16.146347418674846,18.108481553616652],[-16.256883307347163,19.096715806550304],[-16.377651129613266,19.59381724698198],[-16.277838100641514,20.092520656814695],[-16.536323614965465,20.567866319251486],[-17.063423224342568,20.99975210213082],[-16.84519365077399,21.333323472574875],[-12.929101935263528,21.32707062426756],[-13.118754441774708,22.77122020109625],[-12.874221564169574,23.28483226164517],[-11.93722449385332,23.374594224536164],[-11.969418911171159,25.93335276946826],[-8.687293667017398,25.8810562199889],[-8.68439978680905,27.395744126896],[-4.92333736817423,24.974574082940993],[-6.453786586930334,24.956590684503418],[-5.971128709324247,20.640833441647626],[-5.488522508150438,16.325102037007962],[-5.315277268891931,16.201853745991837],[-5.537744309908446,15.501689764869253],[-9.550238409859388,15.486496893775435],[-9.700255092802703,15.264107367407359],[-10.086846482778212,15.33048574468627],[-10.650791388379414,15.132745876521422],[-11.349095017939502,15.411256008358475],[-11.666078253617853,15.388208319556295],[-11.834207526079465,14.799096991428936],[-12.1707502913803,14.616834214735503]]]}},{type:"Feature",properties:{admin:"Malawi",name:"Malawi",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[34.559989047999345,-11.520020033415923],[34.28000613784197,-12.280025323132504],[34.559989047999345,-13.579997653866872],[34.90715132013616,-13.565424899960565],[35.267956170398,-13.887834161029563],[35.686845330555926,-14.611045830954328],[35.77190473810835,-15.896858819240721],[35.33906294123164,-16.107440280830108],[35.03381025568353,-16.80129973721309],[34.381291945134045,-16.18355966559604],[34.30729129409209,-15.478641452702592],[34.517666049952304,-15.013708591372609],[34.459633416488536,-14.613009535381421],[34.06482547377862,-14.359950046448118],[33.78970014825668,-14.451830743063068],[33.21402469252521,-13.97186003993615],[32.68816531752312,-13.712857761289273],[32.99176435723788,-12.783870537978272],[33.30642215346307,-12.435778090060214],[33.11428917820191,-11.60719817469231],[33.31531049981728,-10.796549981329695],[33.485687697083584,-10.525558770391111],[33.23138797377529,-9.676721693564799],[32.759375441221316,-9.230599053589058],[33.73972903823044,-9.417150974162722],[33.94083772409653,-9.693673841980292],[34.28000613784197,-10.159999688358402],[34.559989047999345,-11.520020033415923]]]}},{type:"Feature",properties:{admin:"Malaysia",name:"Malaysia",continent:"Asia"},geometry:{type:"MultiPolygon",coordinates:[[[[101.0755155782133,6.204867051615891],[101.15421878459381,5.691384182147713],[101.81428185425801,5.810808417174228],[102.14118696493642,6.221636053894655],[102.37114708863521,6.12820506431096],[102.96170535686667,5.524495144061077],[103.38121463421214,4.855001125503746],[103.43857547405617,4.181605536308381],[103.33212202353485,3.72669790284297],[103.42942874554052,3.382868760589019],[103.50244754436888,2.791018581550204],[103.85467410687033,2.515454006353763],[104.24793175661148,1.631141058759055],[104.22881147666352,1.293048000489534],[103.51970747275443,1.226333726400682],[102.57361535035477,1.967115383304744],[101.39063846232915,2.760813706875623],[101.27353966675584,3.27029165284118],[100.69543541870668,3.939139715994869],[100.55740766805509,4.767280381688279],[100.19670617065772,5.312492580583678],[100.30626020711651,6.040561835143875],[100.08575687052708,6.46448944745029],[100.25959638875692,6.64282481528957],[101.0755155782133,6.204867051615891]]],[[[118.61832075406483,4.47820241944754],[117.88203494677016,4.137551377779487],[117.01521447150634,4.306094061699468],[115.86551720587677,4.306559149590156],[115.51907840379198,3.169238389494395],[115.13403730678523,2.821481838386219],[114.62135542201747,1.430688177898886],[113.80584964401953,1.217548732911041],[112.85980919805218,1.497790025229946],[112.38025190638365,1.410120957846757],[111.79754845586041,.904441229654651],[111.15913781132656,.976478176269509],[110.5140609070271,.773131415200993],[109.83022667850884,1.338135687664191],[109.66326012577372,2.006466986494984],[110.39613528853704,1.663774725751395],[111.16885298059748,1.850636704918784],[111.37008100794208,2.697303371588872],[111.79692833867284,2.885896511238073],[112.99561486211525,3.102394924324869],[113.71293541875872,3.893509426281127],[114.2040165548284,4.525873928236819],[114.65959598191353,4.00763682699781],[114.86955732631537,4.348313706881952],[115.34746097215067,4.316636053887009],[115.4057003113436,4.955227565933824],[115.4507104838698,5.447729803891561],[116.22074100145096,6.143191229675621],[116.72510298061975,6.924771429873998],[117.12962609260046,6.928052883324566],[117.6433931824463,6.422166449403305],[117.68907514859234,5.98749013918018],[118.3476912781522,5.708695786965462],[119.18190392463993,5.407835598162249],[119.11069380094172,5.016128241389864],[118.43972700406408,4.966518866389619],[118.61832075406483,4.47820241944754]]]]}},{type:"Feature",properties:{admin:"Namibia",name:"Namibia",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[16.34497684089524,-28.576705010697697],[15.601818068105812,-27.821247247022797],[15.210472446359457,-27.09095590587404],[14.989710727608548,-26.117371921495153],[14.74321414557633,-25.392920017195376],[14.40814415859583,-23.85301401132984],[14.385716586981145,-22.656652927340687],[14.257714064194172,-22.11120818449995],[13.868642205468657,-21.699036960539974],[13.352497999737437,-20.872834161057497],[12.82684533046449,-19.67316578540166],[12.608564080463617,-19.045348809487695],[11.794918654028063,-18.069129327061912],[11.734198846085118,-17.30188933682447],[12.215461460019352,-17.11166838955808],[12.814081251688405,-16.941342868724067],[13.462362094789963,-16.97121184658877],[14.058501417709007,-17.42338062914266],[14.209706658595021,-17.353100681225715],[18.26330936043416,-17.309950860262003],[18.9561869646036,-17.789094740472255],[21.377176141045563,-17.93063648851969],[23.215048455506057,-17.52311614346598],[24.03386152517077,-17.29584319424632],[24.6823490740015,-17.35341073981947],[25.076950310982255,-17.578823337476617],[25.084443393664564,-17.661815687737366],[24.520705193792534,-17.887124932529932],[24.21736453623921,-17.889347019118485],[23.579005568137713,-18.281261081620055],[23.196858351339298,-17.869038181227783],[21.65504031747897,-18.219146010005222],[20.91064131031453,-18.25221892667202],[20.881134067475866,-21.814327080983144],[19.895457797940672,-21.849156996347865],[19.895767856534427,-24.767790215760588],[19.89473432788861,-28.46110483166077],[19.00212731291108,-28.972443129188857],[18.464899122804745,-29.04546192801727],[17.836151971109526,-28.85637786226131],[17.3874971859515,-28.783514092729774],[17.2189286638154,-28.355943291946804],[16.8240173682409,-28.082161553664466],[16.34497684089524,-28.576705010697697]]]}},{type:"Feature",properties:{admin:"New Caledonia",name:"New Caledonia",continent:"Australia"},geometry:{type:"Polygon",coordinates:[[[165.77998986232635,-21.08000497811562],[166.5999914899338,-21.700018812753523],[167.12001142808688,-22.159990736583488],[166.74003462144475,-22.399976088146943],[166.18973229396863,-22.129708347260447],[165.47437544175216,-21.67960662199823],[164.82981530177565,-21.149819838141948],[164.16799523341362,-20.444746595951624],[164.02960574773596,-20.105645847252347],[164.45996707586266,-20.120011895429492],[165.020036249042,-20.459991143477726],[165.46000939357506,-20.800022067958253],[165.77998986232635,-21.08000497811562]]]}},{type:"Feature",properties:{admin:"Niger",name:"Niger",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[2.154473504249949,11.940150051313422],[2.177107781593917,12.625017808477534],[1.024103224297619,12.851825669806598],[.993045688490156,13.335749620003865],[.429927605805517,13.988733018443893],[.295646396495215,14.444234930880663],[.374892205414767,14.928908189346144],[1.015783318698481,14.968182277887989],[1.385528191746971,15.323561102759237],[2.74999270998154,15.409524847876751],[3.63825890464659,15.56811981858044],[3.723421665063596,16.184283759012654],[4.270209995143886,16.85222748460131],[4.267419467800095,19.155265204337123],[5.677565952180712,19.601206976799794],[8.572893100629868,21.565660712159225],[11.999505649471697,23.471668402596432],[13.581424594790459,23.040506089769274],[14.14387088385524,22.491288967371126],[14.8513,22.86295000000012],[15.096887648181847,21.308518785074902],[15.471076694407314,21.04845713956598],[15.487148064850143,20.730414537025634],[15.90324669766431,20.3876189234175],[15.68574059414777,19.957180080642384],[15.300441114979716,17.927949937405],[15.247731154041842,16.62730581305078],[13.97220177578168,15.684365953021139],[13.540393507550785,14.36713369390122],[13.956698846094124,13.996691189016925],[13.954476759505607,13.353448798063765],[14.595781284247604,13.330426947477859],[14.495787387762899,12.859396267137353],[14.213530714584746,12.80203542729333],[14.181336297266906,12.48365692794317],[13.995352817448289,12.4615652531383],[13.318701613018558,13.55635630945795],[13.08398725754881,13.596147162322492],[12.302071160540546,13.037189032437535],[11.527803175511504,13.328980007373556],[10.989593133191532,13.387322699431191],[10.701031935273816,13.246917832894038],[10.114814487354748,13.277251898649464],[9.524928012743088,12.85110219975456],[9.014933302454436,12.826659247280414],[7.804671258178869,13.343526923063731],[7.330746697630046,13.098038031461213],[6.82044192874781,13.115091254117598],[6.445426059605721,13.492768459522718],[5.443058302440135,13.865923977102225],[4.368343540066006,13.747481594289408],[4.107945997747378,13.531215725147941],[3.967282749048933,12.956108710171574],[3.680633579125924,12.552903347214167],[3.611180454125587,11.660167141155965],[2.848643019226585,12.235635891158207],[2.490163608418015,12.233052069543588],[2.154473504249949,11.940150051313422]]]}},{type:"Feature",properties:{admin:"Nigeria",name:"Nigeria",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[8.500287713259693,4.771982937026847],[7.462108188515939,4.41210826254624],[7.082596469764438,4.464689032403228],[6.698072137080598,4.240594183769516],[5.898172641634686,4.262453314628984],[5.362804803090881,4.887970689305957],[5.033574252959368,5.611802476418233],[4.325607130560683,6.270651149923466],[3.574180128604552,6.258300482605717],[2.691701694356254,6.258817246928628],[2.74906253420022,7.870734361192886],[2.723792758809509,8.506845404489708],[2.912308383810255,9.13760793704432],[3.220351596702101,9.4441525333997],[3.705438266625918,10.063210354040207],[3.600070021182801,10.332186184119406],[3.797112257511713,10.734745591673104],[3.572216424177469,11.327939357951516],[3.611180454125558,11.660167141155966],[3.68063357912581,12.552903347214222],[3.967282749048848,12.956108710171572],[4.107945997747321,13.53121572514783],[4.368343540066063,13.747481594289324],[5.443058302440163,13.865923977102295],[6.445426059605636,13.492768459522676],[6.820441928747753,13.115091254117514],[7.330746697630017,13.098038031461199],[7.804671258178784,13.343526923063745],[9.014933302454462,12.826659247280427],[9.524928012742945,12.851102199754477],[10.114814487354689,13.277251898649409],[10.701031935273702,13.24691783289408],[10.989593133191532,13.387322699431108],[11.527803175511393,13.328980007373584],[12.302071160540521,13.03718903243752],[13.083987257548866,13.596147162322563],[13.318701613018558,13.556356309457824],[13.995352817448346,12.461565253138343],[14.181336297266792,12.483656927943112],[14.57717776862253,12.0853608260535],[14.468192172918974,11.90475169519341],[14.415378859116682,11.572368882692071],[13.572949659894558,10.798565985553564],[13.308676385153914,10.160362046748926],[13.1675997249971,9.64062632897341],[12.95546797043897,9.417771714714702],[12.753671502339214,8.717762762888993],[12.218872104550597,8.305824082874322],[12.063946160539556,7.799808457872301],[11.8393087093668,7.397042344589434],[11.745774366918509,6.981382961449753],[11.05878787603035,6.644426784690593],[10.497375115611417,7.055357774275562],[10.118276808318255,7.038769639509879],[9.522705926154398,6.453482367372116],[9.233162876023043,6.444490668153334],[8.757532993208626,5.47966583904791],[8.500287713259693,4.771982937026847]]]}},{type:"Feature",properties:{admin:"Nicaragua",name:"Nicaragua",continent:"North America"},geometry:{type:"Polygon",coordinates:[[[-85.71254045280729,11.088444932494822],[-86.05848832878524,11.40343862552994],[-86.52584998243293,11.806876532432593],[-86.7459915839963,12.143961900272483],[-87.16751624220113,12.458257961471656],[-87.6684934150547,12.909909979702629],[-87.5574666002756,13.064551703336061],[-87.3923862373192,12.914018256069836],[-87.31665442579546,12.984685777228972],[-87.00576900912756,13.025794379117157],[-86.88055701368434,13.254204209847241],[-86.73382178419158,13.26309255620144],[-86.7550866360797,13.75484548589091],[-86.52070817741988,13.778487453664436],[-86.31214209668991,13.771356106008167],[-86.09626380079058,14.038187364147245],[-85.80129472526858,13.836054999237586],[-85.6986653307369,13.960078436738083],[-85.51441301140022,14.079011745657834],[-85.16536454948479,14.354369615125076],[-85.14875057650295,14.560196844943615],[-85.05278744173692,14.55154104253472],[-84.92450069857239,14.790492865452348],[-84.82003679069435,14.819586696832669],[-84.6495820787796,14.66680532476175],[-84.44933590364859,14.621614284722494],[-84.2283416409524,14.748764146376654],[-83.97572140169358,14.749435939996458],[-83.6285849677729,14.880073960830298],[-83.4899887763661,15.016267198135534],[-83.1472190009741,14.995829169164109],[-83.2332344225239,14.8998660343981],[-83.28416154654758,14.676623846897197],[-83.18212643098727,14.310703029838447],[-83.41249996614442,13.970077826386554],[-83.51983191601467,13.56769928634588],[-83.55220720084553,13.127054348193084],[-83.49851538769425,12.869292303921226],[-83.47332312695197,12.419087225794424],[-83.62610449902289,12.320850328007563],[-83.71961300325503,11.893124497927724],[-83.6508575100907,11.629032090700116],[-83.85547034375037,11.373311265503785],[-83.80893571647154,11.103043524617274],[-83.65561174186156,10.938764146361418],[-83.89505449088593,10.726839097532444],[-84.19017859570482,10.79345001875667],[-84.35593075228103,10.999225572142901],[-84.67306901725624,11.08265717207814],[-84.90300330273892,10.952303371621895],[-85.56185197624417,11.217119248901593],[-85.71254045280729,11.088444932494822]]]}},{type:"Feature",properties:{admin:"Netherlands",name:"Netherlands",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[6.074182570020922,53.51040334737813],[6.905139601274128,53.48216217713063],[7.092053256873895,53.14404328064488],[6.842869500362381,52.22844025329754],[6.589396599970825,51.85202912048338],[5.988658074577812,51.85161570902504],[6.156658155958779,50.803721015010574],[5.60697594567,51.03729848896977],[4.973991326526913,51.475023708698124],[4.047071160507527,51.267258612668556],[3.314971144228536,51.3457551133199],[3.830288527043137,51.620544542031936],[4.705997348661184,53.09179840759776],[6.074182570020922,53.51040334737813]]]}},{type:"Feature",properties:{admin:"Norway",name:"Norway",continent:"Europe"},geometry:{type:"MultiPolygon",coordinates:[[[[28.16554731620291,71.1854743516805],[31.293418409965472,70.4537877468599],[30.005435011522785,70.18625885688488],[31.101078728975118,69.55808014594486],[29.39958051933288,69.15691600206306],[28.591929559043187,69.06477692328669],[29.01557295097197,69.76649119737796],[27.732292107867885,70.16419302029628],[26.179622023226298,69.82529897732614],[25.68921268077639,69.092113755969],[24.735679152126714,68.64955678982143],[23.66204959483076,68.89124746365052],[22.356237827247405,68.84174144151494],[21.244936150810723,69.37044302029311],[20.64559288908958,69.10624726020085],[20.02526899585791,69.0651386583127],[19.87855960458125,68.4071943223726],[17.993868442464386,68.56739126247733],[17.729181756265344,68.01055186631622],[16.768878614985535,68.01393667263137],[16.10871219245683,67.30245555283689],[15.108411492583055,66.19386688909542],[13.555689731509087,64.78702769638146],[13.919905226302202,64.44542064071611],[13.571916131248766,64.04911408146965],[12.57993533697393,64.06621898055833],[11.930569288794228,63.12831757267698],[11.992064243221531,61.80036245385656],[12.63114668137524,61.29357168237008],[12.300365838274896,60.117932847730046],[11.468271925511173,59.43239329694599],[11.027368605196925,58.856149400459394],[10.356556837616095,59.46980703392536],[8.38200035974364,58.313288479233265],[7.048748406613297,58.07888418235727],[5.665835402050418,58.58815542259366],[5.308234490590733,59.663231919993805],[4.992078077829005,61.97099803328426],[5.912900424837885,62.61447296818268],[8.553411085655766,63.45400828719646],[10.527709181366784,64.48603831649747],[12.358346795306371,65.87972585719315],[14.7611458675816,67.81064158799512],[16.435927361728968,68.56320547146167],[19.184028354578512,69.8174441596178],[21.378416375420606,70.25516937934604],[23.02374230316158,70.20207184516626],[24.546543409938515,71.03049673123722],[26.370049676221807,70.98626170519536],[28.16554731620291,71.1854743516805]]],[[[24.72412,77.85385],[22.49032,77.44493],[20.72601,77.67704],[21.41611,77.93504],[20.8119,78.25463],[22.88426,78.45494],[23.28134,78.07954],[24.72412,77.85385]]],[[[18.25183,79.70175],[21.54383,78.95611],[19.02737,78.5626],[18.47172,77.82669],[17.59441,77.63796],[17.1182,76.80941],[15.91315,76.77045],[13.76259,77.38035],[14.66956,77.73565],[13.1706,78.02493],[11.22231,78.8693],[10.44453,79.65239],[13.17077,80.01046],[13.71852,79.66039],[15.14282,79.67431],[15.52255,80.01608],[16.99085,80.05086],[18.25183,79.70175]]],[[[25.447625359811887,80.4073403998945],[27.407505730913492,80.05640574820045],[25.92465050629817,79.51783397085454],[23.024465773213613,79.40001170522909],[20.075188429451877,79.56682322866723],[19.897266473070907,79.8423619656475],[18.46226362475792,79.8598802761944],[17.368015170977454,80.318896186027],[20.455992059010693,80.59815562613223],[21.907944777115397,80.35767934846207],[22.91925255706743,80.65714427359349],[25.447625359811887,80.4073403998945]]]]}},{type:"Feature",properties:{admin:"Nepal",name:"Nepal",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[88.12044070836984,27.876541652939586],[88.0431327656612,27.445818589786818],[88.1748043151409,26.810405178325944],[88.0602376647498,26.414615383402484],[87.22747195836628,26.39789805755607],[86.02439293817915,26.630984605408567],[85.25177859898335,26.726198431906337],[84.67501793817377,27.23490123138753],[83.30424889519954,27.364505723575554],[81.99998742058496,27.925479234319987],[81.057202589852,28.416095282499036],[80.08842451367626,28.794470119740136],[80.47672122591737,29.729865220655334],[81.11125613802929,30.1834809433134],[81.52580447787473,30.422716986608627],[82.32751264845086,30.115268052688126],[83.33711510613718,29.463731594352193],[83.89899295444671,29.320226141877654],[84.23457970575014,28.83989370372469],[85.01163821812303,28.642773952747337],[85.8233199401315,28.2035759546987],[86.95451704300059,27.97426178640351],[88.12044070836984,27.876541652939586]]]}},{type:"Feature",properties:{admin:"New Zealand",name:"New Zealand",continent:"Australia"},geometry:{type:"MultiPolygon",coordinates:[[[[173.0203747907407,-40.91905242285642],[173.247234328502,-41.33199879330078],[173.95840538970288,-40.926700534835604],[174.2475867048081,-41.34915536882166],[174.24851688058945,-41.77000823340675],[173.87644656808789,-42.23318409603882],[173.22273969959562,-42.97003834408856],[172.71124637277072,-43.37228769304849],[173.0801127464702,-43.85334360125358],[172.30858361235246,-43.86569426857133],[171.45292524646362,-44.24251881284372],[171.18513797432723,-44.897104180684885],[170.6166972191166,-45.9089287249597],[169.83142215400926,-46.355774834987585],[169.33233117093425,-46.64123544696785],[168.41135379462852,-46.61994475686358],[167.76374474514682,-46.290197442409195],[166.6768860211842,-46.219917494492236],[166.50914432196467,-45.8527047666262],[167.04642418850324,-45.110941257508664],[168.30376346259686,-44.12397307716612],[168.9494088076515,-43.93581918719142],[169.66781456937315,-43.555325616226334],[170.52491987536615,-43.03168832781282],[171.125089960004,-42.51275359473778],[171.5697139834432,-41.76742441179213],[171.94870893787188,-41.514416599291145],[172.09722700427872,-40.95610442480967],[172.79857954334395,-40.493962090823466],[173.0203747907407,-40.91905242285642]]],[[[174.61200890533053,-36.15639739354054],[175.33661583892717,-37.20909799575826],[175.3575964704375,-36.52619394302112],[175.80888675364247,-36.79894215265768],[175.95849002512747,-37.55538176854606],[176.76319542877656,-37.881253350578696],[177.4388131045605,-37.96124846776649],[178.01035444570866,-37.579824721020124],[178.5170935407628,-37.69537322362479],[178.2747310733138,-38.58281259537309],[177.97046023997933,-39.16634286881297],[177.20699262929912,-39.14577564876084],[176.939980503647,-39.44973642350156],[177.0329464053401,-39.87994272233147],[176.8858236026052,-40.06597787858216],[176.50801720611935,-40.60480803808958],[176.01244022044028,-41.28962411882149],[175.23956749908297,-41.688307793953236],[175.0678983910094,-41.425894870775075],[174.65097293527842,-41.28182097754544],[175.22763024322362,-40.4592355283234],[174.90015669178996,-39.908933200847216],[173.824046665744,-39.508854262043506],[173.85226199777532,-39.14660247167746],[174.57480187408035,-38.79768320084275],[174.74347374908103,-38.02780771255838],[174.69701663645057,-37.381128838857954],[174.2920284365792,-36.71109221776144],[174.31900353423555,-36.534823907213884],[173.84099653553577,-36.12198088963411],[173.05417117745958,-35.23712533950033],[172.6360054873537,-34.52910654066938],[173.00704227120946,-34.450661716450334],[173.55129845610747,-35.00618336358796],[174.32939049712624,-35.265495700828616],[174.61200890533053,-36.15639739354054]]]]}},{type:"Feature",properties:{admin:"Oman",name:"Oman",continent:"Asia"},geometry:{type:"MultiPolygon",coordinates:[[[[58.86114139184657,21.1140345321443],[58.48798587426696,20.4289859074671],[58.03431847517659,20.481437486243347],[57.8263725116341,20.24300242764863],[57.66576216007094,19.73600495043311],[57.78870039249337,19.067570298737646],[57.69439090356067,18.9447095809638],[57.2342639504338,18.947991034414255],[56.60965091332197,18.574267076079476],[56.51218916201948,18.087113348863934],[56.28352094912801,17.876066799383945],[55.66149173363068,17.884128322821535],[55.26993940615519,17.632309068263194],[55.27490034365509,17.22835439703766],[54.79100223167411,16.950696926333357],[54.23925296409375,17.04498057704998],[53.57050825380459,16.707662665264674],[53.1085726255475,16.651051133688977],[52.782184279192066,17.34974233649123],[52.00000980002223,19.00000336351607],[54.999981723862405,19.999994004796118],[55.66665937685987,22.000001125572307],[55.20834109886319,22.708329982997007],[55.23448937360287,23.11099274341535],[55.52584109886449,23.52486928964091],[55.52863162620829,23.9336040308535],[55.9812138202205,24.130542914317854],[55.80411868675624,24.269604193615287],[55.88623253766805,24.920830593357486],[56.396847365143984,24.924732163995508],[56.84514041527605,24.241673081961487],[57.40345258975743,23.878594468678834],[58.13694786970832,23.747930609628835],[58.72921146020543,23.565667832935414],[59.180501743410346,22.992395331305456],[59.45009769067703,22.660270900965592],[59.80806033716285,22.5336119654182],[59.80614830916809,22.31052480721419],[59.4421911965364,21.71454051359208],[59.28240766788987,21.433885809814875],[58.86114139184657,21.1140345321443]]],[[[56.39142133975339,25.895990708921254],[56.26104170108091,25.714606431576748],[56.070820753814544,26.055464178973946],[56.362017449779344,26.395934353128947],[56.48567915225381,26.309117946878665],[56.39142133975339,25.895990708921254]]]]}},{type:"Feature",properties:{admin:"Pakistan",name:"Pakistan",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[75.1580277851409,37.13303091078911],[75.89689741405012,36.66680613865183],[76.19284834178568,35.89840342868782],[77.83745079947455,35.49400950778776],[76.87172163280401,34.65354401299273],[75.75706098826832,34.50492259372131],[74.24020267120495,34.74888703057125],[73.74994835805195,34.317698879527846],[74.10429365427733,33.441473293586846],[74.4515592792787,32.76489960380549],[75.25864179881319,32.27110545504049],[74.405928989565,31.692639471965272],[74.42138024282026,30.97981476493117],[73.45063846221741,29.976413479119863],[72.82375166208469,28.961591701772047],[71.77766564320031,27.91318024343452],[70.61649620960192,27.98919627533586],[69.51439293811312,26.940965684511365],[70.168926629522,26.491871649678835],[70.28287316272558,25.722228705339823],[70.84469933460282,25.21510203704351],[71.0432401874682,24.356523952730193],[68.84259931831876,24.35913361256093],[68.17664513537338,23.691965033456704],[67.44366661974546,23.944843654876983],[67.14544192898906,24.66361115162464],[66.37282758979326,25.425140896093847],[64.53040774929111,25.237038682551425],[62.905700718034595,25.2184093287102],[61.49736290878418,25.078237006118492],[61.874187453056535,26.239974880472097],[63.31663170761958,26.75653249766166],[63.23389773952028,27.217047024030702],[62.75542565292985,27.378923448184985],[62.727830438085974,28.259644883735383],[61.771868117118615,28.699333807890792],[61.369308709564926,29.303276272085917],[60.87424848820878,29.829238999952604],[62.549856805272775,29.318572496044304],[63.550260858011164,29.468330796826162],[64.14800215033124,29.340819200145965],[64.3504187356185,29.56003062592809],[65.04686201361609,29.4721806910319],[66.34647260932441,29.88794342703617],[66.38145755398601,30.73889923758645],[66.93889122911845,31.304911200479346],[67.68339358914746,31.303154201781414],[67.79268924344477,31.582930406209623],[68.55693200060931,31.71331004488201],[68.92667687365766,31.620189113892064],[69.31776411324255,31.901412258424436],[69.26252200712254,32.50194407808829],[69.68714725126485,33.10549896904123],[70.32359419137158,33.358532619758385],[69.93054324735958,34.0201201441751],[70.88180301298839,33.98885590263851],[71.15677330921345,34.348911444632144],[71.11501875192162,34.73312571872223],[71.6130762063507,35.15320343682286],[71.49876793812108,35.650563259415996],[71.26234826038574,36.0743875188578],[71.84629194528391,36.50994232842985],[72.92002485544445,36.72000702569631],[74.06755171091781,36.836175645488446],[74.57589277537296,37.02084137628345],[75.1580277851409,37.13303091078911]]]}},{type:"Feature",properties:{admin:"Panama",name:"Panama",continent:"North America"},geometry:{type:"Polygon",coordinates:[[[-77.88157141794524,7.223771267114783],[-78.2149360826601,7.512254950384159],[-78.42916073272606,8.052041123888925],[-78.18209570993861,8.319182440621772],[-78.43546525746568,8.387705389840788],[-78.62212053090393,8.718124497915026],[-79.12030717641373,8.996092027213022],[-79.55787736684518,8.932374986197145],[-79.76057817251004,8.584515082224398],[-80.16448116730332,8.333315944853593],[-80.38265906443961,8.29840851484043],[-80.48068925649729,8.090307522001067],[-80.00368994822715,7.54752411542337],[-80.27667070180898,7.419754136581713],[-80.42115800649707,7.271571966984763],[-80.88640092642079,7.220541490096535],[-81.0595428128147,7.817921047390596],[-81.18971574575794,7.647905585150339],[-81.51951473664467,7.706610012233908],[-81.72131120474445,8.108962714058434],[-82.13144120962889,8.175392767769635],[-82.39093441438254,8.292362372262287],[-82.8200813463504,8.290863755725821],[-82.8509580146448,8.073822740099954],[-82.96578304719735,8.225027980985983],[-82.9131764391242,8.423517157419068],[-82.82977067740515,8.626295477732368],[-82.86865719270476,8.80726634361852],[-82.71918311230051,8.925708726431493],[-82.92715491405914,9.074330145702914],[-82.93289099804356,9.476812038608172],[-82.54619625520347,9.566134751824674],[-82.1871225654234,9.207448635286779],[-82.20758643261095,8.995575262890098],[-81.80856686066926,8.95061676679617],[-81.71415401887202,9.031955471223581],[-81.43928707551153,8.786234035675715],[-80.94730160187675,8.858503526235905],[-80.52190121125005,9.11107208906243],[-79.91459977895597,9.312765204297618],[-79.5733027818843,9.611610012241526],[-79.02119177927791,9.552931423374103],[-79.05845048696035,9.454565334506523],[-78.50088762074716,9.42045888919388],[-78.05592770049799,9.247730414258296],[-77.7295135159264,8.946844387238867],[-77.35336076527385,8.670504665558068],[-77.47472286651131,8.524286200388216],[-77.24256649444007,7.935278225125442],[-77.43110795765698,7.638061224798733],[-77.75341386586139,7.709839789252141],[-77.88157141794524,7.223771267114783]]]}},{type:"Feature",properties:{admin:"Peru",name:"Peru",continent:"South America"},geometry:{type:"Polygon",coordinates:[[[-69.59042375352404,-17.58001189541933],[-69.85844356960584,-18.09269378018701],[-70.3725723944777,-18.34797535570886],[-71.37525021023691,-17.77379851651385],[-71.46204077827112,-17.36348764411638],[-73.4445295885004,-16.359362888252992],[-75.23788265654143,-15.26568287522778],[-76.00920508492993,-14.649286390850317],[-76.42346920439773,-13.82318694423243],[-76.25924150257416,-13.535039157772939],[-77.10619238962181,-12.222716159720816],[-78.09215287953462,-10.377712497604062],[-79.03695309112692,-8.38656788496589],[-79.44592037628483,-7.930833428583859],[-79.76057817251004,-7.194340915560081],[-80.53748165558605,-6.541667575713715],[-81.24999630402641,-6.136834405139182],[-80.92634680858242,-5.690556735866563],[-81.41094255239943,-4.736764825055459],[-81.09966956248935,-4.036394138203696],[-80.30256059438719,-3.404856459164712],[-80.18401485870965,-3.821161797708043],[-80.46929460317692,-4.059286797708999],[-80.44224199087213,-4.425724379090673],[-80.02890804718558,-4.346090996928893],[-79.62497921417615,-4.454198093283494],[-79.20528906931771,-4.959128513207388],[-78.63989722361232,-4.547784112164072],[-78.45068396677563,-3.873096612161375],[-77.83790483265858,-3.003020521663103],[-76.6353942532267,-2.608677666843817],[-75.54499569365203,-1.56160979574588],[-75.23372270374193,-.911416924649529],[-75.37322323271384,-.15203175212045],[-75.10662451852006,-.05720549886486],[-74.44160051135596,-.530820000819887],[-74.12239518908905,-1.002832533373848],[-73.65950354683459,-1.260491224781134],[-73.07039221870721,-2.308954359550952],[-72.32578650581364,-2.434218031426453],[-71.77476070828538,-2.169789727388937],[-71.41364579942977,-2.342802422702128],[-70.81347571479195,-2.256864515800742],[-70.04770850287484,-2.725156345229699],[-70.6926820543097,-3.742872002785858],[-70.39404395209498,-3.766591485207825],[-69.89363521999661,-4.298186944194326],[-70.79476884630229,-4.251264743673302],[-70.92884334988356,-4.401591485210367],[-71.74840572781653,-4.59398284263301],[-72.89192765978724,-5.274561455916979],[-72.96450720894119,-5.741251315944892],[-73.2197112698146,-6.089188734566076],[-73.12002743192357,-6.629930922068238],[-73.72448666044163,-6.918595472850638],[-73.72340145536349,-7.340998630404412],[-73.98723548042965,-7.523829847853063],[-73.57105933296705,-8.424446709835832],[-73.01538265653254,-9.03283334720806],[-73.22671342639015,-9.462212823121233],[-72.56303300646563,-9.520193780152715],[-72.18489071316982,-10.05359791426943],[-71.30241227892152,-10.079436130415372],[-70.48189388699116,-9.490118096558842],[-70.5486856757284,-11.009146823778462],[-70.09375220404688,-11.12397185633101],[-69.52967810736493,-10.951734307502193],[-68.66507971868961,-12.56130014409717],[-68.88007951523996,-12.89972909917665],[-68.92922380234953,-13.602683607643007],[-68.94888668483658,-14.45363941819328],[-69.339534674747,-14.953195489158828],[-69.16034664577494,-15.323973890853015],[-69.3897641669347,-15.66012908291165],[-68.95963538275329,-16.500697930571267],[-69.59042375352404,-17.58001189541933]]]}},{type:"Feature",properties:{admin:"Philippines",name:"Philippines",continent:"Asia"},geometry:{type:"MultiPolygon",coordinates:[[[[126.37681359263745,8.414706325713352],[126.47851281138787,7.750354112168976],[126.53742394420061,7.189380601424572],[126.19677290253253,6.274294338400038],[125.83142052622908,7.293715318221855],[125.36385216685228,6.78648529706099],[125.6831608419837,6.049656887227257],[125.39651167206063,5.581003322772288],[124.21978763234233,6.16135549562618],[123.93871951710692,6.88513560630612],[124.24366214406132,7.360610459823659],[123.61021243702754,7.833527329942753],[123.29607140512519,7.418875637232786],[122.82550581267539,7.457374579290216],[122.08549930225577,6.899424139834847],[121.9199280131926,7.192119452336072],[122.31235884001711,8.034962063016506],[122.94239790251963,8.316236883981174],[123.48768761606351,8.693009751821192],[123.84115441293982,8.240324204944384],[124.6014697612502,8.514157619659015],[124.76461225799562,8.960409450715458],[125.47139082245154,8.98699697512964],[125.41211795461275,9.760334784377545],[126.22271447154316,9.28607432701885],[126.30663699758507,8.782487494334573],[126.37681359263745,8.414706325713352]]],[[[123.9824377788258,10.27877859134581],[123.62318322153277,9.950090643753297],[123.30992068897933,9.318268744336676],[122.99588300994164,9.022188625520398],[122.38005496631946,9.713360907424201],[122.58608890186707,9.981044826696104],[122.8370813335087,10.261156927934234],[122.9474105164519,10.881868394408029],[123.49884972543845,10.940624497923945],[123.33777428598472,10.267383938025445],[124.07793582570122,11.232725531453706],[123.9824377788258,10.27877859134581]]],[[[118.50458092659034,9.316382554558087],[117.17427453010067,8.367499904814663],[117.66447716682137,9.066888739452933],[118.38691369026174,9.684499619989223],[118.98734215706105,10.376292019080507],[119.51149620979753,11.36966807702721],[119.68967654833989,10.554291490109872],[119.02945844937898,10.00365326582387],[118.50458092659034,9.316382554558087]]],[[[121.8835478048591,11.891755072471977],[122.48382124236146,11.582187404827506],[123.12021650603596,11.583660183147867],[123.10083784392644,11.165933742716486],[122.63771365772669,10.741308498574226],[122.00261030485956,10.441016750526087],[121.96736697803652,10.905691229694622],[122.03837039600552,11.415840969280039],[121.8835478048591,11.891755072471977]]],[[[125.50255171112349,12.162694606978347],[125.78346479706215,11.046121934447767],[125.01188398651226,11.311454576050377],[125.03276126515811,10.975816148314703],[125.27744917206024,10.358722032101308],[124.80181928924571,10.13467885989989],[124.76016808481847,10.8379951033923],[124.45910119028605,10.889929917845633],[124.30252160044172,11.495370998577227],[124.89101281138157,11.415582587118589],[124.87799035044395,11.794189968304988],[124.2667615092957,12.557760931849682],[125.22711632700782,12.53572093347719],[125.50255171112349,12.162694606978347]]],[[[121.52739383350348,13.069590155484516],[121.26219038298154,12.2055602075644],[120.83389611214653,12.704496161342416],[120.32343631396748,13.466413479053866],[121.18012820850214,13.42969737391044],[121.52739383350348,13.069590155484516]]],[[[121.32130822152357,18.504064642811013],[121.93760135303637,18.21855235439838],[122.24600630095426,18.478949896717094],[122.33695682178796,18.224882717354173],[122.17427941293317,17.81028270107637],[122.51565392465335,17.09350474697197],[122.25231082569388,16.262444362854122],[121.66278608610826,15.931017564350125],[121.50506961475337,15.12481354416462],[121.72882856657725,14.328376369682244],[122.25892540902731,14.218202216035973],[122.70127566944564,14.336541245984417],[123.95029503794024,13.782130642141066],[123.8551070496586,13.237771104378464],[124.18128869028487,12.997527370653469],[124.07741906137822,12.536676947474573],[123.29803510955225,13.027525539598981],[122.9286519715299,13.552919826710404],[122.67135501514866,13.185836289925131],[122.03464969288052,13.784481919810343],[121.12638471891859,13.63668732345556],[120.6286373230833,13.857655747935649],[120.67938357959383,14.27101552983832],[120.99181928923052,14.52539276779508],[120.69333621631269,14.756670640517282],[120.56414513558298,14.39627920171382],[120.07042850146637,14.970869452367094],[119.9209285828461,15.406346747290735],[119.88377322802825,16.363704331929963],[120.28648766487879,16.034628811095327],[120.39004723519173,17.599081122299506],[120.7158671407919,18.505227362537536],[121.32130822152357,18.504064642811013]]]]}},{type:"Feature",properties:{admin:"Papua New Guinea",name:"Papua New Guinea",continent:"Australia"},geometry:{type:"MultiPolygon",coordinates:[[[[155.8800256695784,-6.819996840037758],[155.59999108298877,-6.919990736522491],[155.1669942568151,-6.535931491729299],[154.72919152243833,-5.900828138862208],[154.51411421123964,-5.139117526880012],[154.65250369691734,-5.042430922061839],[154.75999067608436,-5.339983819198493],[155.06291792217934,-5.566791680527486],[155.5477462099417,-6.200654799019658],[156.01996544822475,-6.540013929880386],[155.8800256695784,-6.819996840037758]]],[[[151.98279585185446,-5.478063246282344],[151.45910688700866,-5.560280450058739],[151.30139041565388,-5.840728448106701],[150.75444705627666,-6.083762709175387],[150.2411967307538,-6.317753594592984],[149.70996300679332,-6.316513360218051],[148.89006473205046,-6.026040134305432],[148.3189368023607,-5.74714242922613],[148.40182579975686,-5.437755629094722],[149.29841190002082,-5.583741550319216],[149.84556196512722,-5.505503431829339],[149.99625044169028,-5.026101169457674],[150.13975589416492,-5.001348158389788],[150.23690758687349,-5.53222014732428],[150.80746707580806,-5.455842380396886],[151.08967207255398,-5.113692722192368],[151.6478808941708,-4.757073662946168],[151.53786176982152,-4.167807305521889],[152.13679162008435,-4.148790378438519],[152.338743117481,-4.31296640382976],[152.31869266175175,-4.867661228050748],[151.98279585185446,-5.478063246282344]]],[[[147.19187381407494,-7.388024183789978],[148.08463585834937,-8.04410816816761],[148.73410525939357,-9.104663588093755],[149.30683515848443,-9.071435642130067],[149.26663089416132,-9.514406019736027],[150.0387284690343,-9.684318129111698],[149.73879845601226,-9.872937106977002],[150.80162763895913,-10.29368661869742],[150.69057498596385,-10.582712904505865],[150.02839318257583,-10.65247608809993],[149.78231001200197,-10.393267103723941],[148.92313764871722,-10.28092253992136],[147.913018426708,-10.13044076908747],[147.13544315001224,-9.492443536012017],[146.56788089415062,-8.942554619994153],[146.04848107318492,-8.067414239131308],[144.744167922138,-7.630128269077473],[143.89708784400966,-7.915330498896279],[143.28637576718427,-8.245491224809056],[143.41391320208066,-8.983068942910945],[142.62843143124422,-9.326820570516501],[142.0682589052002,-9.159595635620034],[141.03385176001387,-9.117892754760417],[141.017056919519,-5.85902190513802],[141.00021040259185,-2.600151055515624],[142.73524661679144,-3.289152927263216],[144.58397098203324,-3.861417738463401],[145.27317955950997,-4.373737888205027],[145.82978641172565,-4.876497897972683],[145.98192182839296,-5.465609226100012],[147.64807335834757,-6.083659356310803],[147.89110761941618,-6.614014580922315],[146.97090538959486,-6.721656589386255],[147.19187381407494,-7.388024183789978]]],[[[153.14003787659874,-4.499983412294113],[152.82729210836825,-4.766427097190998],[152.63867313050298,-4.176127211120927],[152.40602583232493,-3.789742526874561],[151.95323693258354,-3.462062269711821],[151.38427941305002,-3.035421644710111],[150.6620495953388,-2.741486097833956],[150.93996544820453,-2.500002129734028],[151.4799841656545,-2.779985039891386],[151.8200150901351,-2.999971612157907],[152.23998945537107,-3.24000864015366],[152.64001671774253,-3.659983005389647],[153.01999352438463,-3.980015150573293],[153.14003787659874,-4.499983412294113]]]]}},{type:"Feature",properties:{admin:"Poland",name:"Poland",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[15.016995883858666,51.106674099321566],[14.607098422919531,51.745188096719964],[14.685026482815685,52.08994741475519],[14.437599725002197,52.62485016540838],[14.074521111719488,52.981262518925426],[14.353315463934136,53.24817129171296],[14.119686313542584,53.757029120491026],[14.802900424873455,54.050706285205735],[16.363477003655728,54.51315867778571],[17.62283165860867,54.8515359564329],[18.620858595461637,54.682605699270766],[18.69625451017546,54.438718777069276],[19.6606400896064,54.42608388937391],[20.89224450041862,54.31252492941252],[22.73109866709265,54.32753693299331],[23.243987257589506,54.22056671814913],[23.48412763844984,53.91249766704112],[23.527535841574995,53.47012156840654],[23.804934930117774,53.08973135030606],[23.799198846133375,52.69109935160655],[23.19949384938618,52.486977444053664],[23.50800215016869,52.02364655212472],[23.52707075368437,51.57845408793023],[24.0299857927489,50.705406602575174],[23.92275719574326,50.42488108987874],[23.42650841644439,50.30850576435745],[22.518450148211596,49.476773586619736],[22.77641889821262,49.02739533140961],[22.55813764821175,49.08573802346713],[21.607808058364206,49.47010732685408],[20.887955356538406,49.32877228453582],[20.41583947111985,49.431453355499755],[19.825022820726865,49.21712535256922],[19.32071251799047,49.57157400165918],[18.909574822676316,49.43584585224456],[18.85314415861361,49.496229763377634],[18.39291385262217,49.98862864847074],[17.649445021238986,50.04903839781994],[17.554567091551117,50.36214590107641],[16.868769158605655,50.473973700556016],[16.71947594571443,50.21574656839353],[16.176253289462263,50.4226073268579],[16.238626743238566,50.69773265237983],[15.490972120839725,50.7847299261432],[15.016995883858666,51.106674099321566]]]}},{type:"Feature",properties:{admin:"Puerto Rico",name:"Puerto Rico",continent:"North America"},geometry:{type:"Polygon",coordinates:[[[-66.2824344550082,18.51476166429536],[-65.77130286320929,18.426679185453875],[-65.59100379094293,18.228034979723912],[-65.84716386581376,17.975905666571855],[-66.59993445500947,17.98182261806927],[-67.18416236028526,17.946553453030074],[-67.24242753769434,18.374460150622934],[-67.10067908391773,18.520601101144347],[-66.2824344550082,18.51476166429536]]]}},{type:"Feature",properties:{admin:"North Korea",name:"Dem. Rep. Korea",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[130.6400159038524,42.39500946712527],[130.7800073589311,42.22000722916884],[130.400030552289,42.2800035670597],[129.96594852103723,41.94136790625105],[129.6673620952548,41.60110443782522],[129.70518924369244,40.88282786718432],[129.18811486217996,40.661807766271984],[129.0103996115282,40.4854361028598],[128.6333683615267,40.1898469101503],[127.96741417858132,40.02541250259755],[127.53343550019414,39.756850083976694],[127.50211958222528,39.323930772451526],[127.38543419811026,39.21347239842765],[127.78334272675771,39.050898342437414],[128.3497164246766,38.61224294692784],[128.20574588431143,38.37039724380188],[127.78003543509097,38.30453563084588],[127.07330854706734,38.25611481378839],[126.68371992401889,37.804772854151174],[126.23733890188174,37.84037791600027],[126.17475874237621,37.74968577732803],[125.68910363169717,37.940010077459014],[125.56843916229568,37.752088731429616],[125.27533043833618,37.66907054295271],[125.24008711151312,37.857224432927424],[124.98103315643395,37.94882090916477],[124.71216067921935,38.10834605564978],[124.98599409393395,38.54847422947967],[125.22194868377868,38.665857245430665],[125.13285851450749,38.84855927179858],[125.38658979706057,39.38795787206116],[125.32111575734677,39.5513845891842],[124.73748213104238,39.660344346671614],[124.26562462778529,39.92849335383415],[125.07994184784062,40.56982371679244],[126.1820451193294,41.10733612727636],[126.86908328664984,41.816569322266176],[127.34378299368299,41.50315176041596],[128.20843305879063,41.46677155208248],[128.05221520397228,41.994284572917934],[129.5966687358795,42.42498179785454],[129.9942672059332,42.98538686784378],[130.6400159038524,42.39500946712527]]]}},{type:"Feature",properties:{admin:"Portugal",name:"Portugal",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[-9.034817674180244,41.88057058365967],[-8.671945766626719,42.13468943945495],[-8.26385698081779,42.280468654950326],[-8.01317460776991,41.79088613541712],[-7.422512986673794,41.79207469335982],[-7.251308966490822,41.91834605566504],[-6.668605515967655,41.88338694921958],[-6.389087693700914,41.38181549739464],[-6.851126674822551,41.11108266861751],[-6.864019944679383,40.33087189387482],[-7.026413133156593,40.18452423762424],[-7.066591559263527,39.71189158788277],[-7.498632371439724,39.6295710312418],[-7.098036668313126,39.03007274022378],[-7.374092169616317,38.373058580064914],[-7.029281175148794,38.07576406508976],[-7.166507941099863,37.80389435480222],[-7.537105475281022,37.42890432387623],[-7.45372555177809,37.09778758396605],[-7.855613165711985,36.83826854099625],[-8.382816127953687,36.97888011326245],[-8.898856980820325,36.86880931248077],[-8.746101446965552,37.6513455266766],[-8.839997524439879,38.26624339451761],[-9.28746375165522,38.35848582615859],[-9.526570603869713,38.737429104154906],[-9.44698889814023,39.39206614842836],[-9.048305223008425,39.755093085278766],[-8.97735348147168,40.1593061386658],[-8.7686840478771,40.76063894303018],[-8.790853237330309,41.18433401139125],[-8.990789353867568,41.543459377603625],[-9.034817674180244,41.88057058365967]]]}},{type:"Feature",properties:{admin:"Paraguay",name:"Paraguay",continent:"South America"},geometry:{type:"Polygon",coordinates:[[[-62.68505713565787,-22.24902922942238],[-62.2911793687292,-21.05163461678739],[-62.265961269770784,-20.513734633061272],[-61.78632646345376,-19.633736667562957],[-60.04356462262648,-19.34274667732742],[-59.11504248720609,-19.356906019775398],[-58.18347144228049,-19.86839934660036],[-58.16639238140804,-20.176700941653674],[-57.870673997617786,-20.732687676681948],[-57.93715572776129,-22.09017587655717],[-56.881509568902885,-22.282153822521476],[-56.47331743022938,-22.08630014413528],[-55.797958136606894,-22.356929620047815],[-55.61068274598113,-22.65561939869484],[-55.51763932963962,-23.57199757252663],[-55.40074723979541,-23.956935316668797],[-55.02790178080954,-24.001273695575225],[-54.65283423523512,-23.839578138933955],[-54.29295956075451,-24.021014092710722],[-54.293476325077435,-24.570799655863958],[-54.42894609233058,-25.162184747012162],[-54.62529069682356,-25.739255466415507],[-54.78879492859504,-26.621785577096126],[-55.69584550639814,-27.387837009390857],[-56.48670162619299,-27.548499037386286],[-57.609759690976134,-27.395898532828383],[-58.618173590719735,-27.12371876394709],[-57.63366004091112,-25.603656508081638],[-57.77721716981792,-25.162339776309032],[-58.80712846539497,-24.771459242453307],[-60.028966030504016,-24.032796319273267],[-60.84656470400991,-23.88071257903829],[-62.68505713565787,-22.24902922942238]]]}},{type:"Feature",properties:{admin:"Palestine",name:"Palestine",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[35.545665317534535,32.39399201103057],[35.545251906076196,31.782504787720832],[35.39756066258604,31.48908600516757],[34.927408481594554,31.35343537040141],[34.97050662612599,31.616778469360803],[35.22589155451242,31.75434113212176],[34.97464074070932,31.866582343059715],[35.18393029149143,32.532510687788935],[35.545665317534535,32.39399201103057]]]}},{type:"Feature",properties:{admin:"Qatar",name:"Qatar",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[50.81010827006956,24.75474253997137],[50.74391076030368,25.48242422128939],[51.01335167827348,26.00699168548419],[51.286461622936045,26.114582017515865],[51.58907881043724,25.801112779233375],[51.606700473848804,25.215670477798735],[51.38960778179062,24.62738597258805],[51.11241539897701,24.55633087818672],[50.81010827006956,24.75474253997137]]]}},{type:"Feature",properties:{admin:"Romania",name:"Romania",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[22.710531447040488,47.882193915389394],[23.1422363624068,48.09634105080694],[23.760958286237404,47.98559845640545],[24.402056105250374,47.98187775328042],[24.86631717296057,47.73752574318831],[25.207743361112986,47.89105642352746],[25.945941196402394,47.98714874937421],[26.197450392366925,48.22088125263034],[26.61933678559779,48.22072622333346],[26.92417605968756,48.12326447203098],[27.233872918412736,47.826770941756365],[27.55116621268484,47.40511709247082],[28.128030226359037,46.81047638608824],[28.160017937947707,46.37156260841721],[28.054442986775392,45.94458608660562],[28.233553501099035,45.48828318946837],[28.67977949393937,45.30403087013169],[29.149724969201646,45.46492544207244],[29.603289015427425,45.29330801043112],[29.62654340995876,45.03539093686239],[29.14161176933183,44.82021027279904],[28.837857700320196,44.91387380632804],[28.55808149589199,43.70746165625812],[27.970107049275068,43.8124681666752],[27.242399529740904,44.1759860296324],[26.06515872569974,43.94349376075126],[25.569271681426923,43.68844472917471],[24.10067915212417,43.741051337247846],[23.33230228037632,43.89701080990471],[22.94483239105184,43.82378530534712],[22.657149692482985,44.234923000661276],[22.474008416440594,44.40922760678176],[22.70572553883735,44.578002834647016],[22.459022251075933,44.70251719825429],[22.145087924902807,44.47842234962057],[21.562022739353605,44.768947251965486],[21.483526238702233,45.18117015235777],[20.87431277841335,45.41637543393423],[20.76217492033998,45.73457306577143],[20.220192498462833,46.12746898048655],[21.021952345471245,46.316087958351886],[21.62651492685387,46.99423777931815],[22.09976769378283,47.672439276716695],[22.710531447040488,47.882193915389394]]]}},{type:"Feature",properties:{admin:"Russia",name:"Russia",continent:"Asia"},geometry:{type:"MultiPolygon",coordinates:[[[[143.64800744036285,50.74760040954151],[144.6541475770856,48.97639069273758],[143.17392785051717,49.306551418650365],[142.55866824765008,47.86157501890491],[143.53349246640403,46.83672801369248],[143.5052771343726,46.137907619809475],[142.7477006369739,46.74076487892656],[142.09203006405448,45.96675527605878],[141.906925083585,46.805928860046535],[142.01844282447087,47.78013296161292],[141.90444461483503,48.85918854429956],[142.13580000220566,49.61516307229745],[142.17998335181528,50.9523424342819],[141.59407596249002,51.93543488220253],[141.68254601457363,53.30196645772877],[142.60693403541075,53.76214508728789],[142.20974897681538,54.22547597921685],[142.65478641171293,54.365880845753864],[142.91461551327654,53.704577541714734],[143.26084760963204,52.74076040303903],[143.23526777564763,51.75666026468873],[143.64800744036285,50.74760040954151]]],[[[22.73109866709265,54.32753693299331],[20.892244500418652,54.31252492941257],[19.6606400896064,54.42608388937397],[19.88848147958134,54.86616038677148],[21.268448927503492,55.19048167583528],[22.3157235043306,55.015298570365886],[22.75776370615528,54.856574408581416],[22.651051873472564,54.58274099386669],[22.73109866709265,54.32753693299331]]],[[[180.0000000000001,70.83219920854667],[178.903425,70.78114],[178.7253,71.0988],[180.0000000000001,71.51571433642825],[180.0000000000001,70.83219920854667]]],[[[143.60385,73.21244],[142.08763,73.20544],[140.038155,73.31692],[139.86312,73.36983],[140.81171,73.76506],[142.06207,73.85758],[143.48283,73.47525],[143.60385,73.21244]]],[[[150.73167,75.08406],[149.575925,74.68892],[147.977465,74.778355],[146.11919,75.17298],[146.358485,75.49682],[148.22223,75.345845],[150.73167,75.08406]]],[[[145.086285,75.562625],[144.3,74.82],[140.61381,74.84768],[138.95544,74.61148],[136.97439,75.26167],[137.51176,75.94917],[138.831075,76.13676],[141.471615,76.09289],[145.086285,75.562625]]],[[[57.535692579992386,70.72046397570215],[56.94497928246393,70.63274323188665],[53.67737511578419,70.76265778266846],[53.41201663596537,71.20666168892019],[51.60189456564571,71.47475901965048],[51.45575361512421,72.01488108996513],[52.478275180883564,72.22944163684095],[52.44416873557084,72.77473135038484],[54.42761355979765,73.62754751249757],[53.508289829325136,73.74981395130014],[55.902458937407644,74.62748647734533],[55.6319328143597,75.08141225859715],[57.86864383324884,75.60939036732319],[61.1700443866475,76.25188345000812],[64.49836836127021,76.43905548776927],[66.21097700385509,76.80978221303123],[68.15705976753482,76.9396967638129],[68.85221113472512,76.5448113064546],[68.18057254422764,76.2336416694091],[64.637326287703,75.73775462513622],[61.58350752141475,75.26088450794678],[58.477082147053366,74.30905630156282],[56.98678551618799,73.33304352486623],[55.41933597191094,72.37126760526596],[55.62283776227629,71.54059479439032],[57.535692579992386,70.72046397570215]]],[[[106.97013000000011,76.97419],[107.24000000000012,76.48],[108.1538,76.72335000000014],[111.07726000000014,76.71],[113.33151,76.22224],[114.13417,75.84764],[113.88539,75.32779000000012],[112.77918,75.03186],[110.15125000000018,74.47673],[109.4,74.18],[110.64,74.04],[112.11919,73.78774000000011],[113.01954000000023,73.97693000000014],[113.5295800000003,73.33505],[113.96881,73.59488],[115.56782,73.75285],[118.77633000000021,73.58772],[119.02,73.12],[123.20066,72.97122],[123.25777000000018,73.73503],[125.38000000000017,73.56],[126.97644,73.56549],[128.59126,73.03871],[129.05157,72.39872],[128.46,71.98],[129.7159900000002,71.19304],[131.28858000000025,70.7869900000001],[132.25350000000014,71.8363],[133.8576600000003,71.38642000000014],[135.56193,71.65525000000012],[137.49755,71.34763],[138.23409000000012,71.62803],[139.86983,71.48783000000012],[139.14791,72.4161900000001],[140.46817,72.84941000000013],[149.5,72.2],[150.35118000000017,71.60643],[152.9689000000002,70.84222],[157.00688,71.03141],[158.99779,70.86672],[159.83031000000022,70.45324],[159.70866,69.72198],[160.94053000000028,69.43728],[162.2790700000001,69.64204],[164.05248,69.66823],[165.94037000000017,69.47199],[167.83567,69.58269],[169.57763000000017,68.6938],[170.81688000000025,69.01363],[170.00820000000016,69.65276],[170.45345000000026,70.09703],[173.6439100000002,69.81743],[175.72403000000017,69.87725000000022],[178.6,69.4],[180.0000000000001,68.96363636363655],[180.0000000000001,64.97970870219847],[179.99281,64.97433],[178.7072000000002,64.53493],[177.41128000000015,64.60821],[178.3130000000002,64.07593],[178.90825000000018,63.25197000000013],[179.37034,62.98262],[179.48636,62.56894],[179.22825000000012,62.30410000000013],[177.3643,62.5219],[174.5692900000002,61.76915],[173.68013,61.65261],[172.15,60.95],[170.6985,60.33618],[170.33085000000028,59.88177],[168.90046,60.57355],[166.29498000000027,59.7885500000002],[165.8400000000002,60.16],[164.87674,59.7316],[163.5392900000001,59.86871],[163.21711000000022,59.21101],[162.01733,58.24328],[162.05297,57.83912],[163.19191,57.61503],[163.05794000000014,56.15924000000011],[162.1295800000002,56.12219],[161.70146,55.28568000000015],[162.11749000000012,54.85514],[160.36877000000032,54.34433],[160.02173000000022,53.20257],[158.53094000000016,52.958680000000236],[158.23118,51.94269],[156.78979000000027,51.01105],[156.42000000000013,51.7],[155.99182,53.15895],[155.43366,55.38103000000011],[155.9144200000003,56.76792000000013],[156.75815,57.3647],[156.81035,57.83204],[158.36433000000017,58.05575],[160.15064000000012,59.31477000000011],[161.87204,60.34300000000012],[163.66969,61.1409],[164.4735500000001,62.55061],[163.25842000000017,62.46627],[162.65791,61.6425],[160.12148,60.54423],[159.30232,61.77396],[156.72068,61.43442],[154.2180600000003,59.75818000000012],[155.04375,59.14495],[152.81185,58.88385],[151.26573000000025,58.78089],[151.33815,59.50396],[149.78371,59.655730000000126],[148.54481,59.16448],[145.48722,59.33637],[142.19782000000012,59.03998],[138.9584800000003,57.08805],[135.12619,54.72959],[136.70171,54.60355000000011],[137.19342,53.97732],[138.1647,53.75501000000025],[138.80463,54.25455],[139.90151,54.189680000000166],[141.34531,53.08957000000011],[141.37923,52.23877],[140.59742000000017,51.23967],[140.51308,50.04553000000011],[140.0619300000002,48.44671000000015],[138.5547200000002,46.99965],[138.21971,46.30795],[136.86232,45.143500000000174],[135.51535000000018,43.989],[134.86939000000024,43.39821],[133.53687000000025,42.81147],[132.90627,42.79849],[132.27807000000024,43.284560000000106],[130.93587000000014,42.55274],[130.78,42.22000000000019],[130.64000000000016,42.395],[130.6338664084098,42.90301463477054],[131.14468794161496,42.92998973242693],[131.2885551291156,44.11151968034825],[131.02519000000024,44.96796],[131.88345421765956,45.32116160743651],[133.0971200000002,45.14409],[133.76964399631316,46.11692698829915],[134.11235000000016,47.21248000000013],[134.50081,47.57845000000014],[135.02631147678676,48.4782298854439],[133.373595819228,48.183441677434836],[132.5066900000001,47.78896],[130.9872600000001,47.79013],[130.58229332898264,48.72968740497619],[129.39781782442049,49.4406000840156],[127.65740000000035,49.76027],[127.2874556824849,50.739797268265434],[126.93915652883783,51.353894151405896],[126.56439904185696,51.78425547953269],[125.94634891164644,52.792798570356936],[125.06821129771043,53.161044826868924],[123.57147,53.4588],[122.24574791879304,53.43172597921368],[121.00308475147035,53.25140106873123],[120.17708865771687,52.753886216841195],[120.72578901579197,52.51622630473089],[120.7382,51.96411],[120.18208000000016,51.64355],[119.27939,50.58292],[119.28846072802584,50.14288279886195],[117.87924441942647,49.510983384797036],[116.67880089728618,49.8885313991214],[115.48569542853141,49.80517731383473],[114.96210981655035,50.14024730081512],[114.36245649623532,50.24830272073747],[112.89773969935436,49.543565375356984],[111.58123091028665,49.37796824807767],[110.66201053267883,49.130128078805846],[109.40244917199671,49.292960516957685],[108.47516727095127,49.282547715850704],[107.86817589725109,49.79370514586587],[106.8888041524553,50.274295966180276],[105.88659142458687,50.40601919209216],[104.62158,50.27532000000016],[103.67654544476034,50.08996613219513],[102.25589,50.510560000000105],[102.06521,51.25991],[100.88948042196263,51.51685578063841],[99.98173221232356,51.63400625264395],[98.86149051310049,52.0473660345467],[97.82573978067451,51.010995184933236],[98.2317615091917,50.422400621128716],[97.2597600000002,49.72605],[95.81402000000016,49.977460000000114],[94.81594933469876,50.01343333597088],[94.1475663594356,50.48053660745716],[93.10421,50.49529],[92.23471154171968,50.80217072204174],[90.71366743364077,50.3318118353211],[88.80556684769557,49.47052073831246],[87.75126427607682,49.29719798440554],[87.35997033076269,49.21498078062915],[86.82935672398965,49.82667470966813],[85.54126997268249,49.69285858824815],[85.11555952346208,50.11730296487763],[84.41637739455304,50.31139964456582],[83.9351147806189,50.88924551045356],[83.38300377801245,51.06918284769388],[81.94598554883994,50.812195949906325],[80.56844689323545,51.388336493528435],[80.0355595234417,50.86475088154721],[77.80091556184432,53.40441498474753],[76.52517947785475,54.17700348572713],[76.89110029491344,54.49052440044191],[74.38482000000012,53.54685000000011],[73.42567874542051,53.48981028910974],[73.50851606638436,54.03561676697659],[72.2241500182022,54.37665538188678],[71.18013105660947,54.13328522400825],[70.86526655465515,55.16973358827009],[69.06816694527289,55.38525014914349],[68.1691003762589,54.970391750704366],[65.66687,54.60125000000015],[65.17853356309594,54.354227810272064],[61.436600000000126,54.00625],[60.978066440683236,53.66499339457913],[61.69998619980062,52.979996446334255],[60.73999311711453,52.719986477257734],[60.92726850774024,52.447548326215],[59.96753380721557,51.96042043721566],[61.588003371024136,51.27265879984317],[61.337424350841,50.79907013610425],[59.932807244715555,50.84219411885182],[59.642282342370564,50.54544220641571],[58.36332000000012,51.06364],[56.77798,51.04355],[55.71694,50.62171000000014],[54.53287845237618,51.02623973245936],[52.32872358583104,51.71865224873809],[50.766648390512174,51.69276235615986],[48.702381626181044,50.605128485712825],[48.5778414243576,49.87475962991563],[47.54948042174938,50.45469839131112],[46.751596307162764,49.356005764353725],[47.043671502476585,49.15203888609757],[46.46644575377629,48.39415233010492],[47.31524000000015,47.71585],[48.05725,47.74377],[48.69473351420187,47.075628160177885],[48.59325000000014,46.56104],[49.10116000000012,46.39933],[48.645410000000105,45.80629],[47.67591,45.64149000000011],[46.68201,44.6092],[47.59094,43.66016000000012],[47.49252,42.98658],[48.58437000000017,41.80888],[47.98728315612603,41.40581920019439],[47.81566572448465,41.15141612402134],[47.37331546406639,41.219732367511135],[46.68607059101671,41.8271371526699],[46.404950799348924,41.860675157227426],[45.7764,42.092440000000224],[45.47027916848591,42.50278066667004],[44.53762291848206,42.71199270280368],[43.93121,42.5549600000001],[43.75599000000018,42.74083],[42.394400000000154,43.2203],[40.92219000000013,43.38215000000013],[40.07696495947984,43.55310415300249],[39.95500857927108,43.43499766699929],[38.68,44.28],[37.5391200000001,44.65721],[36.67546000000012,45.24469],[37.40317,45.40451],[38.23295,46.24087],[37.67372,46.63657],[39.14767,47.04475000000013],[39.12120000000012,47.26336],[38.22353803889947,47.10218984637597],[38.2551123390298,47.546400458356956],[38.77057,47.82562000000023],[39.73827762223898,47.89893707945207],[39.895620000000136,48.23241],[39.67465,48.78382000000013],[40.08078901546948,49.307429917999364],[40.06904000000011,49.60105],[38.59498823421355,49.92646190042372],[38.01063113785707,49.915661526074715],[37.39345950699523,50.383953355503664],[36.62616784032539,50.22559092874513],[35.35611616388811,50.57719737405914],[35.37791,50.77394],[35.02218305841793,51.207572333371495],[34.2248157081544,51.25599315042892],[34.14197838719061,51.56641347920619],[34.39173058445723,51.76888174092589],[33.75269982273587,52.335074571331646],[32.71576053236716,52.23846548116216],[32.41205813978777,52.28869497334976],[32.15944000000021,52.0612500000001],[31.78597,52.10168],[31.540018344862254,52.74205231384643],[31.305200636527978,53.0739958766733],[31.49764,53.167430000000124],[32.30451948418837,53.13272614197284],[32.69364301934612,53.35142080343214],[32.40559858575116,53.618045355842],[31.731272820774585,53.79402944601201],[31.7914241879624,53.97463857687218],[31.38447228366382,54.157056382862365],[30.757533807098774,54.81177094178439],[30.971835971813245,55.08154775656412],[30.873909132620064,55.55097646750351],[29.896294386522435,55.789463202530484],[29.371571893030783,55.67009064393626],[29.22951338066039,55.9183442246664],[28.176709425577933,56.16912995057878],[27.85528201672252,56.75932648378436],[27.770015903440985,57.24425812441119],[27.288184848751648,57.4745283067039],[27.71668582531577,57.79189911562444],[27.420150000000202,58.72457000000013],[28.131699253051856,59.30082510033098],[27.98112,59.47537],[29.1177,60.02805000000011],[28.07,60.50352000000014],[30.211107212044645,61.78002777774967],[31.13999108249103,62.35769277612443],[31.516092156711263,62.8676874864129],[30.035872430142796,63.55281362573855],[30.444684686003736,64.20445343693906],[29.544429559047014,64.94867157659054],[30.21765,65.80598],[29.054588657352376,66.94428620062202],[29.97742638522069,67.69829702419274],[28.445943637818765,68.36461294216399],[28.591929559043358,69.06477692328669],[29.39955,69.15692000000017],[31.101080000000103,69.55811],[32.132720000000255,69.90595000000023],[33.77547,69.3014200000001],[36.51396,69.06342],[40.29234000000016,67.9324],[41.059870000000124,67.4571300000001],[41.125950000000174,66.79158000000011],[40.01583,66.26618000000012],[38.38295,65.99953],[33.91871000000017,66.75961],[33.18444,66.63253],[34.81477,65.90015000000012],[34.87857425307876,65.43621287704819],[34.94391000000015,64.41437000000015],[36.23129,64.10945],[37.01273000000011,63.84983],[37.14197000000014,64.33471],[36.5395790350898,64.76446],[37.176040000000135,65.14322000000011],[39.59345,64.52079000000016],[40.4356,64.76446],[39.76260000000015,65.49682],[42.09309,66.47623],[43.01604000000011,66.41858],[43.94975000000013,66.06908],[44.53226,66.75634000000012],[43.69839,67.35245],[44.187950000000136,67.95051],[43.45282,68.57079],[46.250000000000135,68.25],[46.821340000000156,67.68997],[45.55517,67.56652],[45.56202,67.01005000000019],[46.34915000000014,66.66767],[47.89416000000025,66.88455000000015],[48.13876,67.52238],[50.22766000000014,67.99867000000013],[53.717430000000164,68.85738],[54.47171,68.80815],[53.48582000000012,68.20131],[54.72628,68.09702],[55.442680000000124,68.43866],[57.31702000000015,68.46628],[58.802000000000206,68.88082],[59.94142000000018,68.27844],[61.077840000000165,68.94069],[60.03,69.52],[60.55,69.85],[63.50400000000015,69.54739],[64.888115,69.23483500000013],[68.51216000000011,68.09233000000016],[69.18068,68.61563000000011],[68.16444,69.14436],[68.13522,69.35649],[66.9300800000001,69.4546100000001],[67.25976,69.92873],[66.72492000000013,70.70889000000012],[66.69466,71.02897000000023],[68.54006000000011,71.93450000000023],[69.19636,72.84336000000015],[69.94,73.04000000000012],[72.58754,72.77629],[72.79603,72.22006],[71.84811,71.40898],[72.47011,71.09019],[72.79188,70.39114],[72.5647000000002,69.02085],[73.66787,68.4079],[73.2387,67.7404],[71.2800000000001,66.32000000000015],[72.42301000000015,66.17267000000017],[72.82077,66.53267],[73.92099000000013,66.78946000000012],[74.18651000000018,67.28429],[75.052,67.76047000000015],[74.46926000000015,68.32899],[74.93584,68.98918],[73.84236,69.07146],[73.6018700000002,69.62763],[74.3998,70.63175],[73.1011,71.44717000000024],[74.8908200000002,72.12119],[74.65926,72.83227],[75.15801000000017,72.85497000000011],[75.68351,72.30056000000012],[75.28898000000011,71.33556],[76.35911,71.15287000000014],[75.90313000000016,71.87401],[77.5766500000001,72.26717],[79.6520200000001,72.32011],[81.5,71.75],[80.61071,72.58285000000011],[80.51109,73.6482],[82.25,73.85],[84.65526,73.80591000000015],[86.82230000000023,73.93688],[86.00956,74.45967000000014],[87.16682000000014,75.11643],[88.31571,75.14393],[90.26,75.64],[92.90058,75.77333],[93.23421000000013,76.0472],[95.86000000000013,76.14],[96.67821,75.91548],[98.9225400000002,76.44689],[100.7596700000002,76.43028],[101.03532,76.86189],[101.9908400000001,77.28754000000019],[104.3516,77.69792],[106.06664000000013,77.37389],[104.70500000000021,77.1274],[106.97013000000011,76.97419]]],[[[105.07547,78.30689],[99.43814,77.921],[101.2649,79.23399],[102.08635,79.34641],[102.837815,79.28129],[105.37243,78.71334],[105.07547,78.30689]]],[[[51.136186557831266,80.54728017854093],[49.79368452332069,80.4154277615482],[48.894411248577526,80.33956675894369],[48.75493655782175,80.17546824820083],[47.58611901224415,80.01018117951533],[46.50282596210965,80.24724681265434],[47.0724552752629,80.55942414012945],[44.84695804218111,80.58980988231717],[46.799138624871226,80.77191762971363],[48.31847741068465,80.78400991486993],[48.52280602396668,80.51456899690014],[49.0971895688909,80.75398590770841],[50.0397676938946,80.91888540315179],[51.52293297710368,80.6997256538019],[51.136186557831266,80.54728017854093]]],[[[99.93976,78.88094],[97.75794,78.7562],[94.97259,79.044745],[93.31288,79.4265],[92.5454,80.14379],[91.18107,80.34146],[93.77766,81.0246],[95.940895,81.2504],[97.88385,80.746975],[100.186655,79.780135],[99.93976,78.88094]]]]}},{type:"Feature",properties:{admin:"Rwanda",name:"Rwanda",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[30.419104852019235,-1.134659112150416],[30.816134881317705,-1.698914076345388],[30.758308953583104,-2.287250257988368],[30.46969607923298,-2.413857517103458],[29.938359002407935,-2.348486830254238],[29.632176141078585,-2.917857761246096],[29.02492638521678,-2.839257907730157],[29.117478875451546,-2.292211195488384],[29.254834832483336,-2.215109958508911],[29.29188683443661,-1.620055840667987],[29.579466180140876,-1.341313164885626],[29.821518588996003,-1.443322442229785],[30.419104852019235,-1.134659112150416]]]}},{type:"Feature",properties:{admin:"Western Sahara",name:"W. Sahara",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[-8.794883999049075,27.120696316022503],[-8.81782833498667,27.65642588959235],[-8.665589565454805,27.65642588959235],[-8.66512447756419,27.58947907155822],[-8.68439978680905,27.395744126896],[-8.687293667017398,25.8810562199889],[-11.969418911171159,25.93335276946826],[-11.93722449385332,23.374594224536164],[-12.874221564169574,23.28483226164517],[-13.118754441774708,22.77122020109625],[-12.929101935263528,21.32707062426756],[-16.84519365077399,21.333323472574875],[-17.063423224342568,20.99975210213082],[-17.020428432675736,21.422310288981475],[-17.002961798561085,21.420734157796574],[-14.750954555713532,21.50060008390366],[-14.630832688851068,21.8609398462749],[-14.221167771857251,22.310163072188153],[-13.891110398809044,23.691009019459297],[-12.500962693725368,24.770116278578193],[-12.030758836301613,26.030866197203036],[-11.718219773800353,26.104091701760616],[-11.392554897496977,26.883423977154358],[-10.551262579785272,26.99080760345688],[-10.18942420087758,26.8609447291074],[-9.735343390328877,26.8609447291074],[-9.413037482124464,27.088476060488514],[-8.794883999049075,27.120696316022503]]]}},{type:"Feature",properties:{admin:"Saudi Arabia",name:"Saudi Arabia",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[42.77933230975096,16.34789134364868],[42.64957278826607,16.77463532151496],[42.347989129410706,17.075805568911996],[42.27088789243122,17.47472178798912],[41.75438195167395,17.83304616950097],[41.22139122901557,18.671599636301206],[40.93934126156653,19.486485297111752],[40.24765221533982,20.174634507726488],[39.801684604660934,20.338862209550054],[39.13939944840828,21.29190481209293],[39.02369591650678,21.98687531177019],[39.06632897314758,22.579655666590263],[38.492772251140075,23.68845103606085],[38.023860304523616,24.078685614512928],[37.48363488134438,24.28549469654501],[37.15481774267118,24.8584829777973],[37.209491408035994,25.084541530858104],[36.93162723160258,25.602959499610172],[36.63960371272122,25.82622752532722],[36.24913659032381,26.570135606384873],[35.640181512196385,27.376520494083415],[35.130186801907875,28.06335195567471],[34.63233605320797,28.05854604747156],[34.78777876154194,28.60742727305969],[34.83222049331294,28.95748342540484],[34.95603722508425,29.356554673778835],[36.06894087092205,29.19749461518445],[36.50121422704358,29.5052536076987],[36.74052778498724,29.865283311476183],[37.50358198420903,30.003776150018396],[37.668119744626374,30.338665269485894],[37.99884891129437,30.508499864213128],[37.002165561681004,31.508412990844736],[39.004885695152545,32.01021698661497],[39.19546837744496,32.16100881604266],[40.39999433773624,31.88999176688793],[41.88998091000783,31.190008653278362],[44.709498732284736,29.178891099559376],[46.56871341328174,29.099025173452283],[47.45982181172282,29.002519436147217],[47.70885053893738,28.526062730416136],[48.41609419128394,28.552004299426663],[48.80759484232716,27.689627997339876],[49.299554477745815,27.461218166609804],[49.47091352722565,27.109999294538078],[50.152422316290874,26.689663194275994],[50.21293541850467,26.27702688242537],[50.11330325704593,25.943972276304248],[50.23985883972874,25.608049628190923],[50.52738650900073,25.3278083358721],[50.660556675016885,24.99989553476402],[50.81010827006956,24.75474253997137],[51.11241539897701,24.55633087818672],[51.38960778179062,24.62738597258805],[51.57951867046326,24.2454971379511],[51.61770755392697,24.014219265228824],[52.00073327007432,23.001154486578937],[55.0068030129249,22.49694753670713],[55.20834109886319,22.70832998299704],[55.66665937685981,22.000001125572336],[54.999981723862355,19.999994004796104],[52.00000980002223,19.000003363516054],[49.11667158386486,18.61666758877494],[48.183343540241324,18.16666921637731],[47.466694777217626,17.116681626854877],[47.00000491718975,16.949999294497438],[46.74999433776164,17.283338120996174],[46.36665856302053,17.233315334537632],[45.39999922056875,17.333335069238554],[45.21665123879718,17.43332896572333],[44.06261315285507,17.41035879156959],[43.791518589051904,17.319976711491105],[43.3807943051961,17.579986680567668],[43.11579756040335,17.08844045660737],[43.218375278502734,16.666889960186406],[42.77933230975096,16.34789134364868]]]}},{type:"Feature",properties:{admin:"Sudan",name:"Sudan",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[33.96339279497118,9.464285229420623],[33.824963480907506,9.48406084571536],[33.842130853028145,9.981914637215992],[33.7219592481831,10.32526207963019],[33.20693808456178,10.72011163840659],[33.08676647971673,11.441141267476493],[33.20693808456178,12.179338268667093],[32.74341903730254,12.24800775714999],[32.67474954881964,12.024831919580716],[32.07389152459478,11.973329803218517],[32.314234734284746,11.681484477166519],[32.40007159488834,11.080626452941486],[31.85071568702551,10.531270545078822],[31.352861895524875,9.810240916008693],[30.837840731903377,9.707236683284519],[29.996639497988546,10.290927335388684],[29.618957311332842,10.084918869940223],[29.515953078608607,9.793073543888053],[29.000931914987166,9.604232450560287],[28.96659717074578,9.398223985111654],[27.970889587744345,9.398223985111654],[27.833550610778783,9.604232450560287],[27.112520981708876,9.638567194801622],[26.75200616717381,9.466893473594492],[26.477328213242508,9.552730334198086],[25.96230704962101,10.136420986302422],[25.790633328413943,10.411098940233726],[25.06960369934398,10.27375996326799],[24.79492574541268,9.810240916008693],[24.537415163602017,8.917537565731719],[24.194067721187643,8.728696472403895],[23.886979580860665,8.619729712933063],[23.805813429466745,8.666318874542522],[23.45901289235598,8.954285793489019],[23.39477908701729,9.26506785729225],[23.557249790142915,9.681218166538766],[23.554304233502187,10.089255275915319],[22.97754357269275,10.714462591998538],[22.864165480244246,11.142395127807616],[22.87622,11.38461000000012],[22.50869,11.67936],[22.49762,12.26024],[22.28801,12.64605],[21.93681,12.588180000000133],[22.03759,12.95546],[22.29658,13.37232],[22.18329,13.78648],[22.51202,14.09318],[22.30351,14.32682],[22.567950000000106,14.944290000000134],[23.02459,15.68072],[23.8868900000001,15.61084],[23.837660000000135,19.5804700000001],[23.85000000000013,20],[25.00000000000011,20.00304],[25.00000000000011,22],[29.02,22],[32.9,22],[36.86623,22],[37.18872,21.01885],[36.96941,20.837440000000125],[37.114700000000134,19.80796],[37.48179,18.61409],[37.86276,18.36786],[38.41008995947322,17.99830739997031],[37.9040000000001,17.42754],[37.16747,17.263140000000128],[36.85253000000011,16.95655],[36.75389,16.29186],[36.32322,14.82249],[36.42951,14.42211],[36.27022,13.563330000000118],[35.86363,12.57828],[35.26049,12.08286],[34.831630000000125,11.318960000000116],[34.73115000000012,10.910170000000106],[34.25745,10.63009],[33.96162,9.58358],[33.96339279497118,9.464285229420623]]]}},{type:"Feature",properties:{admin:"South Sudan",name:"S. Sudan",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[33.96339279497118,9.464285229420623],[33.97498,8.68456],[33.82550000000014,8.37916],[33.294800000000116,8.35458],[32.95418,7.7849700000001],[33.56829,7.71334],[34.0751,7.22595],[34.25032,6.82607],[34.70702,6.59422000000012],[35.298007118233095,5.506],[34.620196267853935,4.847122742082034],[34.005,4.249884947362147],[33.39,3.79],[32.68642,3.79232],[31.881450000000136,3.55827],[31.24556,3.7819],[30.83385,3.50917],[29.95349,4.1737],[29.715995314256013,4.600804755060152],[29.159078403446635,4.389267279473244],[28.696677687298795,4.455077215996993],[28.42899376802699,4.287154649264607],[27.979977247842946,4.408413397637388],[27.374226108517625,5.233944403500173],[27.21340905122525,5.550953477394613],[26.46590945812329,5.946717434101855],[26.213418409945113,6.546603298362127],[25.796647983511257,6.979315904158169],[25.124130893664805,7.500085150579422],[25.114932488716867,7.825104071479244],[24.56736901215219,8.229187933785452],[23.886979580860665,8.619729712933063],[24.194067721187643,8.728696472403895],[24.537415163602017,8.917537565731719],[24.79492574541268,9.810240916008693],[25.06960369934398,10.27375996326799],[25.790633328413943,10.411098940233726],[25.96230704962101,10.136420986302422],[26.477328213242508,9.552730334198086],[26.75200616717381,9.466893473594492],[27.112520981708876,9.638567194801622],[27.833550610778783,9.604232450560287],[27.970889587744345,9.398223985111654],[28.96659717074578,9.398223985111654],[29.000931914987166,9.604232450560287],[29.515953078608607,9.793073543888053],[29.618957311332842,10.084918869940223],[29.996639497988546,10.290927335388684],[30.837840731903377,9.707236683284519],[31.352861895524875,9.810240916008693],[31.85071568702551,10.531270545078822],[32.40007159488834,11.080626452941486],[32.314234734284746,11.681484477166519],[32.07389152459478,11.973329803218517],[32.67474954881964,12.024831919580716],[32.74341903730254,12.24800775714999],[33.20693808456178,12.179338268667093],[33.08676647971673,11.441141267476493],[33.20693808456178,10.72011163840659],[33.7219592481831,10.32526207963019],[33.842130853028145,9.981914637215992],[33.824963480907506,9.48406084571536],[33.96339279497118,9.464285229420623]]]}},{type:"Feature",properties:{admin:"Senegal",name:"Senegal",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[-16.713728807023468,13.594958604379853],[-17.12610673671261,14.37351573328922],[-17.625042690490655,14.72954051356407],[-17.185172898822227,14.91947724045286],[-16.70070634608592,15.621527411354107],[-16.46309811040788,16.135036119038457],[-16.120690070041928,16.45566254319338],[-15.623666144258689,16.36933706304981],[-15.135737270558813,16.58728241624078],[-14.577347581428977,16.598263658102805],[-14.099521450242175,16.30430227301049],[-13.43573767745306,16.039383042866188],[-12.830658331747513,15.303691514542942],[-12.1707502913803,14.616834214735503],[-12.124887457721256,13.994727484589784],[-11.927716030311613,13.422075100147392],[-11.553397793005427,13.141213690641063],[-11.467899135778522,12.754518947800973],[-11.513942836950587,12.442987575729415],[-11.658300950557928,12.386582749882834],[-12.20356482588563,12.465647691289401],[-12.278599005573438,12.354440008997285],[-12.499050665730561,12.332089952031053],[-13.217818162478235,12.575873521367964],[-13.700476040084322,12.586182969610192],[-15.548476935274005,12.628170070847343],[-15.81657426600425,12.515567124883345],[-16.14771684413058,12.547761542201185],[-16.67745195155457,12.38485158940105],[-16.84152462408127,13.151393947802557],[-15.931295945692208,13.13028412521133],[-15.691000535534991,13.270353094938455],[-15.511812506562931,13.278569647672864],[-15.141163295949463,13.509511623585235],[-14.712197231494626,13.298206691943774],[-14.277701788784553,13.28058502853224],[-13.844963344772404,13.505041612191999],[-14.046992356817478,13.794067898000446],[-14.376713833055785,13.62568024337737],[-14.687030808968483,13.63035696049978],[-15.081735398813816,13.876491807505982],[-15.398770310924457,13.860368760630916],[-15.624596320039936,13.623587347869556],[-16.713728807023468,13.594958604379853]]]}},{type:"Feature",properties:{admin:"Solomon Islands",name:"Solomon Is.",continent:"Australia"},geometry:{type:"MultiPolygon",coordinates:[[[[162.11902469304084,-10.482719008021133],[162.3986458681722,-10.826367282762119],[161.70003218001835,-10.820011081590222],[161.3197969912147,-10.204751478723123],[161.91738325423793,-10.446700534713653],[162.11902469304084,-10.482719008021133]]],[[[160.8522286318379,-9.872937106977002],[160.46258833235723,-9.89520964929484],[159.84944746321418,-9.794027194867367],[159.64000288313514,-9.639979750205269],[159.70294477766663,-9.242949720906777],[160.36295617089843,-9.400304457235533],[160.68851769433718,-9.610162448772808],[160.8522286318379,-9.872937106977002]]],[[[161.67998172428912,-9.599982191611373],[161.52939660059053,-9.784312025596433],[160.7882532086605,-8.917543226764918],[160.57999718652434,-8.320008640173965],[160.9200281110049,-8.320008640173965],[161.28000613834996,-9.12001148848445],[161.67998172428912,-9.599982191611373]]],[[[159.87502729719859,-8.337320244991714],[159.91740197167798,-8.538289890174864],[159.13367719953933,-8.114181410355398],[158.5861137229747,-7.754823500197713],[158.21114953026483,-7.421872246941147],[158.35997765526542,-7.320017998893915],[158.82000125552767,-7.56000335045739],[159.64000288313514,-8.020026950719567],[159.87502729719859,-8.337320244991714]]],[[[157.53842573468927,-7.347819919466928],[157.33941979393322,-7.404767347852554],[156.90203047101477,-7.176874281445391],[156.4913578635913,-6.765943291860394],[156.54282759015393,-6.599338474151478],[157.14000044171888,-7.021638278840653],[157.53842573468927,-7.347819919466928]]]]}},{type:"Feature",properties:{admin:"Sierra Leone",name:"Sierra Leone",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[-11.438779466182053,6.785916856305746],[-11.708194545935736,6.860098374860724],[-12.428098924193815,7.262942002792029],[-12.949049038128193,7.798645738145736],[-13.124025437868479,8.163946438016977],[-13.246550258832512,8.903048610871506],[-12.711957566773076,9.342711696810765],[-12.596719122762206,9.620188300001969],[-12.425928514037562,9.835834051955953],[-12.150338100625003,9.858571682164378],[-11.917277390988655,10.046983954300556],[-11.117481248407328,10.045872911006283],[-10.8391519840833,9.688246161330367],[-10.622395188835037,9.267910061068276],[-10.65477047366589,8.977178452994194],[-10.49431515139963,8.715540676300433],[-10.505477260774667,8.348896389189603],[-10.230093553091276,8.40620555260129],[-10.695594855176477,7.939464016141085],[-11.14670427086838,7.396706447779534],[-11.199801805048278,7.105845648624735],[-11.438779466182053,6.785916856305746]]]}},{type:"Feature",properties:{admin:"El Salvador",name:"El Salvador",continent:"North America"},geometry:{type:"Polygon",coordinates:[[[-87.79311113152656,13.384480495655051],[-87.9041121080895,13.149016831917134],[-88.48330156121679,13.163951320849488],[-88.84322791212969,13.259733588102474],[-89.25674272332928,13.4585328231293],[-89.81239356154764,13.520622056527994],[-90.09555457229095,13.73533763270073],[-90.06467790399657,13.881969509328924],[-89.7219339668207,14.134228013561694],[-89.5342193265205,14.244815578666302],[-89.58734269891654,14.362586167859485],[-89.35332597528277,14.424132798719112],[-89.05851192905764,14.340029405164085],[-88.84307288283281,14.140506700085169],[-88.54123084181597,13.980154730683475],[-88.50399797234968,13.845485948130854],[-88.06534257684012,13.964625962779774],[-87.85951534702158,13.89331248621698],[-87.72350297722939,13.785050360565503],[-87.79311113152656,13.384480495655051]]]}},{type:"Feature",properties:{admin:"Somaliland",name:"Somaliland",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[48.93812951029649,9.451748968946672],[48.486735874226994,8.837626247589979],[47.78942,8.003],[46.94832848489794,7.996876532417386],[43.67875,9.183580000000116],[43.296975132018744,9.540477403191742],[42.92812,10.02194000000014],[42.55876,10.572580000000126],[42.77685184100095,10.926878566934416],[43.14530480324213,11.462039699748853],[43.47065962095166,11.27770986576388],[43.666668328634834,10.864169216348158],[44.117803582542805,10.445538438351603],[44.61425906757085,10.44220530846894],[45.55694054543913,10.698029486529775],[46.645401238803,10.816549383991171],[47.52565758646278,11.127228094929986],[48.02159630716777,11.193063869669741],[48.37878380716926,11.375481675660122],[48.94820641459346,11.410621649618516],[48.94200524271842,11.394266058798163],[48.938491245322595,10.98232737878345],[48.938232863161076,9.973500067581481],[48.93812951029649,9.451748968946672]]]}},{type:"Feature",properties:{admin:"Somalia",name:"Somalia",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[49.72862,11.5789],[50.25878,11.67957],[50.73202,12.0219],[51.1112,12.02464],[51.13387,11.74815],[51.04153,11.16651],[51.04531,10.6409],[50.83418,10.27972],[50.55239,9.19874],[50.07092,8.08173],[49.4527,6.80466],[48.59455,5.33911],[47.74079,4.2194],[46.56476,2.85529],[45.56399,2.04576],[44.06815,1.05283],[43.13597,.2922],[42.04157,-.91916],[41.81095,-1.44647],[41.58513,-1.68325],[40.993,-.85829],[40.98105,2.78452],[41.855083092643966,3.918911920483726],[42.12861,4.23413],[42.76967,4.25259],[43.66087,4.95755],[44.9636,5.00162],[47.78942,8.003],[48.48673587422694,8.837626247589993],[48.93812951029644,9.451748968946616],[48.938232863161026,9.973500067581508],[48.93849124532248,10.982327378783465],[48.942005242718345,11.394266058798136],[48.94820475850973,11.410617281697961],[49.26776,11.43033],[49.72862,11.5789]]]}},{type:"Feature",properties:{admin:"Republic of Serbia",name:"Serbia",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[20.874312778413408,45.416375433934306],[21.483526238702204,45.181170152357865],[21.56202273935372,44.768947251965635],[22.145087924902892,44.47842234962057],[22.45902225107596,44.70251719825443],[22.705725538837434,44.578002834647],[22.47400841644065,44.40922760678176],[22.657149692483067,44.23492300066135],[22.410446404721593,44.00806346290005],[22.50015669118022,43.642814439461],[22.98601850758848,43.211161200527094],[22.604801466571352,42.89851878516111],[22.43659467946139,42.58032115332394],[22.545011834409642,42.461362006188025],[22.380525750424674,42.320259507815074],[21.917080000000105,42.30364],[21.576635989402117,42.24522439706185],[21.54332,42.32025],[21.66292,42.43922],[21.77505,42.6827],[21.63302,42.67717],[21.43866,42.86255],[21.27421,42.90959],[21.143395,43.06868500000012],[20.95651,43.13094],[20.81448,43.27205],[20.63508,43.21671],[20.49679,42.88469],[20.25758,42.81275],[20.3398,42.89852],[19.95857,43.10604],[19.63,43.21377997027052],[19.48389,43.35229],[19.21852,43.52384],[19.454,43.568100000000115],[19.59976,44.03847],[19.11761,44.42307],[19.36803,44.863],[19.00548,44.86023],[19.390475701584588,45.23651561134237],[19.072768995854172,45.52151113543208],[18.82982,45.90888],[19.596044549241636,46.17172984474455],[20.22019249846289,46.12746898048657],[20.76217492033998,45.73457306577148],[20.874312778413408,45.416375433934306]]]}},{type:"Feature",properties:{admin:"Suriname",name:"Suriname",continent:"South America"},geometry:{type:"Polygon",coordinates:[[[-57.147436489476874,5.973149929219161],[-55.949318406789786,5.772877915872],[-55.84177975119041,5.953125311706059],[-55.03325029155176,6.025291449401662],[-53.95804460307089,5.756548163267764],[-54.478632981979224,4.896755682795585],[-54.3995422023565,4.212611395683466],[-54.006930508018996,3.620037746592558],[-54.18172604024626,3.189779771330421],[-54.26970516622318,2.732391669115046],[-54.52475419779971,2.311848863123785],[-55.097587449755125,2.523748073736612],[-55.569755011605984,2.42150625244713],[-55.97332210958936,2.510363877773016],[-56.07334184429028,2.220794989425499],[-55.90560014507087,2.021995754398659],[-55.99569800477174,1.817667141116601],[-56.53938574891454,1.89952260986692],[-57.1500978257399,2.768926906745406],[-57.2814334784097,3.333491929534119],[-57.60156897645785,3.334654649260684],[-58.044694383360664,4.060863552258382],[-57.86020952007869,4.576801052260449],[-57.91428890647212,4.812626451024413],[-57.30724585633949,5.073566595882225],[-57.147436489476874,5.973149929219161]]]}},{type:"Feature",properties:{admin:"Slovakia",name:"Slovakia",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[18.85314415861361,49.496229763377634],[18.909574822676316,49.43584585224456],[19.32071251799047,49.57157400165918],[19.825022820726865,49.21712535256922],[20.41583947111985,49.431453355499755],[20.887955356538406,49.32877228453582],[21.607808058364206,49.47010732685408],[22.55813764821175,49.08573802346713],[22.280841912533553,48.82539215758066],[22.085608351334848,48.42226430927178],[21.87223636240173,48.31997081155001],[20.80129397958492,48.62385407164237],[20.473562045989862,48.56285004332181],[20.239054396249344,48.327567247096916],[19.76947065601311,48.2026911484636],[19.66136355965849,48.26661489520865],[19.174364861739885,48.11137889260386],[18.777024773847668,48.08176829690063],[18.696512892336923,47.88095368101439],[17.857132602620023,47.758428860050365],[17.488472934649813,47.86746613218621],[16.979666782304033,48.1234970159763],[16.879982944412998,48.47001333270946],[16.960288120194573,48.59698232685059],[17.101984897538895,48.8169688991171],[17.5450069515771,48.80001902932536],[17.886484816161808,48.903475246773695],[17.91351159025046,48.99649282489907],[18.10497277189185,49.0439834661753],[18.17049848803796,49.27151479755642],[18.399993523846174,49.315000515330034],[18.55497114428948,49.49501536721878],[18.85314415861361,49.496229763377634]]]}},{type:"Feature",properties:{admin:"Slovenia",name:"Slovenia",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[13.806475457421524,46.5093061386912],[14.632471551174827,46.431817328469535],[15.137091912504982,46.658702704447016],[16.011663852612653,46.68361074481169],[16.20229821133736,46.85238597267695],[16.370504998447412,46.8413272161665],[16.564808383864854,46.50375092221982],[15.768732944408548,46.23810822202344],[15.671529575267552,45.834153550797865],[15.323953891672403,45.73178253842767],[15.327674594797424,45.45231639259322],[14.935243767972931,45.47169505470267],[14.595109490627804,45.6349409043127],[14.41196821458541,45.466165676447446],[13.715059848697221,45.50032379819237],[13.937630242578305,45.59101593686461],[13.698109978905475,46.01677806251734],[13.806475457421524,46.5093061386912]]]}},{type:"Feature",properties:{admin:"Sweden",name:"Sweden",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[22.183173455501922,65.72374054632016],[21.213516879977213,65.02600535751526],[21.369631381930954,64.41358795842427],[19.778875766690216,63.60955434839502],[17.847779168375208,62.7494001328968],[17.11955488451812,61.341165676510954],[17.831346062906388,60.636583360427394],[18.787721795332086,60.08191437442258],[17.869224887776337,58.95376618105869],[16.829185011470084,58.719826972073385],[16.44770958829147,57.04111806907187],[15.87978559740378,56.10430186626865],[14.666681349352071,56.20088511822216],[14.100721062891461,55.40778107362264],[12.942910597392054,55.36173737245056],[12.625100538797025,56.307080186581956],[11.78794233566867,57.44181712506306],[11.027368605196866,58.856149400459344],[11.468271925511145,59.432393296946024],[12.300365838274896,60.117932847730025],[12.631146681375181,61.29357168237012],[11.99206424322156,61.80036245385654],[11.930569288794228,63.12831757267696],[12.57993533697393,64.06621898055832],[13.571916131248711,64.0491140814697],[13.9199052263022,64.44542064071607],[13.555689731509087,64.7870276963815],[15.108411492582999,66.19386688909546],[16.108712192456775,67.30245555283688],[16.76887861498548,68.01393667263139],[17.729181756265344,68.01055186631626],[17.99386844246433,68.56739126247734],[19.87855960458125,68.40719432237256],[20.025268995857882,69.06513865831269],[20.64559288908952,69.10624726020085],[21.978534783626113,68.61684560818068],[23.539473097434435,67.93600861273524],[23.565879754335576,66.39605093043741],[23.903378533633795,66.0069273952796],[22.183173455501922,65.72374054632016]]]}},{type:"Feature",properties:{admin:"Swaziland",name:"Swaziland",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[32.07166548028106,-26.733820082304902],[31.868060337051073,-27.17792734142127],[31.282773064913325,-27.28587940847899],[30.685961948374477,-26.743845310169526],[30.676608514129633,-26.398078301704604],[30.949666782359905,-26.022649021104144],[31.044079624157146,-25.731452325139436],[31.3331575863979,-25.660190525008943],[31.837777947728057,-25.84333180105134],[31.985779249811962,-26.29177988048022],[32.07166548028106,-26.733820082304902]]]}},{type:"Feature",properties:{admin:"Syria",name:"Syria",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[38.79234052913608,33.37868642835222],[36.83406212743554,32.31293752698077],[35.71991824722274,32.70919240979486],[35.700797967274745,32.716013698857374],[35.83639692560862,32.868123277308506],[35.82110070165023,33.27742645927629],[36.06646040217205,33.82491242119254],[36.611750115715886,34.201788641897174],[36.448194207512095,34.59393524834406],[35.99840254084363,34.6449140488],[35.90502322769222,35.41000946709732],[36.14976281102653,35.821534735653664],[36.41755008316303,36.04061697035505],[36.685389031731795,36.25969920505646],[36.739494256341395,36.81752045343108],[37.066761102045824,36.623036200500614],[38.16772749202419,36.901210435527766],[38.699891391765895,36.712927354472335],[39.52258019385254,36.716053778625984],[40.67325931169568,37.091276353497285],[41.21208947120304,37.07435232192169],[42.349591098811764,37.22987254490409],[41.837064243340954,36.60585378676357],[41.28970747250545,36.35881460219226],[41.38396528500581,35.62831655531435],[41.00615888851992,34.41937226006211],[38.79234052913608,33.37868642835222]]]}},{type:"Feature",properties:{admin:"Chad",name:"Chad",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[14.495787387762899,12.859396267137353],[14.595781284247604,13.330426947477859],[13.954476759505607,13.353448798063765],[13.956698846094124,13.996691189016925],[13.540393507550785,14.36713369390122],[13.97217,15.68437],[15.247731154041842,16.62730581305078],[15.300441114979716,17.927949937405],[15.68574059414777,19.957180080642384],[15.90324669766431,20.3876189234175],[15.487148064850143,20.730414537025634],[15.47106,21.04845],[15.096887648181847,21.308518785074902],[14.8513,22.86295000000012],[15.86085,23.40972],[19.84926,21.49509],[23.837660000000135,19.5804700000001],[23.8868900000001,15.61084],[23.02459,15.68072],[22.567950000000106,14.944290000000134],[22.30351,14.32682],[22.51202,14.09318],[22.18329,13.78648],[22.29658,13.37232],[22.03759,12.95546],[21.93681,12.588180000000133],[22.28801,12.64605],[22.49762,12.26024],[22.50869,11.67936],[22.87622,11.38461000000012],[22.864165480244246,11.142395127807616],[22.231129184668756,10.971888739460608],[21.723821648859538,10.567055568885959],[21.000868361096305,9.475985215691479],[20.059685499764267,9.012706000194838],[19.09400800952607,9.074846910025768],[18.81200971850927,8.982914536978623],[18.91102176278059,8.630894680206435],[18.389554884523303,8.28130361575188],[17.964929640380884,7.890914008002992],[16.705988396886365,7.508327541529978],[16.4561845231874,7.734773667832938],[16.290561557691884,7.754307359239417],[16.10623172370674,7.497087917506461],[15.279460483469164,7.42192454673801],[15.436091749745737,7.692812404811887],[15.120865512765302,8.382150173369437],[14.979995558337688,8.796104234243442],[14.544466586981851,8.965861314322238],[13.954218377344088,9.549494940626685],[14.17146609869911,10.021378282100043],[14.627200555081057,9.920919297724591],[14.909353875394796,9.992129421422758],[15.46787275560524,9.982336737503543],[14.923564894275042,10.891325181517514],[14.96015180833768,11.555574042197234],[14.89336,12.21905],[14.495787387762899,12.859396267137353]]]}},{type:"Feature",properties:{admin:"Togo",name:"Togo",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[1.865240512712318,6.14215770102973],[1.060121697604927,5.928837388528875],[.836931186536333,6.279978745952147],[.570384148774849,6.914358628767188],[.490957472342245,7.411744289576474],[.712029249686878,8.312464504423827],[.461191847342121,8.677222601756013],[.365900506195885,9.46500397382948],[.367579990245389,10.191212876827176],[-.049784715159944,10.706917832883928],[.023802524423701,11.018681748900802],[.899563022474069,10.997339382364258],[.772335646171484,10.470808213742357],[1.077795037448737,10.175606594275022],[1.425060662450136,9.825395412632998],[1.46304284018467,9.334624335157086],[1.664477573258381,9.128590399609378],[1.618950636409238,6.832038072126236],[1.865240512712318,6.14215770102973]]]}},{type:"Feature",properties:{admin:"Thailand",name:"Thailand",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[102.58493248902667,12.186594956913279],[101.68715783081993,12.645740057826568],[100.83180952352484,12.627084865769204],[100.97846723836919,13.412721665902563],[100.0977974792511,13.40685639083743],[100.01873253784453,12.307001044153353],[99.4789205261236,10.846366685423545],[99.15377241414313,9.963061428258554],[99.22239871622675,9.239255479362425],[99.87383182169812,9.207862046745118],[100.2796468444862,8.29515289960605],[100.45927412313273,7.429572658717175],[101.0173279154527,6.856868597842476],[101.62307905477803,6.740622463401918],[102.14118696493637,6.221636053894626],[101.81428185425797,5.810808417174242],[101.15421878459384,5.691384182147713],[101.07551557821333,6.20486705161592],[100.25959638875693,6.642824815289542],[100.08575687052709,6.46448944745029],[99.69069054565573,6.848212795433595],[99.5196415547696,7.343453884302759],[98.98825280151229,7.907993068875325],[98.50378624877597,8.382305202666286],[98.33966189981699,7.794511623562384],[98.15000939330581,8.350007432483876],[98.25915001830623,8.9739228377598],[98.55355065307302,9.932959906448543],[99.03812055867395,10.960545762572435],[99.5872860046397,11.892762762901695],[99.19635379435164,12.804748439988666],[99.21201175333607,13.269293728076462],[99.09775516153873,13.827502549693275],[98.43081912637986,14.622027696180831],[98.19207400919137,15.12370250087035],[98.53737592976569,15.30849742274608],[98.90334842325673,16.177824204976115],[98.49376102091132,16.837835598207928],[97.85912275593485,17.567946071843657],[97.37589643757352,18.44543773037581],[97.7977828308044,18.62708038988175],[98.25372399291558,19.70820302986004],[98.95967573445485,19.752980658440944],[99.54330936075928,20.186597601802056],[100.11598758341782,20.41784963630818],[100.54888105672686,20.109237982661124],[100.60629357300313,19.508344427971217],[101.28201460165167,19.46258494717676],[101.03593143107774,18.40892833096161],[101.05954756063514,17.512497259994486],[102.11359175009245,18.10910167080416],[102.41300499879159,17.93278168382428],[102.9987056823877,17.961694647691598],[103.20019209189373,18.30963206631277],[103.95647667848529,18.240954087796872],[104.71694705609247,17.428858954330078],[104.77932050986877,16.441864935771445],[105.58903852745013,15.570316066952856],[105.54433841351766,14.723933620660414],[105.21877689007887,14.27321177821069],[104.28141808473659,14.416743068901363],[102.9884220723616,14.225721136934464],[102.348099399833,13.39424734135822],[102.58493248902667,12.186594956913279]]]}},{type:"Feature",properties:{admin:"Tajikistan",name:"Tajikistan",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[71.01419803252016,40.244365546218226],[70.64801883329996,39.93575389257116],[69.5596098163685,40.10321137141297],[69.46488691597752,39.52668325454869],[70.5491618183256,39.60419790298649],[71.78469363799199,39.27946320246436],[73.67537926625478,39.431236884105594],[73.92885216664641,38.505815334622724],[74.25751427602272,38.60650686294344],[74.86481570831681,38.37884634048159],[74.82998579295209,37.99000702570139],[74.9800024758954,37.41999013930589],[73.94869591664649,37.421566270490786],[73.26005577992498,37.495256862938994],[72.63688968291727,37.04755809177835],[72.19304080596238,36.94828766534566],[71.84463829945058,36.738171291646914],[71.44869347523023,37.06564484308051],[71.54191775908477,37.90577444106563],[71.23940392444815,37.95326508234188],[71.34813113799025,38.258905341132156],[70.80682050973287,38.48628164321641],[70.37630415230927,38.138395901027515],[70.27057417184012,37.73516469985401],[70.11657840361032,37.588222764632086],[69.51878543485795,37.60899669041341],[69.19627282092436,37.15114350030742],[68.85944583524592,37.34433584243059],[68.13556237170137,37.0231151393043],[67.8299996275595,37.14499400486468],[68.39203250516594,38.15702525486873],[68.17602501818591,38.9015534531139],[67.4422196796413,39.14014354100548],[67.70142866401734,39.58047842056452],[68.53641645698941,39.53345286717892],[69.01163292834548,40.08615814875665],[69.32949466337281,40.72782440852484],[70.66662234892503,40.96021332454141],[70.45815962105961,40.49649485937028],[70.60140669137267,40.218527330072284],[71.01419803252016,40.244365546218226]]]}},{type:"Feature",properties:{admin:"Turkmenistan",name:"Turkmenistan",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[61.21081709172573,35.65007233330922],[61.12307050969413,36.49159719496624],[60.377637973883864,36.52738312432836],[59.234761997316795,37.412987982730336],[58.43615441267819,37.522309475243794],[57.330433790928964,38.02922943781093],[56.619366082592805,38.12139435480348],[56.18037479027332,37.93512665460742],[55.511578403551894,37.96411713312315],[54.80030398948656,37.39242076267818],[53.92159793479554,37.198918361961255],[53.735511102112504,37.906136176091685],[53.88092858258183,38.95209300389535],[53.101027866432894,39.29057363540712],[53.357808058491216,39.97528636327444],[52.69397260926981,40.033629055331964],[52.91525109234361,40.87652334244472],[53.85813927594112,40.631034450842165],[54.736845330632136,40.951014919593455],[54.0083109881813,41.551210842447404],[53.721713494690576,42.123191433270016],[52.91674970888007,41.86811656347732],[52.81468875510361,41.135370591794704],[52.502459751196135,41.783315538086356],[52.94429324729164,42.116034247397586],[54.07941775901494,42.32410940202082],[54.755345493392625,42.04397146256656],[55.455251092353755,41.259859117185826],[55.9681913592829,41.308641669269356],[57.09639122907909,41.32231008561056],[56.93221520368779,41.82602610937559],[57.786529982337065,42.17055288346551],[58.62901085799145,42.751551011723045],[59.97642215356977,42.2230819768902],[60.083340691981654,41.42514618587139],[60.46595299667068,41.22032664648254],[61.54717898951355,41.2663703476546],[61.88271406438468,41.08485687922939],[62.37426028834499,40.05388621679038],[63.51801476426102,39.36325653742563],[64.17022301621675,38.89240672459823],[65.21599897650738,38.40269501398429],[66.5461503437002,37.974684963526855],[66.51860680528866,37.362784328758785],[66.21738488145932,37.39379018813391],[65.74563073106681,37.66116404881206],[65.58894778835783,37.30521678318563],[64.74610517767739,37.1118177353333],[64.54647911973389,36.31207326918426],[63.982895949158696,36.007957465146596],[63.19353844590034,35.85716563571891],[62.98466230657659,35.404040839167614],[62.23065148300588,35.27066396742229],[61.21081709172573,35.65007233330922]]]}},{type:"Feature",properties:{admin:"East Timor",name:"Timor-Leste",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[124.96868248911619,-8.892790215697081],[125.08624637258025,-8.656887302284678],[125.94707238169823,-8.432094821815033],[126.64470421763852,-8.39824675866385],[126.95724328013979,-8.273344821814396],[127.33592817597462,-8.3973165828826],[126.96799197805652,-8.668256117388891],[125.92588504445857,-9.106007175333351],[125.08852013560107,-9.393173109579292],[125.07001997284058,-9.08998748132287],[124.96868248911619,-8.892790215697081]]]}},{type:"Feature",properties:{admin:"Trinidad and Tobago",name:"Trinidad and Tobago",continent:"North America"},geometry:{type:"Polygon",coordinates:[[[-61.68,10.76],[-61.105,10.89],[-60.895,10.855],[-60.935,10.11],[-61.77,10],[-61.95,10.09],[-61.66,10.365],[-61.68,10.76]]]}},{type:"Feature",properties:{admin:"Tunisia",name:"Tunisia",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[9.482139926805273,30.30755605724618],[9.055602654668148,32.102691962201284],[8.439102817426116,32.506284898400814],[8.430472853233367,32.748337307255944],[7.612641635782181,33.344114895148955],[7.524481642292242,34.09737641045145],[8.140981479534302,34.65514598239378],[8.376367628623766,35.47987600355594],[8.217824334352313,36.43317698826027],[8.420964389691674,36.946427313783154],[9.509993523810605,37.34999441176653],[10.210002475636315,37.23000173598481],[10.18065026209453,36.72403778741507],[11.028867221733348,37.09210317641395],[11.10002566899925,36.89999603936891],[10.600004510143092,36.41000010837737],[10.593286573945134,35.947444362932806],[10.939518670300686,35.69898407647349],[10.807847120821007,34.83350718844918],[10.149592726287123,34.3307730168977],[10.339658644256613,33.78574168551531],[10.856836378633684,33.768740139291275],[11.108500603895118,33.29334280042219],[11.488787469131008,33.136995754523134],[11.432253452203692,32.36890310315287],[10.944789666394453,32.08181468355536],[10.636901482799484,31.761420803345747],[9.95022505050508,31.37606964774525],[10.056575148161752,30.961831366493595],[9.97001712407285,30.539324856075236],[9.482139926805273,30.30755605724618]]]}},{type:"Feature",properties:{admin:"Turkey",name:"Turkey",continent:"Asia"},geometry:{type:"MultiPolygon",coordinates:[[[[36.91312706884215,41.33535838476429],[38.3476648292645,40.94858612727571],[39.51260664242024,41.10276276301856],[40.373432651538245,41.01367259374734],[41.55408410011071,41.535656236327604],[42.61954878110455,41.58317271581992],[43.582745802592704,41.09214325618256],[43.75265791196849,40.74020091405881],[43.65643639504096,40.25356395116616],[44.40000857928876,40.0050003118423],[44.79398969908199,39.71300263117703],[44.109225294782355,39.42813629816805],[44.421402622257595,38.28128123631451],[44.22575564960052,37.971584377589345],[44.77269900897774,37.17044464776844],[44.29345177590285,37.00151439060635],[43.94225874204734,37.25622752537293],[42.77912560402185,37.3852635768058],[42.349591098811764,37.229872544904104],[41.212089471203015,37.07435232192173],[40.6732593116957,37.091276353497356],[39.52258019385251,36.71605377862601],[38.69989139176592,36.71292735447231],[38.167727492024156,36.90121043552778],[37.066761102045824,36.623036200500614],[36.73949425634137,36.81752045343111],[36.685389031731816,36.2596992050565],[36.417550083163086,36.040616970355096],[36.149762811026584,35.821534735653664],[35.78208499526985,36.274995429014915],[36.16082156753705,36.65060557712837],[35.550936313628334,36.565442816711325],[34.71455325698437,36.79553213149091],[34.026894972476455,36.219960028623966],[32.509158156064096,36.10756378838919],[31.69959516777956,36.6442752141726],[30.62162479017106,36.67786489516231],[30.391096225717114,36.26298065850698],[29.69997562024556,36.144357408181],[28.732902866335387,36.67683136651643],[27.641186557737363,36.65882212986275],[27.04876793794329,37.653360907536005],[26.318218214633042,38.20813324640538],[26.804700148228726,38.98576019953355],[26.170785353304375,39.46361216893646],[27.280019972449388,40.4200137395783],[28.81997765474721,40.46001129817221],[29.240003696415574,41.21999074967268],[31.145933872204434,41.08762156835706],[32.347979363745786,41.73626414648463],[33.51328291192751,42.018960069337304],[35.16770389175186,42.04022492122544],[36.91312706884215,41.33535838476429]]],[[[27.192376743282406,40.69056570084245],[26.358009067497782,40.15199392349648],[26.043351271272535,40.61775360774316],[26.056942172965332,40.824123440100735],[26.29460208507569,40.936261298174166],[26.604195590936282,41.56211456966101],[26.117041863720825,41.826904608724554],[27.135739373490505,42.14148489030131],[27.996720411905407,42.00735871028777],[28.11552452974444,41.62288605403628],[28.98844282401878,41.299934190428175],[28.806438429486743,41.05496206314853],[27.619017368284112,40.9998233098931],[27.192376743282406,40.69056570084245]]]]}},{type:"Feature",properties:{admin:"Taiwan",name:"Taiwan",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[121.7778178243899,24.394273586519393],[121.17563235889271,22.790857245367164],[120.7470797058962,21.970571397382106],[120.22008344938365,22.814860948166732],[120.10618859261237,23.55626272225823],[120.69467980355223,24.53845083261373],[121.49504438688875,25.29545888925738],[121.95124393116143,24.997595933527034],[121.7778178243899,24.394273586519393]]]}},{type:"Feature",properties:{admin:"United Republic of Tanzania",name:"Tanzania",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[33.90371119710459,-.95],[34.07262,-1.05982],[37.69869,-3.09699],[37.7669,-3.67712],[39.20222,-4.67677],[38.74054,-5.90895],[38.79977,-6.47566],[39.44,-6.84],[39.470000000000134,-7.1],[39.19469,-7.7039],[39.25203,-8.00781],[39.18652,-8.48551],[39.53574,-9.112369999999883],[39.9496,-10.0984],[40.31659,-10.317099999999867],[39.521,-10.89688],[38.42755659358777,-11.285202325081626],[37.82764,-11.26879],[37.47129,-11.56876],[36.775150994622884,-11.59453744878078],[36.5140816586844,-11.720938002166745],[35.312397902169145,-11.439146416879165],[34.55998904799945,-11.520020033415845],[34.28,-10.16],[33.94083772409652,-9.693673841980283],[33.73972,-9.41715],[32.75937544122137,-9.230599053589001],[32.191864861791935,-8.930358981973255],[31.55634809746663,-8.762048841998647],[31.157751336950064,-8.594578747317312],[30.74,-8.34],[30.2,-7.08],[29.62,-6.52],[29.419992710088305,-5.939998874539297],[29.519986606573063,-5.419978936386257],[29.339997592900367,-4.499983412294113],[29.753512404099858,-4.452389418153301],[30.11632,-4.09012],[30.50554,-3.56858],[30.75224,-3.35931],[30.74301,-3.03431],[30.52766,-2.80762],[30.46967,-2.41383],[30.758308953583132,-2.287250257988375],[30.816134881317844,-1.698914076345374],[30.41910485201929,-1.134659112150416],[30.7698600000001,-1.01455],[31.86617,-1.02736],[33.90371119710459,-.95]]]}},{type:"Feature",properties:{admin:"Uganda",name:"Uganda",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[31.86617,-1.02736],[30.7698600000001,-1.01455],[30.41910485201929,-1.134659112150416],[29.82151858899612,-1.443322442229771],[29.57946618014102,-1.341313164885605],[29.587837762172164,-.587405694179381],[29.8195,-.2053],[29.87577884290243,.597379868976361],[30.086153598762785,1.062312730306416],[30.468507521290285,1.583805446779706],[30.852670118948133,1.849396470543752],[31.174149204235952,2.204465236821306],[30.77332,2.339890000000139],[30.83385,3.50917],[31.24556,3.7819],[31.88145,3.55827],[32.68642,3.79232],[33.39,3.79],[34.005,4.249884947362147],[34.47913,3.5556],[34.59607,3.053740000000118],[35.03599,1.90584],[34.6721,1.17694],[34.18,.515],[33.893568969666994,.109813537861839],[33.90371119710459,-.95],[31.86617,-1.02736]]]}},{type:"Feature",properties:{admin:"Ukraine",name:"Ukraine",continent:"Europe"},geometry:{type:"Polygon",coordinates:[[[31.78599816257158,52.10167796488544],[32.15941206231266,52.061266994833204],[32.412058139787625,52.288694973349735],[32.715760532366964,52.23846548116204],[33.7526998227357,52.33507457133168],[34.391730584457,51.76888174092578],[34.141978387190385,51.566413479206226],[34.22481570815426,51.25599315042894],[35.02218305841787,51.207572333371445],[35.377923618315116,50.77395539001034],[35.35611616388794,50.577197374059054],[36.62616784032533,50.22559092874513],[37.393459506995065,50.383953355503586],[38.01063113785689,49.91566152607462],[38.59498823421341,49.92646190042362],[40.0690584653391,49.60105540628169],[40.08078901546934,49.30742991799927],[39.674663934087526,48.78381846780187],[39.895632358567575,48.232405097031425],[39.73827762223882,47.89893707945198],[38.770584751141186,47.82560822202981],[38.25511233902974,47.54640045835681],[38.22353803889941,47.10218984637587],[37.42513715998998,47.0222205674042],[36.75985477066438,46.69870026304092],[35.82368452326482,46.645964463887054],[34.96234174982387,46.273196519549636],[35.02078779474598,45.65121898048465],[35.51000857925316,45.40999339454618],[36.52999799983015,45.46998973243705],[36.334712762199146,45.11321564389395],[35.23999922052811,44.9399962428516],[33.88251102065288,44.361478583344066],[33.32642093276004,44.564877020844875],[33.54692426934945,45.03477081967488],[32.454174432105496,45.32746613217606],[32.63080447767913,45.519185695978905],[33.58816206231838,45.85156850848023],[33.298567335754704,46.08059845639783],[31.74414025241517,46.33334788673738],[31.6753072446024,46.70624502215553],[30.748748813609094,46.583100084003995],[30.37760867688888,46.03241018328566],[29.603289015427425,45.29330801043112],[29.149724969201646,45.46492544207244],[28.67977949393937,45.30403087013169],[28.233553501099035,45.48828318946837],[28.48526940279276,45.59690705014589],[28.659987420371575,45.93998688413163],[28.93371748222162,46.25883047137249],[28.862972446414055,46.437889309263824],[29.072106967899288,46.51767772072248],[29.17065392427988,46.37926239682869],[29.759971958136383,46.349987697935354],[30.024658644335364,46.42393667254503],[29.83821007662629,46.525325832701675],[29.908851759569295,46.67436066343145],[29.559674106573105,46.92858287209131],[29.415135125452732,47.34664520933257],[29.05086795422732,47.51022695575249],[29.122698195113024,47.84909516050646],[28.670891147585163,48.11814850523409],[28.259546746541837,48.155562242213406],[27.52253746919515,48.4671194525011],[26.857823520624798,48.36821076109449],[26.61933678559779,48.22072622333346],[26.197450392366925,48.22088125263034],[25.945941196402394,47.98714874937421],[25.207743361112986,47.89105642352746],[24.86631717296057,47.73752574318831],[24.402056105250374,47.98187775328042],[23.760958286237404,47.98559845640545],[23.1422363624068,48.09634105080694],[22.710531447040488,47.882193915389394],[22.640819939878746,48.15023956968735],[22.085608351334848,48.42226430927178],[22.280841912533553,48.82539215758066],[22.55813764821175,49.08573802346713],[22.77641889821262,49.02739533140961],[22.518450148211596,49.476773586619736],[23.42650841644439,50.30850576435745],[23.92275719574326,50.42488108987874],[24.0299857927489,50.705406602575174],[23.52707075368437,51.57845408793023],[24.005077752384206,51.61744395609445],[24.55310631683951,51.88846100524918],[25.327787713327005,51.91065603291854],[26.33795861176855,51.832288723347915],[27.454066196408426,51.59230337178446],[28.241615024536564,51.57222707783906],[28.61761274589224,51.427713934934836],[28.992835320763522,51.60204437927146],[29.25493818534792,51.36823436136688],[30.15736372246089,51.416138414101454],[30.55511722181145,51.31950348571564],[30.619454380014837,51.82280609802236],[30.927549269338975,52.04235342061438],[31.78599816257158,52.10167796488544]]]}},{type:"Feature",properties:{admin:"Uruguay",name:"Uruguay",continent:"South America"},geometry:{type:"Polygon",coordinates:[[[-57.625133429582945,-30.216294854454258],[-56.97602576356472,-30.10968637463612],[-55.97324459494093,-30.883075860316296],[-55.60151017924933,-30.853878676071385],[-54.572451544805105,-31.494511407193745],[-53.787951626182185,-32.04724252698762],[-53.20958899597153,-32.72766611097472],[-53.650543992718084,-33.20200408298182],[-53.37366166849823,-33.76837778090076],[-53.80642595072652,-34.396814874002224],[-54.935866054897716,-34.95264657973362],[-55.674089728403274,-34.752658786764066],[-56.21529700379605,-34.85983570733741],[-57.139685024633096,-34.43045623142424],[-57.81786068381549,-34.46254729587749],[-58.42707414410438,-33.90945444105757],[-58.349611172098854,-33.2631889788154],[-58.13264767112143,-33.04056690850201],[-58.14244035504075,-32.04450367607615],[-57.874937303281875,-31.0165560849262],[-57.625133429582945,-30.216294854454258]]]}},{type:"Feature",properties:{admin:"United States of America",name:"United States",continent:"North America"},geometry:{type:"MultiPolygon",coordinates:[[[[-155.54211,19.08348],[-155.68817,18.91619],[-155.93665,19.05939],[-155.90806,19.33888],[-156.07347,19.70294],[-156.02368,19.81422],[-155.85008,19.97729],[-155.91907,20.17395],[-155.86108,20.26721],[-155.78505,20.2487],[-155.40214,20.07975],[-155.22452,19.99302],[-155.06226,19.8591],[-154.80741,19.50871],[-154.83147,19.45328],[-155.2221699999999,19.23972],[-155.54211,19.08348]]],[[[-156.07926,20.64397],[-156.41445,20.57241],[-156.58673,20.783],[-156.70167,20.8643],[-156.71055,20.92676],[-156.61258,21.01249],[-156.25711,20.91745],[-155.99566,20.76404],[-156.07926,20.64397]]],[[[-156.75824,21.17684],[-156.78933,21.06873],[-157.32521,21.09777],[-157.25027,21.21958],[-156.75824,21.17684]]],[[[-157.65283,21.32217],[-157.70703,21.26442],[-157.7786,21.27729],[-158.12667,21.31244],[-158.2538,21.53919],[-158.29265,21.57912],[-158.0252,21.71696],[-157.94161,21.65272],[-157.65283,21.32217]]],[[[-159.34512,21.982],[-159.46372,21.88299],[-159.80051,22.06533],[-159.74877,22.1382],[-159.5962,22.23618],[-159.36569,22.21494],[-159.34512,21.982]]],[[[-94.81758,49.38905],[-94.63999999999986,48.8400000000001],[-94.32914,48.67074],[-93.63087,48.60926],[-92.61,48.45],[-91.64,48.14],[-90.82999999999986,48.27],[-89.6,48.01],[-89.27291744663665,48.019808254582834],[-88.37811418328651,48.302917588893806],[-87.4397926233002,47.94],[-86.46199083122814,47.55333801939204],[-85.65236324740322,47.2202188177305],[-84.87607988151485,46.900083319682366],[-84.77923824739982,46.63710195574912],[-84.54374874544564,46.538684190449224],[-84.6049,46.4396],[-84.3367,46.4087700000001],[-84.14211951367328,46.51222585711572],[-84.09185126416146,46.27541860613825],[-83.89076534700565,46.11692698829915],[-83.61613094759049,46.11692698829915],[-83.46955074739462,45.994686387712584],[-83.59285071484307,45.81689362241254],[-82.55092464875817,45.347516587905446],[-82.33776312543105,44.44],[-82.13764238150395,43.57108755143999],[-82.43,42.98],[-82.89999999999988,42.430000000000135],[-83.11999999999988,42.08],[-83.14199968131256,41.975681057292995],[-83.02981014680691,41.832795722006],[-82.69008928092016,41.67510508886732],[-82.43927771679161,41.67510508886732],[-81.27774654816706,42.209025987306845],[-80.24744767934784,42.36619985612267],[-78.93936214874368,42.863611355148116],[-78.92,42.965],[-79.00999999999986,43.27],[-79.17167355011186,43.4663394231843],[-78.72027991404237,43.62508942318495],[-77.7378850979576,43.62905558936338],[-76.82003414580556,43.62878428809375],[-76.5,44.0184588937586],[-76.375,44.09631],[-75.31821,44.81645000000016],[-74.867,45.00048000000011],[-73.34782999999987,45.00738],[-71.50505999999986,45.0082],[-71.405,45.25500000000012],[-71.08482,45.305240000000154],[-70.65999999999978,45.46],[-70.305,45.915],[-69.99997,46.69307],[-69.237216,47.447781],[-68.905,47.185],[-68.23444,47.35486],[-67.79046,47.06636],[-67.79134,45.702810000000134],[-67.13741,45.13753],[-66.96466,44.80970000000015],[-68.03252,44.3252],[-69.05999999999987,43.98],[-70.1161699999999,43.68405000000014],[-70.64547563341097,43.09023834896404],[-70.81489,42.8653],[-70.825,42.335],[-70.49499999999989,41.805],[-70.08,41.78],[-70.185,42.145],[-69.88497,41.92283000000011],[-69.96503,41.63717000000016],[-70.64,41.475],[-71.12039,41.494450000000164],[-71.85999999999983,41.32],[-72.295,41.27],[-72.87643,41.22065],[-73.71,40.93110235165448],[-72.24126,41.11948000000014],[-71.94499999999981,40.93],[-73.345,40.63],[-73.982,40.628],[-73.952325,40.75075],[-74.25671,40.47351],[-73.96244,40.42763],[-74.17838,39.70926],[-74.90604,38.93954],[-74.98041,39.1964],[-75.20002,39.24845],[-75.52805,39.4985],[-75.32,38.96],[-75.07183476478978,38.782032230179276],[-75.05673,38.404120000000106],[-75.37747,38.01551],[-75.94023,37.21689],[-76.03127,37.2566],[-75.72204999999978,37.937050000000106],[-76.23287,38.319215],[-76.35,39.15],[-76.542725,38.717615],[-76.32933,38.08326],[-76.98999793161353,38.239991766913384],[-76.30161999999989,37.917945],[-76.25874,36.9664000000001],[-75.9718,36.89726],[-75.86803999999981,36.55125],[-75.72749,35.550740000000125],[-76.36318,34.80854000000013],[-77.39763499999988,34.51201],[-78.05496,33.92547],[-78.55434999999981,33.861330000000116],[-79.06067,33.49395],[-79.20357,33.15839],[-80.301325,32.509355],[-80.86498,32.0333],[-81.33629,31.44049],[-81.49042,30.72999000000012],[-81.31371,30.03552],[-80.98,29.18000000000011],[-80.53558499999987,28.47213],[-80.52999999999977,28.04],[-80.05653928497753,26.88000000000013],[-80.088015,26.205765],[-80.13155999999984,25.816775],[-80.38103,25.20616],[-80.67999999999988,25.08],[-81.17213,25.201260000000126],[-81.33,25.64],[-81.7099999999998,25.87],[-82.2399999999999,26.730000000000125],[-82.70515,27.49504],[-82.85526,27.88624],[-82.65,28.550000000000146],[-82.92999999999986,29.10000000000013],[-83.70959,29.93656],[-84.1,30.090000000000114],[-85.10882,29.63615],[-85.28784,29.686120000000127],[-85.7731,30.152610000000116],[-86.39999999999988,30.400000000000112],[-87.53035999999983,30.27433],[-88.41782,30.3849],[-89.18048999999984,30.31598],[-89.59383117841975,30.159994004836843],[-89.413735,29.89419],[-89.43,29.48864],[-89.21767,29.29108],[-89.40823,29.15961],[-89.77928,29.307140000000135],[-90.15463,29.11743],[-90.8802249999999,29.148535000000116],[-91.62678499999984,29.677000000000127],[-92.49906,29.5523],[-93.22637,29.78375],[-93.84842,29.71363],[-94.69,29.480000000000125],[-95.60026,28.73863],[-96.59404,28.30748],[-97.1399999999998,27.83],[-97.37,27.38],[-97.37999999999985,26.69],[-97.33,26.210000000000115],[-97.1399999999998,25.87],[-97.52999999999986,25.84],[-98.2399999999999,26.06000000000011],[-99.01999999999985,26.37],[-99.3,26.84],[-99.52,27.54],[-100.11,28.11000000000012],[-100.45584,28.696120000000118],[-100.95759999999989,29.380710000000125],[-101.6624,29.779300000000113],[-102.48,29.76],[-103.11,28.97],[-103.94,29.27],[-104.45696999999981,29.57196],[-104.7057499999999,30.12173],[-105.03737,30.64402],[-105.63159,31.083830000000113],[-106.1429,31.39995],[-106.5075899999998,31.75452],[-108.24,31.754853718166398],[-108.24194,31.34222],[-109.035,31.34194000000016],[-111.02361,31.33472],[-113.30498,32.03914],[-114.815,32.52528],[-114.72138999999983,32.72083],[-115.99134999999987,32.61239000000014],[-117.12775999999975,32.53534],[-117.29593769127386,33.04622461520389],[-117.944,33.62123643120139],[-118.41060227589747,33.7409092231245],[-118.51989482279969,34.027781577575745],[-119.081,34.078],[-119.43884064201666,34.34847717828429],[-120.36778,34.44711],[-120.62286,34.60855],[-120.74433,35.1568600000001],[-121.71456999999985,36.16153],[-122.54747,37.5517600000001],[-122.51201,37.78339000000013],[-122.95319,38.113710000000104],[-123.7272,38.95166000000011],[-123.86516999999988,39.76699000000013],[-124.39807,40.3132],[-124.17886,41.14202000000011],[-124.2137,41.999640000000134],[-124.5328399999999,42.76599],[-124.14214,43.70838],[-124.020535,44.615895],[-123.8989299999999,45.52341],[-124.079635,46.86475],[-124.3956699999999,47.72017],[-124.68721008300781,48.18443298339854],[-124.56610107421874,48.379714965820384],[-123.12,48.04],[-122.58735999999988,47.096],[-122.34,47.36],[-122.5,48.18],[-122.84,49],[-120,49],[-117.03121,49],[-116.04818,49],[-112.99999999999987,49],[-110.04999999999981,49],[-107.0499999999999,49],[-104.04826,48.99986],[-100.65,49],[-97.2287200000047,49.0007],[-95.15906950917194,49],[-95.15609,49.38425],[-94.81758,49.38905]]],[[[-153.00631405333684,57.11584219016588],[-154.0050902984581,56.73467682558105],[-154.51640275777007,56.99274892844669],[-154.6709928049711,57.46119578717249],[-153.76277950744145,57.81657461204377],[-153.22872941792107,57.96896841087242],[-152.5647906158351,57.90142731386696],[-152.14114722390627,57.59105866152198],[-153.00631405333684,57.11584219016588]]],[[[-165.57916419173355,59.90998688418754],[-166.19277014876724,59.75444082298896],[-166.84833736882194,59.94140615502094],[-167.45527706609005,60.213069159579376],[-166.46779212142457,60.384169826897775],[-165.67442969466364,60.29360687930623],[-165.57916419173355,59.90998688418754]]],[[[-171.73165686753936,63.782515367275906],[-171.11443356024517,63.59219106714498],[-170.49111243394066,63.694975490973505],[-169.68250545965356,63.43111562769114],[-168.68943946030066,63.297506212000584],[-168.77194088445458,63.18859813094544],[-169.52943986720499,62.97693146427788],[-170.29055620021592,63.19443756779445],[-170.67138566799085,63.375821845138965],[-171.55306311753864,63.31778921167508],[-171.79111060289117,63.40584585230048],[-171.73165686753936,63.782515367275906]]],[[[-155.0677902903242,71.14777639432369],[-154.3441652089412,70.69640859647019],[-153.90000627339256,70.88998851183568],[-152.21000606993528,70.82999217394483],[-152.27000240782613,70.60000621202984],[-150.7399924387445,70.4300165880057],[-149.7200030181675,70.53001048449043],[-147.61336157935705,70.21403493924178],[-145.68998980022525,70.12000967068674],[-144.9200109590764,69.98999176704048],[-143.58944618042517,70.1525141465983],[-142.07251034871337,69.85193817817263],[-140.9859875215607,69.71199839952637],[-140.98598832900487,69.71199839952637],[-140.99249875202938,66.00002859156866],[-140.99776974812312,60.30639679629859],[-140.01299781615307,60.276837877027575],[-139.03900042031583,60.00000722924001],[-138.3408899999999,59.562110000000146],[-137.4525,58.9050000000001],[-136.47972,59.46389],[-135.47583,59.78778],[-134.945,59.27056000000012],[-134.27111,58.86111],[-133.3555488822072,58.41028514264515],[-132.73042,57.692890000000105],[-131.70780999999985,56.55212],[-130.00778,55.91583],[-129.97999426335826,55.28499787049721],[-130.53611018946722,54.80275340434939],[-131.08581823797212,55.178906155002025],[-131.96721146714228,55.49777558045905],[-132.25001074285944,56.36999624289744],[-133.5391810843564,57.178887437562125],[-134.07806292029602,58.12306753196689],[-135.03821103227904,58.18771474876393],[-136.62806230995463,58.21220937767045],[-137.80000627968602,58.49999542910378],[-139.86778704141298,59.537761542389134],[-140.82527381713302,59.72751740176507],[-142.57444353556443,60.08444651960498],[-143.95888099487985,59.99918040632339],[-145.92555681682782,60.458609727614274],[-147.11437394914662,60.88465607364463],[-148.22430620012764,60.67298940697715],[-148.01806555885074,59.97832896589363],[-148.57082251686086,59.9141726752033],[-149.72785783587582,59.705658270905545],[-150.60824337461642,59.36821116803949],[-151.7163927886833,59.155821031319974],[-151.8594331532671,59.74498403587959],[-151.40971900124714,60.72580272077939],[-150.3469414947325,61.033587551509854],[-150.62111080625695,61.28442495385445],[-151.89583919981683,60.72719798445127],[-152.57832984109558,60.061657212964285],[-154.01917212625756,59.350279446034264],[-153.28751135965317,58.86472768821979],[-154.23249243875844,58.14637360293053],[-155.3074914215102,57.72779450136632],[-156.30833472392308,57.422774359763636],[-156.5560973785463,56.979984849670636],[-158.11721655986773,56.463608099994175],[-158.43332129619714,55.99415355083853],[-159.60332739971741,55.566686102920116],[-160.28971961163418,55.64358063417056],[-161.22304765525777,55.36473460552348],[-162.23776607974105,55.0241869167201],[-163.06944658104638,54.68973704692717],[-164.78556922102717,54.40417308208216],[-164.94222632552,54.57222483989533],[-163.84833960676562,55.03943146424611],[-162.8700013906159,55.3480431178932],[-161.804174974596,55.89498647727043],[-160.56360470278113,56.008054511125025],[-160.07055986228448,56.418055324928744],[-158.68444291891942,57.01667511659785],[-158.46109737855394,57.216921291728866],[-157.72277035218386,57.570000515363056],[-157.55027442119356,58.32832632103022],[-157.04167497457695,58.91888458926171],[-158.19473120830543,58.61580231386983],[-158.51721798402303,58.787781480537305],[-159.0586061269287,58.42418610293167],[-159.71166704001732,58.93139028587633],[-159.98128882550014,58.57254914004162],[-160.3552711659965,59.07112335879363],[-161.355003425115,58.67083771426074],[-161.9688936025263,58.67166453717737],[-162.05498653872465,59.266925360747436],[-161.87417070213533,59.63362132429059],[-162.51805904849203,59.989723619213905],[-163.81834143782012,59.79805573184338],[-164.6622175771464,60.26748444278264],[-165.34638770247477,60.507495632562396],[-165.35083187565183,61.0738951686975],[-166.1213791575559,61.50001902937621],[-165.73445187077047,62.07499685327179],[-164.9191786367178,62.63307648380792],[-164.56250790103934,63.146378485763044],[-163.75333248599696,63.21944896102376],[-163.06722449445783,63.05945872664801],[-162.2605553863817,63.54193573674116],[-161.53444983624857,63.45581696232676],[-160.7725066803211,63.76610810002326],[-160.95833513084253,64.22279857040276],[-161.51806840721218,64.40278758407531],[-160.77777767641473,64.7886038275664],[-161.3919262359876,64.77723501246233],[-162.45305009666882,64.5594446885682],[-162.75778601789403,64.3386054551688],[-163.54639421288428,64.55916046819048],[-164.96082984114514,64.44694509546885],[-166.42528825586447,64.6866720648707],[-166.84500423893903,65.08889557561453],[-168.11056006576715,65.66999705673673],[-166.70527116602193,66.08831777613939],[-164.47470964257545,66.57666006129749],[-163.65251176659564,66.57666006129749],[-163.78860165103612,66.07720734319666],[-161.67777442121013,66.1161196967124],[-162.48971452537998,66.7355650905951],[-163.71971696679108,67.11639455837009],[-164.4309913808565,67.61633820257778],[-165.3902868317067,68.04277212185023],[-166.764440680996,68.35887685817967],[-166.20470740462656,68.88303091091616],[-164.43081051334343,68.91553538682773],[-163.1686136546145,69.37111481391288],[-162.93056616926197,69.85806183539925],[-161.9088972646355,70.33332998318762],[-160.93479651593367,70.44768992784957],[-159.03917578838713,70.89164215766893],[-158.11972286683394,70.82472117785103],[-156.58082455139802,71.35776357694174],[-155.0677902903242,71.14777639432369]]]]}},{type:"Feature",properties:{admin:"Uzbekistan",name:"Uzbekistan",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[66.51860680528866,37.362784328758785],[66.5461503437002,37.974684963526855],[65.21599897650738,38.40269501398429],[64.17022301621675,38.89240672459823],[63.51801476426102,39.36325653742563],[62.37426028834499,40.05388621679038],[61.88271406438468,41.08485687922939],[61.54717898951355,41.2663703476546],[60.46595299667068,41.22032664648254],[60.083340691981654,41.42514618587139],[59.97642215356977,42.2230819768902],[58.62901085799145,42.751551011723045],[57.786529982337065,42.17055288346551],[56.93221520368779,41.82602610937559],[57.09639122907909,41.32231008561056],[55.9681913592829,41.308641669269356],[55.92891727074108,44.9958584661591],[58.50312706892846,45.58680430763282],[58.68998904809588,45.50001373959862],[60.239971958258316,44.78403677019472],[61.05831994003244,44.405816962250505],[62.013300408786236,43.50447663021564],[63.18578698105656,43.650074978198],[64.90082441595926,43.728080552742576],[66.09801232286507,42.99766002051309],[66.02339155463561,41.994646307943974],[66.51064863471571,41.987644151368436],[66.7140470722165,41.16844350846149],[67.9858557473518,41.13599070898221],[68.2598958677956,40.662324530594894],[68.63248294462001,40.6686807317668],[69.0700272968353,41.38424428971236],[70.38896487822078,42.08130768489744],[70.96231489449913,42.26615428320548],[71.25924767444822,42.167710679689456],[70.4200224140282,41.519998277343134],[71.15785851429158,41.14358714452911],[71.87011478057045,41.39290009212126],[73.05541710804916,40.86603302668945],[71.77487511585655,40.14584442805376],[71.01419803252016,40.244365546218226],[70.60140669137267,40.218527330072284],[70.45815962105961,40.49649485937028],[70.66662234892503,40.96021332454141],[69.32949466337281,40.72782440852484],[69.01163292834548,40.08615814875665],[68.53641645698941,39.53345286717892],[67.70142866401734,39.58047842056452],[67.4422196796413,39.14014354100548],[68.17602501818591,38.9015534531139],[68.39203250516594,38.15702525486873],[67.8299996275595,37.14499400486468],[67.07578209825961,37.35614390720928],[66.51860680528866,37.362784328758785]]]}},{type:"Feature",properties:{admin:"Venezuela",name:"Venezuela",continent:"South America"},geometry:{type:"Polygon",coordinates:[[[-71.33158362495028,11.776284084515805],[-71.36000566271079,11.53999359786121],[-71.9470499335465,11.423282375530018],[-71.62086829292016,10.969459947142791],[-71.63306393094106,10.446494452349027],[-72.0741739569845,9.865651353388369],[-71.69564409044652,9.072263088411246],[-71.26455929226772,9.137194525585981],[-71.03999935574338,9.859992784052407],[-71.35008378771077,10.211935126176213],[-71.40062333849222,10.968969021036013],[-70.1552988349065,11.375481675660039],[-70.29384334988102,11.846822414594211],[-69.94324459499681,12.162307033736095],[-69.58430009629745,11.45961090743121],[-68.88299923366444,11.44338450769156],[-68.23327145045872,10.885744126829945],[-68.19412655299762,10.55465322513592],[-67.29624854192632,10.545868231646306],[-66.22786414250798,10.648626817258684],[-65.65523759628174,10.20079885501732],[-64.89045223657816,10.077214667191296],[-64.32947872583372,10.389598700395679],[-64.31800655786493,10.641417954953978],[-63.079322475828725,10.701724351438598],[-61.88094601098018,10.7156253117251],[-62.7301189846164,10.420268662960904],[-62.38851192895097,9.948204453974636],[-61.58876746280192,9.873066921422263],[-60.83059668643171,9.38133982994894],[-60.67125240745972,8.580174261911877],[-60.150095587796166,8.602756862823425],[-59.75828487815918,8.367034816924045],[-60.550587938058186,7.779602972846178],[-60.63797278506375,7.414999904810853],[-60.29566809756238,7.043911444522918],[-60.543999192940966,6.856584377464881],[-61.15933631045647,6.696077378766317],[-61.13941504580794,6.234296779806142],[-61.41030290388194,5.959068101419616],[-60.73357418480371,5.2002772078619],[-60.60117916527192,4.918098049332129],[-60.96689327660152,4.536467596856638],[-62.085429653559125,4.162123521334308],[-62.80453304711669,4.006965033377951],[-63.09319759789909,3.770571193858784],[-63.888342861574145,4.020530096854571],[-64.62865943058753,4.14848094320925],[-64.816064012294,4.056445217297422],[-64.36849443221409,3.797210394705246],[-64.4088278876179,3.126786200366623],[-64.26999915226578,2.497005520025566],[-63.422867397705105,2.411067613124174],[-63.36878801131164,2.200899562993129],[-64.08308549666607,1.91636912679408],[-64.1993057928905,1.49285492594602],[-64.61101192895985,1.328730576987041],[-65.35471330428835,1.0952822941085],[-65.54826738143755,.78925446207603],[-66.32576514348494,.724452215982012],[-66.87632585312257,1.253360500489336],[-67.18129431829304,2.250638129074062],[-67.4470920477863,2.600280869960869],[-67.80993811712369,2.820655015469569],[-67.30317318385342,3.31845408773718],[-67.33756384954367,3.542342230641721],[-67.62183590358127,3.839481716319994],[-67.82301225449353,4.503937282728898],[-67.7446966213552,5.221128648291667],[-67.52153194850274,5.556870428891968],[-67.34143958196556,6.095468044454021],[-67.695087246355,6.267318020040645],[-68.26505245631822,6.153268133972473],[-68.98531856960233,6.206804917826856],[-69.3894799465571,6.099860541198835],[-70.09331295437241,6.960376491723109],[-70.6742335679815,7.087784735538717],[-71.96017574734863,6.991614895043538],[-72.19835242378187,7.340430813013682],[-72.44448727078806,7.42378489830048],[-72.47967892117883,7.632506008327352],[-72.36090064155596,8.002638454617893],[-72.43986223009794,8.405275376820027],[-72.66049475776809,8.62528778730268],[-72.78872982450038,9.08502716718733],[-73.30495154488003,9.151999823437604],[-73.02760413276955,9.73677033125244],[-72.90528601753469,10.45034434655477],[-72.6146577623252,10.821975409381777],[-72.22757544624292,11.108702093953237],[-71.97392167833827,11.608671576377116],[-71.33158362495028,11.776284084515805]]]}},{type:"Feature",properties:{admin:"Vietnam",name:"Vietnam",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[108.05018029178291,21.55237986906011],[106.71506798709007,20.696850694252014],[105.881682163519,19.752050482659694],[105.66200564984628,19.058165188060567],[106.42681684776599,18.004120998603224],[107.36195356651973,16.69745656988705],[108.2694950704296,16.079742336486145],[108.87710656131745,15.276690578670436],[109.33526981001721,13.42602834721772],[109.20013593957395,11.66685923913776],[108.36612999881542,11.00832062422627],[107.22092858279521,10.36448395430183],[106.4051127462034,9.530839748569317],[105.15826378786508,8.599759629750492],[104.79518517458237,9.2410383162765],[105.07620161338559,9.918490505406806],[104.33433475140345,10.486543687375228],[105.19991499229232,10.889309800658094],[106.24967003786944,10.961811835163585],[105.8105237162531,11.567614650921225],[107.49140302941086,12.337205918827944],[107.6145479675624,13.535530707244202],[107.38272749230106,14.202440904186968],[107.56452518110387,15.202173163305554],[107.31270592654558,15.908538316303177],[106.55600792849566,16.6042839624648],[105.925762160264,17.485315456608955],[105.0945984232815,18.666974595611073],[103.8965320170267,19.2651809758218],[104.18338789267891,19.624668077060214],[104.82257368369707,19.88664175056388],[104.43500044150802,20.758733221921528],[103.20386111858643,20.766562201413745],[102.75489627483464,21.675137233969462],[102.17043582561355,22.464753119389297],[102.70699222210008,22.708795070887668],[103.50451460166055,22.703756618739202],[104.47685835166445,22.81915009204696],[105.3292094258866,23.35206330005691],[105.81124718630521,22.9768924016179],[106.72540327354845,22.794267889898414],[106.5672733907353,22.218204860924768],[107.04342003787261,21.811898912029907],[108.05018029178291,21.55237986906011]]]}},{type:"Feature",properties:{admin:"Vanuatu",name:"Vanuatu",continent:"Australia"},geometry:{type:"MultiPolygon",coordinates:[[[[167.84487674384508,-16.466333103097153],[167.51518110582285,-16.597849623279966],[167.1800077659778,-16.159995212470957],[167.2168013857696,-15.891846205308449],[167.84487674384508,-16.466333103097153]]],[[[167.10771243720149,-14.933920179913951],[167.2700281110302,-15.74002084723487],[167.00120731024793,-15.614602146062492],[166.79315799384085,-15.668810723536719],[166.64985924709555,-15.392703545801192],[166.62913699774643,-14.6264970842096],[167.10771243720149,-14.933920179913951]]]]}},{type:"Feature",properties:{admin:"Yemen",name:"Yemen",continent:"Asia"},geometry:{type:"Polygon",coordinates:[[[53.1085726255475,16.65105113368895],[52.385205926325874,16.38241120041965],[52.191729363825075,15.938433132384018],[52.168164910699986,15.597420355689945],[51.17251508973247,15.175249742081489],[49.574576450403136,14.708766587782746],[48.67923058451415,14.003202419485657],[48.23894738138741,13.948089504446369],[47.93891401550077,14.007233181204423],[47.3544535662797,13.59221975346838],[46.71707645039173,13.399699204965016],[45.87759280781025,13.347764390511681],[45.62505008319987,13.29094615320676],[45.40645877460524,13.02690542241143],[45.14435591002085,12.953938300015306],[44.9895333188744,12.699586900274708],[44.494576450382844,12.721652736863344],[44.175112745954486,12.585950425664873],[43.48295861183712,12.63680003504008],[43.22287112811212,13.220950425667422],[43.251448195169516,13.767583726450848],[43.08794396339805,14.062630316621306],[42.89224531430872,14.802249253798745],[42.604872674333606,15.213335272680592],[42.80501549660004,15.261962795467252],[42.70243777850065,15.718885809791995],[42.82367068865741,15.911742255105263],[42.77933230975096,16.34789134364868],[43.218375278502734,16.666889960186406],[43.11579756040335,17.08844045660737],[43.3807943051961,17.579986680567668],[43.791518589051904,17.319976711491105],[44.06261315285507,17.41035879156959],[45.21665123879718,17.43332896572333],[45.39999922056875,17.333335069238554],[46.36665856302053,17.233315334537632],[46.74999433776164,17.283338120996174],[47.00000491718975,16.949999294497438],[47.466694777217626,17.116681626854877],[48.183343540241324,18.16666921637731],[49.11667158386486,18.61666758877494],[52.00000980002223,19.000003363516054],[52.78218427919204,17.34974233649123],[53.1085726255475,16.65105113368895]]]}},{type:"Feature",properties:{admin:"South Africa",name:"South Africa",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[31.52100141777887,-29.257386976846245],[31.325561150850994,-29.401977634398907],[30.901762729625336,-29.909956963828034],[30.622813348113816,-30.423775730106122],[30.055716180142774,-31.14026946383295],[28.925552605919535,-32.17204111097249],[28.219755893677092,-32.77195281344885],[27.464608188595967,-33.226963799778794],[26.419452345492818,-33.614950453426175],[25.90966434093348,-33.66704029717639],[25.78062828950069,-33.944646091448334],[25.172861769315965,-33.79685149509358],[24.67785322439212,-33.98717579522454],[23.594043409934635,-33.79447437920815],[22.98818891774473,-33.916430759416976],[22.574157342222232,-33.864082533505304],[21.542799106541022,-34.25883879978292],[20.689052768647,-34.41717538832523],[20.07126102059763,-34.795136814107984],[19.616405063564567,-34.819166355123706],[19.193278435958714,-34.46259897230978],[18.855314568769867,-34.44430551527846],[18.424643182049376,-33.99787281670896],[18.37741092293461,-34.13652068454806],[18.244499139079917,-33.86775156019802],[18.25008019376744,-33.281430759414434],[17.925190463948436,-32.61129078545342],[18.247909783611185,-32.42913136162456],[18.221761508871477,-31.661632989225662],[17.56691775886886,-30.72572112398754],[17.0644161312627,-29.87864104585916],[17.06291751472622,-29.875953871379977],[16.34497684089524,-28.576705010697697],[16.8240173682409,-28.082161553664466],[17.2189286638154,-28.355943291946804],[17.3874971859515,-28.783514092729774],[17.836151971109526,-28.85637786226131],[18.464899122804745,-29.04546192801727],[19.00212731291108,-28.972443129188857],[19.89473432788861,-28.46110483166077],[19.895767856534427,-24.767790215760588],[20.165725538827186,-24.917961928000768],[20.75860924651183,-25.868136488551446],[20.666470167735437,-26.477453301704916],[20.88960900237173,-26.828542982695907],[21.60589603036939,-26.72653370535175],[22.105968865657864,-26.28025603607913],[22.579531691180584,-25.979447523708142],[22.824271274514896,-25.500458672794768],[23.31209679535018,-25.268689873965712],[23.733569777122703,-25.39012948985161],[24.211266717228792,-25.670215752873567],[25.025170525825782,-25.71967009857689],[25.66466637543771,-25.486816094669706],[25.765848829865206,-25.17484547292367],[25.94165205252215,-24.696373386333214],[26.485753208123292,-24.616326592713097],[26.78640669119741,-24.240690606383478],[27.119409620886238,-23.57432301197977],[28.017235955525244,-22.82775359465907],[29.432188348109033,-22.091312758067584],[29.839036899542965,-22.102216485281172],[30.322883335091767,-22.27161183033393],[30.659865350067083,-22.15156747811991],[31.191409132621278,-22.251509698172395],[31.670397983534645,-23.65896900807386],[31.930588820124242,-24.369416599222532],[31.752408481581874,-25.484283949487406],[31.837777947728057,-25.84333180105134],[31.3331575863979,-25.660190525008943],[31.044079624157146,-25.731452325139436],[30.949666782359905,-26.022649021104144],[30.676608514129633,-26.398078301704604],[30.685961948374477,-26.743845310169526],[31.282773064913325,-27.28587940847899],[31.868060337051073,-27.17792734142127],[32.07166548028106,-26.733820082304902],[32.83012047702888,-26.74219166433619],[32.58026492689768,-27.47015756603181],[32.462132602678444,-28.30101124442055],[32.20338870619303,-28.752404880490065],[31.52100141777887,-29.257386976846245]],[[28.978262566857236,-28.955596612261708],[28.54170006685549,-28.647501722937562],[28.07433841320778,-28.85146860119358],[27.53251102062747,-29.242710870075353],[26.99926191580763,-29.875953871379977],[27.749397006956478,-30.645105889612214],[28.10720462414542,-30.545732110314944],[28.291069370239903,-30.226216729454293],[28.848399692507734,-30.070050551068245],[29.018415154748016,-29.743765557577362],[29.325166456832587,-29.257386976846245],[28.978262566857236,-28.955596612261708]]]}},{type:"Feature",properties:{admin:"Zambia",name:"Zambia",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[32.759375441221316,-9.230599053589058],[33.23138797377529,-9.676721693564799],[33.485687697083584,-10.525558770391111],[33.31531049981728,-10.796549981329695],[33.11428917820191,-11.60719817469231],[33.30642215346307,-12.435778090060214],[32.99176435723788,-12.783870537978272],[32.68816531752312,-13.712857761289273],[33.21402469252521,-13.97186003993615],[30.179481235481827,-14.796099134991525],[30.274255812305103,-15.507786960515208],[29.51683434420314,-15.644677829656386],[28.947463413211256,-16.043051446194436],[28.825868768028492,-16.38974863044061],[28.467906121542676,-16.468400160388843],[27.598243442502753,-17.290830580314005],[27.04442711763073,-17.938026218337427],[26.706773309035633,-17.961228936436477],[26.38193525564892,-17.846042168857892],[25.264225701608005,-17.736539808831413],[25.084443393664564,-17.661815687737366],[25.076950310982255,-17.578823337476617],[24.6823490740015,-17.35341073981947],[24.03386152517077,-17.29584319424632],[23.215048455506057,-17.52311614346598],[22.562478468524255,-16.89845142992181],[21.887842644953867,-16.080310153876876],[21.933886346125913,-12.898437188369357],[24.01613650889467,-12.91104623784857],[23.930922072045373,-12.565847670138854],[24.079905226342838,-12.191296888887361],[23.90415368011818,-11.722281589406318],[24.017893507592586,-11.237298272347088],[23.912215203555714,-10.926826267137512],[24.257155389103982,-10.951992689663655],[24.314516228947948,-11.262826429899269],[24.783169793402948,-11.238693536018962],[25.418118116973197,-11.330935967659958],[25.752309604604726,-11.784965101776356],[26.55308759939961,-11.924439792532125],[27.164419793412456,-11.608748467661071],[27.38879886242378,-12.132747491100663],[28.15510867687998,-12.272480564017894],[28.52356163912102,-12.69860442469668],[28.934285922976834,-13.248958428605132],[29.699613885219485,-13.257226657771827],[29.616001417771223,-12.178894545137307],[29.341547885869087,-12.36074391037241],[28.642417433392346,-11.971568698782312],[28.37225304537042,-11.793646742401389],[28.496069777141763,-10.789883721564044],[28.673681674928922,-9.60592498132493],[28.44987104667282,-9.164918308146083],[28.734866570762495,-8.526559340044576],[29.002912225060467,-8.40703175215347],[30.34608605319081,-8.238256524288216],[30.74001549655178,-8.340007419470913],[31.157751336950042,-8.594578747317362],[31.55634809746649,-8.76204884199864],[32.19186486179196,-8.930358981973276],[32.759375441221316,-9.230599053589058]]]}},{type:"Feature",properties:{admin:"Zimbabwe",name:"Zimbabwe",continent:"Africa"},geometry:{type:"Polygon",coordinates:[[[31.191409132621278,-22.251509698172395],[30.659865350067083,-22.15156747811991],[30.322883335091767,-22.27161183033393],[29.839036899542965,-22.102216485281172],[29.432188348109033,-22.091312758067584],[28.79465620292421,-21.639454034107445],[28.02137007010861,-21.485975030200578],[27.727227817503252,-20.85180185311471],[27.724747348753247,-20.499058526290387],[27.2965047543505,-20.391519870690995],[26.16479088715848,-19.293085625894935],[25.850391473094724,-18.714412937090533],[25.649163445750155,-18.536025892818987],[25.264225701608005,-17.736539808831413],[26.38193525564892,-17.846042168857892],[26.706773309035633,-17.961228936436477],[27.04442711763073,-17.938026218337427],[27.598243442502753,-17.290830580314005],[28.467906121542676,-16.468400160388843],[28.825868768028492,-16.38974863044061],[28.947463413211256,-16.043051446194436],[29.51683434420314,-15.644677829656386],[30.274255812305103,-15.507786960515208],[30.338954705534537,-15.880839125230242],[31.173063999157673,-15.860943698797868],[31.636498243951188,-16.07199024827788],[31.852040643040592,-16.319417006091374],[32.32823896661022,-16.39207406989375],[32.84763878757584,-16.713398125884613],[32.849860874164385,-17.979057305577175],[32.65488569512714,-18.67208993904349],[32.611994256324884,-19.419382826416268],[32.77270796075262,-19.715592136313294],[32.65974327976257,-20.30429005298231],[32.508693068173436,-20.395292250248303],[32.24498823418801,-21.11648853931369],[31.191409132621278,-22.251509698172395]]]}}],jLe={features:HLe};Pie({ThreeGlobe:cie});const WLe=3,XLe=1.2,$q=300;function YLe({globeConfig:n,data:e}){const t=be.useRef(null),i=be.useRef(null),[r,s]=be.useState(!1),a={pointSize:1,atmosphereColor:"#ffffff",showAtmosphere:!0,atmosphereAltitude:.1,polygonColor:"rgba(255,255,255,0.7)",arcTime:2e3,arcLength:.9,rings:1,maxRings:3,...n};return be.useEffect(()=>{!t.current&&i.current&&(t.current=new cie,i.current.add(t.current),s(!0))},[]),be.useEffect(()=>{if(!t.current||!r)return;const o=t.current.globeMaterial();o.color=new Nt(n.globeColor),o.emissive=new Nt(n.emissive),o.emissiveIntensity=n.emissiveIntensity||.1,o.shininess=n.shininess||.9},[r,n.globeColor,n.emissive,n.emissiveIntensity,n.shininess]),be.useEffect(()=>{if(!t.current||!r||!e)return;const o=e;let l=[];for(let c=0;c<o.length;c++){const f=o[c];l.push({size:a.pointSize,order:f.order,color:f.color,lat:f.startLat,lng:f.startLng}),l.push({size:a.pointSize,order:f.order,color:f.color,lat:f.endLat,lng:f.endLng})}const u=l.filter((c,f,m)=>m.findIndex(v=>["lat","lng"].every(_=>v[_]===c[_]))===f);t.current.hexPolygonsData(jLe.features).hexPolygonResolution(3).hexPolygonMargin(.7).showAtmosphere(a.showAtmosphere).atmosphereColor(a.atmosphereColor).atmosphereAltitude(a.atmosphereAltitude).hexPolygonColor(()=>a.polygonColor),t.current.arcsData(e).arcStartLat(c=>c.startLat*1).arcStartLng(c=>c.startLng*1).arcEndLat(c=>c.endLat*1).arcEndLng(c=>c.endLng*1).arcColor(c=>c.color).arcAltitude(c=>c.arcAlt*1).arcStroke(()=>[.32,.28,.3][Math.round(Math.random()*2)]).arcDashLength(a.arcLength).arcDashInitialGap(c=>c.order*1).arcDashGap(15).arcDashAnimateTime(()=>a.arcTime),t.current.pointsData(u).pointColor(c=>c.color).pointsMerge(!0).pointAltitude(0).pointRadius(2),t.current.ringsData([]).ringColor(()=>a.polygonColor).ringMaxRadius(a.maxRings).ringPropagationSpeed(WLe).ringRepeatPeriod(a.arcTime*a.arcLength/a.rings)},[r,e,a.pointSize,a.showAtmosphere,a.atmosphereColor,a.atmosphereAltitude,a.polygonColor,a.arcLength,a.arcTime,a.rings,a.maxRings]),be.useEffect(()=>{if(!t.current||!r||!e)return;const o=setInterval(()=>{if(!t.current)return;const l=KLe(0,e.length,Math.floor(e.length*4/5)),u=e.filter((c,f)=>l.includes(f)).map(c=>({lat:c.startLat,lng:c.startLng,color:c.color}));t.current.ringsData(u)},2e3);return()=>{clearInterval(o)}},[r,e]),W.jsx("group",{ref:i})}function QLe(){const{gl:n,size:e}=cc();return be.useEffect(()=>{n.setPixelRatio(window.devicePixelRatio),n.setSize(e.width,e.height),n.setClearColor(16755455,0)},[]),null}function $Le(n){const{globeConfig:e}=n,t=new xh;return t.fog=new nm(16777215,400,2e3),W.jsxs(BLe,{scene:t,camera:new Tr(50,XLe,180,1800),children:[W.jsx(QLe,{}),W.jsx("ambientLight",{color:e.ambientLight,intensity:.6}),W.jsx("directionalLight",{color:e.directionalLeftLight,position:new re(-400,100,400)}),W.jsx("directionalLight",{color:e.directionalTopLight,position:new re(-200,500,200)}),W.jsx("pointLight",{color:e.pointLight,position:new re(-200,500,200),intensity:.8}),W.jsx(YLe,{...n}),W.jsx(qLe,{enablePan:!1,enableZoom:!1,minDistance:$q,maxDistance:$q,autoRotateSpeed:1,autoRotate:!0,minPolarAngle:Math.PI/3.5,maxPolarAngle:Math.PI-Math.PI/3})]})}function KLe(n,e,t){const i=[];for(;i.length<t;){const r=Math.floor(Math.random()*(e-n))+n;i.indexOf(r)===-1&&i.push(r)}return i}function ZLe(){const n={pointSize:4,globeColor:"#062056",showAtmosphere:!0,atmosphereColor:"#FFFFFF",atmosphereAltitude:.1,emissive:"#062056",emissiveIntensity:.1,shininess:.9,polygonColor:"rgba(255,255,255,0.7)",ambientLight:"#38bdf8",directionalLeftLight:"#ffffff",directionalTopLight:"#ffffff",pointLight:"#ffffff",arcTime:1e3,arcLength:.9,rings:1,maxRings:3,initialPosition:{lat:22.3193,lng:114.1694},autoRotate:!0,autoRotateSpeed:.5},e=["#06b6d4","#3b82f6","#6366f1"],t=[{order:1,startLat:-19.885592,startLng:-43.951191,endLat:-22.9068,endLng:-43.1729,arcAlt:.1,color:e[Math.floor(Math.random()*(e.length-1))]},{order:1,startLat:28.6139,startLng:77.209,endLat:3.139,endLng:101.6869,arcAlt:.2,color:e[Math.floor(Math.random()*(e.length-1))]},{order:1,startLat:-19.885592,startLng:-43.951191,endLat:-1.303396,endLng:36.852443,arcAlt:.5,color:e[Math.floor(Math.random()*(e.length-1))]},{order:2,startLat:1.3521,startLng:103.8198,endLat:35.6762,endLng:139.6503,arcAlt:.2,color:e[Math.floor(Math.random()*(e.length-1))]},{order:2,startLat:51.5072,startLng:-.1276,endLat:3.139,endLng:101.6869,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]},{order:2,startLat:-15.785493,startLng:-47.909029,endLat:36.162809,endLng:-115.119411,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]},{order:3,startLat:-33.8688,startLng:151.2093,endLat:22.3193,endLng:114.1694,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]},{order:3,startLat:21.3099,startLng:-157.8581,endLat:40.7128,endLng:-74.006,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]},{order:3,startLat:-6.2088,startLng:106.8456,endLat:51.5072,endLng:-.1276,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]},{order:4,startLat:11.986597,startLng:8.571831,endLat:-15.595412,endLng:-56.05918,arcAlt:.5,color:e[Math.floor(Math.random()*(e.length-1))]},{order:4,startLat:-34.6037,startLng:-58.3816,endLat:22.3193,endLng:114.1694,arcAlt:.7,color:e[Math.floor(Math.random()*(e.length-1))]},{order:4,startLat:51.5072,startLng:-.1276,endLat:48.8566,endLng:-2.3522,arcAlt:.1,color:e[Math.floor(Math.random()*(e.length-1))]},{order:5,startLat:14.5995,startLng:120.9842,endLat:51.5072,endLng:-.1276,arcAlt:.3,color:e[Math.floor(Math.random()*(e.length-1))]},{order:5,startLat:1.3521,startLng:103.8198,endLat:-33.8688,endLng:151.2093,arcAlt:.2,color:e[Math.floor(Math.random()*(e.length-1))]},{order:5,startLat:34.0522,startLng:-118.2437,endLat:48.8566,endLng:-2.3522,arcAlt:.2,color:e[Math.floor(Math.random()*(e.length-1))]}];return W.jsx("div",{className:"flex flex-row items-center justify-center w-full h-full relative",children:W.jsx("div",{className:"w-full h-full relative overflow-hidden",children:W.jsx(R4e.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:1},className:"absolute w-full h-full z-10",children:W.jsx(be.Suspense,{fallback:W.jsx("div",{className:"w-full h-full bg-slate-100 rounded-lg animate-pulse"}),children:W.jsx($Le,{data:t,globeConfig:n})})})})})}const JLe=""+new URL("org-chart-CNmytTeE.svg",import.meta.url).href,eBe=""+new URL("talentwar-DTti1uS-.jpg",import.meta.url).href,tBe=()=>W.jsxs("div",{className:"bg-gradient-to-br from-white via-slate-50 to-gray-50 pt-20 sm:pt-32",children:[W.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:W.jsxs("div",{className:"max-w-7xl mx-auto",children:[W.jsxs("div",{className:"text-center mt-20 mb-40",children:[W.jsx("h1",{className:"text-5xl font-semibold text-primary sm:text-6xl mb-8",children:"Fractional Talent"}),W.jsx("h2",{className:"text-3xl font-bold text-slate-500 sm:text-4xl mb-8",children:"Access top-tier talent on demand"}),W.jsx("p",{className:"text-lg text-slate-600 max-w-4xl mx-auto leading-relaxed",children:"We know the economy and the impact it has on your budget. Cut overhead, amplify expertise, and continue to drive your mission forward by engaging fractional specialists at a fraction of full-time costs."})]}),W.jsx("div",{className:"mb-20",children:W.jsxs("div",{className:"bg-stone-200 rounded-lg p-8 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[W.jsxs("div",{className:"space-y-6",children:[W.jsxs("div",{className:"w-4/5 h-48 bg-gray-400 rounded-tl-lg rounded-bl-lg rounded-tr-full rounded-br-full relative overflow-hidden",children:[W.jsx("img",{src:eBe,alt:"Talent War - Professional with umbrella",className:"w-full h-full object-cover"}),W.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:W.jsx("div",{className:"text-white text-6xl font-bold mix-blend-overlay"})})]}),W.jsxs("div",{children:[W.jsx("h2",{className:"text-3xl font-bold text-slate-800 mb-4",children:"Today's Talent Crunch"}),W.jsx("p",{className:"text-slate-700 text-lg leading-relaxed",children:"The war for talent is fiercer than ever, in different ways. Remote work, skill gaps in emerging tech, and rising full-time salaries are pushing businesses to rethink resourcing."})]})]}),W.jsxs("div",{className:"space-y-6",children:[W.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[W.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Rising Costs"}),W.jsx("p",{className:"text-slate-600 leading-relaxed mb-4",children:"Companies report a 35% increase in hiring costs since 2021. The average cost per hire rose from $4,129 in 2019 to $4,700 in 2023 (14% increase)."}),W.jsxs("p",{className:"text-sm text-slate-500 italic",children:["Source: ",W.jsx("a",{href:"https://toggl.com/blog/cost-of-hiring-an-employee",className:"text-blue-600 hover:text-blue-800 underline",children:"Toggl / SHRM"})]})]}),W.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[W.jsx("h3",{className:"text-xl font-bold text-slate-800 mb-4",children:"Evolving Implementations"}),W.jsx("p",{className:"text-slate-600 leading-relaxed",children:"Agile, project-based models dominate high-growth sectors."})]})]})]})}),W.jsxs("div",{className:"mb-20",children:[W.jsx("h2",{className:"text-3xl font-bold text-slate-800 text-center mb-16",children:"Part-time commitment. Full-time impact."}),W.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[W.jsxs("div",{className:"bg-white p-6 rounded-lg text-center border",children:[W.jsx("div",{className:"mb-4 flex justify-center",children:W.jsx(C0e,{className:"w-12 h-12 text-slate-600"})}),W.jsx("h3",{className:"text-2xl font-normal text-slate-800 mb-4",children:"Cost efficiency"}),W.jsx("p",{className:"text-slate-600 text-base leading-relaxed",children:"Save up to 60% on employment expenses vs. full-time hires, according to Deloitte research on fractional leaders."})]}),W.jsxs("div",{className:"bg-white p-6 rounded-lg text-center border",children:[W.jsx("div",{className:"mb-4 flex justify-center",children:W.jsx(G0e,{className:"w-12 h-12 text-slate-600"})}),W.jsx("h3",{className:"text-2xl font-normal text-slate-800 mb-4",children:"Plug-in expertise"}),W.jsx("p",{className:"text-slate-600 text-base leading-relaxed",children:"Bring niche skills like AI/Tech ethics, ESG compliance, advanced people analytics, directly into your organization."})]}),W.jsxs("div",{className:"bg-white p-6 rounded-lg text-center border",children:[W.jsx("div",{className:"mb-4 flex justify-center",children:W.jsx(U0e,{className:"w-12 h-12 text-slate-600"})}),W.jsx("h3",{className:"text-2xl font-normal text-slate-800 mb-4",children:"Rapid ramp-up"}),W.jsx("p",{className:"text-slate-600 text-base leading-relaxed",children:"Get onboard in days to weeks, not months. Scale with proven change management strategies."})]}),W.jsxs("div",{className:"bg-white p-6 rounded-lg text-center border",children:[W.jsx("div",{className:"mb-4 flex justify-center",children:W.jsx(w0e,{className:"w-12 h-12 text-slate-600"})}),W.jsx("h3",{className:"text-2xl font-normal text-slate-800 mb-4",children:"Compliance & Risk"}),W.jsx("p",{className:"text-slate-600 text-base leading-relaxed",children:"We can handle all employment compliance so you stay audit-ready across the region."})]})]})]}),W.jsxs("div",{className:"mb-20",children:[W.jsx("h2",{className:"text-3xl font-bold text-slate-800 text-center mb-16",children:"Diverse Experience & DEI Acceleration"}),W.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[W.jsx("div",{className:"flex justify-center",children:W.jsx("div",{className:"w-80 h-80",children:W.jsx(be.Suspense,{fallback:W.jsx("div",{className:"w-80 h-80 bg-gradient-to-br from-indigo-900 to-purple-900 rounded-full animate-pulse"}),children:W.jsx(ZLe,{})})})}),W.jsxs("div",{className:"space-y-6",children:[W.jsx("p",{className:"text-slate-900 text-lg leading-relaxed",children:"Our network spans industries, geographies, and backgrounds. Tapping underleveraged talent pools not only elevates innovation but also helps you:"}),W.jsxs("div",{className:"space-y-4",children:[W.jsxs("div",{className:"flex items-start space-x-3",children:[W.jsx(nA,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),W.jsx("p",{className:"text-slate-700",children:"Meetand exceedyour DEI targets."})]}),W.jsxs("div",{className:"flex items-start space-x-3",children:[W.jsx(nA,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),W.jsx("p",{className:"text-slate-700",children:"Support workforce sustainability by engaging seasoned professionals, caregivers returning to work, and mid-career changers."})]}),W.jsxs("div",{className:"flex items-start space-x-3",children:[W.jsx(nA,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),W.jsx("p",{className:"text-slate-700",children:"Give back to the community through social-impact partnerships."})]})]})]})]})]}),W.jsx("div",{className:"mb-20",children:W.jsxs("div",{className:"bg-gradient-to-r from-amber-50 via-neutral-50 to-emerald-50 rounded-2xl px-8 py-16 md:p-24 border border-indigo-100 shadow-xl",children:[W.jsx("h2",{className:"text-primary text-3xl font-bold text-center mb-12",children:"Case Study Snapshot"}),W.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[W.jsx("div",{className:"flex justify-center",children:W.jsxs("div",{className:"relative w-72 h-72",children:[W.jsx("div",{className:"absolute w-80 h-80 rounded-full bg-gradient-to-br from-purple-400 via-pink-500 to-red-500 opacity-5 blur-sm -top-4 -right-4 z-0"}),W.jsx("div",{className:"absolute w-72 h-72 rounded-full bg-gradient-to-tr from-blue-500 via-purple-600 to-indigo-700 opacity-10 -bottom-2 -left-2 z-0"}),W.jsx("div",{className:"relative z-10 w-full h-full",children:W.jsx("img",{src:JLe,alt:"Organizational chart showing hierarchical structure",className:"w-full h-full object-contain"})})]})}),W.jsxs("div",{className:"space-y-6",children:[W.jsx("h3",{className:"text-2xl font-normal text-slate-800",children:"Strategic HR with 40% Cost Savings"}),W.jsx("p",{className:"text-slate-700 text-lg leading-relaxed",children:"An SME in the Services sector struggled to attract quality HR hires with its budget, and could not strategically achieve outcomes such as HR budgeting, talent management and tech/automation successfully."}),W.jsx("p",{className:"text-slate-700 text-lg leading-relaxed",children:"Within a year of engaging our fractional HR services, they managed to put in place these measures successfully, saving an approximate 40% of a comparable HR leadership costs base."})]})]})]})})]})}),W.jsx(RX,{title:"Ready to plug highimpact expertise into your team?",subtitle:"Let's talk fractional.",buttonText:"Schedule consultation"})]}),nBe=()=>W.jsx("div",{className:"bg-white py-16 sm:py-24",children:W.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:W.jsxs("div",{className:"max-w-4xl mx-auto",children:[W.jsxs("div",{className:"text-center",children:[W.jsx("p",{className:"text-base font-semibold text-secondary uppercase tracking-wide",children:"Our Services"}),W.jsx("h1",{className:"mt-2 text-4xl font-extrabold text-primary sm:text-5xl",children:"HR Advisory"}),W.jsx("p",{className:"mt-4 text-xl text-slate-600",children:"Build a strong foundation for growth with expert guidance on your people practices, systems, and processes."})]}),W.jsxs("div",{className:"mt-16 prose prose-lg prose-indigo mx-auto text-slate-600",children:[W.jsx("p",{children:"Your people are your greatest asset, and effective HR practices are essential to maximizing their potential. For businesses looking to scale, innovate, or simply improve their operations, a well-designed HR framework is not a luxuryit's a necessity. Our HR Advisory service provides targeted, expert guidance to help you build and refine the very foundation of your people strategy."}),W.jsx("p",{children:"We partner with you to understand your unique challenges and goals, then deliver practical, actionable solutions that are tailored to your business. From creating your first employee handbook to redesigning your performance management system, we provide the expertise you need to create a workplace where people thrive."}),W.jsx("h2",{children:"Key Advisory Areas"}),W.jsxs("ul",{children:[W.jsxs("li",{children:[W.jsx("strong",{children:"HR Framework & Policies:"})," Develop clear, compliant, and effective HR policies and procedures that reflect your company culture."]}),W.jsxs("li",{children:[W.jsx("strong",{children:"Performance Management:"})," Design systems that foster continuous feedback, development, and high performance."]}),W.jsxs("li",{children:[W.jsx("strong",{children:"Compensation & Benefits:"})," Create competitive and equitable compensation structures that attract and retain top talent."]}),W.jsxs("li",{children:[W.jsx("strong",{children:"Employee Engagement & Culture:"})," Measure and improve employee engagement to build a positive and productive work environment."]})]}),W.jsx("h2",{children:"Why It Matters"}),W.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."}),W.jsx("p",{children:"Curabitur pretium tincidunt lacus. Nulla gravida orci a odio. Nullam varius, turpis et commodo pharetra, est eros bibendum elit, nec luctus magna felis sollicitudin mauris. Integer in mauris eu nibh euismod gravida. Duis ac tellus et risus vulputate vehicula. Donec lobortis risus a elit."})]})]})})}),iBe=()=>W.jsx("div",{className:"bg-white py-16 sm:py-24",children:W.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:W.jsxs("div",{className:"max-w-4xl mx-auto",children:[W.jsxs("div",{className:"text-center",children:[W.jsx("p",{className:"text-base font-semibold text-secondary uppercase tracking-wide",children:"Our Services"}),W.jsx("h1",{className:"mt-2 text-4xl font-extrabold text-primary sm:text-5xl",children:"Leadership & Team Coaching"}),W.jsx("p",{className:"mt-4 text-xl text-slate-600",children:"Unlock the full potential of your leaders and teams to drive engagement, innovation, and performance."})]}),W.jsxs("div",{className:"mt-16 prose prose-lg prose-indigo mx-auto text-slate-600",children:[W.jsx("p",{children:"Great leadership and cohesive teams are the ultimate competitive advantages. In a world of constant change, the ability to lead with vision, inspire action, and foster collaboration is more critical than ever. Our Leadership & Team Coaching services are designed to unlock this potential within your organization, transforming good managers into great leaders and groups of individuals into high-performing teams."}),W.jsx("p",{children:"We utilize proven coaching methodologies and a personalized approach to help your key talent develop self-awareness, enhance their skills, and overcome challenges. Whether it's one-on-one executive coaching or a workshop for an entire team, our goal is to create lasting behavioral change that translates into tangible business results."}),W.jsx("h2",{children:"Our Coaching Programs"}),W.jsxs("ul",{children:[W.jsxs("li",{children:[W.jsx("strong",{children:"Executive Coaching:"})," A confidential, one-on-one partnership to help senior leaders navigate complexity, enhance their strategic impact, and lead with greater confidence."]}),W.jsxs("li",{children:[W.jsx("strong",{children:"Leadership Development:"})," Programs for emerging and mid-level leaders focused on building core competencies like communication, delegation, and strategic thinking."]}),W.jsxs("li",{children:[W.jsx("strong",{children:"Team Coaching & Effectiveness:"})," Facilitated sessions to improve team communication, collaboration, and alignment, helping teams achieve their collective goals."]})]}),W.jsx("h2",{children:"The Transformative Power of Coaching"}),W.jsx("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."})]})]})})}),rBe=({study:n})=>W.jsxs($v,{className:"flex flex-col h-full",children:[W.jsxs("div",{className:"p-6 flex-grow",children:[W.jsx("p",{className:"text-sm font-semibold text-secondary uppercase tracking-wide",children:n.industry}),W.jsx("h3",{className:"mt-2 text-lg font-bold text-primary",children:"Challenge"}),W.jsx("p",{className:"mt-1 text-slate-600",children:n.challenge}),W.jsx("h3",{className:"mt-4 text-lg font-bold text-primary",children:"Solution"}),W.jsx("p",{className:"mt-1 text-slate-600",children:n.solution})]}),W.jsxs("div",{className:"bg-slate-50 p-6",children:[W.jsx("h3",{className:"text-lg font-bold text-primary",children:"Result"}),W.jsx("p",{className:"mt-1 text-slate-700 font-semibold",children:n.result})]})]}),sBe=()=>W.jsxs("div",{children:[W.jsx("section",{className:"bg-slate-100 py-16 md:py-24 text-center",children:W.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[W.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-primary",children:"Case Studies"}),W.jsx("p",{className:"mt-4 max-w-3xl mx-auto text-lg text-slate-600",children:"Real-world examples of companies benefiting from our services."})]})}),W.jsx("section",{className:"py-16 sm:py-24 bg-white",children:W.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:W.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:j0e.map((n,e)=>W.jsx(rBe,{study:n},e))})})})]}),aBe=()=>W.jsxs("div",{className:"bg-white",children:[W.jsx("section",{className:"py-16 sm:py-24",children:W.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:W.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[W.jsxs("div",{className:"order-2 md:order-1",children:[W.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-primary",children:"About Us"}),W.jsx("p",{className:"mt-6 text-lg text-slate-600",children:"CrackerJack People Partners was founded on the principle that strategic, people-centric solutions are the cornerstone of business growth. With decades of combined experience across the Asia Pacific region, our team has partnered with organizations of all sizesfrom dynamic startups to multinational corporationsto solve their most pressing talent and HR challenges."}),W.jsx("p",{className:"mt-4 text-lg text-slate-600",children:"We are more than consultants; we are partners. We immerse ourselves in your business, treating your challenges and successes as our own. Our petite size is our strength, enabling us to be agile, responsive, and relentlessly focused on delivering timely, high-quality results."})]}),W.jsx("div",{className:"order-1 md:order-2",children:W.jsx("img",{src:"https://picsum.photos/600/500?random=3",alt:"Team collaborating",className:"rounded-lg shadow-xl"})})]})})}),W.jsx("section",{className:"bg-slate-100 py-16 sm:py-24",children:W.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[W.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[W.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-primary",children:"Our Promise: Dedication, trust, integrity and commitment to excellence"}),W.jsx("p",{className:"mt-4 text-lg text-slate-600",children:"Values are key to the people business. These are the principles that guide every decision we make and every partnership we form."})]}),W.jsx("div",{className:"mt-12 grid sm:grid-cols-2 lg:grid-cols-4 gap-8",children:X0e.map(n=>W.jsxs("div",{className:"text-center",children:[W.jsx("div",{className:"flex items-center justify-center h-12 w-12 rounded-md bg-secondary text-white mx-auto",children:W.jsx(nA,{className:"w-6 h-6"})}),W.jsx("h3",{className:"mt-5 text-lg font-semibold text-primary",children:n.title}),W.jsx("p",{className:"mt-2 text-base text-slate-600",children:n.description})]},n.title))})]})}),W.jsx("section",{className:"py-16 sm:py-24",children:W.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[W.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[W.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-primary",children:"Meet Our Leadership"}),W.jsx("p",{className:"mt-4 text-lg text-slate-600",children:"We are a team of seasoned professionals passionate about helping businesses succeed through people."})]}),W.jsx("div",{className:"mt-12 flex justify-center",children:W.jsxs("div",{className:"text-center",children:[W.jsx("img",{className:"mx-auto h-40 w-40 rounded-full",src:"https://picsum.photos/200/200?random=4",alt:"Alex Png"}),W.jsx("h3",{className:"mt-6 text-xl font-semibold text-primary",children:"Alex Png"}),W.jsx("p",{className:"text-base font-semibold text-secondary",children:"CEO & Founder"}),W.jsx("p",{className:"mt-2 max-w-xs mx-auto text-slate-600",children:"With over 20 years of experience in HR and talent management across APAC, Alex founded CrackerJack to provide businesses with agile and impactful people solutions."})]})})]})})]}),Hw=({title:n,subtitle:e,imageUrl:t,children:i,imageLeft:r=!1})=>{const s=r?"md:order-1":"md:order-2",a=r?"md:order-2":"md:order-1";return W.jsx("div",{className:"py-12 md:py-20",children:W.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[W.jsxs("div",{className:`order-2 ${a}`,children:[W.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-primary",children:n}),W.jsx("p",{className:"mt-4 text-xl font-semibold text-secondary",children:e}),W.jsx("div",{className:"mt-6 text-lg text-slate-600 space-y-4",children:i})]}),W.jsx("div",{className:`order-1 ${s}`,children:W.jsx("img",{src:t,alt:n,className:"rounded-lg shadow-xl"})})]})})},oBe=()=>W.jsxs("div",{className:"bg-white",children:[W.jsx("section",{className:"bg-slate-100 py-16 md:py-24 text-center",children:W.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[W.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-primary",children:"Our Philosophy"}),W.jsx("p",{className:"mt-4 max-w-3xl mx-auto text-lg text-slate-600",children:"Our approach is built on three core pillars that we believe are fundamental to building resilient, high-growth organizations."})]})}),W.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 divide-y divide-slate-200",children:[W.jsx(Hw,{title:"Access the Best",subtitle:"Link talent, practices, and operations to strategic goals.",imageUrl:"https://picsum.photos/600/500?random=5",imageLeft:!0,children:W.jsx("p",{children:"Excellence is not an accident. It's the result of intentionally connecting every part of your people strategy to your overarching business objectives. We believe that securing the best talent is only the beginning. True success comes from implementing the best practices and streamlining operations to create an ecosystem where that talent can thrive and drive results."})}),W.jsx(Hw,{title:"Invest in the Best",subtitle:"Develop human capital to build resilience, retention, and loyalty.",imageUrl:"https://picsum.photos/600/500?random=6",children:W.jsx("p",{children:"Your people are your most significant appreciating asset. Investing in their growth and development is the most powerful lever for building a resilient and loyal workforce. By prioritizing human capital, you create a culture of continuous improvement and mutual commitment, leading to higher retention rates and a team that is equipped to navigate any challenge."})}),W.jsx(Hw,{title:"Coach for Success",subtitle:"Unlock potential, engagement, and retention through coaching.",imageUrl:"https://picsum.photos/600/500?random=7",imageLeft:!0,children:W.jsx("p",{children:"Coaching is a transformative tool that unlocks latent potential in individuals and teams. It goes beyond traditional training by fostering self-discovery, accountability, and a proactive mindset. A strong coaching culture is directly linked to higher employee engagement, improved performance, and increased retention, creating a virtuous cycle of success."})})]})]});var zie={exports:{}},lBe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uBe=lBe,cBe=uBe;function Vie(){}function kie(){}kie.resetWarningCache=Vie;var fBe=function(){function n(i,r,s,a,o,l){if(l!==cBe){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:kie,resetWarningCache:Vie};return t.PropTypes=t,t};zie.exports=fBe();var hBe=zie.exports;const Qr=s8(hBe);function Kq(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Zq(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kq(Object(t),!0).forEach(function(i){Gie(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Kq(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function xx(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xx=function(e){return typeof e}:xx=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xx(n)}function Gie(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dBe(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function ABe(n,e){if(n==null)return{};var t=dBe(n,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function pBe(n,e){return mBe(n)||gBe(n,e)||yBe(n,e)||vBe()}function mBe(n){if(Array.isArray(n))return n}function gBe(n,e){var t=n&&(typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"]);if(t!=null){var i=[],r=!0,s=!1,a,o;try{for(t=t.call(n);!(r=(a=t.next()).done)&&(i.push(a.value),!(e&&i.length===e));r=!0);}catch(l){s=!0,o=l}finally{try{!r&&t.return!=null&&t.return()}finally{if(s)throw o}}return i}}function yBe(n,e){if(n){if(typeof n=="string")return Jq(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Jq(n,e)}}function Jq(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function vBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Cl=function(e,t,i){var r=!!i,s=yr.useRef(i);yr.useEffect(function(){s.current=i},[i]),yr.useEffect(function(){if(!r||!e)return function(){};var a=function(){s.current&&s.current.apply(s,arguments)};return e.on(t,a),function(){e.off(t,a)}},[r,t,e,s])},xBe=function(e){var t=yr.useRef(e);return yr.useEffect(function(){t.current=e},[e]),t.current},db=function(e){return e!==null&&xx(e)==="object"},eH="[object Object]",_Be=function n(e,t){if(!db(e)||!db(t))return e===t;var i=Array.isArray(e),r=Array.isArray(t);if(i!==r)return!1;var s=Object.prototype.toString.call(e)===eH,a=Object.prototype.toString.call(t)===eH;if(s!==a)return!1;if(!s&&!i)return e===t;var o=Object.keys(e),l=Object.keys(t);if(o.length!==l.length)return!1;for(var u={},c=0;c<o.length;c+=1)u[o[c]]=!0;for(var f=0;f<l.length;f+=1)u[l[f]]=!0;var m=Object.keys(u);if(m.length!==o.length)return!1;var v=e,_=t,T=function(S){return n(v[S],_[S])};return m.every(T)},bBe=function(e,t,i){return db(e)?Object.keys(e).reduce(function(r,s){var a=!db(t)||!_Be(e[s],t[s]);return i.includes(s)?(a&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),r):a?Zq(Zq({},r||{}),{},Gie({},s,e[s])):r},null):null},qie=yr.createContext(null);qie.displayName="ElementsContext";var SBe=function(e,t){if(!e)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(t," in an <Elements> provider."));return e};Qr.any,Qr.object;Qr.func.isRequired;var Hie=yr.createContext(null);Hie.displayName="CheckoutSdkContext";var TBe=function(e,t){if(!e)throw new Error("Could not find CheckoutProvider context; You need to wrap the part of your app that ".concat(t," in an <CheckoutProvider> provider."));return e},MBe=yr.createContext(null);MBe.displayName="CheckoutContext";Qr.any,Qr.shape({fetchClientSecret:Qr.func.isRequired,elementsOptions:Qr.object}).isRequired;var tH=function(e){var t=yr.useContext(Hie),i=yr.useContext(qie);if(t&&i)throw new Error("You cannot wrap the part of your app that ".concat(e," in both <CheckoutProvider> and <Elements> providers."));return t?TBe(t,e):SBe(i,e)},EBe=["mode"],wBe=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Hs=function(e,t){var i="".concat(wBe(e),"Element"),r=function(l){var u=l.id,c=l.className,f=l.options,m=f===void 0?{}:f,v=l.onBlur,_=l.onFocus,T=l.onReady,M=l.onChange,S=l.onEscape,R=l.onClick,C=l.onLoadError,P=l.onLoaderStart,B=l.onNetworksChange,O=l.onConfirm,V=l.onCancel,F=l.onShippingAddressChange,z=l.onShippingRateChange,k=tH("mounts <".concat(i,">")),H="elements"in k?k.elements:null,Z="checkoutSdk"in k?k.checkoutSdk:null,$=yr.useState(null),ae=pBe($,2),ne=ae[0],Y=ae[1],ee=yr.useRef(null),Q=yr.useRef(null);Cl(ne,"blur",v),Cl(ne,"focus",_),Cl(ne,"escape",S),Cl(ne,"click",R),Cl(ne,"loaderror",C),Cl(ne,"loaderstart",P),Cl(ne,"networkschange",B),Cl(ne,"confirm",O),Cl(ne,"cancel",V),Cl(ne,"shippingaddresschange",F),Cl(ne,"shippingratechange",z),Cl(ne,"change",M);var fe;T&&(e==="expressCheckout"?fe=T:fe=function(){T(ne)}),Cl(ne,"ready",fe),yr.useLayoutEffect(function(){if(ee.current===null&&Q.current!==null&&(H||Z)){var Re=null;if(Z)switch(e){case"payment":Re=Z.createPaymentElement(m);break;case"address":if("mode"in m){var Ge=m.mode,We=ABe(m,EBe);if(Ge==="shipping")Re=Z.createShippingAddressElement(We);else if(Ge==="billing")Re=Z.createBillingAddressElement(We);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":Re=Z.createExpressCheckoutElement(m);break;case"currencySelector":Re=Z.createCurrencySelectorElement();break;default:throw new Error("Invalid Element type ".concat(i,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else H&&(Re=H.create(e,m));ee.current=Re,Y(Re),Re&&Re.mount(Q.current)}},[H,Z,m]);var ge=xBe(m);return yr.useEffect(function(){if(ee.current){var Re=bBe(m,ge,["paymentRequest"]);Re&&"update"in ee.current&&ee.current.update(Re)}},[m,ge]),yr.useLayoutEffect(function(){return function(){if(ee.current&&typeof ee.current.destroy=="function")try{ee.current.destroy(),ee.current=null}catch{}}},[]),yr.createElement("div",{id:u,className:c,ref:Q})},s=function(l){tH("mounts <".concat(i,">"));var u=l.id,c=l.className;return yr.createElement("div",{id:u,className:c})},a=t?s:r;return a.propTypes={id:Qr.string,className:Qr.string,onChange:Qr.func,onBlur:Qr.func,onFocus:Qr.func,onReady:Qr.func,onEscape:Qr.func,onClick:Qr.func,onLoadError:Qr.func,onLoaderStart:Qr.func,onNetworksChange:Qr.func,onConfirm:Qr.func,onCancel:Qr.func,onShippingAddressChange:Qr.func,onShippingRateChange:Qr.func,options:Qr.object},a.displayName=i,a.__elementType=e,a},js=typeof window>"u",RBe=yr.createContext(null);RBe.displayName="EmbeddedCheckoutProviderContext";Hs("auBankAccount",js);var CBe=Hs("card",js);Hs("cardNumber",js);Hs("cardExpiry",js);Hs("cardCvc",js);Hs("fpxBank",js);Hs("iban",js);Hs("idealBank",js);Hs("p24Bank",js);Hs("epsBank",js);Hs("payment",js);Hs("expressCheckout",js);Hs("currencySelector",js);Hs("paymentRequestButton",js);Hs("linkAuthentication",js);Hs("address",js);Hs("shippingAddress",js);Hs("paymentMethodMessaging",js);Hs("affirmMessage",js);Hs("afterpayClearpayMessage",js);var TU=Object.defineProperty,NBe=Object.getOwnPropertyDescriptor,DBe=Object.getOwnPropertyNames,PBe=Object.prototype.hasOwnProperty,LBe=(n,e)=>{for(var t in e)TU(n,t,{get:e[t],enumerable:!0})},BBe=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of DBe(e))!PBe.call(n,r)&&r!==t&&TU(n,r,{get:()=>e[r],enumerable:!(i=NBe(e,r))||i.enumerable});return n},UBe=n=>BBe(TU({},"__esModule",{value:!0}),n),nH=(n,e,t)=>new Promise((i,r)=>{var s=l=>{try{o(t.next(l))}catch(u){r(u)}},a=l=>{try{o(t.throw(l))}catch(u){r(u)}},o=l=>l.done?i(l.value):Promise.resolve(l.value).then(s,a);o((t=t.apply(n,e)).next())}),jie={};LBe(jie,{SubmissionError:()=>$4,appendExtraData:()=>_x,createClient:()=>Wie,getDefaultClient:()=>nUe,isSubmissionError:()=>jBe});var MU=UBe(jie),s3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",OBe=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;function IBe(n){n=String(n);for(var e,t,i,r,s="",a=0,o=n.length%3;a<n.length;){if((t=n.charCodeAt(a++))>255||(i=n.charCodeAt(a++))>255||(r=n.charCodeAt(a++))>255)throw new TypeError("Failed to execute 'btoa' on 'Window': The string to be encoded contains characters outside of the Latin1 range.");e=t<<16|i<<8|r,s+=s3.charAt(e>>18&63)+s3.charAt(e>>12&63)+s3.charAt(e>>6&63)+s3.charAt(e&63)}return o?s.slice(0,o-3)+"===".substring(o):s}function FBe(n){if(n=String(n).replace(/[\t\n\f\r ]+/g,""),!OBe.test(n))throw new TypeError("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");n+="==".slice(2-(n.length&3));for(var e,t="",i,r,s=0;s<n.length;)e=s3.indexOf(n.charAt(s++))<<18|s3.indexOf(n.charAt(s++))<<12|(i=s3.indexOf(n.charAt(s++)))<<6|(r=s3.indexOf(n.charAt(s++))),t+=i===64?String.fromCharCode(e>>16&255):r===64?String.fromCharCode(e>>16&255,e>>8&255):String.fromCharCode(e>>16&255,e>>8&255,e&255);return t}var zBe=()=>navigator.webdriver||!!document.documentElement.getAttribute(FBe("d2ViZHJpdmVy"))||!!window.callPhantom||!!window._phantom,VBe=class{constructor(){this.loadedAt=Date.now(),this.webdriver=zBe()}data(){return{loadedAt:this.loadedAt,webdriver:this.webdriver}}},kBe=class{constructor(n){this.kind="success",this.next=n.next}};function GBe(n){return"next"in n&&typeof n.next=="string"}var qBe=class{constructor(e,t){this.paymentIntentClientSecret=e,this.resubmitKey=t,this.kind="stripePluginPending"}};function HBe(n){if("stripe"in n&&"resubmitKey"in n&&typeof n.resubmitKey=="string"){let{stripe:e}=n;return typeof e=="object"&&e!=null&&"paymentIntentClientSecret"in e&&typeof e.paymentIntentClientSecret=="string"}return!1}function jBe(n){return n.kind==="error"}var $4=class{constructor(...n){this.kind="error",this.formErrors=[],this.fieldErrors=new Map;var e;for(let t of n){if(!t.field){this.formErrors.push({code:t.code&&WBe(t.code)?t.code:"UNSPECIFIED",message:t.message});continue}let i=(e=this.fieldErrors.get(t.field))!=null?e:[];i.push({code:t.code&&YBe(t.code)?t.code:"UNSPECIFIED",message:t.message}),this.fieldErrors.set(t.field,i)}}getFormErrors(){return[...this.formErrors]}getFieldErrors(n){var e;return(e=this.fieldErrors.get(n))!=null?e:[]}getAllFieldErrors(){return Array.from(this.fieldErrors)}};function WBe(n){return n in XBe}var XBe={BLOCKED:"BLOCKED",EMPTY:"EMPTY",FILES_TOO_BIG:"FILES_TOO_BIG",FORM_NOT_FOUND:"FORM_NOT_FOUND",INACTIVE:"INACTIVE",NO_FILE_UPLOADS:"NO_FILE_UPLOADS",PROJECT_NOT_FOUND:"PROJECT_NOT_FOUND",TOO_MANY_FILES:"TOO_MANY_FILES"};function YBe(n){return n in QBe}var QBe={REQUIRED_FIELD_EMPTY:"REQUIRED_FIELD_EMPTY",REQUIRED_FIELD_MISSING:"REQUIRED_FIELD_MISSING",STRIPE_CLIENT_ERROR:"STRIPE_CLIENT_ERROR",STRIPE_SCA_ERROR:"STRIPE_SCA_ERROR",TYPE_EMAIL:"TYPE_EMAIL",TYPE_NUMERIC:"TYPE_NUMERIC",TYPE_TEXT:"TYPE_TEXT"};function $Be(n){return"errors"in n&&Array.isArray(n.errors)&&n.errors.every(e=>typeof e.message=="string")||"error"in n&&typeof n.error=="string"}var KBe="4.0.0",ZBe=n=>IBe(JSON.stringify(n)),JBe=n=>{let e=`@formspree/core@${KBe}`;return n?`${n} ${e}`:e};function _x(n,e,t){n instanceof FormData?n.append(e,t):n[e]=t}function eUe(n){return n!==null&&typeof n=="object"}var tUe=class{constructor(n={}){this.project=n.project,this.stripe=n.stripe,typeof window<"u"&&(this.session=new VBe)}submitForm(n,e){return nH(this,arguments,function*(t,i,r={}){let s=r.endpoint||"https://formspree.io",a=this.project?`${s}/p/${this.project}/f/${t}`:`${s}/f/${t}`,o={Accept:"application/json","Formspree-Client":JBe(r.clientName)};this.session&&(o["Formspree-Session-Data"]=ZBe(this.session.data())),i instanceof FormData||(o["Content-Type"]="application/json");function l(c){return nH(this,null,function*(){try{let f=yield(yield fetch(a,{method:"POST",mode:"cors",body:c instanceof FormData?c:JSON.stringify(c),headers:o})).json();if(eUe(f)){if($Be(f))return Array.isArray(f.errors)?new $4(...f.errors):new $4({message:f.error});if(HBe(f))return new qBe(f.stripe.paymentIntentClientSecret,f.resubmitKey);if(GBe(f))return new kBe({next:f.next})}return new $4({message:"Unexpected response format"})}catch(f){let m=f instanceof Error?f.message:`Unknown error while posting to Formspree: ${JSON.stringify(f)}`;return new $4({message:m})}})}if(this.stripe&&r.createPaymentMethod){let c=yield r.createPaymentMethod();if(c.error)return new $4({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Error creating payment method"});_x(i,"paymentMethod",c.paymentMethod.id);let f=yield l(i);if(f.kind==="error")return f;if(f.kind==="stripePluginPending"){let m=yield this.stripe.handleCardAction(f.paymentIntentClientSecret);if(m.error)return new $4({code:"STRIPE_CLIENT_ERROR",field:"paymentMethod",message:"Stripe SCA error"});i instanceof FormData?i.delete("paymentMethod"):delete i.paymentMethod,_x(i,"paymentIntent",m.paymentIntent.id),_x(i,"resubmitKey",f.resubmitKey);let v=yield l(i);return iH(v),v}return f}let u=yield l(i);return iH(u),u})}};function iH(n){let{kind:e}=n;if(e!=="success"&&e!=="error")throw new Error(`Unexpected submission result (kind: ${e})`)}var Wie=n=>new tUe(n),nUe=()=>(jw||(jw=Wie()),jw),jw;function b9(n){let{prefix:e,field:t,errors:i,...r}=n;if(i==null)return null;let s=t?i.getFieldErrors(t):i.getFormErrors();return s.length===0?null:yr.createElement("div",{...r},e?`${e} `:null,s.map(a=>a.message).join(", "))}var iUe=be.createContext({elements:null});function rUe(){return be.useContext(iUe)}var sUe=yr.createContext(null);function aUe(){return be.useContext(sUe)??{client:MU.getDefaultClient()}}var oUe="3.0.0",lUe=`@formspree/react@${oUe}`;function uUe(n,e={}){let t=aUe(),{client:i=t.client,extraData:r,origin:s}=e,{elements:a}=rUe(),{stripe:o}=i;return async function(l){let u=cUe(l)?fUe(l):l;if(typeof r=="object")for(let[m,v]of Object.entries(r)){let _;typeof v=="function"?_=await v():_=v,_!==void 0&&MU.appendExtraData(u,m,_)}let c=a==null?void 0:a.getElement(CBe),f=o&&c?()=>o.createPaymentMethod({type:"card",card:c,billing_details:hUe(u)}):void 0;return i.submitForm(n,u,{endpoint:s,clientName:lUe,createPaymentMethod:f})}}function cUe(n){return"preventDefault"in n&&typeof n.preventDefault=="function"}function fUe(n){n.preventDefault();let e=n.currentTarget;if(e.tagName!="FORM")throw new Error("submit was triggered for a non-form element");return new FormData(e)}function hUe(n){let e={address:dUe(n)};for(let t of["name","email","phone"]){let i=n instanceof FormData?n.get(t):n[t];i&&typeof i=="string"&&(e[t]=i)}return e}function dUe(n){let e={};for(let[t,i]of[["address_line1","line1"],["address_line2","line2"],["address_city","city"],["address_country","country"],["address_state","state"],["address_postal_code","postal_code"]]){let r=n instanceof FormData?n.get(t):n[t];r&&typeof r=="string"&&(e[i]=r)}return e}function AUe(n,e={}){let[t,i]=be.useState(null),[r,s]=be.useState(null),[a,o]=be.useState(!1),[l,u]=be.useState(!1),c=uUe(n,{client:e.client,extraData:e.data,origin:e.endpoint});return[{errors:t,result:r,submitting:a,succeeded:l},async function(f){o(!0);let m=await c(f);o(!1),MU.isSubmissionError(m)?(i(m),u(!1)):(i(null),s(m),u(!0))},function(){i(null),s(null),o(!1),u(!1)}]}const V9=be.forwardRef(({className:n,type:e,...t},i)=>W.jsx("input",{type:e,className:B0("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:i,...t}));V9.displayName="Input";const Xie=be.forwardRef(({className:n,...e},t)=>W.jsx("textarea",{className:B0("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t,...e}));Xie.displayName="Textarea";var pUe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mUe=pUe.reduce((n,e)=>{const t=dX(`Primitive.${e}`),i=be.forwardRef((r,s)=>{const{asChild:a,...o}=r,l=a?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),W.jsx(l,{...o,ref:s})});return i.displayName=`Primitive.${e}`,{...n,[e]:i}},{}),gUe="Label",Yie=be.forwardRef((n,e)=>W.jsx(mUe.label,{...n,ref:e,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||((r=n.onMouseDown)==null||r.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Yie.displayName=gUe;var Qie=Yie;const yUe=mX("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),y6=be.forwardRef(({className:n,...e},t)=>W.jsx(Qie,{ref:t,className:B0(yUe(),n),...e}));y6.displayName=Qie.displayName;const vUe=()=>{const[n,e]=AUe("xkgbdjyv");return n.succeeded?W.jsx("div",{className:"bg-white py-16 sm:py-24 text-center",children:W.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[W.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-primary",children:"Thank You!"}),W.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-slate-600",children:"Your message has been sent successfully. We will get back to you shortly."})]})}):W.jsx("div",{className:"bg-white py-16 sm:py-24",children:W.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:[W.jsxs("div",{className:"text-center",children:[W.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-primary",children:"Let's Start a Conversation"}),W.jsx("p",{className:"mt-4 max-w-2xl mx-auto text-lg text-slate-600",children:"We're here to help you achieve your business goals. Reach out to us to learn more about how we can partner together."})]}),W.jsxs("div",{className:"mt-16 grid md:grid-cols-5 gap-12",children:[W.jsx("div",{className:"md:col-span-3",children:W.jsxs("form",{onSubmit:e,className:"space-y-6",children:[W.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[W.jsxs("div",{className:"space-y-2",children:[W.jsx(y6,{htmlFor:"name",children:"Name"}),W.jsx(V9,{type:"text",name:"name",id:"name",required:!0}),W.jsx(b9,{prefix:"Name",field:"name",errors:n.errors,className:"text-red-500 text-sm"})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsx(y6,{htmlFor:"company",children:"Company"}),W.jsx(V9,{type:"text",name:"company",id:"company"}),W.jsx(b9,{prefix:"Company",field:"company",errors:n.errors,className:"text-red-500 text-sm"})]})]}),W.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[W.jsxs("div",{className:"space-y-2",children:[W.jsx(y6,{htmlFor:"email",children:"Email"}),W.jsx(V9,{type:"email",name:"email",id:"email",required:!0}),W.jsx(b9,{prefix:"Email",field:"email",errors:n.errors,className:"text-red-500 text-sm"})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsx(y6,{htmlFor:"phone",children:"Phone"}),W.jsx(V9,{type:"tel",name:"phone",id:"phone"}),W.jsx(b9,{prefix:"Phone",field:"phone",errors:n.errors,className:"text-red-500 text-sm"})]})]}),W.jsxs("div",{className:"space-y-2",children:[W.jsx(y6,{htmlFor:"message",children:"How can we help?"}),W.jsx(Xie,{name:"message",id:"message",rows:4,required:!0}),W.jsx(b9,{prefix:"Message",field:"message",errors:n.errors,className:"text-red-500 text-sm"})]}),W.jsx("div",{children:W.jsx(T0,{type:"submit",loading:n.submitting,className:"w-full sm:w-auto",children:n.submitting?"Sending...":"Send Message"})})]})}),W.jsx("div",{className:"md:col-span-2",children:W.jsxs("div",{className:"bg-slate-50 p-8 rounded-lg",children:[W.jsx("h3",{className:"text-xl font-bold text-primary",children:"Direct Contact"}),W.jsxs("div",{className:"mt-4 space-y-4 text-slate-600",children:[W.jsxs("p",{children:[W.jsx("strong",{className:"block text-slate-800",children:"Alex Png, CEO"}),W.jsx("a",{href:"mailto:alex.png@crackerjack.partners",className:"text-secondary hover:underline",children:"alex.png@crackerjack.partners"}),W.jsx("br",{}),W.jsx("a",{href:"tel:+6587588048",className:"text-secondary hover:underline",children:"+65 8758 8048"})]}),W.jsxs("p",{children:[W.jsx("strong",{className:"block text-slate-800",children:"LinkedIn"}),W.jsx("a",{href:"https://www.linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"text-secondary hover:underline",children:"View our company profile"})]})]}),W.jsx("hr",{className:"my-8"}),W.jsx("h3",{className:"text-xl font-bold text-primary",children:"Flexible Ways to Partner With Us"}),W.jsxs("div",{className:"mt-4 space-y-3 text-slate-600",children:[W.jsxs("p",{children:[W.jsx("strong",{children:"Retained:"})," Ongoing partnership for continuous strategic support."]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Project:"})," Defined scope and timeline for specific initiatives."]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Contingency:"})," Success-based model for specific recruitment needs."]}),W.jsxs("p",{children:[W.jsx("strong",{children:"Custom:"})," A tailored model designed to fit your unique requirements."]})]})]})})]})]})})},xUe=()=>{const{pathname:n}=d8();return be.useEffect(()=>{window.scrollTo(0,0)},[n]),null},_Ue=()=>W.jsxs(A0e,{children:[W.jsx(xUe,{}),W.jsxs("div",{className:"flex flex-col min-h-screen",children:[W.jsx(Oue,{}),W.jsx("main",{className:"flex-grow",children:W.jsxs(a0e,{children:[W.jsx($u,{path:"/",element:W.jsx(jue,{})}),W.jsx($u,{path:"/services",element:W.jsx(Wue,{})}),W.jsx($u,{path:"/services/fractional-talent",element:W.jsx(tBe,{})}),W.jsx($u,{path:"/services/hr-advisory",element:W.jsx(nBe,{})}),W.jsx($u,{path:"/services/coaching",element:W.jsx(iBe,{})}),W.jsx($u,{path:"/case-studies",element:W.jsx(sBe,{})}),W.jsx($u,{path:"/about",element:W.jsx(aBe,{})}),W.jsx($u,{path:"/philosophy",element:W.jsx(oBe,{})}),W.jsx($u,{path:"/contact",element:W.jsx(vUe,{})})]})}),W.jsx(Iue,{})]})]}),$ie=document.getElementById("root");if(!$ie)throw new Error("Could not find root element to mount to");const bUe=mle.createRoot($ie);bUe.render(W.jsx(yr.StrictMode,{children:W.jsx(_Ue,{})}));
